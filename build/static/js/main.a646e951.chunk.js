(this.webpackJsonpplant=this.webpackJsonpplant||[]).push([[0],{1042:function(e,t){},1046:function(e,t){},1120:function(e,t,a){},1123:function(e,t,a){},1124:function(e,t,a){},1128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),i=a.n(l),c=(a(257),a(641),a(283)),o=a(76),s=a(59),u=a(5),m=a(1171),d=a(20),h=a(21);function p(){var e=Object(d.a)(["\n  .trigger {\n    font-size: 18px;\n    line-height: 64px;\n    padding: 0 24px;\n    cursor: pointer;\n    transition: color 0.3s;\n    &:hover {\n      color: #fff;\n    }\n  }\n\n  .ant-layout-content {\n    background: white;\n    min-height: calc(100vh - 64px);\n    padding: 12px 24px;\n  }\n"]);return p=function(){return e},e}var g=h.a.div(p()),f=a(1213),E=a(1214);function y(){var e=Object(d.a)(["\n  .header-content {\n    background: rgb(241, 243, 244);\n  }\n  .ant-layout-header {\n    padding: 0 !important;\n  }\n\n  .right-header {\n    float: right;\n    display: flex;\n    justify-content: space-between;\n    width: auto;\n    margin-right: 20px;\n  }\n"]);return y=function(){return e},e}var b=h.a.div(y());function v(){var e=Object(d.a)(["\n  flex: 1;\n  display: flex;\n  margin-top: 5px;\n  flex-direction: column;\n  justify-content: space-between;\n  .text-info {\n    height: 16px;\n    line-height: 16px;\n    font-weight: 500;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 120px;\n    min-width: 100px;\n    color: gray;\n  }\n  .role {\n    color: red;\n  }\n"]);return v=function(){return e},e}function j(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 5px;\n  padding-bottom: 6px;\n\n  .ant-badge {\n    height: 32px;\n    line-height: 32px;\n    margin-right: 5px;\n    .ant-badge-dot {\n      top: 5px;\n      right: 5px;\n      width: 10px;\n      height: 10px;\n    }\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(d.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  margin: 0 5px;\n  line-height: 64px;\n  height: 64px;\n"]);return O=function(){return e},e}function k(){var e=Object(d.a)([""]);return k=function(){return e},e}h.a.div(k());var C=h.a.div(O()),x=h.a.div(j()),S=h.a.div(v()),w=a(254),A=a(572),I=a(1200),T=a(1199),N=a(1210),D=a(1209),P=a(619),M=a(1206),L=a(84),_=a(338),F=a(568),R=a.n(F),Y={prop:{1:{name:"Drone",value:1,img:"".concat("","/images/drone.png")},2:{name:"Payload",value:2,img:"".concat("","/images/payload.png")},3:{name:"User",value:3,img:"".concat("","/images/user.png")},4:{name:"Image/Video",value:4,img:"".concat("","/images/image-video.png")},5:{name:"\u0110\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t",value:5,img:"".concat("","/images/object.png")},6:{name:"B\xe1o c\xe1o th\u1ed1ng k\xea",value:6,img:"".concat("","/images/baocao.jpg")},7:{name:"Mi\u1ec1n gi\xe1m s\xe1t",value:7,img:"".concat("","/images/area.png")},8:{name:"C\xf4ng vi\u1ec7c x\u1eed l\xfd s\u1ef1 c\u1ed1",value:8,img:"".concat("","/images/incident.jpg")},9:{name:"Flighthub",value:9,img:"".concat("","/images/flighthub.jpg")},10:{name:"S\u01b0 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n",value:1,img:"".concat("","/images/dike.jpg")},11:{name:"S\u01b0 c\u1ed1 c\xe2y tr\u1ed3ng",value:1,img:"".concat("","/images/tree.jpg")},12:{name:"S\u01b0 c\u1ed1 ch\xe1y r\u1eebng",value:1,img:"".concat("","/images/forest_fires.jpg")},13:{name:"S\u01b0 c\u1ed1 \u0111\xea \u0111i\u1ec1u",value:1,img:"".concat("","/images/dike.jpg")}}},Q={CHAY_RUNG:"s\u1ef1 c\u1ed1 ch\xe1y r\u1eebng",DE_DIEU:"s\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u",CAY_TRONG:"s\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng",LUOI_DIEN:"s\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n"};function B(){var e=Object(d.a)(["\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  overflow: auto;\n  padding: 8px 24px;\n  height: 300px;\n  width: 320px;\n .ant-list-item-meta-title{\n  font-size: 14px;\n }\n  .ant-list-item-meta-avatar{\n    padding-top: 7px;\n  \n  }\n\n  .ant-list-item-action {\n    margin-top: 4px;\n    margin-left: 82px\n  }\n\n  .ant-list-item{\n    padding-top: 4px\n  }\n\n  .ant-list-item-meta {\n    margin-bottom: 4px\n  }\n\n  .ant-list-item-meta-title{\n    margin-bottom: 2px\n  }\n\n  .ant-list-item-action{\n    li{\n      padding: 0 4px;\n    }\n  }\n"]);return B=function(){return e},e}var z=h.a.div(B()),H=a(16),U=function(){var e=Object(o.g)(),t=Object(n.useState)(0),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)([]),s=Object(u.a)(c,2),m=s[0],d=s[1],h=Object(n.useState)(!0),p=Object(u.a)(h,2),g=p[0],f=p[1],E=Object(n.useState)(0),y=Object(u.a)(E,2),b=y[0],v=y[1],j=Object(n.useState)(0),O=Object(u.a)(j,2),k=O[0],C=O[1],x=Object(n.useState)([]),S=Object(u.a)(x,2),w=S[0],F=S[1],Q=Object(n.useState)(!1),B=Object(u.a)(Q,2),U=B[0],V=B[1],K=Object(n.useState)(!0),G=Object(u.a)(K,2),Z=G[0],J=G[1];Object(n.useEffect)((function(){m.forEach((function(e){e.isNew=!0})),F(m.concat(w))}),[m]),Object(n.useEffect)((function(){console.log("total changed: ".concat(l," - ").concat(g)),g||setInterval((function(){return $(0,0)}),5e3)}),[l]),Object(n.useEffect)((function(){ee(0,5)}),[]);var q=function(e,t,a){P.b.loading({content:e,key:"updatable"}),setTimeout((function(){P.b.success({content:t,key:"updatable",duration:2})}),a)},X=function(){if(V(!0),w.length>20)return P.b.warning("Infinite List loaded all"),J(!1),void V(!1);console.log("".concat(Z," -- ").concat(U)),ee(k,5)},W=function(e,t){return{method:"get",url:"https://it4483-dsd04.herokuapp.com/get_list_ntf",headers:{"Content-Type":"application/json","api-token":"1fa6b94047ba20d998b44ff1a2c78bba","project-type":"CHAY_RUNG"},params:{index:e,count:t}}},$=function(e,t){console.log("fetching notifications;");var a=W(e,t);H(a).then((function(e){var t=e.data.data.total;t!==l&&(i(e.data.data.total),v(t-l),H(W(0,t-l)).then((function(e){d(e.data.data.notifications)})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e)}))},ee=function(e,t){console.log("".concat(k," -- ").concat(5));var a=W(e,t);H(a).then((function(e){f(!1),i(e.data.data.total),F(w.concat(e.data.data.notifications)),C(k+t),V(!1)})).catch((function(e){console.log(e)}))};return r.a.createElement(A.a,{placement:"bottom",title:"Th\xf4ng b\xe1o",content:function(){return r.a.createElement(z,null,r.a.createElement(R.a,{initialLoad:!1,pageStart:0,loadMore:X,hasMore:!U&&Z,useWindow:!1},r.a.createElement(M.b,{itemLayout:"vertical",dataSource:w,renderItem:function(t){return r.a.createElement(M.b.Item,{actions:[r.a.createElement(L.a,{size:"small",type:"primary",style:{background:"#009933"},onClick:function(){return q("Processing the incidents","Processed the incidents succesfully",2e3)}}," Confirm"),r.a.createElement(L.a,{size:"small",type:"primary",onClick:function(){return q("Declining the incidents","Declined the incidents succesfully",500)},danger:!0},"Decline")],key:t._id},r.a.createElement(M.b.Item.Meta,{avatar:r.a.createElement(T.a,{shape:"square",size:64,src:Y.prop[t.ref._type].img}),title:r.a.createElement("a",{onClick:function(){return a=t._id,void e.push("/warning-detail/".concat(a));var a},href:""},t.content),description:r.a.createElement(D.a,{name:"read-only",value:t.level||0,readOnly:!0,style:{color:"red"}})}))}},U&&Z&&r.a.createElement("div",{className:"demo-loading-container"},r.a.createElement(_.a,null)))))},trigger:"click",style:{width:300}},r.a.createElement(I.a,{count:b||null},r.a.createElement(N.a,{style:{color:"gray",fontSize:32}})))},V=a(40),K=a(6),G=a(281),Z=Object(G.b)({name:"user",initialState:{user:{},listUser:[],projectType:"",isLogin:!1},reducers:{setUserData:function(e,t){var a=t.payload;e.user=a},setProjectType:function(e,t){var a=t.payload;e.projectType=a},setLogin:function(e,t){var a=t.payload;e.isLogin=a}},extraReducers:function(e){}}),J=Z.reducer,q=Object(K.a)({},Z.actions),X="https://distributed.de-lalcool.com/",W=[{name:"Ho\u1ea1t \u0111\u1ed9ng",code:"ACTIVE"},{name:"Ch\u1edd x\xe1c nh\u1eadn",code:"PENDING"},{name:"V\xf4 hi\u1ec7u h\xf3a",code:"INACTIVE"}],$=[{name:"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng",code:"CHAY_RUNG"},{name:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u",code:"DE_DIEU"},{name:"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng",code:"CAY_TRONG"},{name:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n",code:"LUOI_DIEN"}],ee=[{name:"C\xf3 th\u1ec3 nh\u1eadn vi\u1ec7c",code:"FREE"},{name:"B\u1eadn",code:"BUSY"}],te=a(10),ae=a.n(te),ne=a(15),re=a(620),le=a(1195),ie=a(1190),ce=a(1201),oe=a(431),se=a(574),ue=a.n(se),me=a(16),de=a.n(me),he=a(413),pe=a.n(he),ge=function(e){var t=de.a.create({baseURL:e,paramsSerializer:function(e){return pe.a.stringify(e,{arrayFormat:"repeat"})},timeout:1e4,headers:{}});return t.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),t}("https://distributed.de-lalcool.com/api/");function fe(e){var t=Object(K.a)(Object(K.a)({},ge.defaults.headers.common),e);ge.defaults.headers.common=ue()(t,(function(e){return!!e}))}var Ee=function(e){var t="user?page_id=".concat(e.page_id,"&page_size=").concat(e.page_size,"&sorts=-id&embeds=department&filters=");return e.role&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.role&&(t+=",role="+e.role),e.status&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.status&&(t+=",status="+e.status),e.type&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.type&&(t+=",type="+e.type),e.statusActivation&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.statusActivation&&(t+=",status_activation="+e.statusActivation),e.department_id&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.department_id&&(t+=",department_id="+e.department_id),e.statusActivation&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.statusActivation&&(t+=",status_activation="+e.statusActivation),e.search&&(t+="&q="+e.search),ge.get(t).then((function(e){return e.data})).catch((function(e){return e.response.data}))},ye=function(e){return ge.get("user/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},be=function(e){return ge.patch("user/".concat(e.id),e).then((function(e){return e.data})).catch((function(e){return e.response.data}))},ve=function(e){return ge.post("user",e).then((function(e){return e.data})).catch((function(e){return e.response.data}))},je=function(e){return ge.delete("user/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Oe=function(e){var t=e.file,a=new FormData;return a.append("file",t),ge.post("upload",a).then((function(e){return e.data}))},ke=function(e){var t="department?page_id=".concat(e.page_id,"&page_size=").concat(e.page_size,"&sorts=-id&filters=");return e.search&&(t+="&q_department="+e.search),e.type&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.type&&(t+=",type="+e.type),ge.get(t).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Ce=function(e){return ge.get("department/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},xe=function(e){return ge.post("department",e).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Se=function(e){return ge.delete("department/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},we=function(e){var t="userMeta?page_id=".concat(e.page_id,"&page_size=").concat(e.page_size,"&embeds=user,targetUser&sorts=-id&filters=");return e.type&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.type&&(t+=",type="+e.type),e.name&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.name&&(t+=",name="+e.name),e.target_id&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.target_id&&(t+=",target_id="+e.target_id),e.user_id&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.user_id&&(t+=",user_id="+e.user_id),e.search&&(t+="&q_meta="+e.search),ge.get(t).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Ae=function(){return ge.get("role?page_id=-1").then((function(e){return e.data})).catch((function(e){return e.response.data}))},Ie=function(e){var t="role?page_id=".concat(e.page_id,"&page_size=").concat(e.page_size,"&sorts=-id&filters=");return e.search&&(t+="&q_role="+e.search),ge.get(t).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Te=function(e){return ge.get("role/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Ne=function(e){return ge.post("role",e).then((function(e){return e.data})).catch((function(e){return e.response.data}))},De=function(e){return ge.delete("role/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Pe=function(e){var t="permission?page_id=".concat(e.page_id,"&page_size=").concat(e.page_size,"&sorts=-id&filters=");return e.search&&(t+="&q_permission="+e.search),ge.get(t).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Me=function(e){return ge.get("permission/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Le=function(e){return ge.post("permission",e).then((function(e){return e.data})).catch((function(e){return e.response.data}))},_e=function(e){return ge.delete("permission/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Fe=function(e){return ge.get("get-permission?resource=".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Re=function(e){var t="rolePermission?page_id=".concat(e.page_id,"&page_size=").concat(e.page_size,"&sorts=-id&embeds=role,permission&filters=");return e.role_id&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.role_id&&(t+=",role_id="+e.role_id),e.permission_id&&"Ch\u01b0a x\xe1c \u0111\u1ecbnh"!=e.permission_id&&(t+=",permission_id="+e.permission_id),ge.get(t).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Ye=function(e){return ge.get("rolePermission/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Qe=a(26),Be=a(36),ze=a(30),He=a(29),Ue=a(1192),Ve=a(1211),Ke=a(1212);function Ge(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function Ze(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||P.b.error("Ch\u1ec9 c\xf3 th\u1ec3 upload file JPG/PNG!");var a=e.size/1024/1024<2;return a||P.b.error("\u0110\u1ed9 l\u1edbn ph\u1ea3i nh\u1ecf h\u01a1n 2MB!"),t&&a}var Je=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleChange=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("uploading"!==a.file.status){t.next=3;break}return e.setState({loading:!0}),t.abrupt("return");case 3:Ge(a.file.originFileObj,(function(t){e.setState({imageUrl:t,loading:!1})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleUpload=function(){var t=Object(ne.a)(ae.a.mark((function t(a){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe({file:a});case 2:n=t.sent,e.props.setImageUrl("upload/"+n.result);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(Be.a)(a,[{key:"render",value:function(){var e=this.state.loading,t=this.props.imageUrl,a=r.a.createElement("div",null,e?r.a.createElement(Ve.a,null):r.a.createElement(Ke.a,null),r.a.createElement("div",{style:{marginTop:8}},"Upload"));return r.a.createElement(Ue.a,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:this.handleUpload,beforeUpload:Ze,onChange:this.handleChange},t?r.a.createElement("img",{src:X+t,alt:"avatar",style:{width:"100%"}}):a)}}]),a}(r.a.Component),qe=a(33),Xe=a.n(qe),We=function(e){var t=e.userId,a=e.setVisible,l=e.visible,i=Object(n.useState)({}),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)(""),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)({}),f=Object(u.a)(g,2),E=f[0],y=f[1];Object(n.useEffect)((function(){l||p("")}),[l]);var b=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye(t);case 3:"successful"===(a=e.sent).status&&(s(a.result),a.result&&a.result.avatar&&p(a.result.avatar)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){t&&l?b():s({})}),[b,t,l]);var v=function(){var e=Object(ne.a)(ae.a.mark((function e(){var a,n,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},j()){e.next=4;break}return re.a.warning({message:"\u0110\xf3ng",description:E}),e.abrupt("return");case 4:if(n=O(),!t||""==t){e.next=12;break}return n.id=t,e.next=9,be(n);case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,ve(n);case 14:a=e.sent;case 15:"successful"===a.status?k():(r="",r=""!=a.message?a.message:a.result,y({value:r,type:"error",title:"L\u1ed7i"}));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){s(Object(K.a)(Object(K.a)({},o),{},{avatar:h}))}),[h]),Object(n.useEffect)((function(){E&&""!=E&&("error"==E.type&&re.a.error({message:E.title,description:E.value}),"warning"==E.type&&re.a.warning({message:E.title,description:E.value}),"success"==E.type&&re.a.success({message:E.title,description:E.value}))}),[E]);var j=Object(n.useCallback)((function(){var e=!0;return"undefined"===typeof o.full_name||""===o.full_name?(e=!1,y({value:"Vui l\xf2ng nh\u1eadp h\u1ecd t\xean!",type:"error",title:"L\u1ed7i"}),e):"undefined"===typeof o.username||""===o.username?(e=!1,y({value:"Vui l\xf2ng nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp!",type:"error",title:"L\u1ed7i"}),e):"undefined"===typeof o.email||""===o.email?(e=!1,y({value:"Vui l\xf2ng nh\u1eadp email!",type:"error",title:"L\u1ed7i"}),e):e})),O=function(){var e={};return["full_name","username","email","phone","avatar","address"].forEach((function(t){o[t]&&""!=o[t]&&(e[t]=o[t])})),e.birthday=Xe()(o.birthday).format("YYYY-MM-DD 00:00:00"),e},k=function(){s({}),a(!1)};return r.a.createElement(le.a,{visible:l,title:"S\u1eeda th\xf4ng tin c\xe1 nh\xe2n",onOk:v,onCancel:k,okText:"L\u01b0u",cancelText:"H\u1ee7y"},r.a.createElement(ie.a,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"name",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"H\u1ecd t\xean ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{className:"input-box",placeholder:"T\xean",value:null===o||void 0===o?void 0:o.full_name,onChange:function(e){return s(Object(K.a)(Object(K.a)({},o),{},{full_name:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"username",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"T\xean \u0111\u0103ng nh\u1eadp ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{className:"input-box",type:"text",placeholder:"T\xean \u0111\u0103ng nh\u1eadp",value:null===o||void 0===o?void 0:o.username,onChange:function(e){return s(Object(K.a)(Object(K.a)({},o),{},{username:e.target.value}))}}))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"email",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Email ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{className:"input-box",type:"email",placeholder:"Email",value:null===o||void 0===o?void 0:o.email,onChange:function(e){return s(Object(K.a)(Object(K.a)({},o),{},{email:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"phone",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"Sdt ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{className:"input-box",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:null===o||void 0===o?void 0:o.phone,onChange:function(e){return s(Object(K.a)(Object(K.a)({},o),{},{phone:e.target.value}))}}))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"address",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Address "),r.a.createElement(ce.a,{className:"input-box",type:"text",placeholder:"\u0110\u1ecba ch\u1ec9",value:null===o||void 0===o?void 0:o.address,onChange:function(e){return s(Object(K.a)(Object(K.a)({},o),{},{address:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"role",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"Ng\xe0y sinh "),r.a.createElement(oe.a,{value:o.birthday?Xe()(null===o||void 0===o?void 0:o.birthday,"YYYY-MM-DD"):"",onChange:function(e){return s(Object(K.a)(Object(K.a)({},o),{},{birthday:e}))},style:{width:"100%"},format:"YYYY-MM-DD"}))),r.a.createElement(w.a,null,r.a.createElement(ie.a.Item,{name:"status",style:{margin:"0 auto"}},r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("label",{htmlFor:""},"Avatar ")),r.a.createElement(Je,{imageUrl:h||"media/users/blank.png",setImageUrl:p})))))},$e=function(){var e=Object(V.useDispatch)(),t=Object(o.g)(),a=Object(n.useState)(Object(V.useSelector)((function(e){return e.user.user}))),l=Object(u.a)(a,2),i=l[0],c=(l[1],Object(n.useState)(!1)),s=Object(u.a)(c,2),m=s[0],d=s[1],h=Object(o.h)(),p=function(){e(q.setUserData({})),e(q.setProjectType("")),e(q.setLogin(!1)),localStorage.removeItem("token"),localStorage.removeItem("project-type"),t.push("/login")},g=function(){d(!0)},f=function(){t.push({pathname:"/change-password",state:{lastRoute:h.pathname}})};return r.a.createElement(w.a,{type:"flex",justify:"end",align:"middle",className:"right-header"},r.a.createElement(C,null,r.a.createElement(U,null)),r.a.createElement(C,null,r.a.createElement(A.a,{placement:"bottom",title:"Th\xf4ng tin t\xe0i kho\u1ea3n",content:function(){return r.a.createElement("div",null,r.a.createElement("p",{onClick:g,style:{cursor:"pointer"}},"T\xe0i kho\u1ea3n"),r.a.createElement("p",{onClick:f,style:{cursor:"pointer"}},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"),r.a.createElement("p",{onClick:p,style:{cursor:"pointer"}},"\u0110\u0103ng xu\u1ea5t"))},trigger:"click"},r.a.createElement(x,null,r.a.createElement(I.a,{dot:!0,color:"#04B653"},r.a.createElement(T.a,{shape:"circle",size:"large",src:X+i.avatar})),r.a.createElement(S,null,r.a.createElement("span",{className:"text-info role"},i.role),r.a.createElement("span",{className:"text-info username"},i.full_name))))),r.a.createElement(We,{userId:i.id,setVisible:d,visible:m}))},et=function(e){return null==e?e:e.replace(/[^0-9]/g,"")},tt=function(e,t,a){var n=null;return e.forEach((function(e){e[t]==a&&(n=e)})),n},at=function(e){var t=e.collapsed,a=e.toggle,n=Object(V.useSelector)((function(e){return e.user.isLogin})),l=Object(V.useSelector)((function(e){return e.user.projectType}));return r.a.createElement(b,null,r.a.createElement(m.a.Header,{className:"header-content",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(t?f.a:E.a,{className:"trigger",onClick:a})),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("h4",{style:{fontWeight:"bold",textTransform:"uppercase"}},tt($,"code",l)&&tt($,"code",l).name))),r.a.createElement("div",null,n&&r.a.createElement($e,null))))},nt=a(218);function rt(){var e=Object(d.a)(["\n  .ant-menu-item {\n    display: flex;\n    align-items: center;\n    padding: 0 20px !important;\n  }\n  .ant-menu-submenu {\n    .ant-menu-submenu-title {\n      padding: 0 20px !important;\n    }\n    .ant-menu-item {\n      padding-left: 40px !important;\n    }\n  }\n\n  .collapsed {\n    opacity: ",";\n  }\n\n  .ant-menu-inline-collapsed {\n    > .ant-menu-item {\n      text-align: center;\n      padding: 0 28px !important;\n    }\n    > .ant-menu-item-group {\n      > .ant-menu-item-group-list {\n        > .ant-menu-item {\n          text-align: center;\n          padding: 0 28px !important;\n        }\n        > .ant-menu-submenu {\n          > .ant-menu-submenu-title {\n            text-align: center;\n            padding: 0 28px !important;\n          }\n        }\n      }\n    }\n    > .ant-menu-submenu {\n      > .ant-menu-submenu-title {\n        text-align: center;\n        padding: 0 28px !important;\n      }\n    }\n  }\n"]);return rt=function(){return e},e}var lt=h.a.div(rt(),(function(e){return e.collapsed?0:1}));function it(){var e=Object(d.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  height: 64px;\n  padding: 16px;\n  .fa-drone-alt {\n    color: rgba(255, 255, 255, 0.9);\n    font-size: 32px;\n  }\n  .title {\n    padding-left: 7.5px;\n    color: #fff;\n    font-weight: 700;\n  }\n"]);return it=function(){return e},e}var ct=h.a.div(it()),ot=function(e){var t=e.collapsed,a=void 0!==t&&t;return r.a.createElement(ct,null,r.a.createElement("i",{className:"fa fa-drone-alt"}),!a&&r.a.createElement("span",{className:"title"},"DSD-20201"))},st=[{key:"Dashboard",heading:"B\u1ea3ng \u0111i\u1ec1u khi\u1ec3n",icon:"fa fa-home-alt",route:"/dashboard"},{key:"Drones",heading:"\u0110i\u1ec1u khi\u1ec3n drone",icon:"fas fa-drone-alt",route:"/drones",subMenu:[{key:"DroneState",heading:"Danh s\xe1ch drone",icon:"fal fa-monitor-heart-rate",route:"/drone-list"},{key:"FlightPathManagement",heading:"Qu\u1ea3n l\xfd \u0111\u01b0\u1eddng bay",icon:"fas fa-route",route:"/flight-path"},{key:"FlightSchedule",heading:"L\u1ecbch bay",icon:"far fa-calendar-alt",route:"/flight-schedule"},{key:"DroneStatistic",heading:"Th\u1ed1ng k\xea drone",icon:"fa fa-file-chart-line",route:"/drone-state"}]},{key:"FlightHub",heading:"Flight hub",icon:"fab fa-hubspot",route:"/flight-hub",subMenu:[{key:"MonitorCampaign",heading:"Qu\u1ea3n l\xfd \u0111\u1ee3t gi\xe1m s\xe1t",icon:"fal fa-camera-alt",route:"/flight-hub-monitor-campaigns"},{key:"OtherParams",heading:"Nh\xe3n \u0111\xednh k\xe8m",icon:"fa fa-puzzle-piece",route:"/flight-hub-other-params"}]},{key:"Payloads",heading:"Payloads",icon:"fas fa-layer-group",route:"/payloads",subMenu:[{key:"PayloadManagement",heading:"Qu\u1ea3n l\xfd payload",icon:"fal fa-monitor-heart-rate",route:"/payload-management"},{key:"PayloadSDcard",heading:"DSCard Payload",icon:"fa fa-tools",route:"/payload-dscard"},{key:"PayloadType",heading:"Qu\u1ea3n l\xfd lo\u1ea1i payload",icon:"fa fa-tasks",route:"/payload-type"},{key:"PayloadStatistic",heading:"Th\u1ed1ng k\xea Payload",icon:"fa fa-file-chart-line",route:"/payload-statistic"},{key:"PayloadToDrone",heading:"Payload - Drone",icon:"fa fa-drone-alt",route:"/payload-drone"}]},{key:"metadata",heading:"H\xecnh \u1ea3nh v\xe0 video",icon:"fas fa-images",subMenu:[{key:"ImageVideo",heading:"Qu\u1ea3n l\xfd h\xecnh \u1ea3nh, video",icon:"fal fa-monitor-heart-rate",route:"/metadata"},{key:"Stream",heading:"Stream",icon:"fal fa-monitor-heart-rate",route:"/stream"}]},{key:"Problems",heading:"S\u1ef1 c\u1ed1",icon:"fas fa-times-octagon",subMenu:[{key:"Problems-list",heading:"Danh s\xe1ch s\u1ef1 c\u1ed1",icon:"fas fa-list",route:"/incidents"},{key:"Propblems-imageGallery",heading:"T\u1ea1o offline",icon:"fas fa-images",route:"/imageGallery"},{key:"Propblems-videoGallery",heading:"T\u1ea1o t\u1eeb tream",icon:"fas fa-images",route:"/videoGallery"}]},{key:"SupervisedObject",heading:"\u0110\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t",icon:"fas fa-binoculars",route:"/supervised-object",subMenu:[{key:"CategoryMonitored",heading:"Qu\u1ea3n l\xfd danh m\u1ee5c gi\xe1m s\xe1t",icon:"fa fa-bars",route:"/category-monitored-object-management"},{key:"MonitoredObject",heading:"Qu\u1ea3n l\xfd \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t",icon:"fa fa-database",route:"/monitored-object-management"}]},{key:"GeneralStatistic",heading:"B\xe1o c\xe1o th\u1ed1ng k\xea",icon:"fas fa-chart-line",route:"/statistic"},{key:"Warning",heading:"C\u1ea3nh b\xe1o",icon:"far fa-bell",route:"/warning"},{key:"ActivityLog",heading:"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng",icon:"fas fa-file-signature",route:"/activity-log",subMenu:[{key:"LogDrone",heading:"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a drone",icon:"fas fa-drone-alt",route:"/log-drone"},{key:"LogPayLoad",heading:"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a PayLoad",icon:"fas fa-layer-group",route:"/log-payload"},{key:"LogUser",heading:"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng ng\u01b0\u1eddi d\xf9ng",icon:"fas fa-user-circle",route:"/log-user"},{key:"LogImage",heading:"L\u1ecbch s\u1eed l\u01b0u tr\u1eef h\xecnh \u1ea3nh",icon:"fas fa-images",route:"/log-image"},{key:"LogVideo",heading:"L\u1ecbch s\u1eed l\u01b0u tr\u1eef video",icon:"fas fa-images",route:"/log-video"},{key:"LogProblem",heading:"L\u1ecbch s\u1eed s\u1ef1 c\u1ed1",icon:"fas fa-toolbox",route:"/log-problem"},{key:"LogObjMonitor",heading:"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t",icon:"fas fa-binoculars",route:"/log-objmonitor"},{key:"LogWarn",heading:"L\u1ecbch s\u1eed c\u1ea3nh b\xe1o",icon:"far fa-bell",route:"/log-warn"},{key:"LogIncident",heading:"L\u1ecbch s\u1eed x\u1eed l\xfd s\u1ef1 c\u1ed1",icon:"fas fa-toolbox",route:"/log-incident"},{key:"LogRegion",heading:"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a mi\u1ec1n gi\xe1m s\xe1t",icon:"fas fa-crop-alt",route:"/log-region"},{key:"LogStatistic",heading:"L\u1ecbch s\u1eed b\xe1o c\xe1o, th\u1ed1ng k\xea",icon:"fa fa-file-chart-line",route:"/log-statistic"},{key:"LogUAV",heading:"L\u1ecbch s\u1eed k\u1ebft n\u1ed1i UAV",icon:"fas fa-images",route:"/log-uav"}]},{key:"SurveillanceDomain",heading:"Mi\u1ec1n gi\xe1m s\xe1t",icon:"fas fa-crop-alt",route:"/surveillance-domain",subMenu:[{key:"SurveillanceDomainArea",heading:"Qu\u1ea3n l\xfd khu v\u1ef1c",icon:"fas fa-crop-alt",route:"/surveillance-area"},{key:"SurveillanceDomainManage",heading:"Qu\u1ea3n l\xfd mi\u1ec1n gi\xe1m s\xe1t",icon:"fas fa-crop-alt",route:"/surveillance-domain-manage"}]},{key:"HandleProblem",heading:"X\u1eed l\xfd s\u1ef1 c\u1ed1",icon:"fas fa-toolbox",route:"/handle-problem"},{key:"UserManagement",heading:"Ng\u01b0\u1eddi d\xf9ng",icon:"fas fa-user-circle",route:"/user-management",subMenu:[{key:"UserSetting",heading:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng",icon:"fa fa-users",route:"/user",resource:"User.find"},{key:"DepartmentSetting",heading:"Qu\u1ea3n l\xfd ph\xf2ng ban",icon:"fa fa-building",route:"/department",resource:"Department.find"},{key:"UserMetaSetting",heading:"L\u1ecbch s\u1eed ng\u01b0\u1eddi d\xf9ng",icon:"fa fa-history",route:"/user-meta",resource:"UserMeta.find"},{key:"RoleSetting",heading:"Qu\u1ea3n l\xfd ch\u1ee9c v\u1ee5",icon:"fa fa-users-cog",route:"/role",resource:"Role.system"},{key:"PermissionSetting",heading:"Qu\u1ea3n l\xfd quy\u1ec1n",icon:"fa fa-lock",route:"/permission",resource:"Permission.system"},{key:"RolePermission",heading:"Ph\xe2n quy\u1ec1n",icon:"fa fa-user-lock",route:"/role-permission",resource:"RolePermission.system"}]}],ut=m.a.Sider,mt=nt.a.SubMenu,dt=function(e){var t=e.collapsed,a=e.toggle,l=Object(n.useState)("Dashboard"),i=Object(u.a)(l,2),c=i[0],m=i[1],d=Object(o.h)().pathname,h=Object(o.g)();Object(n.useEffect)((function(){var e="/".concat(d.split("/")[1]),t=function t(a){for(var n=0;n<a.length;n++){var r=a[n],l=r.subMenu;if(l){var i=t(l);if(i)return i}else if(r.route===e)return r}}(st)||{},a=t.key,n=t.heading;a&&(m(a),document.title=n)}),[d,c]);var p=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r,l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.key,n=t.heading,r=t.route,!(l=t.resource)||""===l){e.next=8;break}return e.next=4,Fe(l);case 4:if("fail"!=e.sent.status){e.next=8;break}return re.a.error({message:"L\u1ed7i",description:"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp!"}),e.abrupt("return");case 8:if(d!==r){e.next=10;break}return e.abrupt("return");case 10:m(a),document.title=n,h.push(r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(ut,{breakpoint:"lg",width:250,collapsedWidth:"80px",collapsible:!0,trigger:null,collapsed:t,onCollapse:function(){a()}},r.a.createElement(s.b,{to:"/"},r.a.createElement(ot,{collapsed:t})),r.a.createElement(lt,{collapsed:t},r.a.createElement(nt.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["Dashboard",c],selectedKeys:c,triggerSubMenuAction:"click"},function e(t){return t.map((function(t){var a=t.subMenu,n=void 0===a?[]:a,l=t.key,i=t.heading,c=t.icon;return n.length?r.a.createElement(mt,{key:l,title:r.a.createElement("span",null,r.a.createElement("i",{className:"".concat(c," menu-item-icon")}),r.a.createElement("span",{className:"collapsed"},i))},e(n)):r.a.createElement(nt.a.Item,{key:l,icon:r.a.createElement("i",{className:"".concat(c," menu-item-icon")}),onClick:function(){return p(t)}},r.a.createElement("span",{className:"collapsed"},i))}))}(st))))},ht=m.a.Content,pt=Object(o.k)((function(e){var t=e.children,a=e.history,l=Object(n.useState)(!1),i=Object(u.a)(l,2),c=i[0],o=i[1],s=function(){o(!c)},d=Object(V.useSelector)((function(e){return e.user.projectType}));return Object(n.useEffect)((function(){d||a.push("/home")}),[]),r.a.createElement(g,null,r.a.createElement(m.a,null,r.a.createElement(dt,{collapsed:c,toggle:s}),r.a.createElement(m.a,{className:"site-layout"},r.a.createElement(at,{collapsed:c,toggle:s}),r.a.createElement(ht,null,t))))}));function gt(){var e=Object(d.a)(["\n  .header {\n    display: flex;\n    justify-content: space-between;\n  }\n  .layout {\n    height: 100vh;\n  }\n  .site-layout-content {\n    min-height: 280px;\n    padding: 24px;\n    background: #fff;\n    height: 100%;\n  }\n\n  .content {\n    padding: 50px 50px 0 50px;\n  }\n  .footer {\n    text-align: center;\n  }\n  .ant-row-rtl #components-layout-demo-top .logo {\n    float: right;\n    margin: 16px 0 16px 24px;\n  }\n"]);return gt=function(){return e},e}var ft=h.a.div(gt()),Et=a(1193),yt=a(141),bt=a(1204),vt=a(1194);function jt(){var e=Object(d.a)(["\n  .title {\n    text-align: center;\n    max-width: 40%;\n    margin: 0 auto;\n  }\n  .problems {\n    padding: 60px;\n  }\n  .card-content {\n    /* width: 300px; */\n    height: 100%;\n  }\n"]);return jt=function(){return e},e}var Ot=h.a.div(jt()),kt=a(249),Ct=a.n(kt),xt={logo:"".concat("","/images/logo.png"),logoThumbnail:"".concat("","/images/logo_thumbnail.png"),drone:"".concat("","/images/drone.png"),tree:"".concat("","/images/tree.jpg"),highVoltageGrid:"".concat("","/images/high_voltage_grid.jpg"),dike:"".concat("","/images/dike.jpg"),forestFires:"".concat("","/images/forest_fires.jpg")},St={AUTO:"AUTO",MANUALLY:"MANUALLY"},wt={PHOTO:"PHOTO",VIDEO:"VIDEO"},At={"480p":"480p","720p":"720p","1080p":"1080p"},It={forestFires:"Ch\xe1y r\u1eebng",dike:"\u0110\xea \u0111i\u1ec1u",highVoltageGrid:"\u0110i\u1ec7n",tree:"C\xe2y tr\u1ed3ng"},Tt=Et.a.Title,Nt=Object(o.k)((function(e){var t=e.history,a=Object(V.useSelector)((function(e){return e.user.user})),n=Object(V.useSelector)((function(e){return e.user.isLogin})),l=Object(V.useDispatch)(),i=function(e){n?!n||a.type!=e&&"SUPER_ADMIN"!=a.role?re.a.warning({message:"Warning",description:"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n v\xe0o d\u1ef1 \xe1n n\xe0y"}):(l(q.setProjectType(e)),t.push("/dashboard")):t.push("/login")};return r.a.createElement(Ot,null,r.a.createElement(Tt,{level:2,className:"title"},"H\u1ec7 th\u1ed1ng gi\xe1m s\xe1t, ph\xe1t hi\u1ec7n, c\u1ea3nh b\xe1o v\xe0 x\u1eed l\xfd s\u1ef1 s\u1ed1 s\u1eed d\u1ee5ng UAV"),r.a.createElement(w.a,{gutter:20,className:"problems"},r.a.createElement(yt.a,{span:6},r.a.createElement(bt.a,{hoverable:!0,className:"card-content",onClick:function(){return i("CHAY_RUNG")},cover:r.a.createElement(vt.a,{alt:"example",height:"300px",src:xt.forestFires})},r.a.createElement(Ct.a,{title:"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng",description:"Gi\u1ea3i ph\xe1p gi\xfap theo d\xf5i khu v\u1ef1c r\u1eebng m\u1ed9t c\xe1ch th\u01b0\u1eddng xuy\xean v\xe0 c\xf3 th\u1ec3 d\u1ef1 \u0111o\xe1n \u0111\u01b0\u1ee3c s\u1ef1 s\u1ef1 c\u1ed1 x\u1ea3y ra, gi\xfap ng\u0103n ch\u1eb7n v\xe0 b\u1ea3o v\u1ec7 ngu\u1ed3n t\xe0i nguy\xean r\u1eebng."}))),r.a.createElement(yt.a,{span:6},r.a.createElement(bt.a,{hoverable:!0,className:"card-content",onClick:function(){return i("DE_DIEU")},cover:r.a.createElement(vt.a,{alt:"example",height:"300px",src:xt.dike})},r.a.createElement(Ct.a,{title:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u",description:"Gi\xe1m s\xe1t v\xe0 \u0111\u1ea3m b\u1ea3o ch\u1ea5t l\u01b0\u1ee3ng cho h\u1ec7 th\u1ed1ng \u0111\xea \u0111i\u1ec1u m\u1ed9t c\xe1ch ch\u1eb7t ch\u1ebd, h\u1ea1n ch\u1ebf t\u1ed1i \u0111a kh\u1ea3 n\u0103ng x\u1ea3y ra s\u1ef1 c\u1ed1 v\xe0 \u0111\u01b0a ra nh\u1eefng c\u1ea3nh b\xe1o c\xf3 th\u1ec3 x\u1ea3y ra s\u1ef1 c\u1ed1 c\u0169ng nh\u01b0 theo d\xf5i t\xecnh h\xecnh khi s\u1ef1 c\u1ed1 \u0111\xe3 x\u1ea3y ra."}))),r.a.createElement(yt.a,{span:6},r.a.createElement(bt.a,{hoverable:!0,className:"card-content",onClick:function(){return i("LUOI_DIEN")},cover:r.a.createElement(vt.a,{alt:"example",height:"300px",src:xt.highVoltageGrid})},r.a.createElement(Ct.a,{title:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n",description:"\u1ee8ng d\u1ee5ng khoa h\u1ecdc c\xf4ng ngh\u1ec7 ti\xean ti\u1ebfn v\xe0o vi\u1ec7c gi\xe1m s\xe1t v\xe0 ph\xe1t hi\u1ec7n s\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n v\xe0 vi\u1ec7c s\u1eed d\u1ee5ng UAV \u0111\u01b0\u1ee3c xem nh\u01b0 gi\u1ea3i ph\xe1p t\u1ed1t v\xe0 h\u1ee3p l\xed nh\u1ea5t hi\u1ec7n nay."}))),r.a.createElement(yt.a,{span:6},r.a.createElement(bt.a,{hoverable:!0,className:"card-content",onClick:function(){return i("CAY_TRONG")},cover:r.a.createElement(vt.a,{alt:"example",height:"300px",src:xt.tree})},r.a.createElement(Ct.a,{title:"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng",description:"Gi\xe1m s\xe1t s\u1eed d\u1ee5ng UAV theo d\xf5i c\xe2y tr\u1ed3ng c\xf3 th\u1ec3 ti\u1ebft ki\u1ec7m m\u1ed9t l\u01b0\u1ee3ng l\u1edbn th\u1eddi gian v\xe0 c\xf4ng s\u1ee9c nh\u1edd c\xe1c UAV. Ngo\xe0i ra s\u1eed d\u1ee5ng UAV \u0111\u1ec3 phun thu\u1ed1c tr\u1eeb s\xe2u s\u1ebd hi\u1ec7u qu\u1ea3 h\u01a1n khi \xe1p d\u1ee5ng v\u1edbi trang tr\u1ea1i quy m\xf4 l\u1edbn, \u0111\u1ea3m b\u1ea3o s\u1ee9c kh\u1ecfe cho ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n."})))))})),Dt=m.a.Header,Pt=m.a.Content,Mt=m.a.Footer,Lt=function(){Object(n.useEffect)((function(){document.title="Home"}),[]);var e=Object(V.useSelector)((function(e){return e.user.isLogin}));return r.a.createElement(ft,null,r.a.createElement(m.a,{className:"layout"},r.a.createElement(Dt,{className:"header"},r.a.createElement(ot,null),e&&r.a.createElement($e,null)),r.a.createElement(Pt,{className:"content"},r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(Nt,null))),r.a.createElement(Mt,{className:"footer",style:{bottom:0}},"\xa92020 Designed by Group10")))};function _t(){var e=Object(d.a)(["\n    .input-box {\n        border-radius: 5px;\n    }\n    .select-box {\n        border-radius: 5px;\n    }\n"]);return _t=function(){return e},e}var Ft=h.a.div(_t()),Rt=a(621),Yt=a(1207),Qt=a(1187),Bt=a(168),zt=Bt.a.Option,Ht=function(e){var t=e.userId,a=e.setVisible,l=e.visible,i=e.fetchListUser,c=e.mode,o=e.setMode,s=e.listDepartments,m=e.listRoles,d=Object(n.useState)({}),h=Object(u.a)(d,2),p=h[0],g=h[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),y=E[0],b=E[1],v=Object(n.useState)(""),j=Object(u.a)(v,2),O=j[0],k=j[1],C=Object(V.useSelector)((function(e){return e.user.user})),x=Object(n.useState)(""),S=Object(u.a)(x,2),A=S[0],I=S[1];Object(n.useEffect)((function(){l||(b(""),g({status:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",role:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",type:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",department:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"}))}),[l]);var T=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye(t);case 3:"successful"===(a=e.sent).status&&(g(a.result),a.result&&a.result.avatar&&b(a.result.avatar)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){t?T():g({})}),[T,t]),Object(n.useEffect)((function(){I("create"==c?"Th\xeam m\u1edbi ng\u01b0\u1eddi d\xf9ng":"update"==c?"C\u1eadp nh\u1eadt ng\u01b0\u1eddi d\xf9ng":"Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng")}),[c]);var N=function(){var e=Object(ne.a)(ae.a.mark((function e(){var a,n,r,l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},D()){e.next=3;break}return e.abrupt("return");case 3:if(n=P(),r="",!t||""==t){e.next=13;break}return n.id=t,e.next=9,be(n);case 9:a=e.sent,r="C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!",e.next=17;break;case 13:return e.next=15,ve(n);case 15:a=e.sent,r="T\u1ea1o m\u1edbi th\xe0nh c\xf4ng!";case 17:"successful"===a.status?(re.a.success({message:"Th\xe0nh c\xf4ng",description:r}),M(),i()):(l="",l=a.message&&""!=a.message?a.message:a.result,re.a.error({message:"",description:l}));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){g(Object(K.a)(Object(K.a)({},p),{},{avatar:y}))}),[y]);var D=Object(n.useCallback)((function(){var e=!0;if("undefined"===typeof p.full_name||""===p.full_name)return e=!1,k({value:"Vui l\xf2ng nh\u1eadp h\u1ecd t\xean!",type:"error",title:"L\u1ed7i"}),e;if("undefined"===typeof p.username||""===p.username)return e=!1,k({value:"Vui l\xf2ng nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp!",type:"error",title:"L\u1ed7i"}),e;if("undefined"===typeof p.email||""===p.email)return e=!1,k({value:"Vui l\xf2ng nh\u1eadp email!",type:"error",title:"L\u1ed7i"}),e;if(!t){if("undefined"===typeof p.password||""===p.password)return e=!1,k({value:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!",type:"error",title:"L\u1ed7i"}),e;if("undefined"===typeof p.repassword)return e=!1,k({value:"Vui l\xf2ng x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u!",type:"error",title:"L\u1ed7i"}),e;if(p.repassword!==p.password)return e=!1,k({value:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang!",type:"error",title:"L\u1ed7i"}),e}return e})),P=function(){var e={};return["full_name","username","password","email","phone","avatar","address","status","role"].forEach((function(t){p[t]&&""!=p[t]&&(e[t]=p[t])})),p.department&&p.department.id?e.department_id=p.department.id:e.department_id=0,"Ch\u01b0a x\xe1c \u0111\u1ecbnh"==e.status&&(e.status=null),"Ch\u01b0a x\xe1c \u0111\u1ecbnh"==e.role&&(e.role=null),e.type=localStorage.getItem("project-type"),e.birthday=Xe()(p.birthday).format("YYYY-MM-DD 00:00:00"),e},M=function(){g({}),a(!1),o("detail")};Object(n.useEffect)((function(){O&&""!=O&&("error"==O.type&&re.a.error({message:O.title,description:O.value}),"warning"==O.type&&re.a.warning({message:O.title,description:O.value}),"success"==O.type&&re.a.success({message:O.title,description:O.value}))}),[O]);return r.a.createElement(le.a,{visible:l,title:A,onOk:N,onCancel:M,okText:"L\u01b0u",cancelText:"H\u1ee7y"},r.a.createElement(ie.a,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"name",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"H\u1ecd t\xean ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",placeholder:"T\xean",value:null===p||void 0===p?void 0:p.full_name,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{full_name:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"username",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"T\xean \u0111\u0103ng nh\u1eadp ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",type:"text",placeholder:"T\xean \u0111\u0103ng nh\u1eadp",value:null===p||void 0===p?void 0:p.username,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{username:e.target.value}))}}))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"email",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Email ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",type:"email",placeholder:"Email",value:null===p||void 0===p?void 0:p.email,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{email:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"phone",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"Sdt ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:null===p||void 0===p?void 0:p.phone,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{phone:e.target.value}))}}))),!t&&r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"password",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"M\u1eadt kh\u1ea9u ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,type:"password",placeholder:"M\u1eadt kh\u1ea9u",value:null===p||void 0===p?void 0:p.password,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{password:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"re-password",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,type:"password",placeholder:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",value:null===p||void 0===p?void 0:p.repassword,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{repassword:e.target.value}))}}))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"address",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Address "),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",type:"text",placeholder:"\u0110\u1ecba ch\u1ec9",value:null===p||void 0===p?void 0:p.address,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{address:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"role",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"Ng\xe0y sinh "),r.a.createElement(oe.a,{disabled:"detail"==c,value:p.birthday?Xe()(null===p||void 0===p?void 0:p.birthday,"YYYY-MM-DD"):"",onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{birthday:e}))},style:{width:"100%"},format:"YYYY-MM-DD"}))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"role",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Ch\u1ee9c v\u1ee5 "),r.a.createElement(Bt.a,{disabled:"detail"==c,className:"select-box",value:null===p||void 0===p?void 0:p.role,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{role:e}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%"}},C&&"SUPER_ADMIN"==C.role&&r.a.createElement(zt,{key:0,value:"SUPER_ADMIN"},"Qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng"),m&&m.map((function(e,t){return r.a.createElement(zt,{key:t,value:e.code},e.name)})))),r.a.createElement(ie.a.Item,{name:"status",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"Tr\u1ea1ng th\xe1i "),r.a.createElement(Bt.a,{disabled:"detail"==c,className:"select-box",value:null===p||void 0===p?void 0:p.status,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{status:e}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%"}},W.map((function(e,t){return r.a.createElement(zt,{key:t,value:e.code},e.name)}))))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"role",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Ph\xf2ng ban "),r.a.createElement(Bt.a,{disabled:"detail"==c,className:"select-box",value:p&&p.department?p.department.id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{department:e}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%"}},r.a.createElement(zt,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),s&&s.map((function(e,t){return r.a.createElement(zt,{key:t,value:e.id},e.name)})))),C&&"SUPER_ADMIN"==C.role&&r.a.createElement(ie.a.Item,{name:"type"},r.a.createElement("label",{htmlFor:""},"D\u1ef1 \xe1n "),r.a.createElement(Bt.a,{disabled:"detail"==c,className:"select-box",value:null===p||void 0===p?void 0:p.type,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{type:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%",minWidth:100}},C&&"SUPER_ADMIN"==C.role&&r.a.createElement(zt,{key:0,value:"ALL_PROJECT"},"T\u1ea5t c\u1ea3"),$.map((function(e,t){return r.a.createElement(zt,{key:t,value:e.code},e.name)}))))),r.a.createElement(w.a,null,r.a.createElement(ie.a.Item,{name:"status",style:{margin:"0 auto"}},r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("label",{htmlFor:""},"Avatar ")),r.a.createElement(Je,{imageUrl:y||"media/users/blank.png",setImageUrl:b})))))},Ut=a(1215),Vt=Bt.a.Option,Kt=ce.a.Search,Gt=function(e){var t=e.filter,a=e.setFilter,l=e.setVisible,i=e.setMode,c=e.listDepartments,o=e.listRoles,s=Object(V.useSelector)((function(e){return e.user.user}));return r.a.createElement(n.Fragment,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:12},"Danh s\xe1ch ng\u01b0\u1eddi d\xf9ng"),r.a.createElement(yt.a,{flex:"right",span:2,offset:10},r.a.createElement(L.a,{block:!0,type:"primary",onClick:function(){return l(!0),void i("create")},style:{width:200,float:"right"}},r.a.createElement(Ut.a,null),"Th\xeam ng\u01b0\u1eddi d\xf9ng"))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:7},r.a.createElement(Kt,{placeholder:"T\xecm ki\u1ebfm",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{search:e.target.value,page_id:0}))}})),r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"Tr\u1ea1ng th\xe1i"),r.a.createElement(Bt.a,{className:"select-box",value:t.status,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{status:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},r.a.createElement(Vt,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),W.map((function(e,t){return r.a.createElement(Vt,{key:t,value:e.code},e.name)})))),r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"Ch\u1ee9c v\u1ee5"),r.a.createElement(Bt.a,{className:"select-box",value:t.role,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{role:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},r.a.createElement(Vt,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),o&&o.map((function(e,t){return r.a.createElement(Vt,{key:t,value:e.code},e.name)}))))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"Ph\xf2ng ban"),r.a.createElement(Bt.a,{showSearch:!0,optionFilterProp:"children",className:"select-box",value:t.department_id?t.department_id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{department_id:e,page_id:0}))},style:{width:"75%",marginLeft:10}},r.a.createElement(Vt,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),c&&c.map((function(e,t){return r.a.createElement(Vt,{key:t,value:e.id},e.name)})))),"SUPER_ADMIN"==s.role&&r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"D\u1ef1 \xe1n"),r.a.createElement(Bt.a,{className:"select-box",value:t.type,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{type:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},r.a.createElement(Vt,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),$.map((function(e,t){return r.a.createElement(Vt,{key:t,value:e.code},e.name)})))),r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"Tr\u1ea1ng th\xe1i l\xe0m vi\u1ec7c"),r.a.createElement(Bt.a,{className:"select-box",value:t.statusActivation,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{statusActivation:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},r.a.createElement(Vt,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),ee.map((function(e,t){return r.a.createElement(Vt,{key:t,value:e.code},e.name)}))))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:2,style:{display:"flex",margin:"0 auto"}},r.a.createElement(L.a,{type:"primary",block:!0,style:{marginBottom:10},onClick:function(){a({page_id:0,page_size:20,role:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",status:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",type:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",search:"",department_id:null,statusActivation:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"})}},"Reset"))))},Zt=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)({page_size:20,page_id:0}),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)([]),f=Object(u.a)(g,2),E=f[0],y=f[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),j=v[0],O=v[1],k=Object(V.useSelector)((function(e){return e.user.user})),C=Object(n.useState)(""),x=Object(u.a)(C,2),S=x[0],w=x[1],A=Object(n.useState)([]),I=Object(u.a)(A,2),T=I[0],N=I[1],D=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.get("department?page_id=-1").then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:t=e.sent,N(t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){D()}),[]);var P=Object(n.useState)([]),M=Object(u.a)(P,2),L=M[0],_=M[1],F=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:t=e.sent,_(t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){F()}),[]);var R=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(o);case 2:"successful"===(t=e.sent).status?(y(t.meta),p(t.result)):(y({page_size:20,page_id:0}),p([]),re.a.error({message:"L\u1ed7i",description:t.message&&""!==t.message?t.message:"C\xf3 l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i!"}));case 4:case"end":return e.stop()}}),e)}))),[o,k]);Object(n.useEffect)((function(){R()}),[R]),Object(n.useEffect)((function(){a||O("")}),[a]);var Y=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.a.confirm({title:"X\xe1c nh\u1eadn?",content:"B\u1ea1n c\xf3 th\u1ef1c s\u1ef1 mu\u1ed1n x\xf3a ng\u01b0\u1eddi d\xf9ng n\xe0y",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",onOk:function(){var e=new Promise((function(e,a){e(je(t.id))})).catch((function(){return console.log("Oops errors!")}));Promise.resolve(e).then((function(e){"successful"==e.status?(re.a.success({message:"Th\xe0nh c\xf4ng",description:"X\xf3a ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng"}),R()):re.a.error({message:"L\u1ed7i",description:e.message})}))},onCancel:function(){}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=[{title:"#",render:function(e,t,a){return r.a.createElement("a",{onClick:function(){return z(t)}},a+1)}},{title:"T\xean",dataIndex:"full_name",key:"full_name",render:function(e,t){return r.a.createElement("a",{onClick:function(){return z(t)}},e)}},{title:"Email",dataIndex:"email",key:"email",width:"20%",render:function(e){return r.a.createElement("p",{style:{wordBreak:"break-word"}},e)}},{title:"Sdt",dataIndex:"phone",key:"phone",width:"10%",render:function(e){return r.a.createElement("p",null,null==(t=e)?t:et(t).replace(/^(\d+)(\d{3})(\d{3})$/,"$1-$2-$3"));var t}},{title:"\u0110\u1ecba ch\u1ec9",dataIndex:"address",key:"address",width:"30%",render:function(e){return r.a.createElement("p",{style:{wordBreak:"break-word"}},e)}},{title:"Tr\u1ea1ng th\xe1i",key:"status",dataIndex:"status",render:function(e){return r.a.createElement(Rt.a,{color:"ACTIVE"==e?"success":"PENDING"==e?"geekblue":"red",key:e},e)}},{title:"Ch\u1ee9c v\u1ee5",key:"role",dataIndex:"role",render:function(e){return r.a.createElement(Rt.a,{color:"ADMIN"==e?"success":"SUPERVISOR"==e?"geekblue":"MANAGER"==e?"orange":"DRONE_STAFF"==e?"purple":"INCIDENT_STAFF"==e?"cyan":"magenta",key:e},e)}},{title:"Ph\xf2ng ban",key:"department",dataIndex:"department",render:function(e){return r.a.createElement("div",null,e?e.name:"")}},"SUPER_ADMIN"==k.role?{title:"D\u1ef1 \xe1n",key:"type",dataIndex:"type",width:"10%",render:function(e){return r.a.createElement(Rt.a,{color:"CHAY_RUNG"==e?"red":"DE_DIEU"==e?"cyan":"CAY_TRONG"==e?"green":"LUOI_DIEN"==e?"processing":"purple",key:e},e)}}:{},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(Yt.b,{size:"middle",style:{marginRight:10}},r.a.createElement("a",{onClick:function(){return B(t)}},"S\u1eeda")),r.a.createElement(Yt.b,{size:"middle"},r.a.createElement("a",{onClick:function(){return Y(t)}},"X\xf3a")))},width:"10%"}],B=function(e){l(!0),w("update"),O(e.id)},z=function(e){l(!0),w("detail"),O(e.id)};return r.a.createElement(Ft,null,r.a.createElement(Gt,{setFilter:s,setVisible:l,filter:o,setMode:w,listDepartments:T,listRoles:L}),r.a.createElement(Qt.a,{rowKey:"id",columns:Q,pagination:{total:E.total_count,pageSize:E.page_size,onChange:function(e,t){s(Object(K.a)(Object(K.a)({},o),{},{page_id:e-1,page_size:t}))}},dataSource:h}),r.a.createElement(Ht,{visible:a,userId:j,setVisible:l,fetchListUser:R,mode:S,setMode:w,listDepartments:T,listRoles:L}))};function Jt(){var e=Object(d.a)(["\n    .input-box {\n        border-radius: 5px;\n    }\n    .select-box {\n        border-radius: 5px;\n    }\n"]);return Jt=function(){return e},e}var qt=h.a.div(Jt()),Xt=Bt.a.Option,Wt=function(e){var t=e.departmentId,a=e.setVisible,l=e.visible,i=e.fetchListDepartment,c=e.mode,o=e.setMode,s=Object(n.useState)({}),m=Object(u.a)(s,2),d=m[0],h=m[1],p=Object(n.useState)({}),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(V.useSelector)((function(e){return e.user.user})),b=Object(n.useState)(""),v=Object(u.a)(b,2),j=v[0],O=v[1];Object(n.useEffect)((function(){l||h({type:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"})}),[l]),Object(n.useEffect)((function(){O("create"==c?"Th\xeam m\u1edbi ph\xf2ng ban":"update"==c?"C\u1eadp nh\u1eadt ph\xf2ng ban":"Th\xf4ng tin ph\xf2ng ban")}),[c]);var k=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(t);case 3:"successful"===(a=e.sent).status&&h(a.result),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){t?k():h({})}),[k,h]);var C=function(){var e=Object(ne.a)(ae.a.mark((function e(){var a,n,r,l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},x()){e.next=3;break}return e.abrupt("return");case 3:if(n=S(),r="",!t||""==t){e.next=13;break}return n.id=t,e.next=9,c=n,ge.patch("department/".concat(c.id),c).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 9:a=e.sent,r="C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!",e.next=17;break;case 13:return e.next=15,xe(n);case 15:a=e.sent,r="T\u1ea1o m\u1edbi th\xe0nh c\xf4ng!";case 17:"successful"===a.status?(i(),re.a.success({message:"Th\xe0nh c\xf4ng",description:r}),A()):(l="",l=a.message&&""!=a.message?a.message:a.result,re.a.error({message:"",description:l}));case 18:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}(),x=Object(n.useCallback)((function(){var e=!0;return"undefined"===typeof d.name||""===d.name?(e=!1,E({value:"Vui l\xf2ng nh\u1eadp t\xean!",type:"error",title:"L\u1ed7i"}),e):"undefined"===typeof d.description||""===d.description?(e=!1,E({value:"Vui l\xf2ng nh\u1eadp m\xf4 t\u1ea3!",type:"error",title:"L\u1ed7i"}),e):e})),S=function(){var e={};return["name","description"].forEach((function(t){d[t]&&""!=d[t]&&(e[t]=d[t])})),e.type=localStorage.getItem("project-type"),e},A=function(){h({}),o(""),a(!1)};return Object(n.useEffect)((function(){f&&""!=f&&("error"==f.type&&re.a.error({message:f.title,description:f.value}),"warning"==f.type&&re.a.warning({message:f.title,description:f.value}),"success"==f.type&&re.a.success({message:f.title,description:f.value}))}),[f]),r.a.createElement(le.a,{visible:l,title:j,onOk:C,onCancel:A,okText:"L\u01b0u",cancelText:"H\u1ee7y"},r.a.createElement(ie.a,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"name",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"H\u1ecd t\xean ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",placeholder:"T\xean",value:null===d||void 0===d?void 0:d.name,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{name:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"username",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"M\xf4 t\u1ea3 ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",type:"text",placeholder:"M\xf4 t\u1ea3",value:null===d||void 0===d?void 0:d.description,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{description:e.target.value}))}}))),r.a.createElement(w.a,{gutter:[16,16]},"detail"==c&&r.a.createElement(ie.a.Item,{name:"role",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Ng\xe0y t\u1ea1o "),r.a.createElement(oe.a,{disabled:"detail"==c,value:d.created_at?Xe()(null===d||void 0===d?void 0:d.created_at,"YYYY-MM-DD"):"",style:{width:"100%"},format:"YYYY-MM-DD"})),y&&"SUPER_ADMIN"==y.role&&r.a.createElement(ie.a.Item,{name:"type"},r.a.createElement("label",{htmlFor:""},"D\u1ef1 \xe1n "),r.a.createElement(Bt.a,{disabled:"detail"==c,className:"select-box",value:null===d||void 0===d?void 0:d.type,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{type:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%",minWidth:178}},$.map((function(e,t){return r.a.createElement(Xt,{key:t,value:e.code},e.name)})))))))},$t=a(1216),ea=Bt.a.Option,ta=ce.a.Search,aa=function(e){var t=e.filter,a=e.setFilter,l=e.setVisible,i=e.setMode,c=Object(V.useSelector)((function(e){return e.user.user}));return r.a.createElement(n.Fragment,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:12},"Danh s\xe1ch ph\xf2ng ban"),r.a.createElement(yt.a,{flex:"right",span:2,offset:10},r.a.createElement(L.a,{block:!0,type:"primary",onClick:function(){return i("create"),void l(!0)},style:{width:200,float:"right"}},r.a.createElement($t.a,null),"Th\xeam ph\xf2ng ban"))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:8},r.a.createElement(ta,{placeholder:"T\xecm ki\u1ebfm",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{search:e.target.value,page_id:0}))}})),"SUPER_ADMIN"==c.role&&r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"D\u1ef1 \xe1n"),r.a.createElement(Bt.a,{className:"select-box",value:t.type,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{type:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},r.a.createElement(ea,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),$.map((function(e,t){return r.a.createElement(ea,{key:t,value:e.code},e.name)}))))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:8})),r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:2,style:{display:"flex",margin:"0 auto"}},r.a.createElement(L.a,{type:"primary",block:!0,style:{marginBottom:10},onClick:function(){a({page_id:0,page_size:20,role:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",status:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",search:""})}},"Reset"))))},na=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)({page_size:20,page_id:0}),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)([]),f=Object(u.a)(g,2),E=f[0],y=f[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),j=v[0],O=v[1],k=Object(V.useSelector)((function(e){return e.user.user})),C=Object(n.useState)(""),x=Object(u.a)(C,2),S=x[0],w=x[1],A=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(o);case 2:"successful"===(t=e.sent).status?(y(t.meta),p(t.result)):(y({page_size:20,page_id:0}),p([]),re.a.error({message:"L\u1ed7i",description:t.message&&""!==t.message?t.message:"C\xf3 l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i!"}));case 4:case"end":return e.stop()}}),e)}))),[o]);Object(n.useEffect)((function(){A()}),[A]),Object(n.useEffect)((function(){a||O("")}),[a]);var I=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.a.confirm({title:"X\xe1c nh\u1eadn?",content:"B\u1ea1n c\xf3 th\u1ef1c s\u1ef1 mu\u1ed1n x\xf3a ph\xf2ng ban n\xe0y",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",onOk:function(){var e=new Promise((function(e,a){e(Se(t.id))})).catch((function(){return console.log("Oops errors!")}));Promise.resolve(e).then((function(e){"successful"==e.status?(re.a.success({message:"Th\xe0nh c\xf4ng",description:"X\xf3a ph\xf2ng ban th\xe0nh c\xf4ng"}),A()):re.a.error({message:"L\u1ed7i",description:e.message})}))},onCancel:function(){}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=[{title:"#",render:function(e,t,a){return r.a.createElement("a",{onClick:function(){return D(t)}},a+1)}},{title:"T\xean",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement("a",{onClick:function(){return D(t)}},e)}},{title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},{title:"Ng\xe0y t\u1ea1o",dataIndex:"created_at",key:"created_at",render:function(e){return r.a.createElement("p",null,Xe()(e).format("mm:hh DD-MM-YYYY"))}},"SUPER_ADMIN"==k.role?{title:"D\u1ef1 \xe1n",key:"type",dataIndex:"type",width:"10%",render:function(e){return r.a.createElement(Rt.a,{color:"CHAY_RUNG"==e?"red":"DE_DIEU"==e?"cyan":"CAY_TRONG"==e?"green":"purple",key:e},e)}}:{},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(Yt.b,{size:"middle",style:{marginRight:10}},r.a.createElement("a",{onClick:function(){return N(t)}},"S\u1eeda")),r.a.createElement(Yt.b,{size:"middle"},r.a.createElement("a",{onClick:function(){return I(t)}},"X\xf3a")))},width:"10%"}],N=function(e){l(!0),w("update"),O(e.id)},D=function(e){l(!0),w("detail"),O(e.id)};return r.a.createElement(qt,null,r.a.createElement(aa,{setFilter:s,setVisible:l,filter:o,setMode:w}),r.a.createElement(Qt.a,{rowKey:"id",columns:T,pagination:{total:E.total_count,pageSize:E.page_size,onChange:function(e,t){s(Object(K.a)(Object(K.a)({},o),{},{page_id:e-1,page_size:t}))}},dataSource:h}),r.a.createElement(Wt,{mode:S,setMode:w,visible:a,departmentId:j,setVisible:l,fetchListDepartment:A}))};function ra(){var e=Object(d.a)(["\n    .input-box {\n        border-radius: 5px;\n    }\n    .select-box {\n        border-radius: 5px;\n    }\n"]);return ra=function(){return e},e}var la=h.a.div(ra()),ia=[{name:"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng",code:"CHAY_RUNG"},{name:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u",code:"DE_DIEU"},{name:"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng",code:"CAY_TRONG"},{name:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n",code:"LUOI_DIEN"}],ca=[{name:"\u0110ang th\u1ef1c hi\u1ec7n",code:"DOING"},{name:"Ho\xe0n th\xe0nh",code:"DONE"}],oa=[{name:"Drone",code:"DRONE"},{name:"S\u1ef1 c\u1ed1",code:"INCIDENT"}],sa=Bt.a.Option,ua=ce.a.Search,ma=function(e){var t=e.filter,a=e.setFilter,l=(e.setVisible,Object(V.useSelector)((function(e){return e.user.user}))),i=Object(n.useState)([]),c=Object(u.a)(i,2),o=c[0],s=c[1],m=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.get("user?page_id=-1").then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:t=e.sent,s(t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){m()}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:12},"L\u1ecbch s\u1eed ng\u01b0\u1eddi d\xf9ng")),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:7},r.a.createElement(ua,{placeholder:"T\xecm ki\u1ebfm",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{search:e.target.value,page_id:0}))}})),r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"Tr\u1ea1ng th\xe1i"),r.a.createElement(Bt.a,{className:"select-box",value:t.status,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{status:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},ca.map((function(e,t){return r.a.createElement(sa,{key:t,value:e.code},e.name)})))),r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"T\xean"),r.a.createElement(Bt.a,{className:"select-box",value:t.name,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{name:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},oa.map((function(e,t){return r.a.createElement(sa,{key:t,value:e.code},e.name)}))))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"Ng\u01b0\u1eddi t\u1ea1o"),r.a.createElement(Bt.a,{className:"select-box",value:t.user_id?t.user_id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",showSearch:!0,optionFilterProp:"children",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{user_id:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},o&&o.map((function(e,t){return r.a.createElement(sa,{key:t,value:e.id},e.full_name)})))),r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"),r.a.createElement(Bt.a,{showSearch:!0,optionFilterProp:"children",className:"select-box",value:t.target_id?t.target_id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{target_id:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},o&&o.map((function(e,t){return r.a.createElement(sa,{key:t,value:e.id},e.full_name)})))),"SUPER_ADMIN"==l.role&&r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"D\u1ef1 \xe1n"),r.a.createElement(Bt.a,{className:"select-box",value:t.type,onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{type:e,page_id:0}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"75%",marginLeft:10}},ia.map((function(e,t){return r.a.createElement(sa,{key:t,value:e.code},e.name)}))))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:2,style:{display:"flex",margin:"0 auto"}},r.a.createElement(L.a,{type:"primary",block:!0,style:{marginBottom:10},onClick:function(){a({page_id:0,page_size:20,name:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",status:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",type:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",search:"",user_id:null,target_id:null})}},"Reset"))))},da=function(){var e=Object(n.useState)({page_size:20,page_id:0}),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)([]),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(V.useSelector)((function(e){return e.user.user})),f=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(a);case 2:"successful"===(t=e.sent).status?(p(t.meta),s(t.result)):(p({page_size:20,page_id:0}),s([]),re.a.error({message:"L\u1ed7i",description:t.message&&""!==t.message?t.message:"C\xf3 l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i!"}));case 4:case"end":return e.stop()}}),e)}))),[a,g]);Object(n.useEffect)((function(){f()}),[f]);var E=[{title:"#",render:function(e,t,a){return r.a.createElement("a",null,a+1)}},{title:"T\xean",dataIndex:"name",key:"name",render:function(e){return r.a.createElement("a",null,tt(oa,"code",e).name)}},{title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description",render:function(e){return r.a.createElement("p",{style:{wordBreak:"break-word"}},e)}},{title:"Ng\u01b0\u1eddi t\u1ea1o",dataIndex:"user",key:"user",render:function(e){return r.a.createElement("p",null,e?e.full_name:"")}},{title:"Ng\u01b0\u1eddi ho\xe0n th\xe0nh",dataIndex:"target_user",key:"target_user",render:function(e){return r.a.createElement("p",null,e?e.full_name:"")}},{title:"Ng\xe0y t\u1ea1o",dataIndex:"created_at",key:"created_at",render:function(e){return r.a.createElement("p",null,Xe()(e).format("mm:hh DD-MM-YYYY"))}},"SUPER_ADMIN"==g.role?{title:"D\u1ef1 \xe1n",key:"type",dataIndex:"type",width:"10%",render:function(e){return r.a.createElement(Rt.a,{color:"CHAY_RUNG"==e?"red":"DE_DIEU"==e?"cyan":"CAY_TRONG"==e?"green":"purple",key:e},e)}}:{},{title:"Tr\u1ea1ng th\xe1i",key:"status",dataIndex:"status",render:function(e){return r.a.createElement(Rt.a,{color:"DONE"==e?"success":"geekblue",key:e},e)}}];return r.a.createElement(la,null,r.a.createElement(ma,{setFilter:l,filter:a}),r.a.createElement(Qt.a,{rowKey:"id",columns:E,pagination:{total:h.total_count,pageSize:h.page_size,onChange:function(e,t){l(Object(K.a)(Object(K.a)({},a),{},{page_id:e-1,page_size:t}))}},dataSource:o}))};function ha(){var e=Object(d.a)(["\n    .input-box {\n        border-radius: 5px;\n    }\n    .select-box {\n        border-radius: 5px;\n    }\n"]);return ha=function(){return e},e}var pa=h.a.div(ha()),ga=(Bt.a.Option,function(e){var t=e.roleId,a=e.setVisible,l=e.visible,i=e.fetchListRole,c=e.mode,o=e.setMode,s=Object(n.useState)({}),m=Object(u.a)(s,2),d=m[0],h=m[1],p=Object(n.useState)({}),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(""),b=Object(u.a)(y,2),v=b[0],j=b[1];Object(n.useEffect)((function(){l||h({type:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"})}),[l]),Object(n.useEffect)((function(){j("create"==c?"Th\xeam m\u1edbi ch\u1ee9c v\u1ee5":"update"==c?"C\u1eadp nh\u1eadt ch\u1ee9c v\u1ee5":"Th\xf4ng tin ch\u1ee9c v\u1ee5")}),[c]);var O=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te(t);case 3:"successful"===(a=e.sent).status&&h(a.result),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){t?O():h({})}),[O,h]);var k=function(){var e=Object(ne.a)(ae.a.mark((function e(){var a,n,r,l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},C()){e.next=3;break}return e.abrupt("return");case 3:if(n=x(),r="",!t||""==t){e.next=13;break}return n.id=t,e.next=9,c=n,ge.patch("role/".concat(c.id),c).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 9:a=e.sent,r="C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!",e.next=17;break;case 13:return e.next=15,Ne(n);case 15:a=e.sent,r="T\u1ea1o m\u1edbi th\xe0nh c\xf4ng!";case 17:"successful"===a.status?(i(),re.a.success({message:"Th\xe0nh c\xf4ng",description:r}),S()):(l="",l=a.message&&""!=a.message?a.message:a.result,re.a.error({message:"",description:l}));case 18:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(n.useCallback)((function(){var e=!0;return"undefined"===typeof d.name||""===d.name?(e=!1,E({value:"Vui l\xf2ng nh\u1eadp t\xean!",type:"error",title:"L\u1ed7i"}),e):"undefined"===typeof d.description||""===d.description?(e=!1,E({value:"Vui l\xf2ng nh\u1eadp m\xf4 t\u1ea3!",type:"error",title:"L\u1ed7i"}),e):"undefined"===typeof d.code||""===d.code?(e=!1,E({value:"Vui l\xf2ng nh\u1eadp m\xe3 ch\u1ee9c v\u1ee5!",type:"error",title:"L\u1ed7i"}),e):"undefined"===typeof d.ranking||""===d.ranking?(e=!1,E({value:"Vui l\xf2ng nh\u1eadp th\u1ee9 h\u1ea1ng c\u1ee7a ch\u1ee9c v\u1ee5!",type:"error",title:"L\u1ed7i"}),e):d.ranking<=0?(e=!1,E({value:"Th\u1ee9 h\u1ea1ng c\u1ee7a ch\u1ee9c v\u1ee5 kh\xf4ng h\u1ee3p l\u1ec7!",type:"error",title:"L\u1ed7i"}),e):e})),x=function(){var e={};return["name","description","code","ranking"].forEach((function(t){d[t]&&""!=d[t]&&(e[t]=d[t])})),e},S=function(){h({}),o(""),a(!1)};return Object(n.useEffect)((function(){f&&""!=f&&("error"==f.type&&re.a.error({message:f.title,description:f.value}),"warning"==f.type&&re.a.warning({message:f.title,description:f.value}),"success"==f.type&&re.a.success({message:f.title,description:f.value}))}),[f]),r.a.createElement(le.a,{visible:l,title:v,onOk:k,onCancel:S,okText:"L\u01b0u",cancelText:"H\u1ee7y"},r.a.createElement(ie.a,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"name",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"H\u1ecd t\xean ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",placeholder:"T\xean",value:null===d||void 0===d?void 0:d.name,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{name:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"username",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"M\xf4 t\u1ea3 ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",type:"text",placeholder:"M\xf4 t\u1ea3",value:null===d||void 0===d?void 0:d.description,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{description:e.target.value}))}}))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"username",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Th\u1ee9 h\u1ea1ng ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",type:"text",placeholder:"Th\u1ee9 h\u1ea1ng",value:null===d||void 0===d?void 0:d.ranking,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{ranking:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"role",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"M\xe3 ch\u1ee9c v\u1ee5 "),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",type:"text",placeholder:"M\xe3 ch\u1ee9c v\u1ee5",value:null===d||void 0===d?void 0:d.code,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{code:e.target.value}))}}))),r.a.createElement(w.a,{gutter:[16,16]},"detail"==c&&r.a.createElement(ie.a.Item,{name:"role",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"Ng\xe0y t\u1ea1o "),r.a.createElement(oe.a,{disabled:"detail"==c,value:d.created_at?Xe()(null===d||void 0===d?void 0:d.created_at,"YYYY-MM-DD"):"",style:{width:"100%"},format:"YYYY-MM-DD"})))))}),fa=(Bt.a.Option,ce.a.Search),Ea=function(e){var t=e.filter,a=e.setFilter,l=e.setVisible,i=e.setMode;return r.a.createElement(n.Fragment,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:12},"Danh s\xe1ch ch\u1ee9c v\u1ee5"),r.a.createElement(yt.a,{flex:"right",span:2,offset:10},r.a.createElement(L.a,{block:!0,type:"primary",onClick:function(){return i("create"),void l(!0)},style:{width:200,float:"right"}},r.a.createElement($t.a,null),"Th\xeam ch\u1ee9c v\u1ee5"))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:8},r.a.createElement(fa,{placeholder:"T\xecm ki\u1ebfm",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{search:e.target.value,page_id:0}))}}))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:8})),r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:2,style:{display:"flex",margin:"0 auto"}},r.a.createElement(L.a,{type:"primary",block:!0,style:{marginBottom:10},onClick:function(){a({page_id:0,page_size:20,search:""})}},"Reset"))))},ya=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)({page_size:20,page_id:0}),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)([]),f=Object(u.a)(g,2),E=f[0],y=f[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),j=v[0],O=v[1],k=Object(n.useState)(""),C=Object(u.a)(k,2),x=C[0],S=C[1],w=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(o);case 2:"successful"===(t=e.sent).status?(y(t.meta),p(t.result)):(y({page_size:20,page_id:0}),p([]),re.a.error({message:"L\u1ed7i",description:t.message&&""!==t.message?t.message:"C\xf3 l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i!"}));case 4:case"end":return e.stop()}}),e)}))),[o]);Object(n.useEffect)((function(){w()}),[w]),Object(n.useEffect)((function(){a||O("")}),[a]);var A=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.a.confirm({title:"X\xe1c nh\u1eadn?",content:"B\u1ea1n c\xf3 th\u1ef1c s\u1ef1 mu\u1ed1n x\xf3a ch\u1ee9c v\u1ee5 n\xe0y",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",onOk:function(){var e=new Promise((function(e,a){e(De(t.id))})).catch((function(){return console.log("Oops errors!")}));Promise.resolve(e).then((function(e){"successful"==e.status?(re.a.success({message:"Th\xe0nh c\xf4ng",description:"X\xf3a ch\u1ee9c v\u1ee5 th\xe0nh c\xf4ng"}),w()):re.a.error({message:"L\u1ed7i",description:e.message})}))},onCancel:function(){}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=[{title:"#",render:function(e,t,a){return r.a.createElement("a",{onClick:function(){return N(t)}},a+1)}},{title:"T\xean",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement("a",{onClick:function(){return N(t)}},e)}},{title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},{title:"M\xe3 ch\u1ee9c v\u1ee5",dataIndex:"code",key:"code"},{title:"X\u1ebfp h\u1ea1ng",dataIndex:"ranking",key:"ranking"},{title:"Ng\xe0y t\u1ea1o",dataIndex:"created_at",key:"created_at",render:function(e){return r.a.createElement("p",null,Xe()(e).format("mm:hh DD-MM-YYYY"))}},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(Yt.b,{size:"middle",style:{marginRight:10}},r.a.createElement("a",{onClick:function(){return T(t)}},"S\u1eeda")),r.a.createElement(Yt.b,{size:"middle"},r.a.createElement("a",{onClick:function(){return A(t)}},"X\xf3a")))},width:"10%"}],T=function(e){l(!0),S("update"),O(e.id)},N=function(e){l(!0),S("detail"),O(e.id)};return r.a.createElement(pa,null,r.a.createElement(Ea,{setFilter:s,setVisible:l,filter:o,setMode:S}),r.a.createElement(Qt.a,{rowKey:"id",columns:I,pagination:{total:E.total_count,pageSize:E.page_size,onChange:function(e,t){s(Object(K.a)(Object(K.a)({},o),{},{page_id:e-1,page_size:t}))}},dataSource:h}),r.a.createElement(ga,{mode:x,setMode:S,visible:a,roleId:j,setVisible:l,fetchListRole:w}))};function ba(){var e=Object(d.a)(["\n    .input-box {\n        border-radius: 5px;\n    }\n    .select-box {\n        border-radius: 5px;\n    }\n"]);return ba=function(){return e},e}var va=h.a.div(ba()),ja=(Bt.a.Option,function(e){var t=e.permissionId,a=e.setVisible,l=e.visible,i=e.fetchListPermission,c=e.mode,o=e.setMode,s=Object(n.useState)({}),m=Object(u.a)(s,2),d=m[0],h=m[1],p=Object(n.useState)({}),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(""),b=Object(u.a)(y,2),v=b[0],j=b[1];Object(n.useEffect)((function(){l||h({type:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"})}),[l]),Object(n.useEffect)((function(){j("create"==c?"Th\xeam m\u1edbi quy\u1ec1n":"update"==c?"C\u1eadp nh\u1eadt quy\u1ec1n":"Th\xf4ng tin quy\u1ec1n")}),[c]);var O=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me(t);case 3:"successful"===(a=e.sent).status&&h(a.result),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){t?O():h({})}),[O,h]);var k=function(){var e=Object(ne.a)(ae.a.mark((function e(){var a,n,r,l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},C()){e.next=3;break}return e.abrupt("return");case 3:if(n=x(),r="",!t||""==t){e.next=13;break}return n.id=t,e.next=9,c=n,ge.patch("permission/".concat(c.id),c).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 9:a=e.sent,r="C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!",e.next=17;break;case 13:return e.next=15,Le(n);case 15:a=e.sent,r="T\u1ea1o m\u1edbi th\xe0nh c\xf4ng!";case 17:"successful"===a.status?(i(),re.a.success({message:"Th\xe0nh c\xf4ng",description:r}),S()):(l="",l=a.message&&""!=a.message?a.message:a.result,re.a.error({message:"",description:l}));case 18:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(n.useCallback)((function(){var e=!0;return"undefined"===typeof d.name||""===d.name?(e=!1,E({value:"Vui l\xf2ng nh\u1eadp t\xean!",type:"error",title:"L\u1ed7i"}),e):"undefined"===typeof d.description||""===d.description?(e=!1,E({value:"Vui l\xf2ng nh\u1eadp m\xf4 t\u1ea3!",type:"error",title:"L\u1ed7i"}),e):"undefined"===typeof d.resource||""===d.resource?(e=!1,E({value:"Vui l\xf2ng nh\u1eadp t\xe0i nguy\xean!",type:"error",title:"L\u1ed7i"}),e):e})),x=function(){var e={};return["name","description","resource"].forEach((function(t){d[t]&&""!=d[t]&&(e[t]=d[t])})),e},S=function(){h({}),o(""),a(!1)};return Object(n.useEffect)((function(){f&&""!=f&&("error"==f.type&&re.a.error({message:f.title,description:f.value}),"warning"==f.type&&re.a.warning({message:f.title,description:f.value}),"success"==f.type&&re.a.success({message:f.title,description:f.value}))}),[f]),r.a.createElement(le.a,{visible:l,title:v,onOk:k,onCancel:S,okText:"L\u01b0u",cancelText:"H\u1ee7y"},r.a.createElement(ie.a,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"name",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"T\xean ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",placeholder:"T\xean",value:null===d||void 0===d?void 0:d.name,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{name:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"username",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"M\xf4 t\u1ea3 ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",type:"text",placeholder:"M\xf4 t\u1ea3",value:null===d||void 0===d?void 0:d.description,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{description:e.target.value}))}}))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"permission",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"M\xe3 quy\u1ec1n "),r.a.createElement(ce.a,{disabled:"detail"==c,className:"input-box",type:"text",placeholder:"T\xe0i nguy\xean",value:null===d||void 0===d?void 0:d.resource,onChange:function(e){return h(Object(K.a)(Object(K.a)({},d),{},{resource:e.target.value}))}})),"detail"==c&&r.a.createElement(ie.a.Item,{name:"permission",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"Ng\xe0y t\u1ea1o "),r.a.createElement(oe.a,{disabled:"detail"==c,value:d.created_at?Xe()(null===d||void 0===d?void 0:d.created_at,"YYYY-MM-DD"):"",style:{width:"100%"},format:"YYYY-MM-DD"})))))}),Oa=(Bt.a.Option,ce.a.Search),ka=function(e){var t=e.filter,a=e.setFilter,l=e.setVisible,i=e.setMode;return r.a.createElement(n.Fragment,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:12},"Danh s\xe1ch quy\u1ec1n"),r.a.createElement(yt.a,{flex:"right",span:2,offset:10},r.a.createElement(L.a,{block:!0,type:"primary",onClick:function(){return i("create"),void l(!0)},style:{width:200,float:"right"}},r.a.createElement($t.a,null),"Th\xeam quy\u1ec1n"))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:8},r.a.createElement(Oa,{placeholder:"T\xecm ki\u1ebfm",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{search:e.target.value,page_id:0}))}}))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:8})),r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:2,style:{display:"flex",margin:"0 auto"}},r.a.createElement(L.a,{type:"primary",block:!0,style:{marginBottom:10},onClick:function(){a({page_id:0,page_size:20,search:""})}},"Reset"))))},Ca=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)({page_size:20,page_id:0}),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)([]),f=Object(u.a)(g,2),E=f[0],y=f[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),j=v[0],O=v[1],k=Object(n.useState)(""),C=Object(u.a)(k,2),x=C[0],S=C[1],w=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(o);case 2:"successful"===(t=e.sent).status?(y(t.meta),p(t.result)):(y({page_size:20,page_id:0}),p([]),re.a.error({message:"L\u1ed7i",description:t.message&&""!==t.message?t.message:"C\xf3 l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i!"}));case 4:case"end":return e.stop()}}),e)}))),[o]);Object(n.useEffect)((function(){w()}),[w]),Object(n.useEffect)((function(){a||O("")}),[a]);var A=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.a.confirm({title:"X\xe1c nh\u1eadn?",content:"B\u1ea1n c\xf3 th\u1ef1c s\u1ef1 mu\u1ed1n x\xf3a quy\u1ec1n n\xe0y",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",onOk:function(){var e=new Promise((function(e,a){e(_e(t.id))})).catch((function(){return console.log("Oops errors!")}));Promise.resolve(e).then((function(e){"successful"==e.status?(re.a.success({message:"Th\xe0nh c\xf4ng",description:"X\xf3a quy\u1ec1n th\xe0nh c\xf4ng"}),w()):re.a.error({message:"L\u1ed7i",description:e.message})}))},onCancel:function(){}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=[{title:"#",render:function(e,t,a){return r.a.createElement("a",{onClick:function(){return N(t)}},a+1)}},{title:"T\xean",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement("a",{onClick:function(){return N(t)}},e)}},{title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},{title:"T\xe0i nguy\xean",dataIndex:"resource",key:"resource"},{title:"Ng\xe0y t\u1ea1o",dataIndex:"created_at",key:"created_at",render:function(e){return r.a.createElement("p",null,Xe()(e).format("mm:hh DD-MM-YYYY"))}},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(Yt.b,{size:"middle",style:{marginRight:10}},r.a.createElement("a",{onClick:function(){return T(t)}},"S\u1eeda")),r.a.createElement(Yt.b,{size:"middle"},r.a.createElement("a",{onClick:function(){return A(t)}},"X\xf3a")))},width:"10%"}],T=function(e){l(!0),S("update"),O(e.id)},N=function(e){l(!0),S("detail"),O(e.id)};return r.a.createElement(va,null,r.a.createElement(ka,{setFilter:s,setVisible:l,filter:o,setMode:S}),r.a.createElement(Qt.a,{rowKey:"id",columns:I,pagination:{total:E.total_count,pageSize:E.page_size,onChange:function(e,t){s(Object(K.a)(Object(K.a)({},o),{},{page_id:e-1,page_size:t}))}},dataSource:h}),r.a.createElement(ja,{mode:x,setMode:S,visible:a,permissionId:j,setVisible:l,fetchListPermission:w}))};function xa(){var e=Object(d.a)(["\n    .input-box {\n        border-radius: 5px;\n    }\n    .select-box {\n        border-radius: 5px;\n    }\n"]);return xa=function(){return e},e}var Sa=h.a.div(xa()),wa=Bt.a.Option,Aa=[{name:"Truy c\u1eadp",code:"ACTIVE"},{name:"V\xf4 hi\u1ec7u h\xf3a",code:"INACTIVE"}],Ia=function(e){var t=e.rolePermissionId,a=e.setVisible,l=e.visible,i=e.fetchListRolePermission,c=e.mode,o=e.setMode,s=e.listPermissions,m=e.listRoles,d=Object(n.useState)({}),h=Object(u.a)(d,2),p=h[0],g=h[1],f=Object(n.useState)({}),E=Object(u.a)(f,2),y=E[0],b=E[1],v=Object(n.useState)(""),j=Object(u.a)(v,2),O=j[0],k=j[1];Object(n.useEffect)((function(){l||g({type:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"})}),[l]),Object(n.useEffect)((function(){k("update"==c?"C\u1eadp nh\u1eadt":"Th\xf4ng tin chi ti\u1ebft")}),[c]);var C=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye(t);case 3:"successful"===(a=e.sent).status&&g(a.result),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){t?C():g({})}),[C,g]);var x=function(){var e=Object(ne.a)(ae.a.mark((function e(){var a,n,r,l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},S()){e.next=3;break}return e.abrupt("return");case 3:if(n=A(),r="",!t||""==t){e.next=11;break}return n.id=t,e.next=9,c=n,ge.patch("rolePermission/".concat(c.id),c).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 9:a=e.sent,r="C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!";case 11:"successful"===a.status?(i(),re.a.success({message:"Th\xe0nh c\xf4ng",description:r}),I()):(l="",l=a.message&&""!=a.message?a.message:a.result,re.a.error({message:"",description:l}));case 12:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}(),S=Object(n.useCallback)((function(){var e=!0;return"undefined"===typeof p.access||""===p.access?(e=!1,b({value:"Vui l\xf2ng ch\u1ecdn tr\u1ea1ng th\xe1i truy c\u1eadp!",type:"error",title:"L\u1ed7i"}),e):e})),A=function(){var e={};return p.access&&(e.access=p.access),e},I=function(){g({}),o(""),a(!1)};return Object(n.useEffect)((function(){y&&""!=y&&("error"==y.type&&re.a.error({message:y.title,description:y.value}),"warning"==y.type&&re.a.warning({message:y.title,description:y.value}),"success"==y.type&&re.a.success({message:y.title,description:y.value}))}),[y]),r.a.createElement(le.a,{visible:l,title:O,onOk:x,onCancel:I,okText:"L\u01b0u",cancelText:"H\u1ee7y"},r.a.createElement(ie.a,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"name",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Ch\u1ee9c v\u1ee5 "),r.a.createElement(Bt.a,{disabled:!0,className:"select-box",value:p?p.role_id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{role:e}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%"}},r.a.createElement(wa,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),m&&m.map((function(e,t){return r.a.createElement(wa,{key:t,value:e.id},e.code)})))),r.a.createElement(ie.a.Item,{name:"permission",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"Quy\u1ec1n "),r.a.createElement(Bt.a,{disabled:!0,className:"select-box",value:p?p.permission_id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{permission:e}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%"}},r.a.createElement(wa,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),s&&s.map((function(e,t){return r.a.createElement(wa,{key:t,value:e.id},e.resource)}))))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(ie.a.Item,{name:"status",style:{width:"45%",marginRight:10}},r.a.createElement("label",{htmlFor:""},"Tr\u1ea1ng th\xe1i truy c\u1eadp "),r.a.createElement(Bt.a,{disabled:"detail"==c,className:"select-box",value:null===p||void 0===p?void 0:p.access,onChange:function(e){return g(Object(K.a)(Object(K.a)({},p),{},{access:e}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%"}},Aa.map((function(e,t){return r.a.createElement(wa,{key:t,value:e.code},e.name)})))),"detail"==c&&r.a.createElement(ie.a.Item,{name:"rolePermission",style:{width:"45%"}},r.a.createElement("label",{htmlFor:""},"Ng\xe0y t\u1ea1o "),r.a.createElement(oe.a,{disabled:"detail"==c,value:p.created_at?Xe()(null===p||void 0===p?void 0:p.created_at,"YYYY-MM-DD"):"",style:{width:"100%"},format:"YYYY-MM-DD"})))))},Ta=Bt.a.Option,Na=(ce.a.Search,function(e){var t=e.filter,a=e.setFilter,l=e.listPermissions,i=e.listRoles;return r.a.createElement(n.Fragment,null,r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:12},"Danh s\xe1ch quy\u1ec1n theo ch\u1ee9c n\u0103ng"),r.a.createElement(yt.a,{flex:"right",span:2,offset:10})),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"Ch\u1ee9c v\u1ee5"),r.a.createElement(Bt.a,{className:"select-box",value:t?t.role_id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{role_id:e}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%"}},r.a.createElement(Ta,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),i&&i.map((function(e,t){return r.a.createElement(Ta,{key:t,value:e.id},e.code)})))),r.a.createElement(yt.a,{span:7,style:{display:"flex"}},r.a.createElement("label",{htmlFor:"",style:{width:"20%"}},"Quy\u1ec1n"),r.a.createElement(Bt.a,{className:"select-box",value:t?t.permission_id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",onChange:function(e){return a(Object(K.a)(Object(K.a)({},t),{},{permission_id:e}))},defaultValue:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",style:{width:"100%"}},r.a.createElement(Ta,{key:-1,value:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"},"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),l&&l.map((function(e,t){return r.a.createElement(Ta,{key:t,value:e.id},e.resource)}))))),r.a.createElement(w.a,{gutter:[16,16]},r.a.createElement(yt.a,{span:8})),r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:2,style:{display:"flex",margin:"0 auto"}},r.a.createElement(L.a,{type:"primary",block:!0,style:{marginBottom:10},onClick:function(){a({page_id:0,page_size:20,search:"",role_id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",permission_id:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"})}},"Reset"))))}),Da=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)({page_size:20,page_id:0}),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)([]),f=Object(u.a)(g,2),E=f[0],y=f[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),j=v[0],O=v[1],k=Object(n.useState)(""),C=Object(u.a)(k,2),x=C[0],S=C[1],w=Object(n.useState)([]),A=Object(u.a)(w,2),I=A[0],T=A[1],N=Object(n.useState)([]),D=Object(u.a)(N,2),P=D[0],M=D[1],L=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:t=e.sent,T(t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){L()}),[]);var _=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.get("permission?page_id=-1").then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:t=e.sent,M(t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){_()}),[]);var F=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(o);case 2:"successful"===(t=e.sent).status?(y(t.meta),p(t.result)):(y({page_size:20,page_id:0}),p([]),re.a.error({message:"L\u1ed7i",description:t.message&&""!==t.message?t.message:"C\xf3 l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i!"}));case 4:case"end":return e.stop()}}),e)}))),[o]);Object(n.useEffect)((function(){F()}),[F]),Object(n.useEffect)((function(){a||O("")}),[a]);var R=[{title:"#",render:function(e,t,a){return r.a.createElement("a",{onClick:function(){return Q(t)}},a+1)}},{title:"Ch\u1ee9c v\u1ee5",dataIndex:"role",key:"role",render:function(e){return r.a.createElement("div",null,e?e.code:"")}},{title:"Quy\u1ec1n",dataIndex:"permission",key:"permission",render:function(e){return r.a.createElement("div",null,e?e.resource:"")}},{title:"Truy c\u1eadp",dataIndex:"access",key:"access",render:function(e){return r.a.createElement(Rt.a,{color:"ACTIVE"==e?"green":"purple",key:e},e)}},{title:"Ng\xe0y t\u1ea1o",dataIndex:"created_at",key:"created_at",render:function(e){return r.a.createElement("p",null,Xe()(e).format("mm:hh DD-MM-YYYY"))}},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(Yt.b,{size:"middle",style:{marginRight:10}},r.a.createElement("a",{onClick:function(){return Y(t)}},"S\u1eeda")))},width:"10%"}],Y=function(e){l(!0),S("update"),O(e.id)},Q=function(e){l(!0),S("detail"),O(e.id)};return r.a.createElement(Sa,null,r.a.createElement(Na,{setFilter:s,setVisible:l,filter:o,setMode:S,listPermissions:P,listRoles:I}),r.a.createElement(Qt.a,{rowKey:"id",columns:R,pagination:{total:E.total_count,pageSize:E.page_size,onChange:function(e,t){s(Object(K.a)(Object(K.a)({},o),{},{page_id:e-1,page_size:t}))}},dataSource:h}),r.a.createElement(Ia,{mode:x,setMode:S,visible:a,rolePermissionId:j,setVisible:l,fetchListRolePermission:F,listRoles:I,listPermissions:P}))},Pa=a(60),Ma=a(1217),La=a(1218),_a=a(1219),Fa=a(1220);function Ra(){var e=Object(d.a)(["\n    width: 100%;\n    min-height: 300px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Ra=function(){return e},e}function Ya(){var e=Object(d.a)([""]);return Ya=function(){return e},e}var Qa=h.a.div(Ya()),Ba=h.a.div(Ra());function za(){var e=Object(d.a)(["\n  padding: 16px;\n  background: rgba(0, 0, 0, 0.015);\n  border: 1px solid #e2e8f0;\n  border-radius: 2px;\n  .ant-form-item {\n    display: flex;\n  }\n  .ant-form-item-control-wrapper {\n    flex: 1;\n  }\n"]);return za=function(){return e},e}function Ha(){var e=Object(d.a)(["\n  .ant-table-cell {\n    padding: 8px;\n  }\n"]);return Ha=function(){return e},e}function Ua(){var e=Object(d.a)(["\n  height: ","px;\n"]);return Ua=function(){return e},e}function Va(){var e=Object(d.a)(["\n  font-size: 1.2em;\n  font-weight: 500;\n  color: #000000;\n  margin: 0 0 12px;\n"]);return Va=function(){return e},e}var Ka=h.a.div(Va()),Ga=h.a.div(Ua(),(function(e){return e.height||16})),Za=h.a.div(Ha()),Ja=h.a.div(za()),qa=function(e){return new Date(Xe()(e).valueOf())},Xa=function(e){var t=e.startTime,a=e.endTime,n=e.monitoredZone,r=e.monitoredObjects;if(t&&a){var l=function(e){var t=e.startTime,a=e.endTime;return[Xe()(t,"YYYY-MM-DD HH:mm:ss"),Xe()(a,"YYYY-MM-DD HH:mm:ss")]}({startTime:t,endTime:a});e.timeRange=l,delete e.startTime,delete e.endTime}return n&&(e.monitoredZone=e.monitoredZone._id),r&&(e.monitoredObjects=e.monitoredObjects.map((function(e){return e.content._id}))),e},Wa=function(e){var t=Object(K.a)({},e),a=t.timeRange;if(a){var n=function(e){return{startTime:qa(e[0]),endTime:qa(e[1])}}(a);delete(t=Object(K.a)(Object(K.a)({},t),n)).timeRange}return t},$a=function(e){return Xe()(e).format("YYYY-MM-DD HH:mm:ss")},en=de.a.create({baseURL:"https://flight-hub-api.herokuapp.com/",responseType:"json",timeout:15e3}),tn={createMonitorCampaign:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({method:"POST",url:"/api/monitor-campaigns",data:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getListMonitorCampaigns:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({method:"GET",url:"/api/monitor-campaigns",params:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMonitorCampaign:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({method:"GET",url:"/api/monitor-campaigns/".concat(t)});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateMonitorCampaign:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({method:"PATCH",url:"/api/monitor-campaigns",data:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMonitorCampaign:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({method:"DELETE",url:"/api/monitor-campaigns",data:{_id:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},an=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({method:"POST",url:"/api/labels",data:t});case 2:return a=e.sent,e.abrupt("return",{status:a.data.status,result:a.data.result.otherLabel});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nn=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({method:"GET",url:"/api/labels"});case 2:return t=e.sent,e.abrupt("return",{status:t.data.status,result:t.data.result.labels});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rn=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({method:"PATCH",url:"/api/labels",data:t});case 2:return a=e.sent,e.abrupt("return",{status:a.data.status,result:a.data.result.otherLabel});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ln=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({method:"DELETE",url:"/api/labels",data:{_id:t}});case 2:return a=e.sent,e.abrupt("return",{status:a.data.status});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cn={getDroneAvailable:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de()({method:"GET",url:"http://skyrone.cf:6789/droneState/getAllDroneAvailable",params:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllPath:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de()({method:"GET",url:"http://skyrone.cf:6789/flightPath/getAllPath",params:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},on={getAllPayload:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de()({method:"GET",url:"https://dsd06.herokuapp.com/api/payloadtype",params:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sn=Bt.a.Option,un=oe.a.RangePicker,mn=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),c=Object(u.a)(i,2),s=c[0],m=c[1],d=ie.a.useForm(),h=Object(u.a)(d,1)[0],p=Object(o.g)(),g=Object(o.h)(),f=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,tn.getListMonitorCampaigns(t);case 4:a=e.sent,l(a.data.result.monitorCampaigns),m(!1),e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response||400!==e.t0.response.status){e.next=13;break}return e.abrupt("return");case 13:re.a.error({message:"C\xf3 l\u1ed7i x\u1ea3y ra! Xin th\u1eed l\u1ea1i"});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f()}),[g]);var E=function(e,t){return Object(ne.a)(ae.a.mark((function n(){var r;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,tn.deleteMonitorCampaign(e._id);case 3:(r=Object(Pa.a)(a)).splice(t,1),l(r),re.a.info({message:"X\xf3a th\xe0nh c\xf4ng!"}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),re.a.error({message:"C\xf3 l\u1ed7i x\u1ea3y ra! Xin th\u1eed l\u1ea1i"});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))},y=function(e,t){return function(){var a=e.name;le.a.confirm({title:"C\u1ea3nh b\xe1o",icon:r.a.createElement(Ma.a,null),content:r.a.createElement("span",null,"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a \u0111\u1ee3t gi\xe1m s\xe1t ",r.a.createElement("strong",null,a)," kh\xf4ng?"),okText:"\u0110\u1ed3ng \xfd",cancelText:"H\u1ee7y",onOk:E(e,t)})}},b=[{dataIndex:"_id",title:"M\xe3 \u0111\u1ee3t gi\xe1m s\xe1t",width:"7.5%",align:"center",sorter:function(e,t){return e.id.localeCompare(t.id)}},{dataIndex:"name",title:"T\xean \u0111\u1ee3t gi\xe1m s\xe1t",width:"15%",sorter:function(e,t){return e.name.localeCompare(t.name)}},{dataIndex:"task",title:"Lo\u1ea1i s\u1ef1 c\u1ed1",width:"15%",sorter:function(e,t){return e.name.localeCompare(t.name)}},{dataIndex:"startTime",width:"12.5%",title:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",align:"center",sorter:function(e,t){return Xe()(e.startTime).diff(Xe()(t.startTime))},render:$a},{dataIndex:"endTime",width:"12.5%",title:"Th\u1eddi gian k\u1ebft th\xfac",align:"center",sorter:function(e,t){return Xe()(e.startTime).diff(Xe()(t.startTime))},render:$a},{dataIndex:"monitoredObjects",title:"\u0110\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t",width:"12.5%",sorter:function(e,t){return 1},render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.content,a=t.name,n=t.createdAt;return r.a.createElement("div",{key:n.toString()},a)}))}},{dataIndex:"monitoredZone",title:"Mi\u1ec1n gi\xe1m s\xe1t",width:"12.5%",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e){return e&&r.a.createElement("span",null,e.name)}},{dataIndex:"mechanism",title:"Ch\u1ebf \u0111\u1ed9 \u0111i\u1ec1u khi\u1ec3n",width:"7.5%",align:"center",sorter:function(e,t){return e.mechanism.localeCompare(t.mechanism)},render:function(e){return r.a.createElement("span",null,"auto"===e?"T\u1ef1 \u0111\u1ed9ng":"Th\u1ee7 c\xf4ng")}},{dataIndex:"metadataType",title:"D\u1ea1ng d\u1eef li\u1ec7u",width:"7.5%",align:"center",sorter:function(e,t){return e.metadataType.localeCompare(t.metadataType)},render:function(e){return r.a.createElement("span",null,e===wt.VIDEO?"Video":"\u1ea2nh")}},{dataIndex:"resolution",title:"\u0110\u1ed9 ph\xe2n gi\u1ea3i",width:"7.5%",align:"center",sorter:function(e,t){return e.resolution.localeCompare(t.resolution)}},{key:"actions",title:"H\xe0nh \u0111\u1ed9ng",width:"10%",align:"center",render:function(e,t,a){return r.a.createElement(Yt.b,{size:4},r.a.createElement(L.a,{icon:r.a.createElement(La.a,null),size:"small",onClick:(n=t,function(){var e=n._id;p.push("/flight-hub-monitor-campaigns/".concat(e))})},"S\u1eeda"),r.a.createElement(L.a,{icon:r.a.createElement(_a.a,null),type:"danger",size:"small",onClick:y(t,a)},"X\xf3a"));var n}}];return r.a.createElement(Qa,null,r.a.createElement(Ka,null,"Danh s\xe1ch \u0111\u1ee3t gi\xe1m s\xe1t"),r.a.createElement(w.a,{type:"flex",justify:"end",align:"middle"},r.a.createElement(L.a,{icon:r.a.createElement(Ke.a,null),type:"primary",size:"middle",onClick:function(){p.push("/flight-hub-monitor-campaigns/create")}},"T\u1ea1o \u0111\u1ee3t gi\xe1m s\xe1t")),r.a.createElement(Ga,null),r.a.createElement(Ja,null,r.a.createElement(ie.a,{form:h,layout:"horizontal",labelCol:{span:10},wrapperCol:{span:13},labelAlign:"left",onValuesChange:function(){var e=h.getFieldsValue(),t=Wa(e);f(t)},size:"small"},r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:8},r.a.createElement(ie.a.Item,{name:"id",label:"M\xe3 \u0111\u1ee3t gi\xe1m s\xe1t",rules:[{type:"string"}]},r.a.createElement(ce.a,{placeholder:"VD: MC01"}))),r.a.createElement(yt.a,{span:8},r.a.createElement(ie.a.Item,{name:"name",label:"T\xean \u0111\u1ee3t gi\xe1m s\xe1t",rules:[{type:"string"}]},r.a.createElement(ce.a,{placeholder:"Nh\u1eadp t\xean \u0111\u1ee3t gi\xe1m s\xe1t"}))),r.a.createElement(yt.a,{span:8},r.a.createElement(ie.a.Item,{name:"mechanism",label:"Ch\u1ebf \u0111\u1ed9 \u0111i\u1ec1u khi\u1ec3n"},r.a.createElement(Bt.a,{allowClear:!0,placeholder:"T\u1ef1 \u0111\u1ed9ng/Th\u1ee7 c\xf4ng"},r.a.createElement(sn,{value:St.AUTO},"T\u1ef1 \u0111\u1ed9ng"),r.a.createElement(sn,{value:St.MANUALLY},"Th\u1ee7 c\xf4ng")))),r.a.createElement(yt.a,{span:8},r.a.createElement(ie.a.Item,{name:"metadataType",label:"D\u1ea1ng d\u1eef li\u1ec7u"},r.a.createElement(Bt.a,{allowClear:!0,placeholder:"Video/\u1ea2nh"},r.a.createElement(sn,{value:wt.VIDEO},"Video"),r.a.createElement(sn,{value:wt.PHOTO},"\u1ea2nh")))),r.a.createElement(yt.a,{span:8},r.a.createElement(ie.a.Item,{name:"resolution",label:"\u0110\u1ed9 ph\xe2n gi\u1ea3i"},r.a.createElement(Bt.a,{allowClear:!0,placeholder:"Ch\u1ecdn \u0111\u1ed9 ph\xe2n gi\u1ea3i"},r.a.createElement(sn,{value:At["480p"]},"480p"),r.a.createElement(sn,{value:At["720p"]},"720p"),r.a.createElement(sn,{value:At["1080p"]},"1080p")))),r.a.createElement(yt.a,{span:16},r.a.createElement(ie.a.Item,{name:"timeRange",label:"Th\u1eddi gian",labelCol:{span:5},rules:[{type:"array"}]},r.a.createElement(un,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"})))),r.a.createElement(yt.a,{span:8,offset:16},r.a.createElement(yt.a,{span:13,offset:10},r.a.createElement(w.a,{type:"flex",justify:"end"},r.a.createElement(L.a,{size:"middle",icon:r.a.createElement(Fa.a,null),onClick:function(){h.resetFields()}},"\u0110\u1eb7t l\u1ea1i")))))),r.a.createElement(Ga,null),s?r.a.createElement(Ba,null,r.a.createElement(_.a,null)):r.a.createElement(Za,null,r.a.createElement(Qt.a,{rowKey:"_id",columns:b,dataSource:a,scroll:{x:1560}})))},dn=function(){return r.a.createElement(mn,null)},hn=a(1202);function pn(){var e=Object(d.a)(["\n  margin-bottom: 12px;\n  margin-right: 7.5px;\n"]);return pn=function(){return e},e}function gn(){var e=Object(d.a)(["\n  /* flex: 1; */\n  border: 1px dashed #e9e9e9;\n  border-radius: 2px;\n  background-color: rgba(0, 0, 0, 0.0015);\n  margin-top: 24px;\n  padding: 16px;\n"]);return gn=function(){return e},e}function fn(){var e=Object(d.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return fn=function(){return e},e}var En=h.a.div(fn()),yn=h.a.div(gn()),bn=h.a.div(pn());function vn(){var e=Object(d.a)([""]);return vn=function(){return e},e}var jn=h.a.div(vn()),On=a(1221),kn=oe.a.RangePicker,Cn=function(e){var t=e.nextStep,a=e.data,l=e.handleChangeData,i=ie.a.useForm(),c=Object(u.a)(i,1)[0];Object(n.useEffect)((function(){c.setFieldsValue(a)}),[a,c]);return r.a.createElement(jn,null,r.a.createElement(ie.a,Object.assign({},$n,{form:c,name:"flight-hub-name",onFinish:function(e){l(e),t()},validateMessages:er,initialValues:a}),r.a.createElement(ie.a.Item,{name:"name",label:"T\xean \u0111\u1ee3t gi\xe1m s\xe1t",rules:[{type:"string",required:!0}]},r.a.createElement(ce.a,{placeholder:"VD: \u0110\u1ecdt gi\xe1m s\xe1t r\u1eebng ph\xf2ng h\u1ed9 qu\xfd 1"})),r.a.createElement(ie.a.Item,{name:"task",label:"Lo\u1ea1i gi\xe1m s\xe1t",rules:[{type:"string",required:!0}]},r.a.createElement(Bt.a,{allowClear:!0,placeholder:"Ch\u1ecdn lo\u1ea1i gi\xe1m s\xe1t"},Object.keys(It).map((function(e){return r.a.createElement(Bt.a.Option,{key:It[e],value:It[e]},It[e])})))),r.a.createElement(ie.a.Item,{name:"timeRange",label:"Th\u1eddi gian",rules:[{type:"array",required:!0}]},r.a.createElement(kn,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"})),r.a.createElement(yt.a,{offset:6},r.a.createElement(w.a,null,r.a.createElement(L.a,{icon:r.a.createElement(On.a,null),type:"primary",htmlType:"submit"},"Ti\u1ebfp theo")))))},xn=a(122);function Sn(){var e=Object(d.a)(["\n  width: 100%;\n  min-height: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Sn=function(){return e},e}function wn(){var e=Object(d.a)([""]);return wn=function(){return e},e}var An=h.a.div(wn()),In=h.a.div(Sn()),Tn=a(1222),Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{id:e.id,flightPaths:e.flightPaths,payloads:e.payloads}}))},Dn=function(e){var t=e.nextStep,a=e.prevStep,l=e.handleChangeData,i=e.data,c=Object(n.useState)([]),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(n.useState)([]),h=Object(u.a)(d,2),p=h[0],g=h[1],f=Object(n.useState)([]),E=Object(u.a)(f,2),y=E[0],b=E[1],v=Object(n.useState)([]),j=Object(u.a)(v,2),O=j[0],k=j[1],C=Object(n.useState)([]),x=Object(u.a)(C,2),S=x[0],A=x[1],I=Object(n.useState)(!1),T=Object(u.a)(I,2),N=T[0],D=T[1],M=i.timeRange,F=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,cn.getDroneAvailable(t);case 4:a=e.sent,b(a.data),D(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),re.a.error({message:"C\xf3 l\u1ed7i x\u1ea3y ra! Xin th\u1eed l\u1ea1i."});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,on.getAllPayload(t);case 4:a=e.sent,k(a.data),D(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),re.a.error({message:"C\xf3 l\u1ed7i x\u1ea3y ra! Xin th\u1eed l\u1ea1i."});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,cn.getAllPath(t);case 4:a=e.sent,A(a.data),D(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),re.a.error({message:"C\xf3 l\u1ed7i x\u1ea3y ra! Xin th\u1eed l\u1ea1i."});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=$a(M[0]),t=$a(M[1]);F({timeStart:e,timeEnd:t}),R(),Y()}),[M]);var Q=function(e,t){return function(a){var n=Object(Pa.a)(y);n[t].flightPaths=a,b(n);var r=s.findIndex((function(t){return e.id===t}));if(r>-1){var l=Object(Pa.a)(p);l[r].flightPaths=a,g(l)}}},B=function(e,t){return function(a){var n=Object(Pa.a)(y);n[t].payloads=a,b(n);var r=s.findIndex((function(t){return e.id===t}));if(r>-1){var l=Object(Pa.a)(p);l[r].payloads=a,g(l)}}};Object(n.useEffect)((function(){var e=i.drones,t=void 0===e?[]:e;if(y.length){var a=Object(Pa.a)(y);t.forEach((function(e){var t=a.findIndex((function(t){return t.id===e.id}));-1!==t&&(a[t].payloads=e.payloads,a[t].flightPaths=e.flightPaths)})),console.log("data ",a),b(a)}var n=t.map((function(e){return e.id}));g(t),m(n)}),[i,y.length]);var z=[{dataIndex:"name",title:"T\xean drone",width:"auto"},{dataIndex:"dimensions",title:"K\u1ecbch th\u01b0\u1edbc",width:"15%"},{dataIndex:"color",title:"M\xe0u",width:"15%"},{dataIndex:"brand",title:"Nh\xe0 s\u1ea3n xu\u1ea5t",width:"15%"},{dataIndex:"payloads",title:"Payload",width:"20%",align:"center",editable:!0,render:function(e,t,a){return r.a.createElement(Bt.a,{style:{width:150},mode:"multiple",value:e,onChange:B(t,a),placeholder:"Ch\u1ecdn payloads"},O.map((function(e){var t=e._id,a=e.name;return r.a.createElement(Bt.a.Option,{key:t.toString(),value:t},a)})))}},{dataIndex:"flightPaths",title:"\u0110\u01b0\u1eddng bay",width:"20%",align:"center",editable:!0,render:function(e,t,a){return r.a.createElement(Bt.a,{style:{width:150},value:e,mode:"multiple",onChange:Q(t,a),placeholder:"Ch\u1ecdn \u0111\u01b0\u1eddng bay"},S.map((function(e){var t=e.id,a=e.name;return r.a.createElement(Bt.a.Option,{key:t,value:t},a)})))}}];return r.a.createElement(An,null,r.a.createElement(Ka,null,"Danh s\xe1ch drone s\u1eb5n s\xe0ng t\u1eeb "+Xe()(M[0]).format("YYYY-MM-DD HH:mm:ss")+" \u0111\u1ebfn "+Xe()(M[1]).format("YYYY-MM-DD HH:mm:ss")),r.a.createElement(Ga,null),N?r.a.createElement(In,null,r.a.createElement(_.a,null)):r.a.createElement(Qt.a,{rowKey:"id",rowSelection:{type:"checkbox",onChange:function(e,t){g(t),m(e)},selectedRowKeys:s},columns:z,dataSource:y}),r.a.createElement(w.a,{type:"flex"},r.a.createElement(L.a,{type:"default",icon:r.a.createElement(Tn.a,null),onClick:a},"Quay l\u1ea1i"),"\u2002",r.a.createElement(L.a,{type:"primary",icon:r.a.createElement(On.a,null),onClick:function(){var e=Object(Pa.a)(p);if(console.log({drones:e}),e.length){var a,n=Object(xn.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;console.log("drrone : ",r);var i=r.payloads,c=r.flightPaths;if(!i||!i.length)return void P.b.warning("B\u1ea1n ch\u01b0a ch\u1ecdn payloads \u0111\xednh k\xe8m drone!");if(!c||!c.length)return void P.b.warning("B\u1ea1n ch\u01b0a ch\u1ecdn \u0111\u01b0\u1eddng bay cho drone!")}}catch(o){n.e(o)}finally{n.f()}l({drones:Nn(e)}),t()}else P.b.warning("Nh\xf3m drones tham gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!")}},"Ti\u1ebfp theo")))};function Pn(){var e=Object(d.a)([""]);return Pn=function(){return e},e}var Mn=h.a.div(Pn()),Ln=a(28),_n=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")).trim()).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," ")).replace(/ + /g," ")},Fn=a(1223),Rn=a(16),Yn=ce.a.Search,Qn=Object(Ln.withScriptjs)(Object(Ln.withGoogleMap)((function(e){e.onChangeLocation;var t=e.onChangeMonitoredZone,a=e.monitoredZoneInit,l=Object(n.useState)(null),i=Object(u.a)(l,2),c=i[0],o=i[1],s=Object(n.useState)(null),m=Object(u.a)(s,2),d=m[0],h=m[1],p=Object(n.useState)(null),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(null),b=Object(u.a)(y,2),v=b[0],j=b[1],O=Object(n.useState)(null),k=Object(u.a)(O,2),C=k[0],x=k[1],S=Object(n.useState)(""),w=Object(u.a)(S,2),A=w[0],I=w[1],T=Object(n.useState)({lat:21.017374,lng:105.859521}),N=Object(u.a)(T,2),D=N[0],P=N[1];Object(n.useEffect)((function(){M()}),[]);var M=function(){var e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn({method:"GET",url:"https://monitoredzoneserver.herokuapp.com/monitoredzone"}).then((function(e){if(e.data&&(h(e.data.content.zone),o(e.data.content.zone),e.data.content.zone&&P({lat:parseFloat(e.data.content.zone[0].startPoint.latitude),lng:parseFloat(e.data.content.zone[0].startPoint.longitude)}),a)){var t=e.data.content.zone.find((function(e){return e._id===a}));t&&(x({lat:(t.startPoint.latitude+t.endPoint.latitude)/2,lng:(t.startPoint.longitude+t.endPoint.longitude)/2}),E(t)),j(a)}})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e,a){a.preventDefault(),e?(t(e._id),I(e.code+" - "+e.name),j(e._id)):(t(void 0),I(""),j(void 0))};return r.a.createElement(Ln.GoogleMap,{defaultZoom:12,defaultCenter:D},r.a.createElement(Yn,{placeholder:"Nh\u1eadp v\xe0o mi\u1ec1n gi\xe1m s\xe1t",onChange:function(e){I(e.target.value)},onSearch:function(e){var t=c.filter((function(t){var a=_n(t.name),n=_n(e);return!!a.includes(n)&&t}));h(t)},enterButton:!0,style:{position:"absolute",top:"10px",left:"10px",width:250},value:A}),d&&d.map((function(e){return r.a.createElement(Ln.Rectangle,{key:e._id,defaultBounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(e.startPoint.latitude,e.startPoint.longitude),new window.google.maps.LatLng(e.endPoint.latitude,e.endPoint.longitude)),onClick:function(t){return function(e,t){x({lat:t.latLng.lat(),lng:t.latLng.lng()}),E(e)}(e,t)},options:v===e._id?{strokeColor:"#d34052",fillColor:"#d34052",strokeOpacity:"0.5",strokeWeight:"2"}:{strokeColor:"#d34052",fillColor:"#70b8fb",strokeOpacity:"0.5",strokeWeight:"2"}})})),f&&r.a.createElement(Ln.InfoWindow,{position:{lat:C.lat,lng:C.lng},onCloseClick:function(){E(null)}},r.a.createElement("div",null,r.a.createElement("h3",null,f.name),r.a.createElement("div",null,"M\xe3 mi\u1ec1n g/s: ",f.code),r.a.createElement("div",null,"\u0110\u1ed9 cao an to\xe0n: \u2002",r.a.createElement("span",{style:{color:"red"}},f.minHeight),"-",r.a.createElement("span",{style:{color:"red"}},f.maxHeight),"(m)"),r.a.createElement("div",{style:{marginTop:"10px",width:"100%",display:"flex",justifyContent:"center"}},f._id===v?r.a.createElement("button",{onClick:function(e){return L("",e)}},r.a.createElement(Fn.a,null)," \u2002",r.a.createElement("a",null,"B\u1ecf ch\u1ecdn mi\u1ec1n g/s n\xe0y")):r.a.createElement("button",{onClick:function(e){return L(f,e)}},r.a.createElement(Fn.a,null)," \u2002",r.a.createElement("a",null,"Ch\u1ecdn mi\u1ec1n g/s n\xe0y"))))))}))),Bn=a(1224),zn=a(16),Hn=Bt.a.Option,Un=function(e){var t=e.nextStep,a=e.prevStep,l=e.data,i=e.handleChangeData,c=e.monitoredObjects,o=ie.a.useForm(),s=Object(u.a)(o,1)[0],m=Object(n.useState)([]),d=Object(u.a)(m,2),h=d[0],p=d[1];Object(n.useEffect)((function(){l&&l.monitoredZone&&g(l.monitoredZone)}),[l]);var g=function(e){zn({method:"GET",url:"https://dsd05-monitored-object.herokuapp.com/monitored-object/get-object-by-zone",params:{monitoredZone:e}}).then((function(e){e.data&&p(e.data.content)})).catch((function(e){}))};Object(n.useEffect)((function(){s.setFieldsValue(l)}),[l,s]);return r.a.createElement(Mn,null,r.a.createElement(ie.a,Object.assign({},$n,{form:s,name:"flight-hub-object",onFinish:function(e){i(e),t()},validateMessages:er,initialValues:l}),r.a.createElement(ie.a.Item,{name:"monitoredZone",label:"Mi\u1ec1n gi\xe1m s\xe1t",rules:[{type:"string",required:!0}]},r.a.createElement(Qn,{monitoredObjects:c,googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCV09KQtrmzDnyXYeC_UzB-HAwMKytXRpE",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),onChangeMonitoredZone:function(e){var t=l||{};t.monitoredZone=e,t.monitoredObject=[],s.setFieldsValue(t),g([e])},monitoredZoneInit:l?l.monitoredZone:void 0})),r.a.createElement(ie.a.Item,{name:"monitoredObjects",label:"\u0110\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t",rules:[{type:"array",required:!0}]},r.a.createElement(Bt.a,{mode:"multiple",showSearch:!0,placeholder:"Ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t"},h.map((function(e){return r.a.createElement(Hn,{key:e._id,value:e._id},e.name)})))),r.a.createElement(yt.a,{offset:6},r.a.createElement(w.a,{type:"flex"},r.a.createElement(L.a,{type:"default",icon:r.a.createElement(Tn.a,null),onClick:a},"Quay l\u1ea1i"),"\u2002",r.a.createElement(L.a,{type:"primary",icon:r.a.createElement(Bn.a,null),htmlType:"submit"},"Ti\u1ebfp theo")))))};function Vn(){var e=Object(d.a)([""]);return Vn=function(){return e},e}var Kn=h.a.div(Vn()),Gn=Bt.a.Option,Zn=function(e){var t=e.prevStep,a=e.nextStep,l=e.data,i=e.handleChangeData,c=ie.a.useForm(),o=Object(u.a)(c,1)[0];Object(n.useEffect)((function(){o.setFieldsValue(l)}),[l,o]);return r.a.createElement(Kn,null,r.a.createElement(ie.a,Object.assign({},$n,{form:o,name:"flight-hub-storage",onFinish:function(e){i(e),a()},validateMessages:er}),r.a.createElement(ie.a.Item,{name:"mechanism",label:"C\u01a1 ch\u1ebf thu th\u1eadp",rules:[{type:"string",required:!0}]},r.a.createElement(Bt.a,{showSearch:!0,placeholder:"Ch\u1ecdn c\u01a1 ch\u1ebf thu th\u1eadp"},r.a.createElement(Gn,{value:St.AUTO},"T\u1ef1 \u0111\u1ed9ng"),r.a.createElement(Gn,{value:St.MANUALLY},"Th\u1ee7 c\xf4ng"))),r.a.createElement(ie.a.Item,{name:"metadataType",label:"D\u1ea1ng l\u01b0u tr\u1eef",rules:[{type:"string",required:!0}]},r.a.createElement(Bt.a,{showSearch:!0,allowClear:!0,placeholder:"Video/\u1ea2nh"},r.a.createElement(Gn,{value:wt.VIDEO},"Video"),r.a.createElement(Gn,{value:wt.PHOTO},"\u1ea2nh"))),r.a.createElement(ie.a.Item,{name:"resolution",label:"\u0110\u1ed9 ph\xe2n gi\u1ea3i",rules:[{type:"string",required:!0}]},r.a.createElement(Bt.a,{showSearch:!0,placeholder:"Ch\u1ecdn \u0111\u1ed9 ph\xe2n gi\u1ea3i"},r.a.createElement(Gn,{value:At["480p"]},"480p"),r.a.createElement(Gn,{value:At["720p"]},"720p"),r.a.createElement(Gn,{value:At["1080p"]},"1080p"))),r.a.createElement(yt.a,{offset:6},r.a.createElement(w.a,null,r.a.createElement(L.a,{type:"default",icon:r.a.createElement(Tn.a,null),onClick:t},"Quay l\u1ea1i"),"\u2002",r.a.createElement(L.a,{type:"primary",icon:r.a.createElement(On.a,null),htmlType:"submit"},"Ti\u1ebfp theo")))))};function Jn(){var e=Object(d.a)([""]);return Jn=function(){return e},e}var qn=h.a.div(Jn()),Xn=ce.a.TextArea,Wn=[{title:"B\u01b0\u1edbc 1",description:"T\xean \u0111\u1ee3t gi\xe1m s\xe1t",content:Cn},{title:"B\u01b0\u1edbc 2",description:"Ch\u1ecdn d\u1ea1nh s\xe1ch drone tham gia",content:Dn},{title:"B\u01b0\u1edbc 3",description:"Ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng v\xe0 mi\u1ec1n gi\xe1m s\xe1t",content:Un},{title:"B\u01b0\u1edbc 4",description:"C\u1ea5u h\xecnh l\u01b0u tr\u1eef",content:Zn},{title:"B\u01b0\u1edbc 5",description:"Ch\u1ecdn nh\xe3n \u0111\xednh k\xe8m",content:function(e){var t=e.prevStep,a=e.data,l=e.handleChangeData,i=e.handleSubmit,c=Object(n.useState)([]),o=Object(u.a)(c,2),s=o[0],m=o[1],d=ie.a.useForm(),h=Object(u.a)(d,1)[0];Object(n.useEffect)((function(){h.setFieldsValue(a)}),[a,h]),Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nn();case 3:if((t=e.sent)&&t.status&&t.result&&Array.isArray(t.result)){e.next=6;break}throw new Error("M\xe1y ch\u1ee7 l\u1ed7i");case 6:m(t.result),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),re.a.error({message:"M\xe1y ch\u1ee7 l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(e){return Object(ne.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(e);case 2:case"end":return t.stop()}}),t)})))};return r.a.createElement(qn,null,r.a.createElement(ie.a,Object.assign({},$n,{form:h,name:"flight-hub-create",onFinish:function(e){l(e);var t=Object(K.a)(Object(K.a)({},a),e);!function(e){var t=e.name;le.a.confirm({title:"X\xe1c nh\u1eadn",icon:r.a.createElement(Ma.a,null),content:r.a.createElement("span",null,"B\u1ea1n c\xf3 mu\u1ed1n ",a.description?"s\u1eeda":"t\u1ea1o"," \u0111\u1ee3t gi\xe1m s\xe1t"," ",r.a.createElement("strong",null,t),"?"),okText:"\u0110\u1ed3ng \xfd",cancelText:"H\u1ee7y",onOk:p(e)})}(Wa(t))},validateMessages:er}),r.a.createElement(ie.a.Item,{name:"labels",label:"Nh\xe3n \u0111\xednh k\xe8m",rules:[{type:"array",required:!1}]},r.a.createElement(Bt.a,{mode:"multiple",allowClear:!0,placeholder:"Ch\u1ecdn nh\xe3n \u0111\xednh k\xe8m"},s.map((function(e){var t=e._id,a=e.name;return r.a.createElement(Bt.a.Option,{key:t,value:t},a)})))),r.a.createElement(ie.a.Item,{name:"description",label:"Ghi ch\xfa",rules:[{type:"string",required:!1}]},r.a.createElement(Xn,{placeholder:"\u0110\u1ec3 l\u1ea1i l\u1eddi nh\u1eafn...",autoSize:{minRows:2,maxRows:6}})),r.a.createElement(yt.a,{offset:6},r.a.createElement(w.a,null,r.a.createElement(L.a,{type:"default",icon:r.a.createElement(Tn.a,null),onClick:t},"Quay l\u1ea1i"),"\u2002",r.a.createElement(L.a,{type:"primary",icon:r.a.createElement(Bn.a,null),htmlType:"submit"},"L\u01b0u")))))}}],$n={layout:"horizontal",labelCol:{offset:2,span:4},wrapperCol:{span:16},labelAlign:"left"},er={required:"'${label}' kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"},tr=a(1225),ar=hn.a.Step,nr=function(e){var t=e.initialData,a=e.title,l=e.handleSubmit,i=Object(o.g)(),c=r.a.useState(0),s=Object(u.a)(c,2),m=s[0],d=s[1],h=Object(n.useState)({}),p=Object(u.a)(h,2),g=p[0],f=p[1];Object(n.useEffect)((function(){f(t)}),[t]);var E=function(){m!==Object.keys(Wn).length-1&&d(m+1)},y=function(){0!==m&&d(m-1)},b=function(e){f(Object(K.a)(Object(K.a)({},g),e))};return r.a.createElement(En,null,r.a.createElement(w.a,{type:"flex",align:"middle"},r.a.createElement(bn,null,r.a.createElement(tr.a,{size:32,onClick:function(){i.goBack()}})),r.a.createElement(Ka,null,a)),r.a.createElement(hn.a,{current:m},Wn.map((function(e){var t=e.title,a=e.description;return r.a.createElement(ar,{key:t,title:t,description:a})}))),r.a.createElement(yn,null,function(){var e=Wn[m].content;return r.a.createElement(e,{nextStep:E,prevStep:y,data:g,handleSubmit:l,handleChangeData:b})}()))},rr=function(){var e=Object(o.g)(),t=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tn.createMonitorCampaign(a);case 3:re.a.success({message:"T\u1ea1o th\xe0nh c\xf4ng!"}),e.goBack(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),re.a.error({message:"C\xf3 l\u1ed7i x\u1ea3y ra! Xin th\u1eed l\u1ea1i"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(nr,{title:"T\u1ea1o \u0111\u1ee3t gi\xe1m s\xe1t",handleSubmit:t})},lr=function(){return r.a.createElement(rr,null)},ir=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(o.i)(),c=Object(o.g)();Object(n.useEffect)((function(){var e=i.id;(function(){var t=Object(ne.a)(ae.a.mark((function t(){var a;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tn.getMonitorCampaign(e);case 3:a=t.sent,console.log("resp ",a),l(a.data.result.monitorCampaign),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),re.a.error({message:"C\xf3 l\u1ed7i x\u1ea3y ra! Xin th\u1eed l\u1ea1i"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[i]);var s=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=i.id,n=Object(K.a)({_id:a},t),e.next=5,tn.updateMonitorCampaign(n);case 5:re.a.success({message:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"}),c.goBack(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),re.a.error({message:"C\xf3 l\u1ed7i x\u1ea3y ra! Xin th\u1eed l\u1ea1i"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(nr,{initialData:Xa(a),title:"S\u1eeda \u0111\u1ee3t gi\xe1m s\xe1t",handleSubmit:s})},cr=function(){return r.a.createElement(ir,null)};function or(){var e=Object(d.a)(["\n  margin-top: 20px;\n"]);return or=function(){return e},e}function sr(){var e=Object(d.a)(["\n  display: block;\n"]);return sr=function(){return e},e}var ur=h.a.div(sr()),mr=h.a.div(or()),dr={labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal"},hr={required:'"${label}" kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!',types:{email:'"${label}" kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng!',number:'"${label}" ph\u1ea3i l\xe0 s\u1ed1!'},number:{range:'"${label}" ph\u1ea3i n\u1eb1m trong \u0111o\u1ea1n ${min} \u0111\u1ebfn ${max}'}},pr={},gr=function(e){var t=e.visible,a=e.onCancel,l=e.title,i=e.onOk,c=e.okText,o=void 0===c?"OK":c,s=e.cancelText,m=void 0===s?"H\u1ee7y":s,d=e.initialValues,h=void 0===d?pr:d,p=e.isDetails,g=void 0!==p&&p,f=ie.a.useForm(),E=Object(u.a)(f,1)[0];Object(n.useEffect)((function(){E.resetFields(),E.setFieldsValue(h)}),[h,E]);return r.a.createElement(le.a,{width:"50vw",title:l,visible:t,onCancel:a,footer:!1},r.a.createElement(ie.a,Object.assign({},dr,{form:E,name:"labelForm",validateMessages:hr,onFinish:function(e){i(e),E.resetFields()},initialValues:h,scrollToFirstError:!0,className:"label-form"}),r.a.createElement(ie.a.Item,{name:"name",label:"T\xean nh\xe3n",rules:[{type:"string",required:!g}]},r.a.createElement(ce.a,{disabled:g,placeholder:"Nh\u1eadp t\xean nh\xe3n"})),r.a.createElement(ie.a.Item,{name:"description",label:"M\xf4 t\u1ea3"},r.a.createElement(ce.a,{disabled:g,placeholder:"Nh\u1eadp m\xf4 t\u1ea3 nh\xe3n"})),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a.Item,{name:"createdAt",label:"Ng\xe0y t\u1ea1o"},r.a.createElement(ce.a,{disabled:!0})),r.a.createElement(ie.a.Item,{name:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt"},r.a.createElement(ce.a,{disabled:!0}))),r.a.createElement(w.a,{type:"flex",justify:"end",align:"middle"},!g&&r.a.createElement(L.a,{htmlType:"button",onClick:a},m),"\u2002",r.a.createElement(L.a,{htmlType:"submit",type:"primary"},o))))},fr=a(351),Er=function(e){var t=e.visible,a=e.hideModal,n=e.addLabel,l=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,r,l,i,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=t.description,t.property,l=Object(fr.omitIsNil)({name:a,description:r,isDefault:!0},{deep:!1}),e.prev=2,e.next=5,an(l);case 5:if((i=e.sent)&&i.status&&i.result){e.next=8;break}throw new Error("M\xe1y ch\u1ee7 l\u1ed7i");case 8:c=i.result,n(c),re.a.success({message:"Th\xeam nh\xe3n th\xe0nh c\xf4ng"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),re.a.error({message:"M\xe1y ch\u1ee7 l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau"});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(gr,{title:"Th\xeam nh\xe3n",okText:"Th\xeam",cancelText:"H\u1ee7y",onOk:l,onCancel:a,visible:t})},yr=function(e){var t=e.visible,a=e.hideModal,n=e.labelDetails,l=e.updateLabel,i=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,r,i,c,o,s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=t.description,i=t.property,c=Object(fr.omitIsNil)({_id:n._id||"",name:a,description:r,property:i},{deep:!1}),e.prev=2,e.next=5,rn(c);case 5:if((o=e.sent)&&o.status&&o.result){e.next=8;break}throw new Error("M\xe1y ch\u1ee7 l\u1ed7i");case 8:s=o.result,l(s),re.a.success({message:"C\u1eadp nh\u1eadt nh\xe3n th\xe0nh c\xf4ng"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),re.a.error({message:"M\xe1y ch\u1ee7 l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau"});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(gr,{title:"C\u1eadp nh\u1eadt nh\xe3n",okText:"C\u1eadp nh\u1eadt",cancelText:"H\u1ee7y",onOk:i,onCancel:a,visible:t,initialValues:n})},br=ce.a.Search,vr=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)(),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)(),f=Object(u.a)(g,2),E=f[0],y=f[1],b=Object(n.useState)(),v=Object(u.a)(b,2),j=v[0],O=v[1],k=Object(n.useState)(!1),C=Object(u.a)(k,2),x=C[0],S=C[1];Object(n.useEffect)((function(){E||function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,nn();case 4:if((t=e.sent)&&t.status&&t.result&&Array.isArray(t.result)){e.next=7;break}throw new Error("M\xe1y ch\u1ee7 l\u1ed7i");case 7:y(t.result),O(t.result),S(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),re.a.error({message:"M\xe1y ch\u1ee7 l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}()()}),[E]);var A=function(){l(!1)},I=function(e){return function(){p(e),s(!0)}},T=function(){s(!1)},N=[{key:"name",dataIndex:"name",title:"T\xean nh\xe3n",width:"15%",sorter:function(e,t){return e.name.localeCompare(t.name)}},{key:"description",dataIndex:"description",title:"M\xf4 t\u1ea3",width:"20%",sorter:function(e,t){return e.description.localeCompare(t.description)}},{key:"createdAt",dataIndex:"createdAt",title:"Ng\xe0y t\u1ea1o",width:"20%",render:$a,sorter:function(e,t){return Xe()(e.startTime).diff(Xe()(t.startTime))}},{key:"updatedAt",dataIndex:"updatedAt",title:"Ng\xe0y c\u1eadp nh\u1eadt",width:"20%",render:$a,sorter:function(e,t){return Xe()(e.startTime).diff(Xe()(t.startTime))}},{key:"actions",title:"H\xe0nh \u0111\u1ed9ng",width:"auto",align:"center",render:function(e,t){return r.a.createElement(w.a,{type:"flex",gutter:[8,8],justify:"center",align:"middle"},r.a.createElement(yt.a,null,r.a.createElement(L.a,{icon:r.a.createElement(La.a,null),size:"small",onClick:I(t)},"C\u1eadp nh\u1eadt")),r.a.createElement(yt.a,null,r.a.createElement(L.a,{icon:r.a.createElement(_a.a,null),danger:!0,size:"small",onClick:function(){return function(e){var t,a=e._id,n=e.name;le.a.confirm({title:"C\u1ea3nh b\xe1o",icon:r.a.createElement(Ma.a,null),content:r.a.createElement("span",null,"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a nh\xe3n ",r.a.createElement("strong",null,n)," kh\xf4ng?"),okText:"X\xf3a",cancelText:"H\u1ee7y",onOk:(t=a,Object(ne.a)(ae.a.mark((function e(){var a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ln(t);case 3:if((a=e.sent)&&a.status){e.next=6;break}throw new Error("M\xe1y ch\u1ee7 l\u1ed7i");case 6:n=E.filter((function(e){var a=e.id;return t!==(void 0===a?"":a)})),y(n),re.a.success({message:"X\xf3a nh\xe3n th\xe0nh c\xf4ng"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),re.a.error({message:"M\xe1y ch\u1ee7 l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))))})}(t)}},"X\xf3a")))}}];return r.a.createElement(ur,null,r.a.createElement(Er,{visible:a,hideModal:A,addLabel:function(e){y([e].concat(Object(Pa.a)(E))),A()}}),r.a.createElement(yr,{visible:o,hideModal:T,labelDetails:h,updateLabel:function(e){var t=e._id,a=E.map((function(a){return a._id===t?e:a}));y(a),T()}}),r.a.createElement("h3",null,"Danh s\xe1ch nh\xe3n"),r.a.createElement(w.a,{type:"flex",justify:"space-between",align:"middle"},r.a.createElement(yt.a,{span:8},r.a.createElement(br,{placeholder:"T\xecm t\xean nh\xe3n, m\xf4 t\u1ea3...",onSearch:function(e){var t=j.filter((function(t){var a=_n(t.name),n=_n(t.description),r=_n(e);return a.includes(r)||n.includes(r)?t:null}));y(t)},enterButton:!0})),r.a.createElement(L.a,{type:"primary",icon:r.a.createElement(Ke.a,null),onClick:function(){l(!0)}},"Th\xeam nh\xe3n")),x?r.a.createElement(_.a,null):r.a.createElement(mr,null,r.a.createElement(Qt.a,{columns:N,dataSource:E})))},jr=function(){return r.a.createElement(vr,null)},Or=a(50),kr=a(78),Cr=a(422),xr=Cr.a.TabPane;Bt.a.Option;function Sr(e){console.log(e)}var wr=Object(kr.compose)(Object(kr.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Ln.withScriptjs,Ln.withGoogleMap)((function(e){return r.a.createElement(Ln.GoogleMap,{defaultZoom:12,defaultCenter:{lat:21.0245,lng:105.84117},onClick:e.onMarkerClick},e.showDomain.map((function(t,a){return r.a.createElement(Ln.Polygon,{path:t,key:a,editable:!0,onClick:e.onMarkerClick,options:{strokeColor:"#00FF00",strokeWeight:.5}})})),r.a.createElement(Ln.Polygon,{path:e.triangleCoords,key:1,editable:!0,options:{strokeColor:"#0000FF",strokeWeight:1}}))})),Ar=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){return Object(Qe.a)(this,a),t.apply(this,arguments)}return Object(Be.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{visibility:this.props.show,width:"80vh"}},r.a.createElement("h1",{style:{fontWeight:"700"}},"Th\xf4ng tin mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement("table",{className:"table table-hover table-responsive table-borderless"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"30vh"}},"M\xe3 mi\u1ec1n gi\xe1m s\xe1t:"),r.a.createElement("td",{style:{width:"40vh"}},this.props.selectedDomain.code)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"30vh"}},"T\xean mi\u1ec1n gi\xe1m s\xe1t:"),r.a.createElement("td",{style:{width:"40vh"}},this.props.selectedDomain.name)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25vh"}},"Chi\u1ec1u cao t\u1ed1i \u0111a:"),r.a.createElement("td",{style:{width:"40vh"}},this.props.selectedDomain.maxHeight)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25vh"}},"Chi\u1ec1u cao t\u1ed1i thi\u1ec3u:"),r.a.createElement("td",{style:{width:"40vh"}},this.props.selectedDomain.minHeight)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25vh"}},"M\xf4 t\u1ea3:"),r.a.createElement("td",{style:{width:"55vh"}},this.props.selectedDomain.description)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25vh"}},"\u0110\u1ed9 \u01b0u ti\xean:"),r.a.createElement("td",{style:{width:"40vh"}},this.props.selectedDomain.priority)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25vh"}},"S\u1ed1 l\u1ea7n \u0111\xe3 x\u1ea3y ra s\u1ef1 c\u1ed1:"),r.a.createElement("td",{style:{width:"40vh"}},this.props.selectedDomain.times)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25vh"}},"M\u1ee9c \u0111\u1ed9 nguy hi\u1ec3m:"),r.a.createElement("td",{style:{width:"40vh"}},this.props.selectedDomain.level))))}}]),a}(r.a.Component),Ir=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).handleMarkerClick=function(e){var t=e.latLng.lat(),a=e.latLng.lng(),r={};if(n.state.listDomain.length>0){var l=0;for(l=0;l<n.state.listDomain.length;l++)if((t-n.state.listDomain[l].startPoint.latitude)*(t-n.state.listDomain[l].endPoint.latitude)<0&&(a-n.state.listDomain[l].startPoint.longitude)*(a-n.state.listDomain[l].endPoint.longitude)<0){r=Object.assign({},n.state.listDomain[l]);break}}n.setState({selectedDomain:r}),n.setState({showDetail:"visible"}),console.log(n.state.selectedDomain.name)},n.onMarkerMouseover=function(){n.setState({showMarkerMouseover:!0}),n.setState({showDetail:"hidden"})},n.handleMouseExit=function(){n.setState({showMarkerMouseover:!1})},n.state={triangleCoords:[],oldarea:{},id:n.props.location.state.id,newarea:{startPoint:{longitude:105.79941430192696,latitude:21.050373019230733},endPoint:{latitude:21.023990392074978,longitude:105.83088096859359},monitoredZone:["5fcf79eda122370017d3ae2b","5fd340adfb276d0017ec7aea"],_id:"5fcf79c4a122370017d3ae2a",name:"Qu\u1eadn Ba \u0110\xecnh, H\xe0 N\u1ed9i",code:"AREA0231",maxHeight:280,minHeight:45,priority:0,level:0,times:0,description:"Day la khu vuc quan Ba Dinh"},showDetail:"hidden",selectedDomain:{},listDomain:[],listDomainToShow:[],openModalshow:!1,showMarkerMouseover:!1,openModalAdd:!1,openModalDelete:!1,pathCoordinates:[]},n._handleChange=n._handleChange.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"componentDidMount",value:function(){this.setArea(this.state.id),setTimeout(300),this.getZoneByArea(this.state.id)}},{key:"diff",value:function(e,t){return 0===Object.keys(e).filter((function(a){return e[a]!==t[a]})).length}},{key:"_handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState((function(e){var n=Object.assign({},e.newarea);return n[t]=a,{newarea:n}}))}},{key:"setStatusModalAdd",value:function(e){this.setState({openModalAdd:e})}},{key:"setStatusModalDelete",value:function(e){this.setState({openModalDelete:e})}},{key:"showDomain",value:function(){if(this.state.newarea.startPoint.latitude&&this.state.newarea.endPoint.latitude){var e=[{lat:this.state.newarea.startPoint.latitude,lng:this.state.newarea.startPoint.longitude},{lat:this.state.newarea.startPoint.latitude,lng:this.state.newarea.endPoint.longitude},{lat:this.state.newarea.endPoint.latitude,lng:this.state.newarea.endPoint.longitude},{lat:this.state.newarea.endPoint.latitude,lng:this.state.newarea.startPoint.longitude}];this.setState({triangleCoords:e})}}},{key:"setArea",value:function(e){var t=this;de.a.get("https://monitoredzoneserver.herokuapp.com/area/areainfo/".concat(e)).then((function(e){var a,n=e.data.content.area;a=Object.assign({},n),t.setState({newarea:a})})).catch((function(e){return console.log(e)}))}},{key:"getZoneByArea",value:function(e){var t=this,a=[],n=this.state.newarea,r=[{lat:n.startPoint.latitude,lng:n.startPoint.longitude},{lat:n.startPoint.latitude,lng:n.endPoint.longitude},{lat:n.endPoint.latitude,lng:n.endPoint.longitude},{lat:n.endPoint.latitude,lng:n.startPoint.longitude}];a.push(r),de.a.get("https://monitoredzoneserver.herokuapp.com/monitoredzone/area/".concat(e)).then((function(e){var n=e.data.content.zone,r=[],l=0;for(l=0;l<n.length;l++){var i=Object.assign({},n[l]);r.push(i);var c=[{lat:i.startPoint.latitude,lng:i.startPoint.longitude},{lat:i.startPoint.latitude,lng:i.endPoint.longitude},{lat:i.endPoint.latitude,lng:i.endPoint.longitude},{lat:i.endPoint.latitude,lng:i.startPoint.longitude}];a.push(c)}t.setState({listDomain:r}),t.setState({listDomainToShow:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(Cr.a,{defaultActiveKey:"1",onChange:Sr},r.a.createElement(xr,{tab:"Th\xf4ng tin khu v\u1ef1c gi\xe1m s\xe1t",key:"1"},r.a.createElement("div",{className:"content"},r.a.createElement("table",{className:"table table-hover table-responsive table-borderless"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"M\xe3 khu v\u1ef1c gi\xe1m s\xe1t:"),r.a.createElement("td",{style:{width:"20%"}},this.state.newarea.code),r.a.createElement("td",{style:{width:"20%",fontWeight:"700"}},"T\xean khu v\u1ef1c gi\xe1m s\xe1t:"),r.a.createElement("td",{style:{width:"20%"}},r.a.createElement(ce.a,{name:"name",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newarea.name,onChange:this._handleChange}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"Chi\u1ec1u cao t\u1ed1i \u0111a:"),r.a.createElement("td",{style:{width:"20%"}},r.a.createElement(ce.a,{name:"maxH",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newarea.maxHeight,onChange:this._handleChange})),r.a.createElement("td",{style:{width:"20%",fontWeight:"700"}},"Chi\u1ec1u cao t\u1ed1i thi\u1ec3u:"),r.a.createElement("td",{style:{width:"20%"}},r.a.createElement(ce.a,{name:"minH",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newarea.minHeight,onChange:this._handleChange}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"M\xf4 t\u1ea3:"),r.a.createElement("td",{colSpan:"3"},r.a.createElement(ce.a,{name:"description",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newarea.description,onChange:this._handleChange}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%",fontWeight:"700"}},"\u0110\u1ed9 \u01b0u ti\xean:"),r.a.createElement("td",{style:{width:"20%"}},r.a.createElement(ce.a,{name:"priority",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newarea.priority,onChange:this._handleChange})),r.a.createElement("td",{style:{width:"20%",fontWeight:"700"}},"S\u1ed1 l\u1ea7n \u0111\xe3 x\u1ea3y ra s\u1ef1 c\u1ed1:"),r.a.createElement("td",{style:{width:"20%"}},this.state.newarea.times)),r.a.createElement("tr",null,r.a.createElement("th",null,"M\u1ee9c \u0111\u1ed9 nguy hi\u1ec3m:"),r.a.createElement("td",{colSpan:"3"},r.a.createElement(ce.a,{name:"level",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newarea.level,onChange:this._handleChange}))))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("span",{style:{width:"80vh",float:"Left"}},r.a.createElement(wr,{onMarkerClick:this.handleMarkerClick,onMarkerMouseover:this.onMarkerMouseover,handleMouseExit:this.handleMouseExit,triangleCoords:this.state.triangleCoords,showDomain:this.state.listDomainToShow,showMarkerMouseover:this.state.showMarkerMouseover})),r.a.createElement("span",{className:"domain",style:{float:"Left",paddingLeft:"5%"}},r.a.createElement(Ar,{selectedDomain:this.state.selectedDomain,show:this.state.showDetail}))),r.a.createElement("div",{className:"action center",style:{clear:"Left"}},r.a.createElement("br",null),r.a.createElement("div",{className:"save"},!this.diff(this.state.oldarea,this.state.newarea)&&r.a.createElement(L.a,{type:"primary"},"L\u01b0u"),this.diff(this.state.oldarea,this.state.newarea)&&r.a.createElement(L.a,{disabled:!0},"L\u01b0u")))),r.a.createElement(xr,{tab:" ",key:"2"})))}}]),a}(r.a.PureComponent),Tr=Object(o.k)(Ir),Nr=a(1226),Dr=Object(kr.compose)(Object(kr.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Ln.withScriptjs,Ln.withGoogleMap)((function(e){return r.a.createElement(Ln.GoogleMap,{defaultZoom:8,defaultCenter:{lat:21.0245,lng:105.84117},onClick:e.onMarkerClick},e.chooseArea.map((function(t,a){return r.a.createElement(Ln.Polygon,{path:t,key:a,editable:!0,onClick:e.onMarkerClick,options:{strokeColor:"#FF0000",strokeWeight:1}})})),r.a.createElement(Ln.Polygon,{path:e.triangleCoords,onClick:e.onMarkerClick,key:1,editable:!0,options:{strokeColor:"#0000FF",strokeWeight:1}}))})),Pr=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).delayedShowMarker=function(){setTimeout((function(){n.setState({isMarkerShown:!0})}),3e3)},n.handleMarkerClick=function(e){var t=e.latLng.lat(),a=e.latLng.lng(),r=n.state.create.startPoint.latitude,l=n.state.create.endPoint.latitude;if(r?l?n.setState((function(e){var n=Object.assign({},e.create);return n.startPoint.latitude=t,n.startPoint.longitude=a,n.endPoint.latitude="",n.endPoint.longitude="",{create:n}})):n.setState((function(e){var n=Object.assign({},e.create);return n.endPoint.latitude=t,n.endPoint.longitude=a,{create:n}})):n.setState((function(e){var n=Object.assign({},e.create);return n.startPoint.latitude=t,n.startPoint.longitude=a,{create:n}})),n.state.create.startPoint.latitude&&n.state.create.endPoint.latitude){var i=[{lat:n.state.create.startPoint.latitude,lng:n.state.create.startPoint.longitude},{lat:n.state.create.startPoint.latitude,lng:n.state.create.endPoint.longitude},{lat:n.state.create.endPoint.latitude,lng:n.state.create.endPoint.longitude},{lat:n.state.create.endPoint.latitude,lng:n.state.create.startPoint.longitude}];n.setState({triangleCoords:i})}n.setState({isMarkerShown:!1}),n.delayedShowMarker()},n.state={triangleCoords:[],isMarkerShown:!1,arrayDelete:[],listArea:[],openModalAdd:!1,columns:[{title:"M\xe3 khu v\u1ef1c",dataIndex:"code",key:"key",render:function(e){return r.a.createElement("a",{onClick:function(){n.editArea(e)}},e)}},{title:"T\xean khu v\u1ef1c",dataIndex:"name",key:"name"},{title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},{title:"S\u1ed1 mi\u1ec1n trong khu v\u1ef1c",key:"total",dataIndex:"total"},{title:"S\u1ed1 l\u1ea7n \u0111\xe3 x\u1ea3y ra s\u1ef1 c\u1ed1",dataIndex:"times",key:"times"},{title:"",render:function(e){return r.a.createElement(L.a,{type:"primary",danger:!0,icon:r.a.createElement(_a.a,null),style:{marginRight:10},onClick:function(){return n.deleteArea(e)}},"X\xf3a")}}],create:{startPoint:{latitude:"",longitude:""},endPoint:{latitude:"",longitude:""},name:"Nui NamDL",code:"namDL",maxHeight:100,minHeight:10,priority:0,level:0,times:0,description:""},loading:!0,chooseArea:[],zoneByArea:[]},n.onChange=n.onChange.bind(Object(Or.a)(n)),n.editArea=n.editArea.bind(Object(Or.a)(n)),n._handleChange=n._handleChange.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"_handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState((function(e){var n=Object.assign({},e.create);return n[t]=a,{create:n}}))}},{key:"setStatusModalAdd",value:function(e){this.setState({openModalAdd:e})}},{key:"getAllArea",value:function(){var e=this;de.a.get("https://monitoredzoneserver.herokuapp.com/area?pageSize=1000").then((function(t){e.setState({loading:!1});var a=t.data.content.monitoredArea,n=[],r=0;for(r=0;r<a.length;r++){var l={code:"",name:"",total:0,_id:"",description:"",times:0};l.code=a[r].code,l.name=a[r].name,l._id=a[r]._id,l.total=a[r].monitoredZone.length,l.description=a[r].description,l.times=a[r].times,n.push(l)}e.setState({listArea:n})})).catch((function(e){return console.log(e)}))}},{key:"createArea",value:function(){var e=this;this.setStatusModalAdd(!1);var t=this.state.create;de.a.post("https://monitoredzoneserver.herokuapp.com/area",t,{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.success&&e.getAllArea(),console.log("ok")})).catch((function(e){return console.log(e)}))}},{key:"deleteArea",value:function(e){var t=this,a=e._id;window.confirm("X\xf3a khu v\u1ef1c n\xe0y : ".concat(e.name,"? "))&&de.a.delete("https://monitoredzoneserver.herokuapp.com/area/".concat(a)).then((function(e){e.data.success&&(t.getAllArea(),console.log("da xoa"))})).catch((function(e){return console.log(e)}))}},{key:"setStatusModalDelete",value:function(e){this.setState({openModalDelete:e})}},{key:"onChange",value:function(e){var t=e.target["data-key"],a=e.target.checked,n=Object(Pa.a)(this.state.arrayDelete);if(a){-1===n.findIndex((function(e){return e===t}))&&(n.push(t),this.setState({arrayDelete:n}))}else{var r=n.findIndex((function(e){return e===t}));-1!==r&&(n.splice(r,1),this.setState({arrayDelete:n}))}}},{key:"editArea",value:function(e){var t=this.state.listArea.find((function(t){return t.code===e}));console.log(typeof t),this.props.history.push({pathname:"/surveillance-area-detail",state:{area:t,id:t._id}})}},{key:"componentDidMount",value:function(){this.getAllArea(),this.delayedShowMarker()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"filter"},r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:6},r.a.createElement(ce.a,{style:{width:250},placeholder:"T\xecm ki\u1ebfm",prefix:r.a.createElement(Nr.a,null)})),r.a.createElement(yt.a,{span:6},r.a.createElement(L.a,{type:"primary",icon:r.a.createElement($t.a,null),onClick:function(){return e.setStatusModalAdd(!0)}},"Th\xeam m\u1edbi"),r.a.createElement(le.a,{title:"Th\xeam m\u1edbi khu v\u1ef1c gi\xe1m s\xe1t",visible:this.state.openModalAdd,onOk:function(){return e.createArea()},onCancel:function(){return e.setStatusModalAdd(!1)},okText:"L\u01b0u",cancelText:"H\u1ee7y",centered:!0},r.a.createElement("table",{className:"table table-hover table-responsive table-borderless"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"M\xe3 khu v\u1ef1c gi\xe1m s\xe1t"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"code",style:{width:200},onChange:this._handleChange,placeholder:"Nh\u1eadp"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"T\xean khu v\u1ef1c gi\xe1m s\xe1t"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"name",style:{width:200},onChange:this._handleChange,placeholder:"Nh\u1eadp"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Chi\u1ec1u cao t\u1ed1i \u0111a"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"maxHeight",style:{width:200},onChange:this._handleChange,placeholder:"Nh\u1eadp"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Chi\u1ec1u cao t\u1ed1i thi\u1ec3u"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"minHeight",style:{width:200},onChange:this._handleChange,placeholder:"Nh\u1eadp"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"\u0110\u1ed9 \u01b0u ti\xean"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"priority",style:{width:200},onChange:this._handleChange,placeholder:"Nh\u1eadp"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"M\xf4 t\u1ea3"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"description",style:{width:200},onChange:this._handleChange,placeholder:"Nh\u1eadp"})))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(Dr,{onMarkerClick:this.handleMarkerClick,triangleCoords:this.state.triangleCoords,chooseArea:this.state.chooseArea})))))),r.a.createElement("br",null),r.a.createElement("div",{className:"content"},this.state.loading?r.a.createElement("div",{style:{"text-align":"center",lineHeight:"30"}},r.a.createElement(Yt.b,{size:"middle"},r.a.createElement(_.a,{tip:"Loading...",size:"large"}))):r.a.createElement(Qt.a,{columns:this.state.columns,dataSource:this.state.listArea,rowKey:"key"})))}}]),a}(r.a.Component),Mr=Object(o.k)(Pr),Lr=Bt.a.Option,_r=Object(kr.compose)(Object(kr.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Ln.withScriptjs,Ln.withGoogleMap)((function(e){return r.a.createElement(Ln.GoogleMap,{defaultZoom:12,defaultCenter:{lat:21.0245,lng:105.84117},onClick:e.onMarkerClick},e.chooseArea.map((function(t,a){return r.a.createElement(Ln.Polygon,{path:t,key:a,editable:!0,onClick:e.onMarkerClick,options:{strokeColor:"#FF0000",strokeWeight:1}})})),r.a.createElement(Ln.Polygon,{path:e.triangleCoords,onClick:e.onMarkerClick,key:1,editable:!0,options:{strokeColor:"#0000FF",strokeWeight:1}}))})),Fr=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).delayedShowMarker=function(){setTimeout((function(){n.setState({isMarkerShown:!0})}),3e3)},n.handleMarkerClick=function(e){var t=e.latLng.lat(),a=e.latLng.lng(),r=n.state.create.data.startPoint.latitude,l=n.state.create.data.endPoint.latitude;if(r?l?n.setState((function(e){var n=Object.assign({},e.create);return n.data.startPoint.latitude=t,n.data.startPoint.longitude=a,n.data.endPoint.latitude="",n.data.endPoint.longitude="",{create:n}})):n.setState((function(e){var n=Object.assign({},e.create);return n.data.endPoint.latitude=t,n.data.endPoint.longitude=a,{create:n}})):n.setState((function(e){var n=Object.assign({},e.create);return n.data.startPoint.latitude=t,n.data.startPoint.longitude=a,{create:n}})),n.state.create.data.startPoint.latitude&&n.state.create.data.endPoint.latitude){var i=[{lat:n.state.create.data.startPoint.latitude,lng:n.state.create.data.startPoint.longitude},{lat:n.state.create.data.startPoint.latitude,lng:n.state.create.data.endPoint.longitude},{lat:n.state.create.data.endPoint.latitude,lng:n.state.create.data.endPoint.longitude},{lat:n.state.create.data.endPoint.latitude,lng:n.state.create.data.startPoint.longitude}];n.setState({triangleCoords:i})}n.setState({isMarkerShown:!1}),n.delayedShowMarker()},n.toggleActive=function(e){return function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,r,l,i,c,o,s,u;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n.setState((function(e){var a=Object.assign({},e.create);return a._id=t,{create:a}})),e.next=4,n.getZonebyArea(t);case 4:if(r=e.sent,(l=n.state.listArea.find((function(e){return e._id===t})))&&(i=[{lat:l.startPoint.latitude,lng:l.startPoint.longitude},{lat:l.startPoint.latitude,lng:l.endPoint.longitude},{lat:l.endPoint.latitude,lng:l.endPoint.longitude},{lat:l.endPoint.latitude,lng:l.startPoint.longitude}],a.push(i)),r.length>0){c=Object(xn.a)(r);try{for(c.s();!(o=c.n()).done;)s=o.value,u=[{lat:s.startPoint.latitude,lng:s.startPoint.longitude},{lat:s.startPoint.latitude,lng:s.endPoint.longitude},{lat:s.endPoint.latitude,lng:s.endPoint.longitude},{lat:s.endPoint.latitude,lng:s.startPoint.longitude}],a.push(u)}catch(m){c.e(m)}finally{c.f()}}n.setState({chooseArea:a});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},n.state={triangleCoords:[],isMarkerShown:!1,arrayDelete:[],listDomain:[],openModalAdd:!1,openModalDelete:!1,columns:[{title:"M\xe3 mi\u1ec1n",render:function(e){return r.a.createElement("a",{onClick:function(){n.editDomain(e._id)}},e.code)}},{title:"T\xean mi\u1ec1n",render:function(e){return r.a.createElement("p",null,e.name)}},{title:"Chi\u1ec1u cao t\u1ed1i thi\u1ec3u",render:function(e){return r.a.createElement("p",null,e.minHeight)}},{title:"Chi\u1ec1u cao t\u1ed1i \u0111a",render:function(e){return r.a.createElement("p",null,e.maxHeight)}},{title:"M\xf4 t\u1ea3",render:function(e){return r.a.createElement("p",null,e.description)}},{title:"Th\u1eddi gian c\u1eadp nh\u1eadt",render:function(e){return r.a.createElement("p",null,e.updatedAt)}},{title:"Khu v\u1ef1c",render:function(e){return r.a.createElement("p",null,n.getNameArea(e.area))}},{title:"",render:function(e){return r.a.createElement(L.a,{type:"primary",danger:!0,icon:r.a.createElement(_a.a,null),style:{marginRight:10},onClick:function(){return n.deleteZone(e)}},"X\xf3a")}}],listArea:[],create:{_id:"",data:{name:"",startPoint:{longitude:"",latitude:""},endPoint:{longitude:"",latitude:""},priority:"",description:"",code:"MGS"+(Math.floor(9e3*Math.random())+1e3),level:1,maxHeight:"",minHeight:""}},loading:!0,chooseArea:[],zoneByArea:[]},n.onChange=n.onChange.bind(Object(Or.a)(n)),n.editDomain=n.editDomain.bind(Object(Or.a)(n)),n._handleChange=n._handleChange.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"_handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState((function(e){var n=Object.assign({},e.create);return n.data[t]=a,{create:n}}))}},{key:"setStatusModalAdd",value:function(e){this.setState({openModalAdd:e})}},{key:"createDomain",value:function(){var e=this;this.setStatusModalAdd(!1);var t=this.state.create;de.a.post("https://monitoredzoneserver.herokuapp.com/monitoredzone/area",t,{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.success&&e.getAllZone(),console.log("1")})).catch((function(e){return console.log(e)}))}},{key:"getAllZone",value:function(){var e=this;de.a.get("https://monitoredzoneserver.herokuapp.com/monitoredzone?pageSize=1000").then((function(t){e.setState({loading:!1});var a=t.data.content.zone;e.setState({listDomain:a})})).catch((function(e){return console.log(e)}))}},{key:"deleteZone",value:function(e){var t=this,a=e._id;window.confirm("B\u1ea1n mu\u1ed1n x\xf3a mi\u1ec1n : ".concat(e.name,"? "))&&de.a.delete("https://monitoredzoneserver.herokuapp.com/monitoredzone/".concat(a)).then((function(e){e.data.success&&t.getAllZone()})).catch((function(e){return console.log(e)}))}},{key:"getArea",value:function(){var e=this;de.a.get("https://monitoredzoneserver.herokuapp.com/area?pageSize=1000").then((function(t){var a=t.data.content.monitoredArea;e.setState({listArea:a})})).catch((function(e){return console.log(e)}))}},{key:"getNameArea",value:function(e){var t=this.state.listArea.find((function(t){return t._id===e}));return t?t.name:e}},{key:"componentDidMount",value:function(){this.delayedShowMarker(),this.getArea(),this.getAllZone()}},{key:"onChange",value:function(e){var t=e.target["data-key"],a=e.target.checked,n=Object(Pa.a)(this.state.arrayDelete);if(a){-1===n.findIndex((function(e){return e===t}))&&(n.push(t),this.setState({arrayDelete:n}))}else{var r=n.findIndex((function(e){return e===t}));-1!==r&&(n.splice(r,1),this.setState({arrayDelete:n}))}}},{key:"editDomain",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=this.state.listDomain.find((function(e){return e._id===t}))).nameArea=this.getNameArea(a.area),a.description=a.description?a.description:"",e.next=5,this.getMonitoredObjectByZone(t);case 5:n=e.sent,r=n.filter((function(e){if(e.lat&&e.lng)return e})),this.props.history.push({pathname:"/surveillance-domain-manage/edit",state:{domain:a,objectByZone:r,id:t}});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMonitoredObjectByZone",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){de.a.get("https://dsd05-monitored-object.herokuapp.com/monitored-object/get-object-by-zone?monitoredZone=".concat(t)).then((function(t){var a=t.data.content;e(a)})).catch((function(e){return console.log(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getZonebyArea",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){de.a.get("https://monitoredzoneserver.herokuapp.com/monitoredzone/area/".concat(t)).then((function(t){var a=t.data.content.zone;e(a)})).catch((function(e){return console.log(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"filter"},r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:4},r.a.createElement(ce.a,{style:{width:150},placeholder:"Search",prefix:r.a.createElement(Nr.a,null)})),r.a.createElement(yt.a,{span:4},r.a.createElement(Bt.a,{placeholder:"\u0110\u1ed9 \u01b0u ti\xean",style:{width:150}},r.a.createElement(Lr,{value:"1"},"Cao "),r.a.createElement(Lr,{value:"2"},"Th\u1ea5p"),r.a.createElement(Lr,{value:"3"},"Trung b\xecnh"))),r.a.createElement(yt.a,{span:5},r.a.createElement(Bt.a,{name:"_id",placeholder:"Khu v\u1ef1c",style:{width:200},onChange:this.toggleActive("Active!")},this.state.listArea.map((function(e){return r.a.createElement(Lr,{value:e._id},e.name)})))),r.a.createElement(yt.a,{span:6},r.a.createElement(L.a,{type:"primary",icon:r.a.createElement($t.a,null),onClick:function(){return e.setStatusModalAdd(!0)}},"Th\xeam m\u1edbi"),r.a.createElement(le.a,{title:"Th\xeam m\u1edbi mi\u1ec1n gi\xe1m s\xe1t",visible:this.state.openModalAdd,onOk:function(){return e.createDomain()},onCancel:function(){return e.setStatusModalAdd(!1)},okText:"L\u01b0u",cancelText:"H\u1ee7y",centered:!0},r.a.createElement("table",{className:"table table-hover table-responsive table-borderless"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Khu v\u1ef1c gi\xe1m s\xe1t"),r.a.createElement("td",null,r.a.createElement(Bt.a,{name:"_id",placeholder:"Khu v\u1ef1c",style:{width:200},onChange:this.toggleActive("Active!")},this.state.listArea.map((function(e){return r.a.createElement(Lr,{value:e._id},e.name)}))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"T\xean mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"name",style:{width:200},placeholder:"Nh\u1eadp t\xean mi\u1ec1n gi\xe1m s\xe1t",onChange:this._handleChange}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"M\xe3 mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"code",style:{width:200},placeholder:"Nh\u1eadp m\xe3 mi\u1ec1n gi\xe1m s\xe1t",value:this.state.create.data.code}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"\u0110\u1ed9 \u01b0u ti\xean"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"priority",style:{width:200},placeholder:"Nh\u1eadp \u0111\u1ed9 \u01b0u ti\xean",onChange:this._handleChange}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Chi\u1ec1u cao t\u1ed1i thi\u1ec3u"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"minHeight",style:{width:200},placeholder:"Nh\u1eadp chi\u1ec1u cao t\u1ed1i thi\u1ec3u",onChange:this._handleChange}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Chi\u1ec1u cao t\u1ed1i \u0111a"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"maxHeight",style:{width:200},placeholder:"Nh\u1eadp chi\u1ec1u cao t\u1ed1i \u0111a",onChange:this._handleChange}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"M\xf4 t\u1ea3"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"description",style:{width:200},placeholder:"Nh\u1eadp m\xf4 t\u1ea3",onChange:this._handleChange})))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(_r,{onMarkerClick:this.handleMarkerClick,triangleCoords:this.state.triangleCoords,chooseArea:this.state.chooseArea})))))),r.a.createElement("br",null),r.a.createElement("div",{className:"content"},this.state.loading?r.a.createElement("div",{style:{"text-align":"center",lineHeight:"30"}},r.a.createElement(Yt.b,{size:"middle"},r.a.createElement(_.a,{tip:"Loading...",size:"large"}))):r.a.createElement(Qt.a,{columns:this.state.columns,dataSource:this.state.listDomain,rowKey:"key"})))}}]),a}(r.a.Component),Rr=Object(o.k)(Fr),Yr=a(81),Qr=(n.Component,Cr.a.TabPane);Bt.a.Option;function Br(e){console.log(e)}var zr=Object(kr.compose)(Object(kr.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Ln.withScriptjs,Ln.withGoogleMap)((function(e){return r.a.createElement(Ln.GoogleMap,{defaultZoom:12,defaultCenter:{lat:21.0245,lng:105.84117},onClick:e.onMarkerClick},r.a.createElement(Ln.Polygon,{path:e.triangleCoords,key:1,editable:!0,options:{strokeColor:"#0000FF",strokeWeight:1}}),e.objectByZone.map((function(t){return r.a.createElement(Ln.Marker,{onClick:e.showDetailMaker,label:t.name,position:{lat:parseFloat(t.lat),lng:parseFloat(t.lng)}})})))})),Hr=Object(kr.compose)(Object(kr.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Ln.withScriptjs,Ln.withGoogleMap)((function(e){var t;return r.a.createElement(Ln.GoogleMap,{key:e.forceUpdate,defaultZoom:8,defaultCenter:{lat:21.0245,lng:105.84117}},r.a.createElement(Ln.Polygon,(t={key:e.forceUpdate,path:e.triangleCoords},Object(Yr.a)(t,"key",1),Object(Yr.a)(t,"editable",!0),Object(Yr.a)(t,"options",{strokeColor:"#0000FF",strokeWeight:1}),t)),r.a.createElement(Ln.Polyline,{path:e.pathCoordinates,geodesic:!0,key:e.forceUpdate,options:{strokeColor:"#ff2527",strokeOpacity:.75,strokeWeight:2,icons:[{offset:"0",repeat:"20px"}]}}),r.a.createElement(Ln.Marker,{position:{lat:parseFloat(e.pathCoordinates[0].lat),lng:parseFloat(e.pathCoordinates[0].lng)}}))})),Ur=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).showDetailMaker=function(e){var t=e.latLng.lat(),a=e.latLng.lng(),r=n.state.objectByZone.find((function(e){return e.lat==t&&e.lng==a})),l=r||{};n.setState({detailMaker:l})},n.setDefault=function(){n.setState({detailMaker:{}})},n.handleMarkerClick=function(e){var t=e.latLng.lat(),a=e.latLng.lng(),r=n.state.newdomain.startPoint.latitude,l=n.state.newdomain.endPoint.latitude;if(r?l?n.setState((function(e){var n=Object.assign({},e.newdomain);return n.startPoint.latitude=t,n.startPoint.longitude=a,n.endPoint.latitude="",n.endPoint.longitude="",{newdomain:n}})):n.setState((function(e){var n=Object.assign({},e.newdomain);return n.endPoint.latitude=t,n.endPoint.longitude=a,{newdomain:n}})):n.setState((function(e){var n=Object.assign({},e.newdomain);return n.startPoint.latitude=t,n.startPoint.longitude=a,{newdomain:n}})),n.state.newdomain.startPoint.latitude&&n.state.newdomain.endPoint.latitude){var i=[{lat:n.state.newdomain.startPoint.latitude,lng:n.state.newdomain.startPoint.longitude},{lat:n.state.newdomain.startPoint.latitude,lng:n.state.newdomain.endPoint.longitude},{lat:n.state.newdomain.endPoint.latitude,lng:n.state.newdomain.endPoint.longitude},{lat:n.state.newdomain.endPoint.latitude,lng:n.state.newdomain.startPoint.longitude}];n.setState({triangleCoords:i})}else{n.setState({triangleCoords:[]})}},n.state={triangleCoords:[],olddomain:Object(K.a)({},n.props.location.state.domain),newdomain:Object(K.a)({},n.props.location.state.domain),id:n.props.location.state.id,objectByZone:n.props.location.state.objectByZone,columnsDrone:[{title:"T\xean \u0111\u01b0\u1eddng bay",dataIndex:"name",key:"name"},{title:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",render:function(e){return r.a.createElement("p",null,Xe.a.unix(e.timeStart/1e3).format("HH:ss"))}},{title:"Th\u1eddi gian k\u1ebft th\xfac",render:function(e){return r.a.createElement("p",null,Xe.a.unix(e.timeEnd/1e3).format("HH:ss"))}},{title:"Chi\u1ec1u cao",key:"heightFlight",dataIndex:"heightFlight"},{title:"",render:function(e){return r.a.createElement(L.a,{type:"primary",style:{marginRight:10},onClick:function(){return n.showDetail(e)}},"Chi ti\u1ebft")}}],detailMaker:{},openModalshow:!1,listDrone:[],openModalAdd:!1,openModalDelete:!1,pathCoordinates:[],forceUpdate:0},n.myRef=r.a.createRef(),n._handleChange=n._handleChange.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"componentDidMount",value:function(){if(this.state.newdomain.startPoint.latitude&&this.state.newdomain.endPoint.latitude){var e=[{lat:this.state.newdomain.startPoint.latitude,lng:this.state.newdomain.startPoint.longitude},{lat:this.state.newdomain.startPoint.latitude,lng:this.state.newdomain.endPoint.longitude},{lat:this.state.newdomain.endPoint.latitude,lng:this.state.newdomain.endPoint.longitude},{lat:this.state.newdomain.endPoint.latitude,lng:this.state.newdomain.startPoint.longitude}];this.setState({triangleCoords:e})}this.getAllBySupervisedArea(this.state.id)}},{key:"showDetail",value:function(e){this.setModalshow(!0);var t=[];if(e.flightPoints.length>0){var a,n=Object(xn.a)(e.flightPoints);try{for(n.s();!(a=n.n()).done;){var r=a.value,l={lat:r.locationLat,lng:r.locationLng};t.push(l)}}catch(c){n.e(c)}finally{n.f()}this.setState({pathCoordinates:t})}var i=this.state.forceUpdate+1;this.setState({forceUpdate:i})}},{key:"setModalshow",value:function(e){this.setState({openModalshow:e}),e||window.location.reload()}},{key:"diff",value:function(e,t){return 0===Object.keys(e).filter((function(a){return e[a]!==t[a]})).length}},{key:"_handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState((function(e){var n=Object.assign({},e.newdomain);return n[t]=a,{newdomain:n}}))}},{key:"setStatusModalAdd",value:function(e){this.setState({openModalAdd:e})}},{key:"setStatusModalDelete",value:function(e){this.setState({openModalDelete:e})}},{key:"save",value:function(){var e=this,t={data:{startPoint:this.state.newdomain.startPoint,endPoint:this.state.newdomain.endPoint,priority:this.state.newdomain.priority,description:this.state.newdomain.description,code:this.state.newdomain.code}},a=this.state.newdomain._id;de.a.put("https://monitoredzoneserver.herokuapp.com/monitoredzone/".concat(a),t,{headers:{"Content-Type":"application/json"}}).then((function(t){e.props.history.push({pathname:"/surveillance-domain-manage"})})).catch((function(e){return console.log(e)}))}},{key:"getAllBySupervisedArea",value:function(e){var t=this;de.a.get("http://skyrone.cf:6789/flightPath/getAllBySupervisedArea/".concat(e)).then((function(e){var a=e.data;t.setState({listDrone:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main"},r.a.createElement(Cr.a,{defaultActiveKey:"1",onChange:Br},r.a.createElement(Qr,{tab:"C\u1ea5u h\xecnh mi\u1ec1n gi\xe1m s\xe1t",key:"1"},r.a.createElement("div",{className:"content"},r.a.createElement("table",{className:"table table-hover table-responsive table-borderless"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Khu v\u1ef1c gi\xe1m s\xe1t"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"key",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newdomain.nameArea,disabled:!0}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"T\xean mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"key",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newdomain.name,disabled:!0}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"M\xe3 mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"code",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newdomain.code,onChange:this._handleChange}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Chi\u1ec1u cao t\u1ed1i \u0111a"),r.a.createElement("td",null,this.state.newdomain.maxHeight," (m\xe9t)")),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Chi\u1ec1u cao t\u1ed1i thi\u1ec3u"),r.a.createElement("td",null,this.state.newdomain.minHeight," (m\xe9t)")),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"S\u1ed1 l\u1ea7n x\u1ea3y ra s\u1ef1 c\u1ed1"),r.a.createElement("td",null,this.state.newdomain.times)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Th\u1eddi gian c\u1eadp nh\u1eadt"),r.a.createElement("td",null,this.state.newdomain.updatedAt)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"\u0110\u1ed9 \u01b0u ti\xean"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"priority",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newdomain.priority,onChange:this._handleChange}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"M\xf4 t\u1ea3"),r.a.createElement("td",null,r.a.createElement(ce.a,{name:"description",style:{width:200},placeholder:"Nh\u1eadp",value:this.state.newdomain.description,onChange:this._handleChange}))))),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"70vh"}},r.a.createElement(zr,{onMarkerClick:this.handleMarkerClick,handleMouseExit:this.handleMouseExit,triangleCoords:this.state.triangleCoords,objectByZone:this.state.objectByZone,showDetailMaker:this.showDetailMaker})),r.a.createElement("br",null),r.a.createElement("div",{className:"action center"},r.a.createElement("div",{className:"save"},!this.diff(this.state.olddomain,this.state.newdomain)&&r.a.createElement(L.a,{type:"primary",onClick:function(){return e.save()}},"L\u01b0u"),this.diff(this.state.olddomain,this.state.newdomain)&&r.a.createElement(L.a,{disabled:!0},"L\u01b0u")))),r.a.createElement(Qr,{tab:"Danh s\xe1ch h\xe0nh tr\xecnh bay",key:"2",id:"list"},r.a.createElement("div",{className:"content"},r.a.createElement(Qt.a,{columns:this.state.columnsDrone,dataSource:this.state.listDrone,rowKey:"key"})))),r.a.createElement(le.a,{title:"Hi\u1ec3n th\u1ecb \u0111\u01b0\u1eddng bay",visible:this.state.openModalshow,onOk:function(){return e.setModalshow(!1)},onCancel:function(){return e.setModalshow(!1)}},r.a.createElement("div",null,r.a.createElement(Hr,{key:this.state.forceUpdate,triangleCoords:this.state.triangleCoords,pathCoordinates:this.state.pathCoordinates,forceUpdate:this.state.forceUpdate})),r.a.createElement("br",null),r.a.createElement("p",null,"Ch\xfa th\xedch"),r.a.createElement("p",{className:"pin"}),r.a.createElement("span",null,"\u0110i\u1ec3m b\u1eaft \u0111\u1ea7u \u0111\u01b0\u1eddng bay")),r.a.createElement(le.a,{title:"Chi ti\u1ebft",visible:Object.keys(this.state.detailMaker).length>0,onOk:function(){return e.setDefault()},onCancel:function(){return e.setDefault()}},r.a.createElement("table",{className:"table table-hover table-responsive table-borderless"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("td",null,this.state.detailMaker.name)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"M\xe3 \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("td",null,this.state.detailMaker.code)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Tr\u1ea1ng th\xe1i"),r.a.createElement("td",null,1==this.state.detailMaker.status?"\u0110ang ho\u1ea1t \u0111\u1ed9ng":"Kh\xf4ng ho\u1ea1t \u0111\u1ed9ng")),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Ng\xe0y c\u1eadp nh\u1eadt"),r.a.createElement("td",null,this.state.detailMaker.updatedAt)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"M\xf4 t\u1ea3"),r.a.createElement("td",null,this.state.detailMaker.description)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Kinh \u0111\u1ed9"),r.a.createElement("td",null,this.state.detailMaker.lng)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"V\u0129 \u0111\u1ed9"),r.a.createElement("td",null,this.state.detailMaker.lat)))))}}]),a}(r.a.PureComponent),Vr=Object(o.k)(Ur);a(1129);function Kr(){var e=Object(n.useState)("home"),t=Object(u.a)(e,2);t[0],t[1];return r.a.createElement("div",null,"dash board")}a(956),a(229);var Gr=a(66),Zr=a.n(Gr),Jr=a(1228),qr=a(1172),Xr=a(1227),Wr="https://distributed-dsd08.herokuapp.com/api",$r=(nt.a,nt.a.Item,nt.a.Item,function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(null),c=Object(u.a)(i,2),s=c[0],m=c[1],d=Object(n.useState)(null),h=Object(u.a)(d,2),p=(h[0],h[1],Object(n.useState)(null)),g=Object(u.a)(p,2),f=(g[0],g[1],Object(n.useState)(!1)),E=Object(u.a)(f,2),y=E[0],b=E[1],v=Object(n.useState)(!0),j=Object(u.a)(v,2),O=j[0],k=j[1],C=Object(n.useState)(!0),x=Object(u.a)(C,2),S=(x[0],x[1]),w=Object(n.useState)(!1),A=Object(u.a)(w,2),T=A[0],N=A[1],D=Object(n.useState)([]),M=Object(u.a)(D,2),F=(M[0],M[1],Object(n.useState)([])),R=Object(u.a)(F,2),Y=R[0],Q=R[1],B=Object(n.useState)([]),z=Object(u.a)(B,2),H=z[0],U=z[1],V=Object(n.useState)(null),K=Object(u.a)(V,2),G=(K[0],K[1]),Z=Object(n.useState)([]),J=Object(u.a)(Z,2),q=(J[0],J[1]),X=Object(n.useState)([]),W=Object(u.a)(X,2),$=W[0],ee=W[1],te=Object(n.useState)(null),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)(!1),se=Object(u.a)(oe,2),ue=se[0],me=se[1],he=(Object(o.h)().pathname,"4c901bcdba9f440a2a7c31c0bcbd78ec"),pe=Object(n.useState)(),ge=Object(u.a)(pe,2),fe=(ge[0],ge[1],Object(n.useState)()),Ee=Object(u.a)(fe,2),ye=(Ee[0],Ee[1],Bt.a.Option);Object(n.useEffect)((function(){Oe(),ke(),be()}),[]);var be=function(){k(!0),de()({method:"get",url:Wr+"/task/incident-listing",headers:{"api-token":he,"project-type":"LUOI_DIEN"}}).then((function(e){var t=[];e.data.map((function(e){var a={id:e._id,name:e.name,type:e.type.name,status:e.status.name,statusCode:e.status.code,level:e.level.name,location:e.location,levelCode:e.level.code,images:e.images,videos:e.videos,description:e.description};t.push(a)})),l(t),k(!1)})).catch((function(e){console.log(e),k(!1)}))},ve=[{title:"T\xean s\u1ef1 c\u1ed1",dataIndex:"name"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",filters:[{text:"In Progress",value:"In Progress"},{text:"Open",value:"Open"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.status.indexOf(e)},render:function(e,t){return r.a.createElement("div",null,0==t.statusCode?r.a.createElement(I.a,{status:"warning",text:t.status}):1==t.statusCode?r.a.createElement(I.a,{status:"processing",text:t.status}):r.a.createElement(I.a,{status:"success",text:t.status}))}},{title:"M\u1ee9c \u0111\u1ed9",dataIndex:"level",filters:[{text:"Normal",value:"Normal"},{text:"Urgency",value:"Urgency"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.level.indexOf(e)}},{title:"\u0110\u1ecba \u0111i\u1ec3m",dataIndex:"location",width:"15%"},{title:"Lo\u1ea1i",dataIndex:"type",filters:[{text:"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng",value:"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng"},{text:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u",value:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u"},{text:"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng",value:"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng"},{text:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n cao th\u1ebf",value:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n cao th\u1ebf"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.type.indexOf(e)}},{title:"M\xf4 t\u1ea3",dataIndex:"description",width:"20%"},{title:"T\xe1c v\u1ee5",key:"operation",width:"10%",render:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("p",null,r.a.createElement(Xr.a,{"data-toggle":"tooltip","data-placement":"top",title:"Xem chi ti\u1ebft",onClick:function(t){b(!0),me(!0),ee([]),je(e.id).then((function(e){var t=[];e.map((function(e){var a="";if(e.task_type){e.employees.map((function(e,t){a+=0==t?e.full_name:", "+e.full_name}));var n={name:e.task_type.name,employees:a,description:e.task_type.description};t.push(n)}})),ee(t),b(!1)})).catch((function(e){b(!1)}))},style:{color:"blue",marginLeft:5}})),r.a.createElement("p",{style:0==e.statusCode?{}:{display:"none"}},r.a.createElement(L.a,{type:"primary",onClick:function(){N(!0),G(null),q([]),re(e.id)}},"Ti\u1ebfn h\xe0nh x\u1eed l\xfd")))}}],je=function(e){return new Promise((function(t,a){de()({method:"get",url:Wr+"/task/detail",headers:{"api-token":he,"project-type":"LUOI_DIEN"},params:{incident_id:e}}).then((function(e){S(!1),t(e.data)})).catch((function(e){S(!1),P.b.error(e.response.data.error.message),a(e)}))}))},Oe=function(){de()({method:"get",url:Wr+"/task/employee-listing",headers:{"api-token":he,"project-type":"LUOI_DIEN"}}).then((function(e){var t=[];e.data.map((function(e){t.push(r.a.createElement(ye,{key:e.id},e.full_name))})),Q(t)})).catch((function(e){console.log(e)}))},ke=function(){de()({method:"get",url:Wr+"/task-type/listing",headers:{"api-token":he,"project-type":"LUOI_DIEN"}}).then((function(e){var t=[];e.data.map((function(e){t.push(r.a.createElement(ye,{key:e.id},e.name))})),U(t)})).catch((function(e){console.log(e)}))},Ce=(r.a.createContext(),[{title:"Lo\u1ea1i c\xf4ng vi\u1ec7c x\u1eed l\xfd",dataIndex:"name"},{title:"Nh\xe2n vi\xean th\u1ef1c hi\u1ec7n",dataIndex:"employees"},{title:"M\xf4 t\u1ea3 c\xf4ng vi\u1ec7c",dataIndex:"description"},{title:"",dataIndex:"operation",render:function(e,t){return t.creatNew?r.a.createElement(qr.a,{title:"Sure to delete?"},r.a.createElement("a",null,"Delete")):null}}]);return r.a.createElement("div",null,r.a.createElement("div",{className:"header",onClick:function(){}},"Danh s\xe1ch c\xf4ng vi\u1ec7c x\u1eed l\xfd s\u1ef1 c\u1ed1"),r.a.createElement("div",null,r.a.createElement(ce.a.Search,{style:{margin:"0 0 10px 0"},placeholder:"Search by...",enterButton:!0,onSearch:function(e){var t=a.filter((function(t){return Object.keys(t).some((function(a){return"incident_id"!==a&&String(t[a]).normalize().toLowerCase().includes(e.toLowerCase())}))}));m(t)}}),r.a.createElement(_.a,{spinning:O,tip:"Loading..."},r.a.createElement(Qt.a,{rowKey:function(e){return e.id},columns:ve,pagination:{defaultPageSize:5},dataSource:null==s?a:s,size:"middle"}))),r.a.createElement(le.a,{title:"Th\xeam c\xf4ng vi\u1ec7c x\u1eed l\xfd",visible:T,onOk:function(){N(!1)},onCancel:function(){N(!1)},footer:null},r.a.createElement(_.a,{spinning:y,tip:"Loading..."},r.a.createElement(ie.a,{name:"dynamic_form_nest_item",onFinish:function(e){b(!0);var t="";e.listNewWorks.map((function(e,a){0==a?t=e.typeWork+","+e.listEmployee.toString():t+=";"+e.typeWork+","+e.listEmployee.toString()})),de()({method:"post",url:Wr+"/task/handler",headers:{"api-token":he,"project-type":"LUOI_DIEN"},data:{incident_id:ne,list:t}}).then((function(e){b(!1),N(!1),be()})).catch((function(e){console.log(e),P.b.error(e.response.data.error.message),b(!1)}))},autoComplete:"off"},r.a.createElement(ie.a.List,{name:"listNewWorks"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(Yt.b,{key:e.key,style:{display:"flex",marginBottom:8},align:"baseline"},r.a.createElement(ie.a.Item,Object.assign({},e,{name:[e.name,"typeWork"],fieldKey:[e.fieldKey,"typeWork"],rules:[{required:!0,message:"Thi\u1ebfu lo\u1ea1i c\xf4ng vi\u1ec7c"}]}),r.a.createElement(Bt.a,{style:{minWidth:200},placeholder:"Lo\u1ea1i c\xf4ng vi\u1ec7c",onChange:function(e){G(e)}},H)),r.a.createElement(ie.a.Item,Object.assign({},e,{name:[e.name,"listEmployee"],fieldKey:[e.fieldKey,"listEmployee"],rules:[{required:!0,message:"Thi\u1ebfu t\xean nh\xe2n vi\xean"}]}),r.a.createElement(Bt.a,{style:{minWidth:200},mode:"multiple",placeholder:"T\xean nh\xe2n vi\xean",onChange:function(e){q(e)}},Y)),r.a.createElement(Jr.a,{onClick:function(){return n(e.name)}}))})),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:r.a.createElement(Ke.a,null)},"Th\xeam c\xf4ng vi\u1ec7c x\u1eed l\xfd m\u1edbi")))})),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Submit"))))),r.a.createElement(le.a,{title:"Chi ti\u1ebft c\xf4ng vi\u1ec7c x\u1eed l\xfd s\u1ef1 c\u1ed1",visible:ue,onCancel:function(){me(!1)},width:"60%",footer:null},r.a.createElement(_.a,{spinning:y,tip:"Loading..."},r.a.createElement(Qt.a,{rowKey:function(e){return e.id},columns:Ce,dataSource:$}))))}),el=(a(957),a(599)),tl=a.n(el),al=a(278),nl=a(1229),rl=a(1230),ll=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(null),c=Object(u.a)(i,2),s=(c[0],c[1],Object(n.useState)(!1)),m=Object(u.a)(s,2),d=m[0],h=m[1],p=Object(n.useState)(!0),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(null),b=Object(u.a)(y,2),v=b[0],j=b[1],O=(Object(o.h)().pathname,{CHAY_RUNG:{id:"222222",name:"S\u1ef1 c\u1ed1  ch\xe1y r\u1eebng"},DE_DIEU:{id:"111111",name:"S\u1ef1 c\u1ed1  \u0111\xea \u0111i\u1ec1u"},CAY_TRONG:{id:"333333",name:"S\u1ef1 c\u1ed1  c\xe2y tr\u1ed3ng"},LUOI_DIEN:{id:"000000",name:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n tr\xean cao"}}),k="4c901bcdba9f440a2a7c31c0bcbd78ec",C=Object(n.useState)(),x=Object(u.a)(C,2),S=(x[0],x[1],Object(n.useState)()),w=Object(u.a)(S,2),A=(w[0],w[1],Object(n.useState)()),I=Object(u.a)(A,2),T=I[0],N=I[1];Object(n.useEffect)((function(){D()}),[]);var D=function(){de()({method:"get",url:Wr+"/report/listing",headers:{"api-token":k,"project-type":"LUOI_DIEN"}}).then((function(e){console.log(e),l(e.data.list),E(!1)})).catch((function(e){console.log(e)}))},P=[{title:"T\xean c\xf4ng vi\u1ec7c",dataIndex:"title"},{title:"M\xe3 c\xf4ng vi\u1ec7c",dataIndex:"task_id",sorter:function(e,t){return t.task_id-e.task_id},sortDirections:["descend"]},{title:"N\u1ed9i dung x\u1eed l\xfd s\u1ef1 c\u1ed1",dataIndex:"content"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",sorter:function(e,t){return t.status.charCodeAt(0)-e.status.charCodeAt(0)},sortDirections:["descend"],render:function(e,t){return"waiting"==t.status?r.a.createElement("div",{style:{flexDirection:"row",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:10,height:10,backgroundColor:"orange",borderRadius:5}}),r.a.createElement("p",{style:{marginLeft:10,fontSize:18,marginTop:10}}," ",t.status)):"accept"==t.status?r.a.createElement("div",{style:{flexDirection:"row",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:10,height:10,backgroundColor:"green",borderRadius:5}}),r.a.createElement("p",{style:{marginLeft:10,fontSize:18,marginTop:10}}," ","\u0110\xe3 ch\u1ea5p nh\u1eadn")):r.a.createElement("div",{style:{flexDirection:"row",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:10,height:10,backgroundColor:"red",borderRadius:5}}),r.a.createElement("p",{style:{marginLeft:10,fontSize:18,marginTop:10}}," ","\u0110\xe3 t\u1eeb ch\u1ed1i"))}},{title:"Lo\u1ea1i s\u1ef1 c\u1ed1",dataIndex:"type",render:function(e,t){return r.a.createElement("p",null,O[t.type].name)},filters:[{text:"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng",value:"CHAY_RUNG"},{text:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u",value:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u"},{text:"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng",value:"CAY_TRONG"},{text:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n tr\xean cao",value:"LUOI_DIEN"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.type.indexOf(e)}},{title:"T\xe1c v\u1ee5",key:"operation",render:function(e,t){return"waiting"==t.status?r.a.createElement("div",null,r.a.createElement(Xr.a,{"data-toggle":"tooltip","data-placement":"top",title:"Xem chi ti\u1ebft",onClick:function(e){M(t.image)},style:{color:"blue",marginLeft:5,fontSize:22}}),r.a.createElement(nl.a,{"data-toggle":"tooltip","data-placement":"top",title:"Ch\u1ea5p nh\u1eadn b\xe1o c\xe1o",onClick:function(e){L(t)},style:{color:"green",marginLeft:15,fontSize:22}}),r.a.createElement(rl.a,{"data-toggle":"tooltip","data-placement":"top",title:"T\u1eeb ch\u1ed1i b\xe1o c\xe1o",onClick:function(e){F(t)},style:{color:"red",marginLeft:15,fontSize:22}})):r.a.createElement("div",null,r.a.createElement(Xr.a,{"data-toggle":"tooltip","data-placement":"top",title:"Xem chi ti\u1ebft",onClick:function(e){M(t.image)},style:{color:"blue",marginLeft:5,fontSize:22}}))}}],M=function(e){N(e),h(!0)},L=function(e){Object(al.confirmAlert)({title:"Ch\u1ea5p nh\u1eadn b\xe1o c\xe1o",message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n ch\u1ea5p nh\u1eadn b\xe1o c\xe1o?",buttons:[{label:"Yes",onClick:function(){de()({method:"post",url:Wr+"/report/accept?id=".concat(e.id),headers:{"api-token":k,"project-type":"LUOI_DIEN"}}).then((function(e){console.log(e),E(!0),D()})).catch((function(e){console.log("error n\xe8",e)}))}},{label:"No",onClick:function(){}}]})},F=function(e){Object(al.confirmAlert)({title:"T\u1eeb ch\u1ed1i b\xe1o c\xe1o",message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n t\u1eeb ch\u1ed1i b\xe1o c\xe1o?",buttons:[{label:"Yes",onClick:function(){de()({method:"post",url:Wr+"/report/reject?id=".concat(e.id),headers:{"api-token":k,"project-type":"LUOI_DIEN"}}).then((function(e){console.log(e),E(!0),D()})).catch((function(e){console.log("error n\xe8",e)}))}},{label:"No",onClick:function(){}}]})};return r.a.createElement("div",null,r.a.createElement("div",{className:"header",onClick:function(){}},"Danh s\xe1ch b\xe1o c\xe1o k\u1ebft qu\u1ea3 x\u1eed l\xfd s\u1ef1 c\u1ed1"),r.a.createElement(ce.a.Search,{style:{margin:"0 0 10px 0"},placeholder:"Search by...",enterButton:!0,onSearch:function(e){var t=a.filter((function(t){return Object.keys(t).some((function(a){return"incident_id"!==a&&String(t[a]).normalize().toLowerCase().includes(e.toLowerCase())}))}));j(t)}}),r.a.createElement("div",null,r.a.createElement(_.a,{spinning:f,tip:"Loading..."},r.a.createElement(Qt.a,{rowKey:function(e){return e.id},columns:P,dataSource:null==v?a:v,size:"middle"}))),r.a.createElement(le.a,{title:null,visible:d,onOk:function(){N(""),h(!1)},onCancel:function(){N(""),h(!1)},footer:null,width:"fit-content"},r.a.createElement("img",{width:"100%",height:"100%",src:T}),r.a.createElement(tl.a,{url:T})))},il=(a(614),a(975),a(976),function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=(t[0],t[1],Object(n.useState)(null)),l=Object(u.a)(a,2),i=(l[0],l[1],Object(n.useState)(!1)),c=Object(u.a)(i,2),s=c[0],m=(c[1],Object(n.useState)(!1)),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)(null),f=Object(u.a)(g,2),E=f[0],y=f[1],b=Object(n.useState)(!0),v=Object(u.a)(b,2),j=v[0],O=v[1],k=(Object(o.h)().pathname,Object(n.useState)([])),C=Object(u.a)(k,2),x=C[0],S=C[1],w=Object(n.useState)(),A=Object(u.a)(w,2),I=(A[0],A[1],Object(n.useState)()),T=Object(u.a)(I,2);T[0],T[1];Object(n.useEffect)((function(){de()({method:"get",url:Wr+"/employee/listing",headers:{"api-token":"4c901bcdba9f440a2a7c31c0bcbd78ec","project-type":"LUOI_DIEN"}}).then((function(e){console.log(e),O(!1),console.log(e.data.list),S(e.data.list)})).catch((function(e){console.log(e)}))}),[]);var N=[{title:"M\xe3 nh\xe2n vi\xean",dataIndex:"id",render:function(e,t){return r.a.createElement("p",null,t.employee.id)},sorter:function(e,t){return t.employee.id-e.employee.id},sortDirections:["descend"]},{title:"T\xean nh\xe2n vi\xean",dataIndex:"full_name",render:function(e,t){return r.a.createElement("p",null,t.employee.full_name)},sorter:function(e,t){return t.employee.full_name.charCodeAt(0)-e.employee.full_name.charCodeAt(0)},sortDirections:["descend"]},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"phone",render:function(e,t){return r.a.createElement("p",null,t.employee.phone)}},{title:"Email",dataIndex:"email",render:function(e,t){return r.a.createElement("p",null,t.employee.email)}},{title:"\u0110\u1ecba ch\u1ec9",dataIndex:"address",render:function(e,t){return r.a.createElement("p",null,t.employee.address)}},{title:"Vai tr\xf2",dataIndex:"role",render:function(e,t){return r.a.createElement("p",null,t.employee.role)},filters:[{text:"ADMIN",value:"ADMIN"},{text:"INCIDENT_STAFF",value:"INCIDENT_STAFF"},{text:"MANAGER",value:"MANAGER"},{text:"SUPERVISOR",value:"SUPERVISOR"},{text:"DRONE_STAFT",value:"DRONE_STAFT"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.employee.role.indexOf(e)}},{title:"Lo\u1ea1i s\u1ef1 c\u1ed1",dataIndex:"type",render:function(e,t){return r.a.createElement("p",null,"CHAY_RUNG"==t.employee.type?"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng":"DE_DIEU"==t.employee.type?"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u":"CAY_TRONG"==t.employee.type?"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng":"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n cao th\u1ebf")},filters:[{text:"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng",value:"CHAY_RUNG"},{text:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u",value:"DE_DIEU"},{text:"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng",value:"CAY_TRONG"},{text:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n cao th\u1ebf",value:"LUOI_DIEN"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.employee.type.indexOf(e)}},{title:"Tr\u1ea1ng th\xe1i hi\u1ec7n t\u1ea1i",dataIndex:"status_activation",render:function(e,t){return r.a.createElement("p",null,t.employee.status_activation)},filters:[{text:"BUSY",value:"BUSY"},{text:"FREE",value:"FREE"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.employee.status_activation.indexOf(e)}},{title:"",key:"operation",render:function(e,t){return r.a.createElement("div",null,r.a.createElement(Xr.a,{"data-toggle":"tooltip","data-placement":"top",title:"Xem chi ti\u1ebft",onClick:function(e){D(t)},style:{color:"blue",marginLeft:5}}))}}],D=function(e){y(e),p(!0)};return r.a.createElement("div",null,r.a.createElement("div",{className:"header",onClick:function(){}},"Danh s\xe1ch nh\xe2n vi\xean"),r.a.createElement("div",null,r.a.createElement(_.a,{spinning:j,tip:"Loading..."},r.a.createElement(Qt.a,{rowKey:function(e){return e.employee.id},columns:N,dataSource:x,size:"middle"}))),r.a.createElement(le.a,{title:"Th\xf4ng tin c\xf4ng vi\u1ec7c c\u1ee7a nh\xe2n vi\xean: ".concat(E?E.employee.full_name:""),visible:h,onOk:function(){p(!1)},onCancel:function(){p(!1)},footer:null},r.a.createElement(_.a,{spinning:s,tip:"Loading..."},E?r.a.createElement("div",{style:{displayL:"flex",flexWrap:"wrap"}},r.a.createElement("div",{style:{flex:"75%"}},r.a.createElement("div",null,r.a.createElement("p",null,"M\xe3 nh\xe2n vi\xean: ",E.employee.id),r.a.createElement("p",null,"Vai tr\xf2: ",E.employee.role),r.a.createElement("p",null,"Lo\u1ea1i s\u1ef1 c\u1ed1:"," ",r.a.createElement("p",null,"CHAY_RUNG"==E.employee.type?"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng":"DE_DIEU"==E.employee.type?"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u":"CAY_TRONG"==E.employee.type?"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng":"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n cao th\u1ebf"))),E.current_task_type?r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("p",null,"***C\xf4ng vi\u1ec7c hi\u1ec7n t\u1ea1i***"),r.a.createElement("p",null,"T\xean c\xf4ng vi\u1ec7c: ",E.current_task_type.name),r.a.createElement("p",null,"M\xf4 t\u1ea3: ",E.current_task_type.description),r.a.createElement("p",null,"Lo\u1ea1i s\u1ef1 c\u1ed1:"," ",r.a.createElement("p",null,"CHAY_RUNG"==E.employee.type?"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng":"DE_DIEU"==E.employee.type?"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u":"CAY_TRONG"==E.employee.type?"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng":"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n cao th\u1ebf"))):r.a.createElement("p",null,"***Nh\xe2n vi\xean hi\u1ec7n t\u1ea1i kh\xf4ng c\xf3 c\xf4ng vi\u1ec7c n\xe0o***"),r.a.createElement("div",{style:{flex:"75%"}},r.a.createElement("img",{src:E.employee.avatar,width:"100%",height:"100%"})))):null)))}),cl=a(282),ol=(a(977),Bt.a.Option),sl=function(){for(var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(null),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)(!0),d=Object(u.a)(m,2),h=d[0],p=d[1],g=Object(n.useState)(!1),f=Object(u.a)(g,2),E=f[0],y=f[1],b=Object(n.useState)(!1),v=Object(u.a)(b,2),j=(v[0],v[1],Object(n.useState)(null)),O=Object(u.a)(j,2),k=O[0],C=O[1],x=Object(n.useState)(null),S=Object(u.a)(x,2),w=S[0],A=S[1],I=Object(n.useState)(!1),T=Object(u.a)(I,2),N=T[0],D=T[1],M=Object(n.useState)(!1),F=Object(u.a)(M,2),R=F[0],Y=F[1],Q=Object(n.useState)([]),B=Object(u.a)(Q,2),z=B[0],H=B[1],U="4c901bcdba9f440a2a7c31c0bcbd78ec",V=[],K=1;K<=31;K++)V.push(r.a.createElement(ol,{key:K},K));var G=function(e){return"Th\xe1ng ".concat(e.format("MM/YYYY"))},Z=function(){de()({method:"get",url:Wr+"/schedule-setting/listing",headers:{"api-token":U,"project-type":"LUOI_DIEN"}}).then((function(e){e.data.map((function(e){if(e.off_days){var t=e.off_days.split(",");e.off_days=t}})),l([]),setTimeout((function(){l(e.data)}),100),p(!1)})).catch((function(e){console.log(e),p(!1)}))};Object(n.useEffect)((function(){Z()}),[]);var J=r.a.createRef(),q=r.a.createRef(),X=r.a.createRef(),W=r.a.createRef(),$=function(e){C(null),s(null);var t,a={id:e,off_saturday:N?1:0,off_sunday:R?1:0,off_days:z.toString()};p(!0),t=a,de()({method:"put",url:Wr+"/schedule-setting/update",headers:{"api-token":U,"project-type":"LUOI_DIEN"},params:{id:t.id,off_saturday:t.off_saturday,off_sunday:t.off_sunday,off_days:t.off_days}}).then((function(e){Z()})).catch((function(e){console.log(e),p(!1)}))},ee=[{title:null,dataIndex:"name",render:function(e,t){return t.id&&1==t.isEditing?r.a.createElement("div",{className:"itemSettingSelected"},r.a.createElement("div",{style:{display:"none"}},"\u0110ang s\u1eeda b\u1ea3n ghi"),r.a.createElement("span",null,r.a.createElement(oe.a,{ref:J,defaultValue:Xe()(w,"MM/YYYY"),onChange:function(e,t){A(Xe()(e).format("MM/YYYY"))},picker:"month",format:G})),r.a.createElement("span",{style:{marginLeft:20}},r.a.createElement(cl.a,{ref:q,checked:N,onChange:function(){D(!N)}},"Ngh\u1ec9 th\u1ee9 7"),r.a.createElement(cl.a,{ref:X,checked:R,onChange:function(){Y(!R)}},"Ngh\u1ec9 ch\u1ee7 nh\u1eadt")),r.a.createElement("span",{style:{marginLeft:20}},r.a.createElement(Bt.a,{ref:W,size:"small",mode:"multiple",onChange:function(e){H(e)},style:{width:200},placeholder:"Ng\xe0y ngh\u1ec9 trong tu\u1ea7n",defaultValue:z||null},V))):t.id?r.a.createElement("div",{className:"itemSetting",onClick:function(){s(t.id)}},r.a.createElement("span",null,r.a.createElement(oe.a,{defaultValue:Xe()(t.month+"/"+t.year,"MM/YYYY"),onChange:null,picker:"month",format:G,disabled:!0})),r.a.createElement("span",{style:{marginLeft:20}},r.a.createElement(cl.a,{checked:t.off_sunday,onChange:null,disabled:!0},"Ngh\u1ec9 th\u1ee9 7"),r.a.createElement(cl.a,{checked:t.off_saturday,onChange:null,disabled:!0},"Ngh\u1ec9 ch\u1ee7 nh\u1eadt")),r.a.createElement("span",{style:{marginLeft:20}},r.a.createElement(Bt.a,{size:"small",mode:"multiple",style:{width:200},placeholder:"Ng\xe0y ngh\u1ec9 trong tu\u1ea7n",defaultValue:t.off_days?t.off_days:null,disabled:!0},V)),r.a.createElement("span",{className:"actionButtonItem",style:1==t.selected?{float:"right",marginRight:5}:{display:"none"},onClick:function(){}},"X\xf3a"),r.a.createElement("span",{style:1==t.selected?{}:{display:"none"}},r.a.createElement("span",{style:{float:"right",marginRight:5}}," | "),r.a.createElement("span",{className:"actionButtonItem",style:{float:"right",marginRight:5},onClick:function(){!function(e){var t=a,n=a.find((function(t){return e===t.id})),r=t.find((function(e){return k===e.id}));r&&(r.isEditing=!1),n&&(n.isEditing=!0,C(e),l(t),A(n.month+"/"+n.year),D(n.off_saturday),Y(n.off_sunday),H(n.off_days))}(t.id)}},"S\u1eeda"))):r.a.createElement("div",{className:"itemSetting"},r.a.createElement("span",null,r.a.createElement(oe.a,{onChange:function(e,t){A(Xe()(e).format("MM/YYYY"))},picker:"month",format:G})),r.a.createElement("span",{style:{marginLeft:20}},r.a.createElement(cl.a,{checked:N,onChange:function(){D(!N)}},"Ngh\u1ec9 th\u1ee9 7"),r.a.createElement(cl.a,{checked:R,onChange:function(){Y(!R)}},"Ngh\u1ec9 ch\u1ee7 nh\u1eadt")),r.a.createElement("span",{style:{marginLeft:20}},r.a.createElement(Bt.a,{size:"small",mode:"multiple",onChange:function(e){H(e)},style:{width:200},placeholder:"Ng\xe0y ngh\u1ec9 trong tu\u1ea7n"},V)))}}];return r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},"C\u1ea5u h\xecnh l\u1ecbch l\xe0m vi\u1ec7c"),r.a.createElement("div",{className:"listSettingSchedule"},r.a.createElement(_.a,{spinning:h,tip:"Loading..."},r.a.createElement(Qt.a,{rowKey:function(e){return e.id},dataSource:a,pagination:!1,onRow:function(e){return{rowKey:e.id}},rowClassName:function(e){return e.id==o?(e.selected=!0,"choosenItem"):(e.selected=!1,null)},columns:ee}),r.a.createElement("div",{className:"button-save"},r.a.createElement(L.a,{type:"primary",style:{float:"right",right:30,width:100},disabled:!E&&!k,onClick:function(){k?$(k):function(){var e=w.split("/")[0],t=w.split("/")[1];p(!0),de()({method:"post",url:Wr+"/schedule-setting/set",headers:{"api-token":U,"project-type":"LUOI_DIEN"},data:{month:e,year:t,off_saturday:N?1:0,off_sunday:R?1:0,off_days:z.toString()}}).then((function(e){Z(),y(!1)})).catch((function(e){console.log(e),P.b.error(e.response.data.error.message),p(!1)}))}()}},"L\u01b0u"),E||k?r.a.createElement(L.a,{type:"primary",style:{float:"right",right:45,width:100},disabled:!E&&!k,onClick:function(){a.map((function(e){e.isEditing=!1})),C(null),s(null),null==k?(p(!0),Z()):l(a)}},"H\u1ee7y"):r.a.createElement(L.a,{type:"primary",style:{float:"right",right:45,width:100},disabled:!(!E&&!k),onClick:function(){a.map((function(e){e.isEditing=!1})),C(null),s(null),l(a),y(!0);l([].concat(Object(Pa.a)(a),[{id:null}]))}},"Th\xeam")))))},ul=(a(978),Bt.a.Option),ml=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(null),c=Object(u.a)(i,2),s=(c[0],c[1],Object(n.useState)(!1)),m=Object(u.a)(s,2),d=m[0],h=m[1],p=Object(n.useState)(!1),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(!0),b=Object(u.a)(y,2),v=b[0],j=b[1],O=Object(n.useState)(null),k=Object(u.a)(O,2),C=k[0],x=k[1],S=Object(n.useState)({name:"",description:"",employee_number:0,prioritize:0}),w=Object(u.a)(S,2),A=w[0],I=w[1],T=(Object(o.h)().pathname,{CHAY_RUNG:{id:"222222",name:"S\u1ef1 c\u1ed1  ch\xe1y r\u1eebng"},DE_DIEU:{id:"111111",name:"S\u1ef1 c\u1ed1  \u0111\xea \u0111i\u1ec1u"},CAY_TRONG:{id:"333333",name:"S\u1ef1 c\u1ed1  c\xe2y tr\u1ed3ng"},LUOI_DIEN:{id:"000000",name:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n tr\xean cao"}}),N="4c901bcdba9f440a2a7c31c0bcbd78ec";Object(n.useEffect)((function(){D()}),[]);var D=function(){de()({method:"get",url:Wr+"/task-type/listing",headers:{"api-token":N,"project-type":"LUOI_DIEN"}}).then((function(e){console.log(e),j(!1),l(e.data)})).catch((function(e){console.log(e)}))},P=[{title:"T\xean c\xf4ng vi\u1ec7c",dataIndex:"name"},{title:"N\u1ed9i dung c\xf4ng vi\u1ec7c",dataIndex:"description"},{title:"S\u1ed1 l\u01b0\u1ee3ng nh\xe2n vi\xean",dataIndex:"employee_number",sorter:function(e,t){return t.employee_number-e.employee_number},sortDirections:["descend"]},{title:"Lo\u1ea1i s\u1ef1 c\u1ed1",dataIndex:"project_type",render:function(e,t){return r.a.createElement("p",null,T[t.project_type].name)},filters:[{text:"S\u1ef1 c\u1ed1 ch\xe1y r\u1eebng",value:"CHAY_RUNG"},{text:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u",value:"S\u1ef1 c\u1ed1 \u0111\xea \u0111i\u1ec1u"},{text:"S\u1ef1 c\u1ed1 c\xe2y tr\u1ed3ng",value:"CAY_TRONG"},{text:"S\u1ef1 c\u1ed1 l\u01b0\u1edbi \u0111i\u1ec7n tr\xean cao",value:"LUOI_DIEN"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.project_type.indexOf(e)}},{title:"Tr\u1ea1ng th\xe1i \u01b0u ti\xean",dataIndex:"prioritize",render:function(e,t){return r.a.createElement("p",null,1==t.prioritize?"true":"false")}},{title:"T\xe1c v\u1ee5",key:"operation",render:function(e){return r.a.createElement("div",null,r.a.createElement(La.a,{style:{fontSize:22,color:"orange"},onClick:function(t){return F(e)},"data-toggle":"tooltip","data-placement":"top",title:"S\u1eeda c\xf4ng vi\u1ec7c"}),r.a.createElement(_a.a,{style:{fontSize:22,color:"red",marginLeft:30},onClick:function(t){return M(e)},"data-toggle":"tooltip","data-placement":"top",title:"X\xf3a c\xf4ng vi\u1ec7c"}))}}],M=function(e){Object(al.confirmAlert)({title:"X\xf3a c\xf4ng vi\u1ec7c",message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a c\xf4ng vi\u1ec7c "+e.name+"?",buttons:[{label:"Yes",onClick:function(){de()({method:"delete",url:Wr+"/task-type/delete?id="+e.id,headers:{"api-token":N,"project-type":"LUOI_DIEN"}}).then((function(e){console.log(e),j(!0),D()})).catch((function(e){console.log(e)}))}},{label:"No",onClick:function(){}}]})},F=function(e){I(e),h(!0)},R=function(){h(!1)},Y=function(e,t){I(Object(K.a)(Object(K.a)({},A),{},Object(Yr.a)({},e,t)))};return r.a.createElement("div",null,r.a.createElement("div",{className:"header",onClick:function(){}},"Danh s\xe1ch c\xe1c c\xf4ng vi\u1ec7c \u0111\u1ec3 x\u1eed l\xfd s\u1ef1 c\u1ed1"),r.a.createElement(ce.a.Search,{style:{margin:"0 0 10px 0"},placeholder:"Search by...",enterButton:!0,onSearch:function(e){var t=a.filter((function(t){return Object.keys(t).some((function(a){return"incident_id"!==a&&String(t[a]).normalize().toLowerCase().includes(e.toLowerCase())}))}));x(t)}}),r.a.createElement("div",null,r.a.createElement(_.a,{spinning:v,tip:"Loading..."},r.a.createElement(Qt.a,{rowKey:function(e){return e.id},columns:P,dataSource:null==C?a:C,size:"middle"})),r.a.createElement(L.a,{type:"primary",onClick:function(){I({name:"",description:"",employee_number:0,prioritize:0}),E(!0)},style:{marginTop:20}},"Th\xeam m\u1edbi")),r.a.createElement(le.a,{title:"S\u1eeda chi ti\u1ebft c\xf4ng vi\u1ec7c",visible:d,onOk:function(){h(!1)},onCancel:R,footer:null,width:700},r.a.createElement("p",null,"T\xean c\xf4ng vi\u1ec7c"),r.a.createElement(ce.a,{value:A.name,onChange:function(e){return Y("name",e.target.value)}}),r.a.createElement("p",{style:{marginTop:20}},"N\u1ed9i dung c\xf4ng vi\u1ec7c"),r.a.createElement(ce.a,{value:A.description,onChange:function(e){return Y("description",e.target.value)}}),r.a.createElement("p",{style:{marginTop:20}},"S\u1ed1 l\u01b0\u1ee3ng nh\xe2n vi\xeac"),r.a.createElement(ce.a,{value:A.employee_number,type:"number",onChange:function(e){return Y("employee_number",e.target.value)}}),r.a.createElement("p",{style:{marginTop:20}},"Tr\u1ea1ng th\xe1i \u01b0u ti\xean"),r.a.createElement(Bt.a,{defaultValue:A.prioritize,onChange:function(e){return Y("prioritize",e)},style:{width:"100%"}},r.a.createElement(ul,{value:!0},"true"),r.a.createElement(ul,{value:!1},"false")),r.a.createElement(L.a,{type:"primary",onClick:function(){console.log(A);var e=A.id,t=A.name,a=A.description,n=A.employee_number,r=1==A.prioritize?1:0;de()({method:"put",url:Wr+"/task-type/update?id=".concat(e,"&name=").concat(t,"&description=").concat(a,"&employee_number=").concat(n,"&prioritize=").concat(r),headers:{"api-token":N,"project-type":"LUOI_DIEN"}}).then((function(e){console.log(e),R(),j(!0),D()})).catch((function(e){console.log(e)}))},style:{marginTop:20}},"Submit")),r.a.createElement(le.a,{title:"Th\xeam chi ti\u1ebft c\xf4ng vi\u1ec7c",visible:f,onOk:function(){E(!1)},onCancel:function(){E(!1)},footer:null,width:700},r.a.createElement("p",null,"T\xean c\xf4ng vi\u1ec7c"),r.a.createElement(ce.a,{value:A.name,onChange:function(e){return Y("name",e.target.value)}}),r.a.createElement("p",{style:{marginTop:20}},"N\u1ed9i dung c\xf4ng vi\u1ec7c"),r.a.createElement(ce.a,{value:A.description,onChange:function(e){return Y("description",e.target.value)}}),r.a.createElement("p",{style:{marginTop:20}},"S\u1ed1 l\u01b0\u1ee3ng nh\xe2n vi\xeac"),r.a.createElement(ce.a,{value:A.employee_number,type:"number",onChange:function(e){return Y("employee_number",e.target.value)}}),r.a.createElement("p",{style:{marginTop:20}},"Tr\u1ea1ng th\xe1i \u01b0u ti\xean"),r.a.createElement(Bt.a,{defaultValue:A.prioritize,onChange:function(e){return Y("prioritize",e)},style:{width:"100%"}},r.a.createElement(ul,{value:!0},"true"),r.a.createElement(ul,{value:!1},"false")),r.a.createElement(L.a,{type:"primary",onClick:function(){console.log(A);var e=A.name,t=A.description,a=A.employee_number,n=1==A.prioritize?1:0;de()({method:"post",url:Wr+"/task-type/create",headers:{"api-token":N,"project-type":"LUOI_DIEN"},body:{name:e,description:t,employee_number:a,prioritize:n}}).then((function(e){console.log(e),R(),j(!0),D()})).catch((function(e){console.log(e)}))},style:{marginTop:20}},"Submit")))},dl=Cr.a.TabPane,hl=function(){return r.a.createElement("div",null," ",r.a.createElement(Cr.a,{defaultActiveKey:"1"},r.a.createElement(dl,{tab:r.a.createElement("span",null," Danh s\xe1ch c\xf4ng vi\u1ec7c x\u1eed l\xfd "),key:"1"},r.a.createElement($r,null)),r.a.createElement(dl,{tab:r.a.createElement("span",null," Danh s\xe1ch b\xe1o c\xe1o k\u1ebft qu\u1ea3 "),key:"2"},r.a.createElement(ll,null)),r.a.createElement(dl,{tab:r.a.createElement("span",null,"Danh s\xe1ch nh\xe2n vi\xean"),key:"5"},r.a.createElement(il,null)),r.a.createElement(dl,{tab:r.a.createElement("span",null,"C\u1ea5u h\xecnh l\u1ecbch l\xe0m vi\u1ec7c"),key:"6"},r.a.createElement(sl,null)),r.a.createElement(dl,{tab:r.a.createElement("span",null,"Lo\u1ea1i c\xf4ng vi\u1ec7c x\u1eed l\xfd s\u1ef1 c\u1ed1"),key:"7"},r.a.createElement(ml,null))))},pl=a(1177),gl=a(1178),fl=a(1231),El=a(1179),yl=a(1189),bl=a(1174),vl=a(1173),jl=a(1188),Ol=a(600),kl=a(1196);Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PUSH_SERVER_URL;var Cl=a(1191),xl=Object(vl.a)((function(e){return{boxContainer:{display:"flex",marginBottom:0},rating:{color:"red"}}})),Sl=function(e){var t=xl(),a=e.level;return console.log("level: ".concat(a)),r.a.createElement(Cl.a,{component:"fieldset",mb:3,borderColor:"transparent",className:t.boxContainer},r.a.createElement(bl.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(D.a,{className:t.rating,name:"read-only",value:a,readOnly:!0})))},wl=a(1175),Al=a(1176);function Il(){var e=Object(d.a)(["\n    background: #E8E0E0;\n    border-radius: 5px;\n    margin: 8px;\n    width: 1163px;\n    height: 116px;\n"]);return Il=function(){return e},e}function Tl(){var e=Object(d.a)(["\n    background: #E8E0E0;\n    border-radius: 5px;\n    margin: 8px;\n    width: 1163px;\n    height: 116px;\n    cursor: pointer;\n"]);return Tl=function(){return e},e}var Nl=Object(h.a)(wl.a)(Tl());Object(h.a)(Al.a)(Il());function Dl(e){var t=e.date;return r.a.createElement(kl.a,{date:t,timeStyle:"round-minute",locale:"en-US"})}jl.a.addDefaultLocale(Ol);var Pl=a(16),Ml=Object(vl.a)((function(e){return{primary:{fontWeight:"bold",textTransform:"uppercase"},title:{fontSize:24},avatar:{margin:"auto",height:116,width:120},description:{marginLeft:16},item:{margin:"8px 0px",height:116,paddingLeft:0},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),Ll=function(e){var t=e.createdAt;return r.a.createElement("div",null,r.a.createElement(bl.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(Dl,{date:t})))},_l=function(e){var t=Ml(),a=e.content;return r.a.createElement("div",null,r.a.createElement("div",{className:t.primary},a))},Fl=function(e){Ml();return r.a.createElement("div",null,r.a.createElement(bl.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Sl,e),r.a.createElement(Ll,e)))},Rl=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(0),c=Object(u.a)(i,2),s=c[0],m=c[1],d=Object(n.useState)(0),h=Object(u.a)(d,2),p=h[0],g=h[1],f=Object(n.useState)(5),E=Object(u.a)(f,2),y=E[0],b=(E[1],Object(n.useState)(0)),v=Object(u.a)(b,2),j=v[0],O=v[1],k=Ml(),C=Object(o.g)();Object(n.useEffect)((function(){Pl({method:"get",url:"https://it4483-dsd04.herokuapp.com/get_list_ntf",headers:{"Content-Type":"application/json","api-token":"1fa6b94047ba20d998b44ff1a2c78bba","project-type":"CHAY_RUNG"},params:{index:p,count:y}}).then((function(e){l(a.concat(e.data.data.notifications)),O(e.data.data.total),console.log(a.length)})).catch((function(e){console.log(e)}))}),[p,y]);return r.a.createElement("div",null,r.a.createElement("div",{className:k.title},"Danh s\xe1ch c\u1ea3nh b\xe1o"),r.a.createElement(pl.a,null,a.slice(5*s,5*s+5).map((function(e){return r.a.createElement(Nl,{className:k.item,onClick:function(){return t=e._id,console.log("/warning-detail/".concat(t)),void C.push("/warning-detail/".concat(t));var t}},r.a.createElement(gl.a,{className:"name"},r.a.createElement(fl.a,{src:Y.prop[e.ref._type].img,className:k.avatar,variant:"rounded"},e.image)),r.a.createElement(El.a,{className:k.description,primary:r.a.createElement(_l,e),secondary:r.a.createElement(Fl,e)}))}))),r.a.createElement(yl.a,{rowsPerPageOptions:[5,10,25],component:"div",count:j,rowsPerPage:5,page:s,onChangePage:function(e,t){m(t),g(p+y),console.log("index: ".concat(p," -- count: ").concat(y))}}))},Yl=a(1232),Ql=a(434),Bl=a(1181),zl=a(1180),Hl=a(284),Ul=a(110),Vl=(a(981),a(16)),Kl=Object(vl.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),marginTop:8,maxWidth:1400},image:{margin:"auto",display:"block",width:650,height:410},title:{fontWeight:"bold",textTransform:"uppercase"},header:{fontSize:24},gridDescription:{direction:"row",justify:"flex-start",alignItems:"center"}}})),Gl=function(e){var t=e.title,a=e.content,n=e.link,l=Kl();return r.a.createElement(bl.a,{container:!0,spacing:3},r.a.createElement(bl.a,{item:!0,sm:3,xs:12},r.a.createElement(Hl.a,{className:(l.gridDescription,l.title)},t)),r.a.createElement(bl.a,{item:!0,sm:9,xs:12},n?r.a.createElement(Hl.a,null,r.a.createElement(Bl.a,{href:a},a)):r.a.createElement(Hl.a,null,a)))},Zl=function(){var e=Object(o.i)().id,t=Kl(),a=Object(n.useState)([]),l=Object(u.a)(a,2),i=l[0],c=l[1],s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],h=m[1],p=function(e,t,a){re.a[e]({message:t,description:a})};return Object(n.useEffect)((function(){Vl({method:"get",url:"https://it4483-dsd04.herokuapp.com/get_ntf",headers:{"Content-Type":"application/json","api-token":"1fa6b94047ba20d998b44ff1a2c78bba","project-type":"CHAY_RUNG"},params:{idNtf:e}}).then((function(e){c(e.data.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[]),console.log("notificationDetail: ".concat(i)),r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.header},"Th\xf4ng tin c\u1ea3nh b\xe1o chi ti\u1ebft"),r.a.createElement(zl.a,{className:t.paper},r.a.createElement(bl.a,{container:!0,spacing:2},r.a.createElement(bl.a,{item:!0},r.a.createElement(Ql.a,{className:t.image},i.ref&&r.a.createElement("img",{className:t.image,alt:"complex",src:Y.prop[i.ref._type].img}))),r.a.createElement(bl.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(bl.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},r.a.createElement(bl.a,{item:!0,xs:!0},r.a.createElement(bl.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},i.project_type&&r.a.createElement(Hl.a,{gutterBottom:!0,variant:"h4",className:t.title},Q[i.project_type]),r.a.createElement(Ul.a,{title:d?"verified":"unverified"},r.a.createElement(Yl.a,{twoToneColor:d?"#52c41a":"#8c8c8c",style:{fontSize:32,marginLeft:8,marginBottom:10,cursor:"pointer"},onClick:function(){p("success","Notification",d?"Unverified Incident Successfully":"Verified Incident Successfully"),h(!d)}}))),r.a.createElement(Gl,{title:"ID S\u1ef1 c\u1ed1:",content:i._id}),r.a.createElement(bl.a,{container:!0,spacing:3},r.a.createElement(bl.a,{item:!0,sm:3,xs:12},r.a.createElement(Hl.a,{className:(t.gridDescription,t.title)},"M\u1ee9c \u0111\u1ed9:")),r.a.createElement(bl.a,{item:!0,sm:9,xs:12},r.a.createElement(D.a,{name:"read-only",value:i.level||0,readOnly:!0,style:{color:"red"}}))),r.a.createElement(Gl,{title:"M\xf4 t\u1ea3:",content:i.content}),i.fromUser&&r.a.createElement(Gl,{title:"From user:",content:i.fromUser._id}),r.a.createElement(Gl,{title:"created At:",content:i.createdAt}),i.ref&&r.a.createElement(Gl,{title:"Ref Link:",content:i.ref._link,link:!0})))))))},Jl=a(1208),ql=a(16),Xl=oe.a.RangePicker,Wl=Bt.a.Option,$l=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[{title:"Id ng\u01b0\u1eddi d\xf9ng",dataIndex:"targetId",key:"targetId",sorter:function(e,t){return e.targetId-t.targetId}},Object(K.a)({title:"Metadata",dataIndex:"metadata",key:"metadata"},this.getColumnSearchProps("metadata")),{title:"M\xe3 s\u1ef1 c\u1ed1",dataIndex:"incidentId",key:"incidentId",sorter:function(e,t){return e.incidentId-t.incidentId}},{title:"M\xe3 gi\u1ea3i quy\u1ebft s\u1ef1 c\u1ed1",dataIndex:"resolveProblemId",key:"resolveProblemId",sorter:function(e,t){return e.resolveProblemId-t.resolveProblemId}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"M\xe3 mi\u1ec1n",dataIndex:"regionId",key:"regionId"},this.getColumnSearchProps("regionId")),Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),ei=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/user?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/user?projectType="+this.state.projectType,ql({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a ng\u01b0\u1eddi d\xf9ng"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(Xl,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(Wl,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(Wl,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(Wl,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(Wl,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement($l,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var ti=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ei,null),r.a.createElement(Jl.a,null))},ai=a(16),ni=oe.a.RangePicker,ri=Bt.a.Option,li=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[{title:"Id",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},Object(K.a)({title:"T\xean drone",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),Object(K.a)({title:"Kinh \u0111\u1ed9",dataIndex:"longitude",key:"longitude"},this.getColumnSearchProps("longitude")),Object(K.a)({title:"V\u0129 \u0111\u1ed9",dataIndex:"latitude",key:"latitude"},this.getColumnSearchProps("latitude")),Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Mi\u1ec1n ho\u1ea1t \u0111\u1ed9ng",dataIndex:"regionName",key:"regionName"},this.getColumnSearchProps("regionName")),Object(K.a)({title:"M\xe3 mi\u1ec1n",dataIndex:"regionId",key:"regionId"},this.getColumnSearchProps("regionId")),Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),ii=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/drones?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/drones?projectType="+this.state.projectType,ai({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a drone"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(ni,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(ri,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(ri,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(ri,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(ri,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(li,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var ci=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ii,null),r.a.createElement(Jl.a,null))},oi=a(16),si=oe.a.RangePicker,ui=Bt.a.Option,mi=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[Object(K.a)({title:"T\xean c\u1ea3nh b\xe1o",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),{title:"Id c\u1ea3nh b\xe1o",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},{title:"Id mi\u1ec1n gi\xe1m s\xe1t",dataIndex:"regionId",key:"regionId",sorter:function(e,t){return e.regionId-t.regionId}},{title:"tr\u1ea1ng th\xe1i",dataIndex:"state",key:"state",sorter:function(e,t){return e.state-t.state}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),di=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/warning?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/warning?projectType="+this.state.projectType,oi({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed c\u1ea3nh b\xe1o"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(si,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(ui,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(ui,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(ui,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(ui,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(mi,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var hi=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(di,null),r.a.createElement(Jl.a,null))},pi=a(16),gi=oe.a.RangePicker,fi=Bt.a.Option,Ei=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[Object(K.a)({title:"s\u1ef1 c\u1ed1",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),{title:"Id s\u1ef1 c\u1ed1",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},{title:"Id h\xecnh \u1ea3nh",dataIndex:"imageId",key:"imageId",sorter:function(e,t){return e.imageId-t.imageId}},{title:"Id video",dataIndex:"videoId",key:"videoId",sorter:function(e,t){return e.videoId-t.videoId}},{title:"Id mi\u1ec1n gi\xe1m s\xe1t",dataIndex:"regionId",key:"regionId",sorter:function(e,t){return e.regionId-t.regionId}},{title:"tr\u1ea1ng th\xe1i",dataIndex:"state",key:"state",sorter:function(e,t){return e.state-t.state}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),yi=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/incident?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/incident?projectType="+this.state.projectType,pi({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed s\u1ef1 c\u1ed1"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(gi,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(fi,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(fi,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(fi,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(fi,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(Ei,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var bi=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yi,null),r.a.createElement(Jl.a,null))},vi=a(16),ji=oe.a.RangePicker,Oi=Bt.a.Option,ki=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[{title:"Id",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},{title:"Url video",dataIndex:"link",key:"link"},{title:"Id drone",dataIndex:"droneId",key:"droneId",sorter:function(e,t){return e.droneId-t.droneId}},{title:"tr\u1ea1ng th\xe1i",dataIndex:"state",key:"state",sorter:function(e,t){return e.state-t.state}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),Ci=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/video?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/video?projectType="+this.state.projectType,vi({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed l\u01b0u tr\u1eef video"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(ji,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(Oi,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(Oi,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(Oi,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(Oi,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(ki,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var xi=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ci,null),r.a.createElement(Jl.a,null))},Si=a(16),wi=oe.a.RangePicker,Ai=Bt.a.Option,Ii=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[{title:"Id",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},Object(K.a)({title:"T\xean payload",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),Object(K.a)({title:"tr\u1ea1ng th\xe1i payload",dataIndex:"state",key:"state"},this.getColumnSearchProps("state")),Object(K.a)({title:"Id drone ch\u1ee9a payload",dataIndex:"droneId",key:"droneId"},this.getColumnSearchProps("droneId")),Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),Ti=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/payload?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/payload?projectType="+this.state.projectType,Si({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a payload"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(wi,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(Ai,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(Ai,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(Ai,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(Ai,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(Ii,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var Ni=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ti,null),r.a.createElement(Jl.a,null))},Di=a(16),Pi=oe.a.RangePicker,Mi=Bt.a.Option,Li=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[{title:"Id",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},{title:"Url h\xecnh \u1ea3nh",dataIndex:"link",key:"link"},{title:"Id drone",dataIndex:"droneId",key:"droneId",sorter:function(e,t){return e.droneId-t.droneId}},{title:"tr\u1ea1ng th\xe1i",dataIndex:"state",key:"state",sorter:function(e,t){return e.state-t.state}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),_i=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/image?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/image?projectType="+this.state.projectType,Di({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed l\u01b0u tr\u1eef h\xecnh \u1ea3nh"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(Pi,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(Mi,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(Mi,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(Mi,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(Mi,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(Li,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var Fi=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_i,null),r.a.createElement(Jl.a,null))},Ri=a(16),Yi=oe.a.RangePicker,Qi=Bt.a.Option,Bi=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[{title:"Id x\u1eed l\xfd s\u1ef1 c\u1ed1",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},{title:"Id mi\u1ec1n gi\xe1m s\xe1t",dataIndex:"regionId",key:"regionId",sorter:function(e,t){return e.regionId-t.regionId}},{title:"tr\u1ea1ng th\xe1i",dataIndex:"state",key:"state",sorter:function(e,t){return e.state-t.state}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),zi=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/resolve-problem?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/resolve-problem?projectType="+this.state.projectType,Ri({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed x\u1eed l\xfd s\u1ef1 c\u1ed1"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(Yi,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(Qi,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(Qi,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(Qi,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(Qi,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(Bi,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var Hi=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(zi,null),r.a.createElement(Jl.a,null))},Ui=a(16),Vi=oe.a.RangePicker,Ki=Bt.a.Option,Gi=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[Object(K.a)({title:"\u0110\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),{title:"Id \u0111\u1ed1i t\u01b0\u1ee3ng",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},{title:"Id mi\u1ec1n gi\xe1m s\xe1t",dataIndex:"regionId",key:"regionId",sorter:function(e,t){return e.regionId-t.regionId}},{title:"tr\u1ea1ng th\xe1i",dataIndex:"state",key:"state",sorter:function(e,t){return e.state-t.state}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),Zi=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/monitor-object?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/monitor-object?projectType="+this.state.projectType,Ui({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(Vi,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(Ki,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(Ki,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(Ki,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(Ki,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(Gi,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var Ji=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Zi,null),r.a.createElement(Jl.a,null))},qi=a(16),Xi=oe.a.RangePicker,Wi=Bt.a.Option,$i=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[Object(K.a)({title:"T\xean mi\u1ec1n gi\xe1m s\xe1t",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),{title:"Id mi\u1ec1n gi\xe1m s\xe1t",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},{title:"tr\u1ea1ng th\xe1i",dataIndex:"state",key:"state",sorter:function(e,t){return e.state-t.state}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),ec=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/monitor-region?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/monitor-region?projectType="+this.state.projectType,qi({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(Xi,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(Wi,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(Wi,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(Wi,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(Wi,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement($i,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var tc=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ec,null),r.a.createElement(Jl.a,null))},ac=a(16),nc=oe.a.RangePicker,rc=Bt.a.Option,lc=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[Object(K.a)({title:"T\xean b\xe1o c\xe1o th\u1ed1ng k\xea",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),{title:"Id b\xe1o c\xe1o th\u1ed1ng k\xea",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},{title:"Id mi\u1ec1n gi\xe1m s\xe1t",dataIndex:"regionId",key:"regionId",sorter:function(e,t){return e.regionId-t.regionId}},{title:"tr\u1ea1ng th\xe1i",dataIndex:"state",key:"state",sorter:function(e,t){return e.state-t.state}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),ic=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/receive-statistical?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/receive-statistical?projectType="+this.state.projectType,ac({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed b\xe1o c\xe1o th\u1ed1ng k\xea"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(nc,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(rc,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(rc,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(rc,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(rc,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(lc,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var cc=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ic,null),r.a.createElement(Jl.a,null))},oc=a(16),sc=oe.a.RangePicker,uc=Bt.a.Option,mc=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",filteredInfo:null,sortedInfo:null},e.handleChange=function(t,a,n){console.log("Various parameters",t,a,n),e.setState({filteredInfo:a,sortedInfo:n})},e.clearFilters=function(){e.setState({filteredInfo:null})},e.clearAll=function(){e.setState({filteredInfo:null,sortedInfo:null})},e.setAgeSort=function(){e.setState({sortedInfo:{order:"descend",columnKey:"time"}})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,i=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ce.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,i,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Yt.b,null,r.a.createElement(L.a,{type:"primary",onClick:function(){return e.handleSearch(l,i,t)},icon:r.a.createElement(Nr.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(L.a,{onClick:function(){return e.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(Nr.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(a){return e.state.searchedColumn===t?r.a.createElement(Zr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Be.a)(a,[{key:"render",value:function(){var e=[Object(K.a)({title:"T\xean k\u1ebft n\u1ed1i UAV",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),{title:"Id k\u1ebft n\u1ed1i UAV",dataIndex:"entityId",key:"entityId",sorter:function(e,t){return e.entityId-t.entityId}},{title:"Id mi\u1ec1n gi\xe1m s\xe1t",dataIndex:"regionId",key:"regionId",sorter:function(e,t){return e.regionId-t.regionId}},{title:"tr\u1ea1ng th\xe1i",dataIndex:"state",key:"state",sorter:function(e,t){return e.state-t.state}},Object(K.a)({title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"type",key:"type"},this.getColumnSearchProps("type")),Object(K.a)({title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},this.getColumnSearchProps("description")),{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp",sorter:function(e,t){return new Date(e.timestamp)>=new Date(t.timestamp)?1:-1}},Object(K.a)({title:"Id ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"authorId",key:"authorId"},this.getColumnSearchProps("authorId"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{columns:e,dataSource:this.props.data,loading:this.props.loading,onChange:this.handleChange}))}}]),a}(r.a.Component),dc=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).onProjectTypeChange=function(e){console.log("hahahaha"+e),n.setState({projectType:e})},n.state={projectType:"de_dieu",fromDate:"",toDate:"",logActivityData:null,isLoadedLogActivityData:!1},n.onRangePickerChange=n.onRangePickerChange.bind(Object(Or.a)(n)),n.setLogActivityData=n.setLogActivityData.bind(Object(Or.a)(n)),n}return Object(Be.a)(a,[{key:"setLogActivityData",value:function(){var e=this,t=null,a=this.state.fromDate,n=this.state.toDate;t=a&&n?"https://it4883logging.herokuapp.com/api/uav-connect?minDate="+a+"&maxDate="+n+"&projectType="+this.state.projectType:"https://it4883logging.herokuapp.com/api/uav-connect?projectType="+this.state.projectType,oc({method:"get",url:t,headers:{}}).then((function(t){var a=t.data.map((function(e,t){return Object(K.a)({key:t},e)}));a.forEach((function(e){for(var t in e)null==e[t]&&(e[t]="")})),e.setState({logActivityData:a,isLoadedLogActivityData:!0})})).catch((function(e){console.log(e)}))}},{key:"onRangePickerChange",value:function(e,t){this.setState({isLoadedLogActivityData:!1});e&&(e[0].format("YYYY-MM-DDThh:mm:ss"),e[1].format("YYYY-MM-DDThh:mm:ss")),this.setLogActivityData()}},{key:"componentDidMount",value:function(){this.setLogActivityData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{style:{marginRight:"4%",marginTop:20}},r.a.createElement(bt.a,{hoverable:!0,style:{width:"100",marginLeft:40},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg"})},r.a.createElement("h2",null,"L\u1ecbch s\u1eed k\u1ebft n\u1ed1i UAV"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"inline"},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"},r.a.createElement(sc,{format:"DD/MM/YYYY",onChange:function(t,a){return e.onRangePickerChange(t,a)}})),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i d\u1ef1 \xe1n"},r.a.createElement(Bt.a,{defaultValue:"de_dieu",style:{width:120},onChange:function(t){e.setState({isLoadedLogActivityData:!1}),e.onProjectTypeChange(t),e.setLogActivityData()}},r.a.createElement(uc,{value:"de_dieu"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement(uc,{value:"luoi_dien"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement(uc,{value:"chay_rung"},"Ch\xe1y r\u1eebng"),r.a.createElement(uc,{value:"cay_trong"},"C\xe2y tr\u1ed3ng")))),r.a.createElement("br",null),r.a.createElement(mc,{data:this.state.logActivityData,loading:!this.state.isLoadedLogActivityData}))))}}]),a}(r.a.Component);var hc=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(dc,null),r.a.createElement(Jl.a,null))};function pc(){var e=Object(d.a)(["\n  .action{\n    margin-right: 5px;\n  }\n  .searchtype {\n    margin-top: 20px;\n  }\n  .buttontype {\n    margin-bottom: 10px;\n  }\n"]);return pc=function(){return e},e}var gc=h.a.div(pc()),fc=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).openNotificationSucess=function(e){re.a.success({message:e})},n.openNotificationError=function(e){re.a.error({message:e})},n.showModal=function(e){n.setState({visible:!0}),n.setState({detailPayload:e}),n.setState({idPayload:e.id})},n.handleOk=function(e){n.setState({visible:!1})},n.handleCancel=function(e){n.setState({visible:!1})},n.handleCancelAdd=function(e){n.setState({visibleAdd:!1})},n.handleCancelDelete=function(e){n.setState({visibleDelete:!1})},n.handleCancelMaintenance=function(e){n.setState({visibleMaintenance:!1})},n.state={visible:!1,currentTable:null,tables:[],idPayload:null,modalLoading:!1,detailBill:[],detailPayload:{},options:[],payload:{},visibleAdd:!1,visibleDelete:!1,visibleMaintenance:!1,idPayloadDelete:null,status:[{value:"working",label:"\u0110ang s\u1eed d\u1ee5ng"},{value:"idle",label:"S\u1eb5n c\xf3"},{value:"fixing",label:"\u0110ang s\u1eeda"},{value:"charging",label:"\u0110ang s\u1ea1c"}],idPayloadFix:null},n}return Object(Be.a)(a,[{key:"handleClick",value:function(){Object(o.g)().push("/edit-payload")}},{key:"componentDidMount",value:function(){this.loadAllPayload(),this.getAllTypePayload()}},{key:"loadAllPayload",value:function(){var e=this;de.a.get("http://dsd06.herokuapp.com/api/payload").then((function(t){console.log(t.data),e.setState({tables:t.data})}))}},{key:"getAllTypePayload",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/payloadtype").then((function(t){var a=t.data.map((function(e){return{label:e.name,value:e._id}}));e.setState({Options:a})}))}},{key:"handleFormSubmitEdit",value:function(e){var t=this,a={code:e.code,name:e.name,type:e.type,detail:{manufacturer:e.manufacturer,weight:e.weight,opticalZoom:e.opticalZoom,digitalZoom:e.digitalZoom,panning:{min:e.panningmin,max:e.panningmax},tilting:{min:e.tiltingmin,max:e.tiltingmax},zoom:{min:e.zoomingmin,max:e.zoomingmax},size:{width:e.sizewidth,length:e.sizelength,height:e.sizeheight}}};de.a.put("https://dsd06.herokuapp.com/api/payload/"+this.state.idPayload,a).then((function(e){console.log(e.data),t.setState({visible:!1}),t.loadAllPayload()}))}},{key:"renderModal",value:function(){var e=this;return r.a.createElement(ie.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:10}},{onFinish:function(t){return e.handleFormSubmitEdit(t)}}),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{initialValue:this.state.detailPayload.code,label:"M\xe3",name:"code",rules:[{required:!0,message:"H\xe3y nh\u1eadp m\xe3!"}]},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{initialValue:this.state.detailPayload.name,label:"T\xean",name:"name",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean payload!"}]},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Lo\u1ea1i",initialValue:this.state.detailPayload.type_id,name:"type",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(Bt.a,{options:this.state.Options}))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"M\xf4 t\u1ea3",name:"desciption"},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Weight",name:"weight",initialValue:this.state.detailPayload.weight},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Nh\xe0 s\u1ea3n xu\u1ea5t",name:"manufacturer",initialValue:this.state.detailPayload.manufacturer},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"OpticalZoom",name:"opticalZoom",initialValue:this.state.detailPayload.opticalZoom},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"DigitalZoom",name:"digitalZoom",initialValue:this.state.detailPayload.digitalZoom},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Panning min",name:"panningmin",initialValue:this.state.detailPayload.panningmin},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Panning max",name:"panningmax",initialValue:this.state.detailPayload.panningmax},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Tilting min",name:"tiltingmin",initialValue:this.state.detailPayload.tiltingmin},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Tilting max",name:"tiltingmax",initialValue:this.state.detailPayload.tiltingmax},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Zooming min",name:"zoomingmin",initialValue:this.state.detailPayload.zoommin},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Zooming max",name:"zoomingmax",initialValue:this.state.detailPayload.zoommax},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:8},r.a.createElement(ie.a.Item,{label:"Width",name:"sizewidth",initialValue:this.state.detailPayload.sizewidth},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:8},r.a.createElement(ie.a.Item,{label:"Height",name:"sizeheight",initialValue:this.state.detailPayload.sizeheight},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:8},r.a.createElement(ie.a.Item,{label:"Length",name:"sizelength",initialValue:this.state.detailPayload.sizelength},r.a.createElement(ce.a,null)))),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Submit")))}},{key:"showModalAdd",value:function(){this.setState({visibleAdd:!0})}},{key:"handleFormSubmit",value:function(e){var t=this;console.log(e);var a={code:e.code,name:e.name,type:e.type,detail:{manufacturer:e.manufacturer,weight:e.weight,opticalZoom:e.opticalZoom,digitalZoom:e.digitalZoom,panning:{min:e.panningmin,max:e.panningmax},tilting:{min:e.tiltingmin,max:e.tiltingmax},zoom:{min:e.zoomingmin,max:e.zoomingmax},size:{width:e.sizewidth,length:e.sizelength,height:e.sizeheight}}};de.a.post("https://dsd06.herokuapp.com/api/payload",a).then((function(e){console.log(e.data),t.openNotificationSucess("Th\xeam th\xe0nh c\xf4ng"),t.setState({visibleAdd:!1}),t.loadAllPayload()}))}},{key:"renderModalAdd",value:function(){var e=this;return r.a.createElement(ie.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:10}},{onFinish:function(t){return e.handleFormSubmit(t)}}),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"M\xe3",name:"code",rules:[{required:!0,message:"H\xe3y nh\u1eadp m\xe3!"}]},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"T\xean",name:"name",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean payload!"}]},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Lo\u1ea1i",name:"type",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(Bt.a,{options:this.state.Options}))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"M\xf4 t\u1ea3",name:"desciption",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Weight",name:"weight"},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Nh\xe0 s\u1ea3n xu\u1ea5t",name:"manufacturer"},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"OpticalZoom",name:"opticalZoom"},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"DigitalZoom",name:"digitalZoom"},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Panning min",name:"panningmin"},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Panning max",name:"panningmax"},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Tilting min",name:"tiltingmin"},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Tilting max",name:"tiltingmax"},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Zooming min",name:"zoomingmin"},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:12},r.a.createElement(ie.a.Item,{label:"Zooming max",name:"zoomingmax"},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:8},r.a.createElement(ie.a.Item,{label:"Width",name:"sizewidth"},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:8},r.a.createElement(ie.a.Item,{label:"Height",name:"sizeheight"},r.a.createElement(ce.a,null))),r.a.createElement(yt.a,{className:"gutter-row",span:8},r.a.createElement(ie.a.Item,{label:"Length",name:"sizelength"},r.a.createElement(ce.a,null)))),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Submit")))}},{key:"showModalDelete",value:function(e){this.setState({visibleDelete:!0}),this.setState({idPayloadDelete:e.id})}},{key:"deleteRecord",value:function(){var e=this;de.a.delete("https://dsd06.herokuapp.com/api/payload/"+this.state.idPayloadDelete).then((function(t){e.openNotificationSucess("X\xf3a th\xe0nh c\xf4ng"),e.setState({visibleDelete:!1}),e.loadAllPayload()}))}},{key:"renderModalDelete",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"B\u1ea1n c\xf3 ch\u1eafc x\xf3a b\u1ea3n ghi n\xe0y?"),r.a.createElement(L.a,{type:"primary",danger:!0,onClick:function(){return e.deleteRecord()}},"X\xf3a"))}},{key:"renderModalMaintenance",value:function(){var e=this,t=ce.a.TextArea;return r.a.createElement("div",null,r.a.createElement(ie.a,{onFinish:function(t){return e.handleSubmitMaintenance(t)}},r.a.createElement(ie.a.Item,{label:"L\xfd do",name:"reason"},r.a.createElement(t,{rows:4})),r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"L\u01b0u")))}},{key:"handleSubmitMaintenance",value:function(e){var t=this;de.a.post("https://dsd06.herokuapp.com/api/payloadregister/fix/"+this.state.idPayloadFix,e.reason).then((function(e){t.setState({visibleMaintenance:!1}),t.openNotificationSucess("Chuy\u1ec3n tr\u1ea1ng th\xe1i th\xe0nh c\xf4ng"),t.loadAllPayload()}))}},{key:"searchPayload",value:function(e){var t=this;console.log(e),de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{type:e.type,status:e.status}}).then((function(e){t.setState({tables:e.data})}))}},{key:"showMaintenance",value:function(e){this.setState({idPayloadFix:e}),this.setState({visibleMaintenance:!0})}},{key:"showCharging",value:function(e){var t=this;de.a.post("https://dsd06.herokuapp.com/api/payloadregister/charge/"+e).then((function(e){t.openNotificationSucess("Chuy\u1ec3n tr\u1ea1ng th\xe1i s\u1ea1c th\xe0nh c\xf4ng"),t.loadAllPayload()}))}},{key:"render",value:function(){var e=this,t=this.state.tables.map((function(e){return{id:e._id,code:e.code,name:e.name,status:e.status,manufacturer:e.detail.manufacturer,type:e.type.name,des:e.type.description,type_id:e.type._id,weight:e.detail.weight,opticalZoom:e.detail.opticalZoom,digitalZoom:e.detail.digitalZoom,sizewidth:e.detail.size.width,sizeheight:e.detail.size.height,sizelength:e.detail.size.length,panningmin:e.detail.panning.min,panningmax:e.detail.panning.max,tiltingmin:e.detail.tilting.min,tiltingmax:e.detail.tilting.max,zoommin:e.detail.zoom.min,zoommax:e.detail.zoom.max}})),a=[{title:"M\xe3 ",dataIndex:"code",key:"code"},{title:"T\xean",dataIndex:"name",key:"name"},{title:"Nh\xe0 s\u1ea3n xu\u1ea5t",dataIndex:"manufacturer",key:"manufacturer"},{title:"Lo\u1ea1i",dataIndex:"type",key:"type"},{title:"M\xf4 t\u1ea3",dataIndex:"des",key:"des"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status"},{title:"Action",key:"operation",width:100,render:function(t,a){return r.a.createElement(Yt.b,{size:"small"},r.a.createElement(L.a,{type:"link",onClick:function(){return e.showModal(a)}},"S\u1eeda"),r.a.createElement(L.a,{danger:!0,type:"text",onClick:function(){return e.showModalDelete(a)}},"X\xf3a"),r.a.createElement(L.a,{type:"link",onClick:function(){return e.showMaintenance(a.id)}},"B\u1ea3o d\u01b0\u1ee1ng"),r.a.createElement(L.a,{type:"link",onClick:function(){return e.showCharging(a.id)}},"S\u1ea1c"))}}],n=this.state,l=n.visible,i=n.visibleAdd,c=n.visibleDelete,o=n.visibleMaintenance;n.tables;return r.a.createElement(gc,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Qu\u1ea3n l\xfd Payload"),r.a.createElement("br",null),r.a.createElement(ie.a,{layout:"horizontal",className:"searchtype",onFinish:function(t){return e.searchPayload(t)}},r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:4},r.a.createElement(ie.a.Item,{label:"Lo\u1ea1i",name:"type"},r.a.createElement(Bt.a,{options:this.state.Options}))),r.a.createElement(yt.a,{span:4},r.a.createElement(ie.a.Item,{label:"Tr\u1ea1ng th\xe1i",name:"status"},r.a.createElement(Bt.a,{options:this.state.status}))),r.a.createElement(yt.a,{span:4},r.a.createElement(L.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(Nr.a,null)},"T\xecm ki\u1ebfm")))),r.a.createElement(L.a,{type:"primary",className:"buttontype",onClick:function(){return e.showModalAdd()}},"Th\xeam"),r.a.createElement(Qt.a,{dataSource:t,columns:a}),";"),r.a.createElement(le.a,{title:"Chi ti\u1ebft",visible:l,onOk:this.handleOk,onCancel:this.handleCancel,footer:null,width:800},this.renderModal()),r.a.createElement(le.a,{title:"Th\xeam Payload",width:800,visible:i,onOk:this.handleOkAdd,onCancel:this.handleCancelAdd,footer:null},this.renderModalAdd()),r.a.createElement(le.a,{title:"X\xf3a Payload",visible:c,onOk:this.handleOkDelete,onCancel:this.handleCancelDelete,footer:null},this.renderModalDelete()),r.a.createElement(le.a,{title:"\u0110\u0103ng k\xfd b\u1ea3o d\u01b0\u1ee1ng",visible:o,onOk:this.handleOkDelete,onCancel:this.handleCancelMaintenance,footer:null},this.renderModalMaintenance()))}}]),a}(n.Component);function Ec(){var e=Object(d.a)(["\n  .action{\n    margin-right: 5px;\n  }\n  .searchtype {\n    margin-top: 20px;\n  }\n  .buttontype {\n    margin-bottom: 10px;\n  }\n"]);return Ec=function(){return e},e}var yc=h.a.div(Ec()),bc=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).showModal=function(e){n.setState({visible:!0}),n.setState({detailPayloadType:e}),n.setState({idPayloadType:e.id})},n.handleOk=function(e){n.setState({visible:!1})},n.handleCancel=function(e){n.setState({visible:!1})},n.handleCancelAdd=function(e){n.setState({visibleAdd:!1})},n.handleCancelDelete=function(e){n.setState({visibleDelete:!1})},n.state={visible:!1,currentTable:null,tables:[],idPayloadType:null,modalLoading:!1,detailBill:[],detailPayloadType:{},options:[],payload:{},visibleAdd:!1,visibleDelete:!1,idPayloadDelete:null},n}return Object(Be.a)(a,[{key:"handleClick",value:function(){Object(o.g)().push("/edit-payloadtype")}},{key:"componentDidMount",value:function(){this.loadAllPayloadType()}},{key:"loadAllPayloadType",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/payloadtype").then((function(t){e.setState({tables:t.data})}))}},{key:"handleFormSubmitEdit",value:function(e){var t=this,a={name:e.name,description:e.description};de.a.put("https://dsd06.herokuapp.com/api/payload/"+this.state.idPayloadType,a).then((function(e){console.log(e.data),t.setState({visible:!1})}))}},{key:"renderModal",value:function(){var e=this;return r.a.createElement(ie.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:10}},{onFinish:function(t){return e.handleFormSubmitEdit(t)}}),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:24},r.a.createElement(ie.a.Item,{initialValue:this.state.detailPayloadType.name,label:"T\xean",name:"name",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean lo\u1ea1i payload!"}]},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:24},r.a.createElement(ie.a.Item,{initialValue:this.state.detailPayloadType.description,label:"M\xf4 t\u1ea3",name:"description"},r.a.createElement(ce.a,null)))),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"L\u01b0u")))}},{key:"showModalAdd",value:function(){this.setState({visibleAdd:!0})}},{key:"handleFormSubmit",value:function(e){var t=this;console.log(e);var a={name:e.name,description:e.description};de.a.post("https://dsd06.herokuapp.com/api/payloadtype",a).then((function(e){console.log(e.data),t.setState({visibleAdd:!1}),t.loadAllPayloadType()}))}},{key:"renderModalAdd",value:function(){var e=this;return r.a.createElement(ie.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:10}},{onFinish:function(t){return e.handleFormSubmit(t)}}),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:24},r.a.createElement(ie.a.Item,{label:"T\xean",name:"name",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean lo\u1ea1i payload!"}]},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:24},r.a.createElement(ie.a.Item,{label:"M\xf4 t\u1ea3",name:"description"},r.a.createElement(ce.a,null)))),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Submit")))}},{key:"showModalDelete",value:function(e){this.setState({visibleDelete:!0}),this.setState({idPayloadDelete:e.id})}},{key:"deleteRecord",value:function(){var e=this;de.a.delete("https://dsd06.herokuapp.com/api/payloadtype/"+this.state.idPayloadDelete).then((function(t){console.log(t.data),e.setState({visibleDelete:!1}),e.loadAllPayloadType()}))}},{key:"renderModalDelete",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"B\u1ea1n c\xf3 ch\u1eafc x\xf3a b\u1ea3n ghi n\xe0y?"),r.a.createElement(L.a,{type:"primary",danger:!0,onClick:function(){return e.deleteRecord()}},"X\xf3a"))}},{key:"render",value:function(){var e=this,t=this.state.tables.map((function(e){return{id:e._id,description:e.description,name:e.name}})),a=[{title:"T\xean lo\u1ea1i Payload",dataIndex:"name",key:"name"},{title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description"},{title:"Action",key:"operation",width:100,render:function(t,a){return r.a.createElement(Yt.b,{size:"small"},r.a.createElement(L.a,{type:"link",onClick:function(){return e.showModal(a)}},"S\u1eeda"),r.a.createElement(L.a,{danger:!0,type:"text",onClick:function(){return e.showModalDelete(a)}},"X\xf3a"))}}],n=this.state,l=n.visible,i=n.visibleAdd,c=n.visibleDelete;n.currentTable,n.tables;return r.a.createElement(yc,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Qu\u1ea3n l\xfd lo\u1ea1i Payload"),r.a.createElement("br",null),r.a.createElement(L.a,{type:"primary",className:"buttontype",onClick:function(){return e.showModalAdd()}},"Th\xeam lo\u1ea1i m\u1edbi"),r.a.createElement(Qt.a,{dataSource:t,columns:a})),r.a.createElement(le.a,{title:"Chi ti\u1ebft",visible:l,onOk:this.handleOk,onCancel:this.handleCancel,footer:null,width:800},this.renderModal()),r.a.createElement(le.a,{title:"Th\xeam lo\u1ea1i Payload",width:800,visible:i,onOk:this.handleOkAdd,onCancel:this.handleCancelAdd,footer:null},this.renderModalAdd()),r.a.createElement(le.a,{title:"X\xf3a lo\u1ea1i Payload",visible:c,onOk:this.handleOkDelete,onCancel:this.handleCancelDelete,footer:null},this.renderModalDelete()))}}]),a}(n.Component);function vc(){var e=Object(d.a)(["\n  .action{\n    margin-right: 5px;\n  }\n  .searchtype {\n    margin-top: 20px;\n  }\n  .buttontype {\n    margin-bottom: 10px;\n  }\n"]);return vc=function(){return e},e}h.a.div(vc()),ce.a.TextArea,ce.a.TextArea;function jc(){var e=Object(d.a)(["\n  .searchtype {\n     margin-bottom: 30px;\n  }\n"]);return jc=function(){return e},e}var Oc=h.a.div(jc()),kc={labelCol:{span:5},wrapperCol:{span:10}},Cc={wrapperCol:{offset:8,span:16}},xc=function(e){var t=e.history;return r.a.createElement(Oc,null,r.a.createElement("div",{className:"searchtype"},r.a.createElement("a",{onClick:function(){return t.push("/payload-management")}},"Qu\u1ea3n l\xfd Payload")," ",r.a.createElement("span",null,"/")," ",r.a.createElement("a",{onClick:function(){return t.push("/payload-configuration")}},"C\u1ea5u h\xecnh Payload")),r.a.createElement(ie.a,Object.assign({},kc,{name:"basic",initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)}}),r.a.createElement("h3",{className:"searchtype"},"Th\xf4ng tin c\u1ea5u h\xecnh"),r.a.createElement(ie.a.Item,{label:"Panning",name:"username",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(ce.a,null)),r.a.createElement(ie.a.Item,{label:"Tilting",name:"tilting",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(ce.a,null)),r.a.createElement(ie.a.Item,{label:"Zooming",name:"zooming",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(ce.a,null)),r.a.createElement(ie.a.Item,Cc,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Submit"))))};function Sc(){var e=Object(d.a)(["\n  .action{\n    margin-right: 5px;\n  }\n  .searchtype {\n    margin-top: 20px;\n  }\n  .buttontype {\n    margin-bottom: 10px;\n  }\n"]);return Sc=function(){return e},e}var wc=h.a.div(Sc()),Ac=function(e){var t=e.history;return r.a.createElement(wc,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Th\u1ed1ng k\xea Payload"),r.a.createElement("br",null),r.a.createElement(ie.a,null,r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:4},r.a.createElement(L.a,{type:"primary",className:"buttontype",onClick:function(){return t.push("/payload-statistic-work")}},"Th\u1ed1ng k\xea l\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng c\u1ee7a Payload")),r.a.createElement(yt.a,{span:4},r.a.createElement(L.a,{type:"primary",className:"buttontype",onClick:function(){return t.push("/payload-statistic-fix")}},"Th\u1ed1ng k\xea l\u1ecbch s\u1eed s\u1eeda ch\u1eefa c\u1ee7a Payload"))),r.a.createElement("br",null),r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:4},r.a.createElement(L.a,{type:"primary",className:"buttontype",onClick:function(){return t.push("/payload-statistic-status")}},"Th\u1ed1ng k\xea theo tr\u1ea1ng th\xe1i Payload")),r.a.createElement(yt.a,{span:4},r.a.createElement(L.a,{type:"primary",className:"buttontype",onClick:function(){return t.push("/payload-statistic-type")}},"Th\u1ed1ng k\xea theo lo\u1ea1i Payload"))))))};function Ic(){var e=Object(d.a)(["\n  .action{\n    margin-right: 5px;\n  }\n  .searchtype {\n    margin-top: 20px;\n  }\n  .buttontype {\n    margin-bottom: 10px;\n  }\n"]);return Ic=function(){return e},e}var Tc=h.a.div(Ic()),Nc=a(204),Dc=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).handleOk=function(e){n.setState({visible:!1})},n.handleCancel=function(e){n.setState({visible:!1})},n.state={visible:!1,currentTable:null,tables:[],idPayload:null,modalLoading:!1,detailBill:[],detailPayload:{},options:[],payload:{},visibleAdd:!1,visibleDelete:!1,idPayloadDelete:null,status:[{value:"working",label:"\u0110ang s\u1eed d\u1ee5ng"},{value:"idle",label:"S\u1eb5n c\xf3"},{value:"fixing",label:"\u0110ang s\u1eeda"}],typeData:[{x:"Camera g\xf3c r\u1ed9ng",y:0},{x:"Camera nhi\u1ec7t",y:0},{x:"Camera h\u1ed3ng ngo\u1ea1i",y:0},{x:"C\u1ea3m bi\u1ebfn nhi\u1ec7t \u0111\u1ed9",y:0},{x:"C\u1ea3m bi\u1ebfn ti\u1ec7m c\u1eadn",y:0}]},n}return Object(Be.a)(a,[{key:"componentDidMount",value:function(){this.loadAllPayload(),this.getAllTypePayload()}},{key:"loadAllPayload",value:function(){var e=this;de.a.get("http://dsd06.herokuapp.com/api/payload").then((function(t){e.setState({tables:t.data})}))}},{key:"getAllTypePayload",value:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t=this;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.a.get("https://dsd06.herokuapp.com/api/payloadtype").then((function(e){var a=e.data.map((function(e){return{label:e.name,value:e._id}}));t.setState({Options:a})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a,n=this;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,de.a.get("https://dsd06.herokuapp.com/api/payloadtype").then((function(e){return e.data.map((function(e){return{x:e.name,y:e._id}}))})).catch((function(e){return[]}));case 3:a=e.sent,de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{type:a[0].y}}).then((function(e){var a=e.data,r=t.state.typeData;r[0].y=a.length,n.setState(r)})),de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{type:a[1].y}}).then((function(e){var a=e.data,r=t.state.typeData;r[1].y=a.length,n.setState(r)})),de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{type:a[2].y}}).then((function(e){var a=e.data,r=t.state.typeData;r[2].y=a.length,n.setState(r)})),de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{type:a[3].y}}).then((function(e){var a=e.data,r=t.state.typeData;r[3].y=a.length,n.setState(r)})),de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{type:a[4].y}}).then((function(e){var a=e.data,r=t.state.typeData;r[4].y=a.length,n.setState(r)}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchPayload",value:function(e){var t=this;de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{type:e.type,status:e.status}}).then((function(e){t.setState({tables:e.data})}))}},{key:"render",value:function(){var e=this,t=this.state.tables.map((function(e){return{id:e._id,code:e.code,name:e.name,status:e.status,manufacturer:e.detail.manufacturer,type:e.type.name,des:e.type.description,type_id:e.type._id,weight:e.detail.weight,opticalZoom:e.detail.opticalZoom,digitalZoom:e.detail.digitalZoom,sizewidth:e.detail.size.width,sizeheight:e.detail.size.height,sizelength:e.detail.size.length,panningmin:e.detail.panning.min,panningmax:e.detail.panning.max,tiltingmin:e.detail.tilting.min,tiltingmax:e.detail.tilting.max,zoommin:e.detail.zoom.min,zoommax:e.detail.zoom.max}})),a=this.state,n=(a.visible,a.visibleAdd,a.visibleDelete,a.currentTable,a.tables,a.typeData);return r.a.createElement(Tc,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Th\u1ed1ng k\xea Payload theo lo\u1ea1i"),r.a.createElement("div",{className:"searchtype"},r.a.createElement("a",{onClick:function(){return e.props.history.push("/payload-statistic")}},"Th\u1ed1ng k\xea Payload")," ",r.a.createElement("span",null,"/"),r.a.createElement("a",{onClick:function(){return e.props.history.push("/payload-statistic-type")}},"Theo lo\u1ea1i Payload")),r.a.createElement(ie.a,{layout:"horizontal",className:"searchtype",onFinish:function(t){return e.searchPayload(t)}},r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:16},r.a.createElement(Nc.Pie,{hasLegend:!0,title:"Theo lo\u1ea1i",subTitle:"Theo l\u1ecdai",total:function(){return r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.reduce((function(e,t){return t.y+e}),0)+" payload"}})},data:n.filter((function(e){return e.y>0})),valueFormat:function(e){return r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}})},height:324}))),r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:9},r.a.createElement("br",null),r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn lo\u1ea1i Payload",name:"type"},r.a.createElement(Bt.a,{options:this.state.Options}))),r.a.createElement(yt.a,{span:14},r.a.createElement("br",null),r.a.createElement(L.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(Nr.a,null)},"L\u1ecdc")))),r.a.createElement(Qt.a,{dataSource:t,columns:[{title:"M\xe3 ",dataIndex:"code",key:"code"},{title:"T\xean",dataIndex:"name",key:"name"},{title:"Nh\xe0 s\u1ea3n xu\u1ea5t",dataIndex:"manufacturer",key:"manufacturer"},{title:"Lo\u1ea1i",dataIndex:"type",key:"type"},{title:"M\xf4 t\u1ea3",dataIndex:"des",key:"des"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status"}]}),";"))}}]),a}(n.Component),Pc=function(e){var t=e.history;return r.a.createElement(wc,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Th\u1ed1ng k\xea Payload theo t\u1ea7n su\u1ea5t s\u1eed d\u1ee5ng"),r.a.createElement("div",{className:"searchtype"},r.a.createElement("a",{onClick:function(){return t.push("/payload-statistic")}},"Th\u1ed1ng k\xea Payload")," ",r.a.createElement("span",null,"/")," ",r.a.createElement("a",{onClick:function(){return t.push("/payload-statistic/time")}},"Ch\u1ec9nh s\u1eeda Payload")),r.a.createElement(ie.a,null,r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:4},r.a.createElement(ie.a.Item,{label:"Ch\u1ecdn th\u1eddi gian"},r.a.createElement(Bt.a,null,r.a.createElement(Bt.a.Option,{value:"demo"},"Demo")))))),r.a.createElement(Qt.a,{dataSource:[{stt:"1",code:"TT73623",name:"Sensor T",type:"Sensor",use_number:"14",drone_number:"4"},{stt:"2",code:"PN62523",name:"Camera c\u1ea3m bi\u1ebfn nhi\u1ec7t",type:"Camera",use_number:"1",drone_number:"1"},{stt:"3",code:"TT73623",name:"Sensor T",type:"Sensor",use_number:"4",drone_number:"3"},{stt:"4",code:"SN04628",name:"Camera SONY 04628",type:"Camera",use_number:"5",drone_number:"1"},{stt:"5",code:"TT73623",name:"Sensor T",type:"Sensor",use_number:"5",drone_number:"2"},{stt:"6",code:"SN04628",name:"Camera SONY 04628",type:"Camera",use_number:"5",drone_number:"2"}],columns:[{title:"STT",dataIndex:"stt",key:"stt"},{title:"M\xe3 Payload",dataIndex:"code",key:"code"},{title:"T\xean Payload",dataIndex:"name",key:"name"},{title:"Ph\xe2n lo\u1ea1i",dataIndex:"type",key:"type"},{title:"S\u1ed1 l\u01b0\u1ee3t s\u1eed d\u1ee5ng",dataIndex:"use_number",key:"use_number"},{title:"S\u1ed1 drone \u0111\u01b0\u1ee3c g\u1eafn",dataIndex:"drone_number",key:"drone_number"}]}),";"),r.a.createElement(le.a,{title:"Basic Modal",visible:!1},r.a.createElement("p",null,"Some contents..."),r.a.createElement("p",null,"Some contents..."),r.a.createElement("p",null,"Some contents...")))};a(546);function Mc(){var e=Object(d.a)(["\n  .action{\n    margin-right: 5px;\n  }\n  .searchtype {\n    margin-top: 20px;\n  }\n  .buttontype {\n    margin-bottom: 10px;\n  }\n"]);return Mc=function(){return e},e}var Lc=h.a.div(Mc()),_c=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).handleOk=function(e){n.setState({visible:!1})},n.handleCancel=function(e){n.setState({visible:!1})},n.state={visible:!1,currentTable:null,tables:[],idPayload:null,modalLoading:!1,detailBill:[],detailPayload:{},options:[],payload:{},visibleAdd:!1,visibleDelete:!1,idPayloadDelete:null,status:[{value:"working",label:"\u0110ang s\u1eed d\u1ee5ng"},{value:"idle",label:"S\u1eb5n c\xf3"},{value:"fixing",label:"\u0110ang s\u1eeda"}],salesPieData:[{x:"\u0110ang ho\u1ea1t \u0111\u1ed9ng",y:1},{x:"S\u1eb5n c\xf3",y:1},{x:"\u0110ang s\u1eeda",y:1}]},n}return Object(Be.a)(a,[{key:"componentDidMount",value:function(){this.loadAllPayload(),this.getAllTypePayload()}},{key:"loadAllPayload",value:function(){var e=this;de.a.get("http://dsd06.herokuapp.com/api/payload").then((function(t){e.setState({tables:t.data})}))}},{key:"getAllTypePayload",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/payloadtype").then((function(t){var a=t.data.map((function(e){return{label:e.name,value:e._id}}));e.setState({Options:a})}))}},{key:"searchPayload",value:function(e){var t=this;de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{type:e.type,status:e.status}}).then((function(e){t.setState({tables:e.data})}))}},{key:"componentWillMount",value:function(){var e=this,t=this;de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{status:"working"}}).then((function(a){var n=a.data,r=t.state.salesPieData;r[0].y=n.length,e.setState(r)})),de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{status:"idle"}}).then((function(a){var n=a.data,r=t.state.salesPieData;r[1].y=n.length,e.setState(r)})),de.a.get("http://dsd06.herokuapp.com/api/payload",{params:{status:"fixing"}}).then((function(a){var n=a.data,r=t.state.salesPieData;r[2].y=n.length,e.setState(r)}))}},{key:"render",value:function(){var e=this,t=this.state.tables.map((function(e){return{id:e._id,code:e.code,name:e.name,status:e.status,manufacturer:e.detail.manufacturer,type:e.type.name,des:e.type.description,type_id:e.type._id,weight:e.detail.weight,opticalZoom:e.detail.opticalZoom,digitalZoom:e.detail.digitalZoom,sizewidth:e.detail.size.width,sizeheight:e.detail.size.height,sizelength:e.detail.size.length,panningmin:e.detail.panning.min,panningmax:e.detail.panning.max,tiltingmin:e.detail.tilting.min,tiltingmax:e.detail.tilting.max,zoommin:e.detail.zoom.min,zoommax:e.detail.zoom.max}})),a=this.state,n=(a.visible,a.visibleAdd,a.visibleDelete,a.currentTable,a.tables,a.salesPieData);return r.a.createElement(Lc,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Th\u1ed1ng k\xea Payload theo tr\u1ea1ng th\xe1i ho\u1ea1t \u0111\u1ed9ng"),r.a.createElement("div",{className:"searchtype"},r.a.createElement("a",{onClick:function(){return e.props.history.push("/payload-statistic")}},"Th\u1ed1ng k\xea Payload")," ",r.a.createElement("span",null,"/"),r.a.createElement("a",{onClick:function(){return e.props.history.push("/payload-statistic-status")}},"Theo tr\u1ea1ng th\xe1i ho\u1ea1t \u0111\u1ed9ng")),r.a.createElement(ie.a,{layout:"horizontal",className:"searchtype",onFinish:function(t){return e.searchPayload(t)}},r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:16},r.a.createElement(Nc.Pie,{hasLegend:!0,title:"Theo tr\u1ea1ng th\xe1i",subTitle:"Theo tr\u1ea1ng th\xe1i",total:function(){return r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.reduce((function(e,t){return t.y+e}),0)+" payload"}})},data:n.filter((function(e){return e.y>0})),valueFormat:function(e){return r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}})},height:324})),r.a.createElement("br",null)),r.a.createElement(w.a,{justify:"space-around"},r.a.createElement("br",null),r.a.createElement(yt.a,{span:9},r.a.createElement(ie.a.Item,{label:"Tr\u1ea1ng th\xe1i",name:"status"},r.a.createElement(Bt.a,{options:this.state.status}))),r.a.createElement(yt.a,{span:14},r.a.createElement(L.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(Nr.a,null)},"L\u1ecdc")))),r.a.createElement(Qt.a,{dataSource:t,columns:[{title:"M\xe3 ",dataIndex:"code",key:"code"},{title:"T\xean",dataIndex:"name",key:"name"},{title:"Nh\xe0 s\u1ea3n xu\u1ea5t",dataIndex:"manufacturer",key:"manufacturer"},{title:"Lo\u1ea1i",dataIndex:"type",key:"type"},{title:"M\xf4 t\u1ea3",dataIndex:"des",key:"des"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status"}]}),";"))}}]),a}(n.Component),Fc=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).state={listPayloadWorking:[],workData:[{x:"2020-12-07",y:0},{x:"2020-12-08",y:0},{x:"2020-12-09",y:0},{x:"2020-12-10",y:0},{x:"2020-12-11",y:0},{x:"2020-12-12",y:0},{x:"2020-12-13",y:0},{x:"2020-12-05",y:0},{x:"2020-12-14",y:0},{x:"2020-12-15",y:0}]},n}return Object(Be.a)(a,[{key:"componentDidMount",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/payloadStat/feeWorking").then((function(t){var a=t.data;a=a.filter((function(e){return null!=e.payload}));for(var n=0;n<a.length;n++)a[n].startedAt=a[n].startedAt.replace(/\:([0-9]+)(\.[0-9a-zA-Z]+)?$/g,":$1").replace(/T/," "),null!=a[n].finishedAt&&(a[n].finishedAt=a[n].finishedAt.replace(/\:([0-9]+)(\.[0-9a-zA-Z]+)?$/g,":$1").replace(/T/," "));e.setState({listPayloadWorking:a})}))}},{key:"componentWillMount",value:function(){var e=this,t=this;de.a.get("https://dsd06.herokuapp.com/api/payloadStat/feeWorking").then((function(a){var n=a.data,r=t.state.workData;n=n.filter((function(e){return null!=e.payload}));for(var l=0;l<n.length;l++){n[l].startedAt=n[l].startedAt.split("T")[0];for(var i=0;i<r.length;i++)n[l].startedAt==r[i].x&&(r[i].y=r[i].y+1)}e.setState(r)}))}},{key:"render",value:function(){var e=this,t=this.state.listPayloadWorking.map((function(e){return{id:e._id,payloadCode:e.payload.code,payloadName:e.payload.name,type:e.type,reason:e.reason,droneId:e.droneId,fee:e.fee,startedAt:e.startedAt,finishedAt:e.finishedAt}})),a=this.state.workData;return r.a.createElement(wc,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Th\u1ed1ng k\xea l\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng Payload "),r.a.createElement("div",{className:"searchtype"},r.a.createElement("a",{onClick:function(){return e.props.history.push("/payload-statistic")}},"Th\u1ed1ng k\xea Payload")," ",r.a.createElement("span",null,"/"),r.a.createElement("a",{onClick:function(){return e.props.history.push("/payload-statistic/drone")}},"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng")),r.a.createElement(ie.a,null,r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:18},r.a.createElement(Nc.Bar,{height:300,title:"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng theo ng\xe0y",data:a.filter((function(e){return e.y>=0}))}),r.a.createElement("br",null)),r.a.createElement("br",null))),r.a.createElement(Qt.a,{dataSource:t,columns:[{title:"M\xe3 Payload",dataIndex:"payloadCode",key:"payloadCode"},{title:"T\xean Payload",dataIndex:"payloadName",key:"payloadName"},{title:"Ph\xe2n lo\u1ea1i",dataIndex:"type",key:"type"},{title:"Chi ph\xed",dataIndex:"fee",key:"fee"},{title:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",dataIndex:"startedAt",key:"startedAt"},{title:"Th\u1eddi gian k\u1ebft th\xfac",dataIndex:"finishedAt",key:"finishedAt"}]})))}}]),a}(n.Component),Rc=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).state={listPayloadFixing:[]},n}return Object(Be.a)(a,[{key:"componentDidMount",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/payloadStat/feeFixing").then((function(t){var a=t.data;a=a.filter((function(e){return null!=e.payload}));for(var n=0;n<a.length;n++)a[n].startedAt=a[n].startedAt.replace(/\:([0-9]+)(\.[0-9a-zA-Z]+)?$/g,":$1").replace(/T/," ");e.setState({listPayloadFixing:a})}))}},{key:"render",value:function(){var e=this,t=this.state.listPayloadFixing.map((function(e){return{payloadCode:e.payload.code,payloadName:e.payload.name,type:e.type,reason:e.reason,fee:e.fee,startedAt:e.startedAt,finishedAt:e.finishedAt}}));return r.a.createElement(wc,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Th\u1ed1ng k\xea l\u1ecbch s\u1eed s\u1eeda ch\u1eefa Payload"),r.a.createElement("div",{className:"searchtype"},r.a.createElement("a",{onClick:function(){return e.props.history.push("/payload-statistic")}},"Th\u1ed1ng k\xea Payload")," ",r.a.createElement("span",null,"/"),r.a.createElement("a",{onClick:function(){return e.props.history.push("/payload-statistic/moment")}},"L\u1ecbch s\u1eed s\u1eeda ch\u1eefa")),r.a.createElement(ie.a,null,r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:18},r.a.createElement("br",null)))),r.a.createElement(Qt.a,{dataSource:t,columns:[{title:"M\xe3 Payload",dataIndex:"payloadCode",key:"payloadCode"},{title:"T\xean Payload",dataIndex:"payloadName",key:"payloadName"},{title:"Ph\xe2n lo\u1ea1i",dataIndex:"type",key:"type"},{title:"L\xfd do",dataIndex:"reason",key:"reason"},{title:"Chi ph\xed",dataIndex:"fee",key:"fee"},{title:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",dataIndex:"startedAt",key:"startedAt"},{title:"Th\u1eddi gian k\u1ebft th\xfac",dataIndex:"finishedAt",key:"finishedAt"}]})),r.a.createElement(le.a,{title:"Basic Modal"},r.a.createElement("p",null,"Some contents..."),r.a.createElement("p",null,"Some contents..."),r.a.createElement("p",null,"Some contents...")))}}]),a}(n.Component);function Yc(){var e=Object(d.a)(["\n  .action{\n    margin-right: 5px;\n  }\n  .searchtype {\n    margin-top: 20px;\n  }\n  .buttontype {\n    margin-bottom: 10px;\n  }\n"]);return Yc=function(){return e},e}var Qc=h.a.div(Yc()),Bc=function(e){Object(ze.a)(n,e);var t=Object(He.a)(n);function n(e){var a;return Object(Qe.a)(this,n),(a=t.call(this,e)).handleCancelReturnPayload=function(e){a.setState({visableReturnModal:!1})},a.state={listPayloadDroneHistory:[],payloadId:"",PayloadOptions:[],PayloadTypeOptions:[],idPayloadReturn:null,visableReturnModal:!1,payloadCode:"",payloadName:"",status:"",startedAt:"",type:"",droneName:"",isGetAllHistoryPayload:!0,listAllHistories:[]},a}return Object(Be.a)(n,[{key:"componentDidMount",value:function(){this.setState({isGetAllHistoryPayload:!0}),this.getAllPayload(),this.getAllTypePayload(),this.getAllHistories()}},{key:"getAllHistories",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/payloadregister/allHistories").then((function(t){var a=t.data,n=[],r=[];a.map((function(e){null==e.payload||null==e.sdCardId||""==e.sdCardId?n.push(e):r.push(e)})),e.setState({listAllHistories:r})}))}},{key:"getAllPayload",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/payload").then((function(t){var a=t.data.map((function(e){return{label:e.name,value:e._id}}));e.setState({PayloadOptions:a})}))}},{key:"getAllTypePayload",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/payloadtype").then((function(t){var a=t.data.map((function(e){return{label:e.name,value:e._id}}));e.setState({PayloadTypeOptions:a})}))}},{key:"handleFindPayloadHistory",value:function(e){var t=this;this.setState({isGetAllHistoryPayload:!1}),de.a.get("https://dsd06.herokuapp.com/api/payloadregister/histories/"+e.payloadId).then((function(a){var n=a.data;console.log(e.payloadId),n.map((function(e){var a=e.droneId;t.findDroneById(a)})),t.setState({listPayloadDroneHistory:n})}))}},{key:"findDroneById",value:function(e){var t=this;de.a.get("http://skyrone.cf:6789/drone/getById/"+e).then((function(e){var a=e.data;console.log(a),t.setState({droneName:a.name})}))}},{key:"showModalReturnPayload",value:function(e){console.log(e),this.setState({visableReturnModal:!0}),this.setState({idPayloadReturn:e.payloadId})}},{key:"returnPayload",value:function(e){var t=this,n=e.fee,r=a(413);de.a.post("https://dsd06.herokuapp.com/api/payloadregister/return/"+this.state.idPayloadReturn,r.stringify({fee:n})).then((function(e){console.log(e.data),t.setState({visableReturnModal:!1}),setTimeout((function(){window.location.reload(!1)}),2e3)}))}},{key:"renderModalReturnPayload",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ie.a,{onFinish:function(t){return e.returnPayload(t)}},r.a.createElement("p",null,"B\u1ea1n c\xf3 ch\u1eafc tr\u1ea3 l\u1ea1i payload n\xe0y?"),r.a.createElement(ie.a.Item,{label:"Chi ph\xed",name:"fee",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp chi ph\xed!"}]},r.a.createElement(ce.a,null)),r.a.createElement(L.a,{type:"primary",htmlType:"submit",danger:!0},"Tr\u1ea3 payload")))}},{key:"render",value:function(){var e=this,t=[{title:"M\xe3 payload",dataIndex:"payloadCode",key:"payloadCode"},{title:"T\xean payload",dataIndex:"payloadName",key:"payloadName"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status"},{title:"T\xean Drone",dataIndex:"droneName",key:"droneName"},{title:"Th\u1ebb nh\u1edb",dataIndex:"memory",key:"memory"},{title:"Ph\xed d\u1ecbch v\u1ee5",dataIndex:"fee",key:"fee"},{title:"L\xfd do",dataIndex:"reason",key:"reason"},{title:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",dataIndex:"startedAt",key:"startedAt"},{title:"Th\u1eddi gian k\u1ebft th\xfac",dataIndex:"finishedAt",key:"finishedAt"},{title:"Lo\u1ea1i ho\u1ea1t \u0111\u1ed9ng",dataIndex:"type",key:"type"},{title:"H\xe0nh \u0111\u1ed9ng",key:"operation",width:100,render:function(t,a){return r.a.createElement(Yt.b,{size:"small"},r.a.createElement(L.a,{style:{backgroundColor:"red",color:"white"},danger:!0,type:"text",onClick:function(){return e.showModalReturnPayload(a)}},"Tr\u1ea3 payload"))}}],a=[{}];a=!0===this.state.isGetAllHistoryPayload?this.state.listAllHistories.map((function(t){return{droneName:e.state.droneName,payloadId:t.payload._id,payloadCode:t.payload.code,payloadName:t.payload.name,startedAt:Xe()(t.startedAt).format("YYYY-MM-DD hh:mm:ss"),finishedAt:Xe()(t.finishedAt).format("YYYY-MM-DD hh:mm:ss"),type:t.type,fee:t.fee,status:t.payload.status,memory:t.sdCardId.name+t.sdCardId.volume,reason:t.reason}})):this.state.listPayloadDroneHistory.map((function(t){return{droneName:e.state.droneName,payloadId:t.payload._id,payloadCode:t.payload.code,payloadName:t.payload.name,startedAt:Xe()(t.startedAt).format("YYYY-MM-DD hh:mm:ss"),finishedAt:Xe()(t.finishedAt).format("YYYY-MM-DD hh:mm:ss"),type:t.type,fee:t.fee,status:t.payload.status,memory:t.sdCardId.name+t.sdCardId.volume,reason:t.reason}}));var n=this.state,l=(n.visible,n.visibleAdd,n.visableReturnModal);n.currentTable,n.tables;return r.a.createElement(Qc,null,r.a.createElement("div",null,r.a.createElement("h1",{style:{fontWeight:"bold",fontSize:16}},"Danh s\xe1ch l\u1ecbch s\u1eed \u0111\u0103ng k\xfd payload drone"),r.a.createElement(ie.a,{layout:"horizontal",className:"searchtype",onFinish:function(t){return e.handleFindPayloadHistory(t)}},r.a.createElement(w.a,{justify:"space-around"},r.a.createElement(yt.a,{span:9},r.a.createElement(ie.a.Item,{label:"Payload",name:"payloadId"},r.a.createElement(Bt.a,{options:this.state.PayloadOptions}))),r.a.createElement(yt.a,{span:3},r.a.createElement(L.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(Nr.a,null)},"T\xecm ki\u1ebfm")))),r.a.createElement(L.a,{type:"primary",className:"buttontype",onClick:function(){return e.props.history.push("/add-signup-payload-drone")}},"\u0110\u0103ng k\xfd m\u1edbi"),r.a.createElement(Qt.a,{dataSource:a,columns:t}),";"),r.a.createElement(le.a,{title:"Basic Modal"},r.a.createElement("p",null,"Some contents..."),r.a.createElement("p",null,"Some contents..."),r.a.createElement("p",null,"Some contents...")),r.a.createElement(le.a,{title:"X\xf3a Payload",visible:l,onCancel:this.handleCancelReturnPayload,footer:null},this.renderModalReturnPayload()))}}]),n}(n.Component),zc={labelCol:{span:5},wrapperCol:{span:10}},Hc={wrapperCol:{offset:8,span:16}},Uc=ce.a.TextArea,Vc=function(e){var t=e.history;return r.a.createElement(Qc,null,r.a.createElement("div",{className:"searchtype"},r.a.createElement("a",{onClick:function(){return t.push("/payload-drone")}},"Danh s\xe1ch \u0111\u0103ng k\xfd payload drone")," ",r.a.createElement("span",null,"/")," ",r.a.createElement("a",{onClick:function(){return t.push("/edit-signup-payload-drone")}},"Ch\u1ec9nh s\u1eeda \u0111\u0103ng k\xfd")),r.a.createElement(ie.a,Object.assign({},zc,{name:"basic",initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)}}),r.a.createElement("h3",{className:"searchtype"},"Th\xf4ng tin \u0111\u0103ng k\xfd"),r.a.createElement(ie.a.Item,{label:"Th\u1eddi gian",name:"time",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(oe.a,null)),r.a.createElement(ie.a.Item,{label:"Lo\u1ea1i thi\u1ebft b\u1ecb",name:"payloadId",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(Bt.a,null,r.a.createElement("option",{value:"camera"},"Camera"),r.a.createElement("option",{value:"micro"},"Micro"),r.a.createElement("option",{value:"sensor"},"Sensor"))),r.a.createElement(ie.a.Item,{label:"Payload",name:"payloadId",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(Bt.a,null,r.a.createElement("option",null,"Payload 1"),r.a.createElement("option",null,"Payload 2"),r.a.createElement("option",null,"Payload 3"))),r.a.createElement(ie.a.Item,{label:"Tr\u1ea1ng th\xe1i",name:"status",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(Bt.a,null,r.a.createElement("option",null,"Ho\u1ea1t \u0111\u1ed9ng"),r.a.createElement("option",null,"Kh\xf4ng ho\u1ea1t \u0111\u1ed9ng"))),r.a.createElement(ie.a.Item,{label:"M\xf4 t\u1ea3",name:"status",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(Uc,null)),r.a.createElement(ie.a.Item,Hc,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"C\u1eadp nh\u1eadt"))))},Kc=a(1205),Gc=a(1182),Zc={labelCol:{span:5},wrapperCol:{span:10}},Jc={wrapperCol:{offset:8,span:16}},qc=(ce.a.TextArea,function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({panning:e.target.value,tilting:e.target.value,zoom:e.target.value,autoTracking:e.target.value,shootInterval:e.target.value,reason:e.target.value,droneId:e.target.value,numberOfConfigs:e.target.value})},n.handleSelectNumberOfConfig=function(e){var t=e;n.setState({numberConfig:t})},n.state={options:[],droneOptions:[],sdCardOptions:[],visable:!1,visableAdd:!1,time:"",payloadType:"",payloadId:"",panning:"",titling:"",zoom:"",manufacturer:"",opticalZoom:"",digitalZoom:"",shooting:[{value:"10",label:"10s"},{value:"20",label:"20s"},{value:"30",label:"30s"}],tracking:[{value:"true",label:"B\u1eadt t\u1ef1 \u0111\u1ed9ng theo d\xf5i"},{value:"false",label:"t\u1eaft t\u1ef1 \u0111\u1ed9ng theo d\xf5i"}],numberOfConfigs:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"}],numberConfig:"",configs:[],showSuccessAlert:!1,showFailAlert:!1},n}return Object(Be.a)(a,[{key:"componentDidMount",value:function(){this.getAllPayload(),this.getAllDrone(),this.getAllSDCard()}},{key:"handleFormSubmit",value:function(e){for(var t=this,a=[],n=0;n<e.numberOfConfigs;n++){var r="configsStartTime"+n,l="configsEndTime"+n,i="configsObject"+n,c="configsPan"+n,o="configsTilt"+n,s="configsZoom"+n,u="configsTracking"+n,m="configsShoot"+n;a.push({startTime:e[r].format("HH:mm:ss"),endTime:e[l].format("HH:mm:ss"),object:e[i],config:{panning:e[c],tilting:e[o],zoom:e[s],autoTracking:e[u],shootInterval:e[m]}})}var d={configs:a,droneId:e.droneId,payloadId:e.payloadId,reason:e.reason,sdCardId:e.sdCardId};console.log(d.droneId),de.a.post("https://dsd06.herokuapp.com/api/payloadregister/working/"+d.payloadId,d).then((function(e){console.log(e.data),t.setState({showSuccessAlert:!0}),t.props.history.push("/payload-drone")}))}},{key:"getAllPayload",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/payload?status=idle").then((function(t){var a=t.data.map((function(e){return{label:e.name,value:e._id}}));e.setState({Options:a})}))}},{key:"getAllDrone",value:function(){var e=this;de.a.get("http://skyrone.cf:6789/drone/getAll").then((function(t){console.log(t.data);var a=t.data.map((function(e){return{label:e.code,value:e.id}}));e.setState({DroneOptions:a})}))}},{key:"getAllSDCard",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/sdcard").then((function(t){var a=t.data.map((function(e){return{label:e.name+e.volume,value:e._id}}));e.setState({sdCardOptions:a})}))}},{key:"configNumbers",value:function(){return Object(Pa.a)(Array(parseInt(this.state.numberConfig||0)).keys())}},{key:"render",value:function(){var e=this,t=this.state;t.visible,t.visibleAdd,t.visibleDelete,t.currentTable,t.tables;return r.a.createElement(Qc,null,r.a.createElement("div",{className:"searchtype"},r.a.createElement("a",{onClick:function(){return e.props.history.push("/payload-drone")}},"Danh s\xe1ch \u0111\u0103ng k\xfd payload drone")," ",r.a.createElement("span",null,"/"),r.a.createElement("a",{onClick:function(){return e.props.history.push("/add-signup-payload-drone")}},"\u0110\u0103ng k\xfd m\u1edbi")),r.a.createElement(ie.a,Object.assign({},Zc,{onFinish:function(t){return e.handleFormSubmit(t)}}),this.state.showSuccessAlert&&r.a.createElement(Kc.a,{type:"success",data:"Update succesfully"}),r.a.createElement("h3",{className:"searchtype"},"Th\xf4ng tin \u0111\u0103ng k\xfd"),r.a.createElement(ie.a.Item,{label:"S\u1ed1 l\u01b0\u1ee3ng c\u1ea5u h\xecnh",name:"numberOfConfigs"},r.a.createElement(Bt.a,{options:this.state.numberOfConfigs,onChange:this.handleSelectNumberOfConfig})),r.a.createElement(ie.a.Item,{label:"Drone",name:"droneId",rules:[{required:!0}]},r.a.createElement(Bt.a,{options:this.state.DroneOptions})),r.a.createElement(ie.a.Item,{label:"L\xfd do",name:"reason"},r.a.createElement(ce.a,{placeholder:"L\xfd do"})),r.a.createElement(ie.a.Item,{label:"Thi\u1ebft b\u1ecb",name:"payloadId",rules:[{required:!0}]},r.a.createElement(Bt.a,{options:this.state.Options})),r.a.createElement(ie.a.Item,{label:"Lo\u1ea1i th\u1ebb nh\u1edb",name:"sdCardId",rules:[{required:!0}]},r.a.createElement(Bt.a,{options:this.state.sdCardOptions})),this.configNumbers().map((function(t){return r.a.createElement(ie.a.Item,Object.assign({key:t,name:"configs"},Zc,{style:{marginLeft:"200px"}}),r.a.createElement("h4",null,"C\u1ea5u h\xecnh ",t+1),r.a.createElement(ie.a.Item,{label:"Th\u1eddi gian b\u1eaft \u0111\xe2u",name:"configsStartTime".concat(t),rules:[{required:!0,message:"Please select time!"}]},r.a.createElement(Gc.a,null)),r.a.createElement(ie.a.Item,{label:"Th\u1eddi gian k\u1ebft th\xfac",name:"configsEndTime".concat(t),rules:[{required:!0,message:"Please select time!"}]},r.a.createElement(Gc.a,null)),r.a.createElement(ie.a.Item,{label:"\u0110\u1ed1i t\u01b0\u1ee3ng",name:"configsObject".concat(t)},r.a.createElement(ce.a,null)),r.a.createElement(ie.a.Item,{label:"Panning(T\u1eeb tr\xe1i qua ph\u1ea3i)",name:"configsPan".concat(t),rules:[{message:"Please input panning!"}]},r.a.createElement(ce.a,{placeholder:"0 \u0111\u1ed9 - 360 \u0111\u1ed9"})),r.a.createElement(ie.a.Item,{label:"Tilting(T\u1eeb tr\xean xu\u1ed1ng d\u01b0\u1edbi)",name:"configsTilt".concat(t),rules:[{message:"Please input tilting!"}]},r.a.createElement(ce.a,{placeholder:"0 \u0111\u1ed9 - 360 \u0111\u1ed9"})),r.a.createElement(ie.a.Item,{label:"Zooming",name:"configsZoom".concat(t),rules:[{message:"Please input zooming!"}]},r.a.createElement(ce.a,{placeholder:"2.0 Megapixel tr\u1edf l\xean"})),r.a.createElement(ie.a.Item,{label:"Auto Tracking",name:"configsTracking".concat(t),rules:[{}]},r.a.createElement(Bt.a,{options:e.state.tracking})),r.a.createElement(ie.a.Item,{label:"Shoot interval",name:"configsShoot".concat(t),rules:[{}]},r.a.createElement(Bt.a,{options:e.state.shooting})))})),r.a.createElement(ie.a.Item,Jc,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"\u0110\u0103ng k\xfd"))))}}]),a}(n.Component));function Xc(){var e=Object(d.a)(["\n  .action{\n    margin-right: 5px;\n  }\n  .searchtype {\n    margin-top: 20px;\n  }\n  .buttontype {\n    margin-bottom: 10px;\n  }\n"]);return Xc=function(){return e},e}var Wc=h.a.div(Xc()),$c=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(e){var n;return Object(Qe.a)(this,a),(n=t.call(this,e)).showModal=function(e){n.setState({visible:!0}),n.setState({detailPayloadType:e}),n.setState({idPayloadType:e.id})},n.handleOk=function(e){n.setState({visible:!1})},n.handleCancel=function(e){n.setState({visible:!1})},n.handleCancelAdd=function(e){n.setState({visibleAdd:!1})},n.handleCancelDelete=function(e){n.setState({visibleDelete:!1})},n.state={visible:!1,currentTable:null,tables:[],idPayloadType:null,modalLoading:!1,detailBill:[],detailPayloadType:{},options:[],payload:{},visibleAdd:!1,visibleDelete:!1,idPayloadDelete:null},n}return Object(Be.a)(a,[{key:"handleClick",value:function(){Object(o.g)().push("/edit-payloadtype")}},{key:"componentDidMount",value:function(){this.loadAllPayloadDScard()}},{key:"loadAllPayloadDScard",value:function(){var e=this;de.a.get("https://dsd06.herokuapp.com/api/sdcard").then((function(t){e.setState({tables:t.data})}))}},{key:"handleFormSubmitEdit",value:function(e){var t=this,a={name:e.name};de.a.put("https://dsd06.herokuapp.com/api/sdcard/"+this.state.idPayloadType,a).then((function(e){console.log(e.data),t.setState({visible:!1}),t.loadAllPayloadDScard()}))}},{key:"renderModal",value:function(){var e=this;return r.a.createElement(ie.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:10}},{onFinish:function(t){return e.handleFormSubmitEdit(t)}}),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:24},r.a.createElement(ie.a.Item,{initialValue:this.state.detailPayloadType.name,label:"T\xean",name:"name",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean lo\u1ea1i payload!"}]},r.a.createElement(ce.a,null)))),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"L\u01b0u")))}},{key:"showModalAdd",value:function(){this.setState({visibleAdd:!0})}},{key:"handleFormSubmit",value:function(e){var t=this;console.log(e);var a={name:e.name,volume:e.volume};de.a.post("https://dsd06.herokuapp.com/api/sdcard",a).then((function(e){console.log(e.data),t.setState({visibleAdd:!1}),t.loadAllPayloadDScard()}))}},{key:"renderModalAdd",value:function(){var e=this;return r.a.createElement(ie.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:10}},{onFinish:function(t){return e.handleFormSubmit(t)}}),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:24},r.a.createElement(ie.a.Item,{label:"T\xean",name:"name",rules:[{required:!0,message:"H\xe3y nh\u1eadp t\xean lo\u1ea1i th\u1ebb nh\u1edb!"}]},r.a.createElement(ce.a,null)))),r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{className:"gutter-row",span:24},r.a.createElement(ie.a.Item,{label:"Dung l\u01b0\u1ee3ng",name:"volume",rules:[{required:!0,message:"H\xe3y nh\u1eadp dung l\u01b0\u1ee3ng th\u1ebb nh\u1edb!"}]},r.a.createElement(ce.a,null)))),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Submit")))}},{key:"showModalDelete",value:function(e){this.setState({visibleDelete:!0}),this.setState({idPayloadDelete:e.id})}},{key:"deleteRecord",value:function(){var e=this;de.a.delete("https://dsd06.herokuapp.com/api/sdcard/"+this.state.idPayloadDelete).then((function(t){console.log(t.data),e.setState({visibleDelete:!1}),e.loadAllPayloadDScard()}))}},{key:"renderModalDelete",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"B\u1ea1n c\xf3 ch\u1eafc x\xf3a b\u1ea3n ghi n\xe0y?"),r.a.createElement(L.a,{type:"primary",danger:!0,onClick:function(){return e.deleteRecord()}},"X\xf3a"))}},{key:"render",value:function(){var e=this,t=this.state.tables.map((function(e){return{id:e._id,volume:e.volume,name:e.name}})),a=[{title:"T\xean th\u1ebb nh\u1edb",dataIndex:"name",key:"name"},{title:"Dung l\u01b0\u1ee3ng",dataIndex:"volume",key:"volume"},{title:"Action",key:"operation",width:100,render:function(t,a){return r.a.createElement(Yt.b,{size:"small"},r.a.createElement(L.a,{type:"link",onClick:function(){return e.showModal(a)}},"S\u1eeda"),r.a.createElement(L.a,{danger:!0,type:"text",onClick:function(){return e.showModalDelete(a)}},"X\xf3a"))}}],n=this.state,l=n.visible,i=n.visibleAdd,c=n.visibleDelete;n.currentTable,n.tables;return r.a.createElement(Wc,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Qu\u1ea3n l\xfd th\u1ebb nh\u1edb Payload"),r.a.createElement("br",null),r.a.createElement(L.a,{type:"primary",className:"buttontype",onClick:function(){return e.showModalAdd()}},"Th\xeam th\u1ebb m\u1edbi"),r.a.createElement(Qt.a,{dataSource:t,columns:a}),";"),r.a.createElement(le.a,{title:"Chi ti\u1ebft",visible:l,onOk:this.handleOk,onCancel:this.handleCancel,footer:null,width:800},this.renderModal()),r.a.createElement(le.a,{title:"Th\xeam lo\u1ea1i Payload",width:800,visible:i,onOk:this.handleOkAdd,onCancel:this.handleCancelAdd,footer:null},this.renderModalAdd()),r.a.createElement(le.a,{title:"X\xf3a lo\u1ea1i Payload",visible:c,onOk:this.handleOkDelete,onCancel:this.handleCancelDelete,footer:null},this.renderModalDelete()))}}]),a}(n.Component),eo=["Ch\xe1y r\u1eebng","L\u01b0\u1edbi \u0111i\u1ec7n","\u0110\xea \u0111i\u1ec1u","C\xe2y tr\u1ed3ng"],to=[{title:"T\xean s\u1ef1 c\u1ed1",dataIndex:"name"},{title:"\u1ea2nh",dataIndex:"images",render:function(e){var t;return r.a.createElement(vt.a,{preview:!1,src:null===(t=e[0])||void 0===t?void 0:t.link})}},{title:"Video",dataIndex:"videos",render:function(e){var t;return r.a.createElement("video",{src:null===(t=e[0])||void 0===t?void 0:t.link})}},{title:"M\xf4 t\u1ea3",dataIndex:"description"},{title:"Lo\u1ea1i s\u1ef1 c\u1ed1",dataIndex:"type",render:function(e){return r.a.createElement("span",null,e.name)}},{title:"V\u1ecb tr\xed",dataIndex:"location"},{title:"Ng\xe0y x\u1ea3y ra",dataIndex:"dueDate"}],ao=[{title:"M\xe3",dataIndex:"id"},{title:"T\xean",dataIndex:"title"},{title:"\u1ea2nh/video",dataIndex:"link"},{title:"Th\u1ec3 lo\u1ea1i",dataIndex:"type"},{title:"M\xf4 t\u1ea3",dataIndex:"description"},{title:"Kinh \u0111\u1ed9",dataIndex:"longitude"},{title:"V\u0129 \u0111\u1ed9",dataIndex:"latitude"},{title:"V\u1ecb tr\xed",dataIndex:"location"},{title:"Lo\u1ea1i s\u1ef1 c\u1ed1",dataIndex:"problemType"},{title:"Ng\xe0y t\u1ea1o",dataIndex:"createdAt"},{title:"",dataIndex:"id",render:function(e){return r.a.createElement(s.b,{to:"/image-video-detail/".concat(e)},"Xem chi ti\u1ebft")}}];function no(){var e=Object(d.a)(["\n    overflow-x: scroll;\n"]);return no=function(){return e},e}function ro(){var e=Object(d.a)(["\n    margin-bottom: 10px;\n"]);return ro=function(){return e},e}function lo(){var e=Object(d.a)(["\n    text-align: center;\n    padding: 10px 0;\n"]);return lo=function(){return e},e}function io(){var e=Object(d.a)(["\n"]);return io=function(){return e},e}var co=Et.a.Title,oo=Et.a.Text,so=Bt.a.Option;var uo=h.a.div(io()),mo=Object(h.a)(co)(lo()),ho=Object(h.a)(Yt.b)(ro()),po=Object(h.a)(Qt.a)(no()),go=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)({createdAt:null,problemType:null}),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)(),d=Object(u.a)(m,2),h=d[0],p=d[1];return Object(n.useEffect)((function(){de()({method:"POST",url:"https://it4483team2.herokuapp.com/api/records/search-image-video",params:{skip:0,take:29},data:{}}).then((function(e){var t=e.data;console.log(t),l(t.result.map((function(e,t){return Object(K.a)(Object(K.a)({},e),{},{link:0===e.type?r.a.createElement(vt.a,{width:230,height:150,src:e.link||"error",fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="}):e.link,type:0===e.type?"Image":"Video",problemType:eo[e.problemType],location:r.a.createElement("a",{target:"_blank",href:"https://www.google.com/maps/place/".concat(e.latitude,",").concat(e.longitude)},"Xem tr\xean b\u1ea3n \u0111\u1ed3")})})))}))}),[]),Object(n.useEffect)((function(){de()({method:"POST",url:"https://it4483team2.herokuapp.com/api/records/search-image-video",params:{skip:0,take:30},data:{}}).then((function(e){var t=e.data.result.map((function(e,t){return Object(K.a)(Object(K.a)({},e),{},{link:0===e.type?r.a.createElement(vt.a,{width:230,height:150,src:e.link||"error",fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="}):e.link,type:0===e.type?"Image":"Video",problemType:eo[e.problemType],location:r.a.createElement("a",{target:"_blank",href:"https://www.google.com/maps/place/".concat(e.latitude,",").concat(e.longitude)},"Xem tr\xean b\u1ea3n \u0111\u1ed3")})}));Object.values(o).every((function(e){return[null,void 0,""].includes(e)}))||Object.keys(o).forEach((function(e){[null,void 0,""].includes(o[e])||(console.log(o),console.log({result:t}),t="createdAt"==="".concat(e)?t.filter((function(t){return console.log(t[e].split("T")),t[e].split("T")[0]===o[e]})):t.filter((function(t){return t[e]===eo[o[e]]})))})),l(t)}))}),[o]),r.a.createElement(uo,null,r.a.createElement(mo,{level:2},"Qu\u1ea3n l\xfd h\xecnh \u1ea3nh, video"),r.a.createElement(ho,null,r.a.createElement(Yt.b,{direction:"horizontal"},r.a.createElement(oo,null,"Ng\xe0y:"),r.a.createElement(oe.a,{placeholder:"Ch\u1ecdn ng\xe0y",onChange:function(e,t){console.log(e,t),s(Object(K.a)(Object(K.a)({},o),{},{createdAt:t}))}})),r.a.createElement(Yt.b,{direction:"horizontal"},r.a.createElement(oo,null,"S\u1ef1 c\u1ed1:"),r.a.createElement(Bt.a,{placeholder:"Ch\u1ecdn s\u1ef1 c\u1ed1",style:{minWidth:100},allowClear:!0,onChange:function(e){console.log("problemType: ",e),s(Object(K.a)(Object(K.a)({},o),{},{problemType:e}))}},[0,1,2,3].map((function(e){return r.a.createElement(so,{value:e},eo[e])})))),r.a.createElement(Yt.b,{direction:"horizontal"},r.a.createElement(ce.a,{placeholder:"Nh\u1eadp t\xean t\xecm ki\u1ebfm",onChange:function(e){p(e.target.value)}}),r.a.createElement(L.a,{type:"primary",onClick:function(){de()({method:"POST",url:"https://it4483team2.herokuapp.com/api/records/search-image-video",params:{skip:0,take:29},data:{title:h}}).then((function(e){var t=e.data;console.log(t),l(t.result.map((function(e,t){return Object(K.a)(Object(K.a)({},e),{},{link:0===e.type?r.a.createElement(vt.a,{width:230,height:150,src:e.link||"error",fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="}):e.link,type:0===e.type?"Image":"Video",problemType:eo[e.problemType],location:r.a.createElement("a",{target:"_blank",href:"https://www.google.com/maps/place/".concat(e.latitude,",").concat(e.longitude)},"Xem tr\xean b\u1ea3n \u0111\u1ed3")})})))}))}},"T\xecm ki\u1ebfm"))),r.a.createElement(po,{columns:ao,dataSource:a,onChange:function(){},pagination:!0}))};function fo(){var e=Object(d.a)(["\n    font-size: 18px;\n\n    .ant-row{\n        margin-bottom: 10px;\n    }\n\n    div{\n        strong{\n\n        }\n    }\n"]);return fo=function(){return e},e}function Eo(){var e=Object(d.a)(['\n    font-size: 40px;\n    text-align: center;\n\n    p {\n        text-align: left;\n      \n        span {\n            display: inline-block;\n            font-size: 25px;\n            margin-top: 30px;\n            width: auto;\n    \n            &:after{\n                display: block;\n                content: "";\n                border-bottom: 2px solid #ccc;\n            }\n        }\n    }\n']);return Eo=function(){return e},e}function yo(){var e=Object(d.a)(["\n    width: 100%;\n    height: 100%;\n"]);return yo=function(){return e},e}function bo(){var e=Object(d.a)(["\n\n"]);return bo=function(){return e},e}var vo=Object(h.a)(Qt.a)(bo()),jo=h.a.div(yo()),Oo=h.a.h1(Eo()),ko=h.a.div(fo()),Co=function(){var e=Object(o.j)().params,t=Object(n.useState)({}),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)([]),m=Object(u.a)(c,2),d=m[0],h=m[1],p=Object(n.useState)([]),g=Object(u.a)(p,2),f=g[0],E=g[1];return Object(n.useEffect)((function(){(function(){var t=Object(ne.a)(ae.a.mark((function t(){var a,n,r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de()({method:"GET",url:"https://it4483team2.herokuapp.com/api/records/".concat(e.id)});case 2:return a=t.sent,t.next=5,de()({method:"GET",url:"https://it4483team2.herokuapp.com/api/records/monitored/images/".concat(a.data.monitoredObjectId)});case 5:return n=t.sent,t.next=8,de()({method:"POST",url:"https://it4483.cf/api/incidents/search",headers:{"api-token":localStorage.getItem("token"),"project-type":localStorage.getItem("project-type")},data:{imageIds:[a.data.id]}});case 8:r=t.sent,console.log({res3:r}),i(a.data),h(n.data.result),E(r.data.incidents);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),r.a.createElement(jo,null,r.a.createElement(Oo,null,"Th\xf4ng tin chi ti\u1ebft"),r.a.createElement(w.a,{gutter:24},r.a.createElement(yt.a,{md:10},r.a.createElement(vt.a,{width:"100%",height:"100%",src:l.link})),r.a.createElement(yt.a,{md:14},r.a.createElement(ko,null,r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:4},r.a.createElement("strong",null,"Id:")),r.a.createElement(yt.a,{md:20},r.a.createElement("span",null,l.id))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:4},r.a.createElement("strong",null,"T\xean:")),r.a.createElement(yt.a,{md:20},r.a.createElement("span",null,l.title))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:4},r.a.createElement("strong",null,"M\xf4 t\u1ea3:")),r.a.createElement(yt.a,{md:20},r.a.createElement("span",null,function(e){if(e){var t=null===e||void 0===e?void 0:e.split(" "),a=t.pop();return r.a.createElement("div",null,t.join(" ")," ",r.a.createElement(s.b,{to:"#"},a))}return null}(l.description)))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:4},r.a.createElement("strong",null,"\u0110\u1ed1i t\u01b0\u1ee3ng:")),r.a.createElement(yt.a,{md:20},r.a.createElement(s.b,{to:"#"},l.monitoredObjectId))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:4},r.a.createElement("strong",null,"Lo\u1ea1i d\u1eef li\u1ec7u:")),r.a.createElement(yt.a,{md:20},r.a.createElement("span",null,0===l.type?"\u1ea2nh":"Video"))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:4},r.a.createElement("strong",null,"Lo\u1ea1i s\u1ef1 c\u1ed1:")),r.a.createElement(yt.a,{md:20},r.a.createElement("span",null,eo[l.problemType]))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:4},r.a.createElement("strong",null,"Kinh \u0111\u1ed9:")),r.a.createElement(yt.a,{md:20},r.a.createElement("span",null,l.longitude))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:4},r.a.createElement("strong",null,"V\u0129 \u0111\u1ed9:")),r.a.createElement(yt.a,{md:20},r.a.createElement("span",null,l.latitude))),r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:4},r.a.createElement("strong",null,"T\u1ea1o l\xfac:")),r.a.createElement(yt.a,{md:20},r.a.createElement("span",null,l.createdAt)))))),r.a.createElement(Oo,null,r.a.createElement("p",null,r.a.createElement("span",null,0===l.type?"\u1ea2nh":"Video"," li\xean quan"))),r.a.createElement(w.a,{gutter:[24,24]},d.map((function(e,t){return console.log({item:e}),r.a.createElement(yt.a,{md:4},r.a.createElement(vt.a,{style:{cursor:"pointer"},key:t,src:e.link,preview:!1,onClick:function(){return i(e)}}))}))),r.a.createElement(Oo,null,r.a.createElement("p",{style:{margin:0}},r.a.createElement("span",null,"C\xe1c s\u1ef1 c\u1ed1"))),r.a.createElement(vo,{columns:to,dataSource:f,onChange:function(){},pagination:!0}))},xo=a(270);r.a.Component;function So(){var e=Object(d.a)(["\n    cursor: pointer;\n"]);return So=function(){return e},e}function wo(){var e=Object(d.a)(["\n    font-size: 30px;\n    margin-bottom: 10px;\n    text-align: center;\n    font-weight: 500;\n"]);return wo=function(){return e},e}function Ao(){var e=Object(d.a)(["\n    width: 100%;\n    height: 100%;\n"]);return Ao=function(){return e},e}Cr.a.TabPane;var Io=M.b.Item,To=["https://media.istockphoto.com/videos/aerial-view-of-amazon-rainforest-in-brazil-video-id1169794330","https://media.istockphoto.com/videos/aerial-view-of-amazon-rainforest-in-brazil-video-id1169794330"];var No=h.a.div(Ao()),Do=h.a.div(wo()),Po=Object(h.a)(Io)(So()),Mo=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)([]),c=Object(u.a)(i,2),o=c[0],s=c[1];Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de()({method:"GET",url:"http://skyrone.cf:6789/droneState/getAllDroneActive"});case 2:return t=e.sent,a=t.data,e.next=6,de()({method:"GET",url:"http://skyrone.cf:6789/drone/getById/".concat(a[0].idDrone)});case 6:n=e.sent,s(a.map((function(e){return Object(K.a)(Object(K.a)({},e),{},{urlStream:To[Math.floor(Math.random()*To.length)]})}))),l(Object(K.a)(Object(K.a)({},a[0]),{},{urlStream:To[Math.floor(Math.random()*To.length)]},n.data));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de()({method:"GET",url:"http://skyrone.cf:6789/drone/getById/".concat(t)});case 2:a=e.sent,l(Object(K.a)(Object(K.a)({},a.data),{},{urlStream:To[Math.floor(Math.random()*To.length)]}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(No,null,r.a.createElement(w.a,{gutter:16},r.a.createElement(yt.a,{md:16},r.a.createElement(Do,null,"Stream t\u1eeb: ",a.name),r.a.createElement(w.a,null,r.a.createElement(yt.a,{md:12},r.a.createElement("strong",null,"Drone Id:")," ",r.a.createElement("span",null,a.id)),r.a.createElement(yt.a,{md:12},r.a.createElement("strong",null,"Pin:")," ",r.a.createElement("span",null,a.rangeBattery)),r.a.createElement(yt.a,{md:12},r.a.createElement("strong",null,"T\u1ed1c \u0111\u1ed9:")," ",r.a.createElement("span",null,a.maxFlightSpeed)),r.a.createElement(yt.a,{md:12},r.a.createElement("strong",null,"\u0110\u1ed9 cao:")," ",r.a.createElement("span",null,a.maxFlightHeight)),r.a.createElement(yt.a,{md:12},r.a.createElement("strong",null,"\u0110\u1ed9 cao:")," ",r.a.createElement("span",null,a.maxFlightHeight))),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("video",{controls:!0,autoPlay:!0,width:"100%",src:a.urlStream,style:{marginBottom:"15px"}})),r.a.createElement("div",null)),r.a.createElement(yt.a,{md:8},r.a.createElement(Do,null,"Danh s\xe1ch drones"),r.a.createElement(M.b,{bordered:!0,dataSource:o,renderItem:function(e){return r.a.createElement(Po,{onClick:function(){return m(e.idDrone)}},r.a.createElement("h1",null,e.name),r.a.createElement("p",null,e.used?r.a.createElement(Rt.a,{color:"green"},"Active"):r.a.createElement(Rt.a,{color:"red"},"Not Active")))}}))))},Lo="GET_PAGINATE_REQUEST",_o="GET_PAGINATE_SUCCESS",Fo="GET_PAGINATE_FAILURE",Ro="GET_ALL_CATEGORY_REQUEST",Yo="GET_ALL_CATEGORY_SUCCESS",Qo="GET_ALL_CATEGORY_FAILURE",Bo="CREATE_CATEGORY_MONITORED_REQUEST",zo="CREATE_CATEGORY_MONITORED_SUCCESS",Ho="CREATE_CATEGORY_MONITORED_FAILURE",Uo="EDIT_CATEGORY_MONITORED_REQUEST",Vo="EDIT_CATEGORY_MONITORED_SUCCESS",Ko="DELETE_MONITORED_REQUEST",Go="DELETE_MONITORED_SUCCESS",Zo="DELETE_MONITORED_FAILURE",Jo="NOTIFICATION_MESSAGE",qo="CAT_MONITORED_FAILURE",Xo="CAT_MONITORED_SUCCESS";function Wo(e){return $o.apply(this,arguments)}function $o(){return($o=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:t.url,method:t.method,data:t.data,params:t.params},e.abrupt("return",de()(a).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var es={getAllCategories:function(e){return Wo({url:"https://dsd05-monitored-object.herokuapp.com/category-monitored-object",method:"GET",params:e})},createCategory:function(e){return Wo({url:"https://dsd05-monitored-object.herokuapp.com/category-monitored-object",method:"POST",data:e})},editCategory:function(e,t){return Wo({url:"https://dsd05-monitored-object.herokuapp.com/category-monitored-object/".concat(e),method:"PATCH",data:t})},deleteManyCategories:function(e){return Wo({url:"https://dsd05-monitored-object.herokuapp.com/category-monitored-object/delete-many-category-monitored-objects\n    ",method:"POST",data:{arrayId:e}})}};var ts={getAllCategories:function(e){return void 0===e?function(e){e({type:Ro}),es.getAllCategories().then((function(t){e({type:Yo,payload:t.data.content})})).catch((function(t){e({type:Qo,error:t})}))}:function(t){t({type:Lo}),es.getAllCategories(e).then((function(e){t({type:_o,payload:e.data.content})})).catch((function(e){t({type:Fo,error:e})}))}},createCategory:function(e){return function(t){t({type:Bo}),es.createCategory(e).then((function(e){t({type:zo,payload:e.data.content}),t({type:Xo,payload:!0}),t({type:Jo,payload:"T\u1ea1o m\u1edbi danh m\u1ee5c \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\xe0nh c\xf4ng"})})).catch((function(e){t({type:qo,payload:!0}),t({type:Jo,payload:"T\u1ea1o danh m\u1ee5c \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\u1ea5t b\u1ea1i"})}))}},editCategory:function(e,t){return function(a){a({type:Uo}),es.editCategory(e,t).then((function(e){a({type:Vo,payload:e.data.content}),a({type:Xo,payload:!0}),a({type:Jo,payload:"Ch\u1ec9nh s\u1eeda danh m\u1ee5c \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\xe0nh c\xf4ng"})})).catch((function(e){a({type:qo,payload:!0}),a({type:Jo,payload:"Ch\u1ec9nh s\u1eeda danh m\u1ee5c \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\u1ea5t b\u1ea1i"})}))}},deleteManyCategories:function(e){return function(t){t({type:Ko}),es.deleteManyCategories(e).then((function(e){t({type:Go,payload:e.data.content}),t({type:Xo,payload:!0}),t({type:Jo,payload:"X\xf3a danh m\u1ee5c \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\xe0nh c\xf4ng"})})).catch((function(e){t({type:Zo,error:e}),t({type:Xo,payload:!0}),t({type:Jo,payload:"X\xf3a danh m\u1ee5c \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\xe0nh c\xf4ng"})}))}}};var as=function(e){var t=e.value,a=e.handleChange,n=e.setCatMonitored,l=e.option,i=Object(V.useDispatch)();return r.a.createElement("div",{className:"modal fade",id:"modalCreate",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"add"===l&&"Th\xeam m\u1edbi danh m\u1ee5c gi\xe1m s\xe1t","view"===l&&"Xem chi ti\u1ebft danh m\u1ee5c gi\xe1m s\xe1t","edit"===l&&"S\u1eeda danh m\u1ee5c gi\xe1m s\xe1t"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaNumber",className:"col-sm-2 col-form-label"},"M\xe3 danh m\u1ee5c"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===l,className:"form-control",id:"inputAreaNumber",placeholder:"M\xe3 danh m\u1ee5c",name:"code",value:t.code,onChange:a}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaName",className:"col-sm-2 col-form-label"},"T\xean danh m\u1ee5c"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===l,className:"form-control",id:"inputAreaName",placeholder:"T\xean danh m\u1ee5c",name:"name",value:t.name,onChange:a}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputDescription",className:"col-sm-2 col-form-label"},"M\xf4 t\u1ea3"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{disabled:"view"===l,className:"form-control",id:"inputDescription",rows:"3",placeholder:"M\xf4 t\u1ea3",name:"description",value:t.description,onChange:a}))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"\u0110\xf3ng"),"view"!==l&&r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){t._id?i(ts.editCategory(t._id,{code:t.code,name:t.name,description:t.description})):i(ts.createCategory({code:t.code,name:t.name,description:t.description})),n({code:"",name:"",description:""})}},"add"===l&&"Th\xeam th\xf4ng tin","edit"===l&&"S\u1eeda th\xf4ng tin")))))};var ns=function(e){var t=e.value,a=(e.setCatMonitored,Object(V.useDispatch)());return r.a.createElement("div",{className:"modal fade",id:"modal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("h5",null,"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Kh\xf4ng"),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){a(ts.deleteManyCategories([t._id]))}},"C\xf3")))))};function rs(){var e=r.a.useState(""),t=Object(u.a)(e,2),a=(t[0],t[1]);return r.a.createElement("div",{className:"modal fade",id:"modalImport",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Th\xeam m\u1edbi danh m\u1ee5c gi\xe1m s\xe1t"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{id:"upload-box"},r.a.createElement("input",{type:"file",onChange:function(e){a(e.target.files[0])}}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"\u0110\xf3ng"),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){return alert("Th\xeam m\u1edbi th\xe0nh c\xf4ng")}},"L\u01b0u")))))}function ls(){return r.a.createElement(rs,null)}var is=a(364),cs=a(1197);var os=function(e){var t=e.formatStyle,a=e.messages;return r.a.createElement("div",{className:"modal fade",id:"modalSuccessNotification",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog    ",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},a),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-footer justify-content-center"},r.a.createElement("button",{type:"button",className:t,"data-dismiss":"modal"},"OK")))))};var ss=function(e){var t=Object(V.useDispatch)(),a=Object(V.useSelector)((function(e){return e.category})),l=a.listPaginate,i=a.totalPages,c=a.isError,o=a.messages,s=a.isCatSuccess,m=Object(n.useState)({page:1,limit:5}),d=Object(u.a)(m,2),h=d[0],p=d[1],g=h.page,f=h.limit,E=Object(n.useState)(""),y=Object(u.a)(E,2),b=y[0],v=y[1],j=Object(n.useState)({code:"",name:""}),O=Object(u.a)(j,2),k=O[0],C=O[1],x=Object(n.useState)(""),S=Object(u.a)(x,2),w=S[0],A=S[1],I=Object(n.useState)({code:"",name:"",description:""}),T=Object(u.a)(I,2),N=T[0],D=T[1];Object(n.useEffect)((function(){t(ts.getAllCategories({page:g,limit:f}))}),[g]),Object(n.useEffect)((function(){}),[l]),Object(n.useEffect)((function(){c&&(v("btn btn-danger"),window.$("#modalSuccessNotification").modal("show")),s&&(v("btn btn-success"),window.$("#modalSuccessNotification").modal("show"),t(ts.getAllCategories({page:g,limit:f}))),t({type:qo,payload:!1}),t({type:Xo,payload:!1})}),[c,s]);var P=r.a.createElement(nt.a,null,r.a.createElement(nt.a.Item,null,r.a.createElement("a",{"data-target":"#modalCreate",title:"Add area",onClick:function(){window.$("#modalCreate").modal("show"),A("add")}},"Th\xeam b\u1eb1ng tay")),r.a.createElement(nt.a.Item,null,r.a.createElement("a",{"data-target":"#modalImport",title:"ImportForm",onClick:function(){window.$("#modalImport").modal("show")}},"Import File")));return r.a.createElement("div",{id:"area-monitored"},r.a.createElement("div",{className:"row",style:{marginLeft:10}},r.a.createElement("h3",null,"Qu\u1ea3n l\xfd danh m\u1ee5c gi\xe1m s\xe1t")),r.a.createElement("div",{className:"box-body"},r.a.createElement("div",{style:{marginLeft:"90%"}},r.a.createElement(is.a,{overlay:P,placement:"bottomLeft",arrow:!0},r.a.createElement(L.a,{type:"button",className:"btn btn-success",style:{borderRadius:4,width:90.64,height:36}},"Th\xeam m\u1edbi"))),r.a.createElement("div",{className:"form-inline",style:{margin:"15px"}},r.a.createElement("div",{className:"form-group",style:{marginRight:"30px"}},r.a.createElement("label",{className:"form-control-static",style:{margin:"10px"}},r.a.createElement("b",null,"M\xe3 danh m\u1ee5c")),r.a.createElement("input",{type:"text",className:"form-control",name:"code",value:k.code,onChange:function(e){e.persist(),C((function(t){return Object(K.a)(Object(K.a)({},t),{},{code:e.target.value})}))},placeholder:"M\xe3 danh m\u1ee5c",autoComplete:"off"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-static",style:{margin:"10px"}},r.a.createElement("b",null,"T\xean danh m\u1ee5c")),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:k.name,onChange:function(e){e.persist(),C((function(t){return Object(K.a)(Object(K.a)({},t),{},{name:e.target.value})}))},placeholder:"T\xean danh m\u1ee5c",autoComplete:"off"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button",className:"btn btn-success",title:"T\xecm ki\u1ebfm",onClick:function(){t(ts.getAllCategories(Object(K.a)(Object(K.a)({},k),{},{page:g,limit:f})))}},"T\xecm ki\u1ebfm"))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"M\xe3 danh m\u1ee5c"),r.a.createElement("th",null,"T\xean danh m\u1ee5c"),r.a.createElement("th",null,"M\xf4 t\u1ea3"),r.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),r.a.createElement("tbody",null,!!l&&l.length>0&&l.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description),r.a.createElement("td",null,r.a.createElement("a",{className:"text-green",onClick:function(){return function(e){D(e),A("view"),window.$("#modalCreate").modal("show")}(e)}},r.a.createElement("i",{className:"material-icons"},"visibility")),r.a.createElement("a",{className:"text-yellow",onClick:function(){return function(e){D(e),A("edit"),window.$("#modalCreate").modal("show")}(e)}},r.a.createElement("i",{className:"material-icons"},"edit")),r.a.createElement("a",{className:"text-red",onClick:function(){return function(e){D(e),window.$("#modal").modal("show")}(e)}},r.a.createElement("i",{className:"material-icons"},"delete"))))})),!!l&&0===l.length&&r.a.createElement("tr",null,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"))),r.a.createElement(cs.a,{count:i,page:g,onChange:function(e,t){p(Object(K.a)(Object(K.a)({},h),{},{page:t}))}})),r.a.createElement(as,{value:N,handleChange:function(e){e.persist(),D((function(t){return Object(K.a)(Object(K.a)({},t),{},Object(Yr.a)({},e.target.name,e.target.value))}))},setCatMonitored:D,isError:c,messages:o,option:w}),r.a.createElement(ls,null),r.a.createElement(ns,{value:N,setCatMonitored:D}),r.a.createElement(os,{formatStyle:b,messages:o}))},us=a(607),ms=a(622);function ds(){var e=r.a.useState(""),t=Object(u.a)(e,2),a=(t[0],t[1]);return r.a.createElement("div",{className:"modal fade",id:"modalImport",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Th\xeam m\u1edbi \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{id:"upload-box"},r.a.createElement("input",{type:"file",onChange:function(e){a(e.target.files[0])}}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"\u0110\xf3ng"),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){return alert("Th\xeam m\u1edbi th\xe0nh c\xf4ng")}},"L\u01b0u")))))}function hs(){return r.a.createElement(ds,null)}var ps="GET_PAGINATE_REQUEST",gs="GET_PAGINATE_SUCCESS",fs="GET_PAGINATE_FAILURE",Es="GET_ALL_MONITORED_OBJECT_REQUEST",ys="GET_ALL_MONITORED_OBJECT_SUCCESS",bs="GET_ALL_MONITORED_OBJECT_FAILURE",vs="CREATE_MONITORED_REQUEST",js="CREATE_MONITORED_SUCCESS",Os="CREATE_MONITORED_FAILURE",ks="EDIT_MONITORED_REQUEST",Cs="EDIT_MONITORED_SUCCESS",xs="EDIT_MONITORED_FAILURE",Ss="DELETE_MONITORED_REQUEST",ws="DELETE_MONITORED_SUCCESS",As="DELETE_MONITORED_FAILURE",Is="NOTIFICATION_MESSAGE",Ts="OBJECT_SUCCESS",Ns="OBJECT_FAILURE",Ds={getAllMonitoredObjects:function(e){return Wo({url:"https://dsd05-monitored-object.herokuapp.com/monitored-object",method:"GET",params:e})},createMonitoredObject:function(e){return Wo({url:"https://dsd05-monitored-object.herokuapp.com/monitored-object",method:"POST",data:e})},editMonitoredObject:function(e,t){return Wo({url:"https://dsd05-monitored-object.herokuapp.com/monitored-object/".concat(e),method:"PATCH",data:t})},deleteManyMonitoredObjects:function(e){return Wo({url:"https://dsd05-monitored-object.herokuapp.com/monitored-object/delete-many-monitored-objects",method:"POST",data:{arrayId:e}})}};var Ps={getAllMonitoredObjects:function(e){return void 0===e?function(e){e({type:Es}),Ds.getAllMonitoredObjects().then((function(t){e({type:ys,payload:t.data.content})})).catch((function(t){e({type:bs,error:t})}))}:function(t){t({type:ps}),Ds.getAllMonitoredObjects(e).then((function(e){t({type:gs,payload:e.data.content})})).catch((function(e){t({type:fs,error:e})}))}},createMonitoredObject:function(e){return function(t){t({type:vs}),Ds.createMonitoredObject(e).then((function(e){t({type:js,payload:e.data.content}),t({type:Ts,payload:!0}),t({type:Is,payload:"T\u1ea1o \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\xe0nh c\xf4ng"})})).catch((function(e){t({type:Os,error:e}),t({type:Ns,payload:!0}),t({type:Is,payload:"T\u1ea1o \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\u1ea5t b\u1ea1i"})}))}},editMonitoredObject:function(e,t){return function(a){a({type:ks}),Ds.editMonitoredObject(e,t).then((function(e){a({type:Cs,payload:e.data.content}),a({type:Ts,payload:!0}),a({type:Is,payload:"Ch\u1ec9nh s\u1eeda \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\xe0nh c\xf4ng"})})).catch((function(e){a({type:xs,error:e}),a({type:Ns,payload:!0}),a({type:Is,payload:"Ch\u1ec9nh s\u1eeda \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\u1ea5t b\u1ea1i"})}))}},deleteManyMonitoredObjects:function(e){return function(t){t({type:Ss}),Ds.deleteManyMonitoredObjects(e).then((function(e){t({type:ws,payload:e.data.content}),t({type:Ts,payload:!0}),t({type:Is,payload:"X\xf3a \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\xe0nh c\xf4ng "})})).catch((function(e){t({type:As,error:e}),t({type:Ns,payload:!0}),t({type:Is,payload:"X\xf3a \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t th\u1ea5t b\u1ea1i"})}))}}};var Ms=function(e){var t=e.value,a=Object(V.useDispatch)();return r.a.createElement("div",{className:"modal fade",id:"modal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("h5",null,"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Kh\xf4ng"),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){a(Ps.deleteManyMonitoredObjects([t._id]))}},"C\xf3")))))};var Ls=function(e){var t=e.formatStyle,a=e.messages,n=e.history;return r.a.createElement("div",{className:"modal fade",id:"modalSuccessNotification",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog    ",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},a),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-footer justify-content-center"},r.a.createElement("button",{type:"button",className:t,"data-dismiss":"modal",onClick:function(){n&&n.push({pathname:"/monitored-object-management"})}},"OK")))))};var _s=Object(us.withTranslate)((function(e){var t=e.history,a=Object(V.useDispatch)(),l=Object(V.useSelector)((function(e){return e.monitoredObjects})),i=l.listPaginate,c=l.totalPages,o=l.isObjectSuccess,s=l.isObjectFailure,m=l.objectMessages,d=Object(n.useState)({page:1,limit:5}),h=Object(u.a)(d,2),p=h[0],g=h[1],f=p.page,E=p.limit,y=Object(n.useState)(""),b=Object(u.a)(y,2),v=b[0],j=b[1],O=Object(n.useState)([]),k=Object(u.a)(O,2),C=k[0],x=k[1],S=Object(n.useState)({}),w=Object(u.a)(S,2),A=w[0],I=w[1],T=Object(n.useState)({code:"",name:"",status:[]}),N=Object(u.a)(T,2),D=N[0],P=N[1];Object(n.useEffect)((function(){a(Ps.getAllMonitoredObjects({page:f,limit:E}))}),[f]),Object(n.useEffect)((function(){var e=[];C.map((function(t){return e.push(t.value)})),P((function(t){return Object(K.a)(Object(K.a)({},t),{},{status:e})}))}),[C]),Object(n.useEffect)((function(){s&&(j("btn btn-danger"),window.$("#modalSuccessNotification").modal("show")),o&&(j("btn btn-success"),window.$("#modalSuccessNotification").modal("show"),a(Ps.getAllMonitoredObjects({page:f,limit:E}))),a({type:Ns,payload:!1}),a({type:Ts,payload:!1})}),[o,s]);var M=r.a.createElement(nt.a,null,r.a.createElement(nt.a.Item,null,r.a.createElement("a",{"data-target":"#modalCreate",title:"Add area",onClick:function(){t.push({pathname:"/monitored-object-management/create"})}},"Th\xeam b\u1eb1ng tay")),r.a.createElement(nt.a.Item,null,r.a.createElement("a",{"data-target":"#modalImport",title:"ImportForm",onClick:function(){window.$("#modalImport").modal("show")}},"Import File")));return r.a.createElement("div",{id:"area-monitored"},r.a.createElement("div",{className:"row",style:{marginLeft:10}},r.a.createElement("h3",null,"Qu\u1ea3n l\xfd \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t")),r.a.createElement("div",{className:"box-body"},r.a.createElement("div",{style:{marginLeft:"90%"}},r.a.createElement(is.a,{overlay:M,placement:"bottomLeft",arrow:!0},r.a.createElement(L.a,{type:"button",className:"btn btn-success",style:{borderRadius:4,width:90.64,height:36}},"Th\xeam m\u1edbi"))),r.a.createElement("div",{className:"form-inline",style:{margin:"15px"}},r.a.createElement("div",{className:"form-group",style:{marginRight:"30px"}},r.a.createElement("label",{className:"form-control-static",style:{margin:"10px"}},r.a.createElement("b",null,"M\xe3 \u0111\u1ed1i t\u01b0\u1ee3ng")),r.a.createElement("input",{type:"text",className:"form-control",name:"code",value:D.code,onChange:function(e){e.persist(),P((function(t){return Object(K.a)(Object(K.a)({},t),{},{code:e.target.value})}))},placeholder:"M\xe3 \u0111\u1ed1i t\u01b0\u1ee3ng",autoComplete:"off"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-static",style:{margin:"10px"}},r.a.createElement("b",null,"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng")),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:D.name,onChange:function(e){e.persist(),P((function(t){return Object(K.a)(Object(K.a)({},t),{},{name:e.target.value})}))},placeholder:"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng",autoComplete:"off"}))),r.a.createElement("div",{className:"form-inline",style:{margin:"15px"}},r.a.createElement("div",{className:"form-group",style:{marginRight:"15px"}},r.a.createElement("label",{className:"form-control-static",style:{margin:"10px"}},r.a.createElement("b",null,"Tr\u1ea1ng th\xe1i")),r.a.createElement(ms.a,{id:"select-multi-status",style:{width:"100%"},options:[{label:"B\xecnh th\u01b0\u1eddng",value:"1"},{label:"\u0110\xe3 h\u1ecfng",value:"2"},{label:"\u0110ang \u0111\u01b0\u1ee3c s\u1eeda ch\u1eefa",value:"3"}],value:C,onChange:x})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button",className:"btn btn-success",title:"T\xecm ki\u1ebfm",onClick:function(){a(Ps.getAllMonitoredObjects(Object(K.a)(Object(K.a)({},D),{},{page:f,limit:E})))}},"T\xecm ki\u1ebfm"))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"M\xe3 \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("th",null,"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("th",null,"Tr\u1ea1ng th\xe1i"),r.a.createElement("th",null,"M\xf4 t\u1ea3"),r.a.createElement("th",null,"Thu\u1ed9c danh m\u1ee5c"),r.a.createElement("th",null,"Thu\u1ed9c khu v\u1ef1c"),r.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),r.a.createElement("tbody",null,!!i&&i.length>0&&i.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a+1),r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",{style:{color:"green"}},1===e.status?"B\xecnh th\u01b0\u1eddng":"\u0110ang \u0111\u01b0\u1ee3c s\u1eeda ch\u1eefa"),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.category?e.category.name:"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb"),r.a.createElement("td",null,e.areaMonitored?e.areaMonitored.name:"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb"),r.a.createElement("td",null,r.a.createElement("a",{className:"text-green",onClick:function(){return function(e){t.push({pathname:"/monitored-object-management/view/".concat(e._id)})}(e)}},r.a.createElement("i",{className:"material-icons"},"visibility")),r.a.createElement("a",{className:"text-yellow",onClick:function(){return function(e){t.push({pathname:"/monitored-object-management/edit/".concat(e._id)})}(e)}},r.a.createElement("i",{className:"material-icons"},"edit")),r.a.createElement("a",{className:"text-red",onClick:function(){return function(e){I(e),window.$("#modal").modal("show")}(e)}},r.a.createElement("i",{className:"material-icons"},"delete"))))})),!!i&&0===i.length&&r.a.createElement("tr",null,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"))),r.a.createElement(cs.a,{count:c,page:f,onChange:function(e,t){g(Object(K.a)(Object(K.a)({},p),{},{page:t}))}}),";"),r.a.createElement(hs,null),r.a.createElement(Ms,{value:A}),r.a.createElement(Ls,{formatStyle:v,messages:m}))})),Fs=a(16),Rs=ce.a.Search,Ys=Object(Ln.withScriptjs)(Object(Ln.withGoogleMap)((function(e){var t=e.onChangeMonitoredZone,a=e.monitoredZoneInit,l=e.option,i=e.monitoredObject,c=e.setMonitoredObject,o=e.getCoodinate,s=Object(n.useState)(null),m=Object(u.a)(s,2),d=m[0],h=m[1],p=Object(n.useState)(null),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(null),b=Object(u.a)(y,2),v=b[0],j=b[1],O=Object(n.useState)([]),k=Object(u.a)(O,2),C=k[0],x=k[1],S=Object(n.useState)(null),w=Object(u.a)(S,2),A=w[0],I=w[1],T=Object(n.useState)(""),N=Object(u.a)(T,2),D=N[0],P=N[1],M=Object(n.useState)(null),L=Object(u.a)(M,2),_=L[0],F=L[1],R=Object(n.useState)({lat:21.017374,lng:105.859521}),Y=Object(u.a)(R,2),Q=Y[0],B=Y[1];Object(n.useEffect)((function(){z(),"create"!==l&&(B({lat:parseFloat(i.lat),lng:parseFloat(i.lng)}),x(i.monitoredZone))}),[]);var z=function(){var e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fs({method:"GET",url:"https://monitoredzoneserver.herokuapp.com/monitoredzone"}).then((function(e){if(e.data&&(E(e.data.content.zone),h(e.data.content.zone),e.data.content.zone&&"create"===l&&B({lat:parseFloat(e.data.content.zone[0].startPoint.latitude),lng:parseFloat(e.data.content.zone[0].startPoint.longitude)}),a)){var t=e.data.content.zone.find((function(e){return e._id==a}));t&&(I({lat:(t.startPoint.latitude+t.endPoint.latitude)/2,lng:(t.startPoint.longitude+t.endPoint.longitude)/2}),j(t)),x(a)}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e,a){if(a.preventDefault(),e){t(e._id),P(e.code+" - "+e.name);var n=[e._id];x(n)}else t(void 0),P(""),x([])};return r.a.createElement(Ln.GoogleMap,{defaultZoom:"create"!==l?14:12,defaultCenter:"create"!==l?{lat:parseFloat(i.lat),lng:parseFloat(i.lng)}:Q},r.a.createElement(Rs,{placeholder:"Nh\u1eadp v\xe0o mi\u1ec1n gi\xe1m s\xe1t",onChange:function(e){P(e.target.value)},onSearch:function(e){var t=d.filter((function(t){var a=t.name,n=e;if(a.includes(n))return t}));E(t)},enterButton:!0,style:{position:"absolute",top:"10px",left:"10px",width:250},value:D}),f&&f.map((function(e,t){return r.a.createElement(Ln.Rectangle,{key:t,defaultBounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(e.startPoint.latitude,e.startPoint.longitude),new window.google.maps.LatLng(e.endPoint.latitude,e.endPoint.longitude)),onClick:function(t){return"view"===l?null:function(e,t){I({lat:t.latLng.lat(),lng:t.latLng.lng()}),o(e),C&&C.indexOf(e._id)>=0?c((function(e){return Object(K.a)(Object(K.a)({},e),{},{lat:t.latLng.lat(),lng:t.latLng.lng()})})):j(e)}(e,t)},options:C&&C.indexOf(e._id)>=0?{strokeColor:"#d34052",fillColor:"#d34052",strokeOpacity:"0.5",strokeWeight:"2"}:{strokeColor:"#d34052",fillColor:"#70b8fb",strokeOpacity:"0.5",strokeWeight:"2"}})})),i&&r.a.createElement(Ln.Marker,{name:"Paris",position:{lat:parseFloat(i.lat),lng:parseFloat(i.lng)},onClick:function(){F({lat:parseFloat(i.lat),lng:parseFloat(i.lng)})}}),_&&r.a.createElement(Ln.InfoWindow,{position:{lat:_.lat,lng:_.lng},onCloseClick:function(){return F(null)}},r.a.createElement("p",null,i.name)),v&&r.a.createElement(Ln.InfoWindow,{position:{lat:A.lat,lng:A.lng},onCloseClick:function(){j(null)}},r.a.createElement("div",null,r.a.createElement("h3",null,v.name),r.a.createElement("div",null,"M\xe3 mi\u1ec1n g/s: ",v.code),r.a.createElement("div",null,"\u0110\u1ed9 cao an to\xe0n: \u2002",r.a.createElement("span",{style:{color:"red"}},v.minHeight),"-",r.a.createElement("span",{style:{color:"red"}},v.maxHeight),"(m)"),r.a.createElement("div",{style:{marginTop:"10px",width:"100%",display:"flex",justifyContent:"center"}},C.indexOf(v._id)>=0?r.a.createElement("button",{onClick:function(e){return H("",e)}},r.a.createElement(Fn.a,null)," \u2002",r.a.createElement("a",null,"B\u1ecf ch\u1ecdn mi\u1ec1n g/s n\xe0y")):r.a.createElement("button",{onClick:function(e){return H(v,e)}},r.a.createElement(Fn.a,null)," \u2002",r.a.createElement("a",null,"Ch\u1ecdn mi\u1ec1n g/s n\xe0y"))))))}))),Qs=a(16);var Bs=function(e){var t=e.history,a=Object(o.i)(),l=(a.id,a.option),i=Object(V.useDispatch)(),c=Object(V.useSelector)((function(e){return e.category})),s=Object(V.useSelector)((function(e){return e.monitoredObjects})),m=s.isObjectSuccess,d=s.isObjectFailure,h=s.objectMessages,p=Object(n.useState)({code:"",name:"",status:1,description:"",managementUnit:null,category:null,areaMonitored:null,parent:"",lat:"",lng:"",height:"",drones:null,images:null,videos:null,monitoredZone:"",type:""}),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(""),b=Object(u.a)(y,2),v=b[0],j=b[1],O=Object(n.useState)(null),k=Object(u.a)(O,2),C=k[0],x=k[1],S=Object(n.useState)([]),w=Object(u.a)(S,2),A=w[0],I=w[1],T=function(){var e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qs({method:"GET",url:"https://monitoredzoneserver.herokuapp.com/monitoredzone?page=0"}).then((function(e){e.data&&I(e.data.content.zone)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){i(ts.getAllCategories()),i(Ps.getAllMonitoredObjects()),T()}),[]),Object(n.useEffect)((function(){d&&(j("btn btn-danger"),window.$("#modalSuccessNotification").modal("show")),m&&(j("btn btn-success"),window.$("#modalSuccessNotification").modal("show")),i({type:Ns,payload:!1}),i({type:Ts,payload:!1})}),[m,d]);var N=function(e){e.persist(),E((function(t){return Object(K.a)(Object(K.a)({},t),{},Object(Yr.a)({},e.target.name,e.target.value))}))};return r.a.createElement("div",null,r.a.createElement("div",{className:"header-title mb-5"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Th\xeam m\u1edbi \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t")),r.a.createElement("div",{className:"content row d-flex justify-content-center"},r.a.createElement("div",{className:"col-9"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaNumber",className:"col-sm-2 col-form-label"},"M\xe3 \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===l,className:"form-control",id:"inputAreaNumber",placeholder:"M\xe3 \u0111\u1ed1i t\u01b0\u1ee3ng",name:"code",value:f.code,onChange:N}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaName",className:"col-sm-2 col-form-label"},"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===l,className:"form-control",id:"inputAreaName",placeholder:"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng",name:"name",value:f.name,onChange:N}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-2 col-form-label"},"Lo\u1ea1i \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:"view"===l,className:"custom-select",name:"type",value:f.type||"",onChange:N},r.a.createElement("option",{disabled:!0},"Ch\u1ecdn lo\u1ea1i \u0111\u1ed1i t\u01b0\u1ee3ng "),r.a.createElement("option",{value:"DE_DIEU"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement("option",{value:"CHAY_RUNG"},"Ch\xe1y r\u1eebng"),r.a.createElement("option",{value:"LUOI_DIEN"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement("option",{value:"CAY_TRONG"},"C\xe2y tr\u1ed3ng"),!f.type&&r.a.createElement("option",{value:""},"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-2 col-form-label"},"Tr\u1ea1ng th\xe1i"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:"view"===l,className:"custom-select",name:"status",value:f.status||"null",onChange:N},r.a.createElement("option",{disabled:!0},"Ch\u1ecdn tr\u1ea1ng th\xe1i"),r.a.createElement("option",{value:"1"},"B\xecnh th\u01b0\u1eddng"),r.a.createElement("option",{value:"2"},"\u0110\xe3 h\u1ecfng"),r.a.createElement("option",{value:"3"},"\u0110ang \u0111\u01b0\u1ee3c s\u1eeda ch\u1eefa")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaName",className:"col-sm-2 col-form-label"},"M\xf4 t\u1ea3"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===l,className:"form-control",id:"inputAreaName",placeholder:"M\xf4 t\u1ea3 cho \u0111\u1ed1i t\u01b0\u1ee3ng",name:"description",value:f.description,onChange:N}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-2 col-form-label"},"Danh m\u1ee5c"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:"view"===l,className:"custom-select",name:"category",value:f.category||"",onChange:N},r.a.createElement("option",{disabled:!0},"Ch\u1ecdn danh m\u1ee5c"),!f.category&&r.a.createElement("option",{value:""},"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb"),c&&c.list&&c.list.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.name)}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-2 col-form-label"},"\u0110\u1ed1i t\u01b0\u1ee3ng ch\xednh"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:"view"===l,className:"custom-select",name:"parent",value:f.parent,onChange:N},r.a.createElement("option",{disabled:!0},"Ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng"),!f.parent&&r.a.createElement("option",{value:""},"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb"),f&&s.list&&s.list.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.name)})))))))),r.a.createElement("div",{className:"row mt-5 mb-3"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"T\u1ecda \u0111\u1ed9"),r.a.createElement("div",{className:"col-sm-10 d-flex"},f.lat||f.lng?r.a.createElement("p",{className:"d-flex m-0 justify-content-center align-items-center"},"Kinh \u0111\u1ed9: ",f.lng,r.a.createElement("br",null),"V\u0129 \u0111\u1ed9: ",f.lat):r.a.createElement("p",{className:"d-flex m-0 justify-content-center align-items-center"},"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb"," "))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaNumber",className:"col-sm-2 col-form-label"},"Mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:!0,className:"custom-select",name:"monitoredZone",value:f.monitoredZone,onChange:N},A&&A.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.name)}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaNumber",className:"col-sm-2 col-form-label"},"Chi\u1ec1u cao \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===l,className:"form-control",placeholder:"Chi\u1ec1u cao \u0111\u1ed1i t\u01b0\u1ee3ng",name:"height",value:f.height,onChange:N}),C&&r.a.createElement("p",{className:"mt-2"},"Ch\u1ecdn chi\u1ec1u cao cho \u0111\u1ed1i t\u01b0\u1ee3ng trong kho\u1ea3ng gi\xe1 tr\u1ecb t\u1eeb"," ",C.minHeight," -"," ",C.maxHeight)))),r.a.createElement("div",{className:"col-8"},r.a.createElement(Ys,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCV09KQtrmzDnyXYeC_UzB-HAwMKytXRpE",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"95vh"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),onChangeMonitoredZone:function(e){E((function(t){return Object(K.a)(Object(K.a)({},t),{},{monitoredZone:e})}))},getCoodinate:function(e){return function(e){x(e)}(e)},monitoredObject:f,setMonitoredObject:E,option:l}))),r.a.createElement("div",{className:"footer d-flex justify-content-end"},r.a.createElement("button",{type:"button",className:"btn btn-secondary mr-5","data-dismiss":"modal",onClick:function(){t.push({pathname:"/monitored-object-management"})}},"\u0110\xf3ng"),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){C&&(f.height<C.minHeight||f.height>C.maxHeight)?alert("Ch\u1ecdn chi\u1ec1u cao cho \u0111\u1ed1i t\u01b0\u1ee3ng trong kho\u1ea3ng gi\xe1 tr\u1ecb t\u1eeb ".concat(C.minHeight," - ").concat(C.maxHeight)):(i(Ps.createMonitoredObject(Object(K.a)(Object(K.a)({},f),{},{areaMonitored:null,managementUnit:null,images:null,videos:null,status:""===f.status?"1":f.status}))),E({code:"",name:"",status:1,description:"",managementUnit:null,category:"",areaMonitored:null,parent:"",lat:"",lng:"",height:"",drones:"",images:null,videos:null}))}},"Th\xeam th\xf4ng tin")),r.a.createElement(Ls,{history:t,formatStyle:v,messages:h}))},zs=a(16);var Hs=function(e){var t=e.history,a=Object(o.i)(),l=a.id,i=a.option,c=Object(V.useDispatch)(),s=Object(V.useSelector)((function(e){return e.category})),m=Object(V.useSelector)((function(e){return e.monitoredObjects})),d=m.isObjectSuccess,h=m.isObjectFailure,p=m.objectMessages,g=Object(n.useState)({code:"",name:"",type:"",status:1,description:"",managementUnit:null,category:null,areaMonitored:null,parent:"",lat:"",lng:"",height:"",drones:"",images:null,videos:null,monitoredZone:""}),f=Object(u.a)(g,2),E=f[0],y=f[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),j=v[0],O=v[1],k=Object(n.useState)([]),C=Object(u.a)(k,2),x=C[0],S=C[1],w=Object(n.useState)(null),A=Object(u.a)(w,2),I=A[0],T=A[1],N=Object(n.useState)([]),D=Object(u.a)(N,2),P=D[0],M=D[1],L=function(){var e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zs({method:"GET",url:"https://monitoredzoneserver.herokuapp.com/monitoredzone?page=0"}).then((function(e){e.data&&M(e.data.content.zone)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return e.next=3,zs({method:"GET",url:"https://dsd05-monitored-object.herokuapp.com/monitored-object/detail-monitored-object/".concat(l)}).then((function(e){e.data&&y({_id:e.data.content._id,code:e.data.content.code,name:e.data.content.name,type:e.data.content.type,status:e.data.content.status,description:e.data.content.description,managementUnit:e.data.content.managementUnit&&e.data.content.managementUnit._id,category:e.data.content.category&&e.data.content.category._id,parent:e.data.content.parent&&e.data.content.parent._id,lat:e.data.content.lat,lng:e.data.content.lng,height:e.data.content.height,drones:e.data.content.drones,images:e.data.content.images,videos:e.data.content.videos,monitoredZone:e.data.content.monitoredZone}),Y(e.data.content.monitoredZone)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return e.next=3,zs({method:"GET",url:"https://it4483team2.herokuapp.com/api/records/monitored/images/".concat(l)}).then((function(e){e.data&&S(["https://picsum.photos/id/1018/1000/600/","https://picsum.photos/id/1015/1000/600/","https://picsum.photos/id/1019/1000/600/"])})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return e.next=3,zs({method:"GET",url:"https://it4483team2.herokuapp.com/api/records/monitored/videos/".concat(l)}).then((function(e){e.data&&y((function(t){return Object(K.a)(Object(K.a)({},t),{},{videos:e.data.result})}))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,zs({method:"GET",url:"https://monitoredzoneserver.herokuapp.com/monitoredzone/zoneinfo/".concat(t)}).then((function(e){e.data&&T(e.data.content.zone)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){c(ts.getAllCategories()),c(Ps.getAllMonitoredObjects()),L(),_(),F(),R()}),[]),Object(n.useEffect)((function(){h&&(O("btn btn-danger"),window.$("#modalSuccessNotification").modal("show")),d&&(O("btn btn-success"),window.$("#modalSuccessNotification").modal("show")),c({type:Ns,payload:!1}),c({type:Ts,payload:!1})}),[d,h]);var Q=function(e){e.persist(),y((function(t){return Object(K.a)(Object(K.a)({},t),{},Object(Yr.a)({},e.target.name,e.target.value))}))};return r.a.createElement("div",null,r.a.createElement("div",{className:"header-title mb-5"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"view"===i&&"Xem chi ti\u1ebft th\xf4ng tin \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t","edit"===i&&"Ch\u1ec9nh s\u1eeda th\xf4ng tin \u0111\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t")),r.a.createElement("div",{className:"content row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaNumber",className:"col-sm-2 col-form-label"},"M\xe3 \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===i,className:"form-control",id:"inputAreaNumber",placeholder:"M\xe3 \u0111\u1ed1i t\u01b0\u1ee3ng",name:"code",value:E.code,onChange:Q}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaName",className:"col-sm-2 col-form-label"},"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===i,className:"form-control",id:"inputAreaName",placeholder:"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng",name:"name",value:E.name,onChange:Q}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-2 col-form-label"},"Lo\u1ea1i \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:"view"===i,className:"custom-select",name:"type",value:E.type||"",onChange:Q},r.a.createElement("option",{disabled:!0},"Ch\u1ecdn lo\u1ea1i \u0111\u1ed1i t\u01b0\u1ee3ng "),r.a.createElement("option",{value:"DE_DIEU"},"\u0110\xea \u0111i\u1ec1u"),r.a.createElement("option",{value:"CHAY_RUNG"},"Ch\xe1y r\u1eebng"),r.a.createElement("option",{value:"LUOI_DIEN"},"L\u01b0\u1edbi \u0111i\u1ec7n"),r.a.createElement("option",{value:"CAY_TRONG"},"C\xe2y tr\u1ed3ng"),!E.type&&r.a.createElement("option",{value:""},"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-2 col-form-label"},"Tr\u1ea1ng th\xe1i"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:"view"===i,className:"custom-select",name:"status",value:E.status||"null",onChange:Q},r.a.createElement("option",{disabled:!0},"Ch\u1ecdn tr\u1ea1ng th\xe1i"),r.a.createElement("option",{value:"1"},"B\xecnh th\u01b0\u1eddng"),r.a.createElement("option",{value:"2"},"\u0110\xe3 h\u1ecfng"),r.a.createElement("option",{value:"3"},"\u0110ang \u0111\u01b0\u1ee3c s\u1eeda ch\u1eefa"),!E.status&&r.a.createElement("option",{value:""},"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaName",className:"col-sm-2 col-form-label"},"M\xf4 t\u1ea3"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===i,className:"form-control",id:"inputAreaName",placeholder:"M\xf4 t\u1ea3 cho \u0111\u1ed1i t\u01b0\u1ee3ng",name:"description",value:E.description,onChange:Q}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-2 col-form-label"},"Danh m\u1ee5c"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:"view"===i,className:"custom-select",name:"category",value:E.category||"",onChange:Q},r.a.createElement("option",{disabled:!0},"Ch\u1ecdn danh m\u1ee5c"),!E.category&&r.a.createElement("option",{value:""},"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb"),s&&s.list&&s.list.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.name)}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-2 col-form-label"},"\u0110\u1ed1i t\u01b0\u1ee3ng ch\xednh"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:"view"===i,className:"custom-select",name:"parent",value:E.parent,onChange:Q},r.a.createElement("option",{disabled:!0},"Ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng"),!E.parent&&r.a.createElement("option",{value:""},"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb"),E&&m.list&&m.list.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.name)}))))))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaName",className:"col-sm-2 col-form-label"},"H\xecnh \u1ea3nh"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("div",{id:"carousel-example-2",className:"carousel slide carousel-fade z-depth-1-half","data-ride":"false"},r.a.createElement("ol",{className:"carousel-indicators"},x.map((function(e,t){return r.a.createElement("li",{"data-target":"#carousel-example-2","data-slide-to":t,className:0===t?"active":"",key:t})}))),r.a.createElement("div",{className:"carousel-inner",role:"listbox"},x.map((function(e,t){return r.a.createElement("div",{className:0===t?"carousel-item active":"carousel-item",key:t},r.a.createElement("div",{className:"view"},r.a.createElement("img",{className:"d-block w-100",src:e,alt:"First slide",height:300}),r.a.createElement("div",{className:"mask rgba-black-light"})))}))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carousel-example-2",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carousel-example-2",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next"))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaName",className:"col-sm-2 col-form-label"},"Video"),r.a.createElement("div",{className:"col-sm-10 "},r.a.createElement("ul",{className:"d-flex p-0 m-0",style:{overflow:"auto"}},E.videos&&E.videos.map((function(e,t){return r.a.createElement("li",{className:"mr-3",style:{listStyle:"none"},key:t},r.a.createElement("video",{width:"320",height:"240",controls:!0},r.a.createElement("source",{src:e.link,type:"video/mp4"})))}))))))),r.a.createElement("div",{className:"row mt-5 mb-3"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"T\u1ecda \u0111\u1ed9"),r.a.createElement("div",{className:"col-sm-10 d-flex"},E.lat||E.lng?r.a.createElement("p",{className:"d-flex m-0 justify-content-center align-items-center"},"Kinh \u0111\u1ed9: ",E.lng,r.a.createElement("br",null),"V\u0129 \u0111\u1ed9: ",E.lat):r.a.createElement("p",{className:"d-flex m-0 justify-content-center align-items-center"},"Ch\u01b0a c\xf3 gi\xe1 tr\u1ecb"," "))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaNumber",className:"col-sm-2 col-form-label"},"Mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("select",{disabled:!0,className:"custom-select",name:"monitoredZone",value:E.monitoredZone,onChange:Q},P&&P.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.name)}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputAreaNumber",className:"col-sm-2 col-form-label"},"Chi\u1ec1u cao \u0111\u1ed1i t\u01b0\u1ee3ng"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{disabled:"view"===i,className:"form-control",placeholder:"Chi\u1ec1u cao \u0111\u1ed1i t\u01b0\u1ee3ng",name:"height",value:E.height,onChange:Q}),I&&r.a.createElement("p",{className:"mt-2"},"Ch\u1ecdn chi\u1ec1u cao cho \u0111\u1ed1i t\u01b0\u1ee3ng trong kho\u1ea3ng gi\xe1 tr\u1ecb t\u1eeb"," ",I.minHeight," -"," ",I.maxHeight)))),r.a.createElement("div",{className:"col-8"},E.monitoredZone&&r.a.createElement(Ys,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCV09KQtrmzDnyXYeC_UzB-HAwMKytXRpE",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"95vh"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),onChangeMonitoredZone:function(e){y((function(t){return Object(K.a)(Object(K.a)({},t),{},{monitoredZone:e})}))},id:l,getCoodinate:function(e){return function(e){T(e)}(e)},monitoredObject:E,setMonitoredObject:y,option:i}))),r.a.createElement("div",{className:"footer d-flex justify-content-end"},r.a.createElement("button",{type:"button",className:"btn btn-secondary mr-5","data-dismiss":"modal",onClick:function(){t.push({pathname:"/monitored-object-management"})}},"\u0110\xf3ng"),"view"!==i&&r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){I&&(E.height<I.minHeight||E.height>I.maxHeight)?alert("Ch\u1ecdn chi\u1ec1u cao cho \u0111\u1ed1i t\u01b0\u1ee3ng trong kho\u1ea3ng gi\xe1 tr\u1ecb t\u1eeb ".concat(I.minHeight," - ").concat(I.maxHeight)):(E._id?c(Ps.editMonitoredObject(E._id,Object(K.a)(Object(K.a)({},E),{},{areaMonitored:null,managementUnit:null,images:null,videos:null,status:""===E.status?"1":E.status}))):c(Ps.createMonitoredObject(Object(K.a)(Object(K.a)({},E),{},{areaMonitored:null,managementUnit:null,images:null,videos:null,status:""===E.status?"1":E.status}))),y({code:"",name:"",status:1,description:"",managementUnit:null,category:"",areaMonitored:null,parent:"",type:"",lat:"",lng:"",height:"",drones:"",images:null,videos:null}))}},"edit"===i&&"S\u1eeda th\xf4ng tin")),r.a.createElement(Ls,{history:t,formatStyle:j,messages:p}))},Us=a(89),Vs=a(139),Ks=a.n(Vs),Gs=function(){return{getData:function(e,t,a){var n=Ks.a.get(e,t,a);return null==n?a:n},notify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;re.a[a]({message:e,description:t,duration:4})}}};Gs.getData=function(e,t,a){var n=Ks.a.get(e,t,a);return null==n?a:n};var Zs,Js=Gs,qs=function(){function e(){var t=this;Object(Qe.a)(this,e),this.request=Object(ne.a)(ae.a.mark((function e(){var a,n,r,l,i,c,o,s,u,m,d=arguments;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},n=a.url,r=a.method,l=a.data,i=a.options,["GET","DELETE"].includes(r)?n+="?"+t.makeQuery(l):i=Object(K.a)(Object(K.a)({},i),{},{body:JSON.stringify(l)}),"undefined"!==typeof window&&(c=localStorage.getItem("token"),o=localStorage.getItem("project-type")),s=Object(K.a)({method:r,headers:{"Content-Type":"application/json","project-type":o,"api-token":c}},i),u="https://it4483.cf",e.next=8,fetch(u+n,s);case 8:return m=e.sent,e.next=11,t.handleResponse(m);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),this.handleResponse=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r,l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:a=e.sent,n={data:"",message:""};try{n=a&&JSON.parse(a)}catch(i){console.log(i)}if(r=t.url||"",t.ok){e.next=10;break}return-1===[401].indexOf(t.status)||r.includes("/login")||(window.location.href="/login"),l=n||n&&n.message||t.statusText,e.abrupt("return",Promise.reject(l));case 10:return e.abrupt("return",n.data||n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return Object(Be.a)(e,[{key:"makeQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var a in e)if(Array.isArray(e[a])){var n,r=Object(xn.a)(e[a]);try{for(r.s();!(n=r.n()).done;){var l=n.value;"object"==typeof l&&(l=JSON.stringify(l)),t.push({key:"".concat(a,"[]"),value:l})}}catch(i){r.e(i)}finally{r.f()}}else"object"==typeof e[a]?t.push({key:a,value:JSON.stringify(e[a])}):t.push({key:a,value:e[a]});return t.map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&")}}]),e}(),Xs=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).url="/api/incidents",e.index=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:"".concat(e.url,"/search"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.create=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:e.url,method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.edit=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:"".concat(e.url,"/").concat(a.id),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.detail=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:"".concat(e.url,"/").concat(a),method:"GET",data:{id:a}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delete=Object(ne.a)(ae.a.mark((function t(){var a,n,r=arguments;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:{},n=a.ids,t.abrupt("return",e.request({url:e.url,method:"DELETE",data:{ids:n}}));case 2:case"end":return t.stop()}}),t)}))),e}return a}(qs),Ws=function(){return new Xs},$s=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).url="/api/incident-levels",e.index=Object(ne.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("dung dung"),t.abrupt("return",e.request({url:e.url,method:"GET"}));case 2:case"end":return t.stop()}}),t)}))),e}return a}(qs),eu=function(){return new $s},tu=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).url="/api/incident-status",e.index=Object(ne.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:e.url,method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e}return a}(qs),au=function(){return new tu},nu=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=(t[0],t[1],Object(n.useState)(!0)),l=Object(u.a)(a,2),i=l[0],c=l[1],o=Js(),s=(o.notify,o.getData,Object(n.useState)([])),m=Object(u.a)(s,2),d=m[0],h=m[1],p=Object(n.useState)([]),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)([]),b=Object(u.a)(y,2),v=b[0],j=b[1],O=[{name:"T\xean s\u1ef1 c\u1ed1",dataIndex:"name",key:"name",width:"20%",render:function(e,t){return r.a.createElement("a",{href:"/incidents/".concat(t._id)},e)}},{title:"M\xf4 t\u1ea3",dataIndex:"description",key:"description",width:"20%"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status",filters:v.map((function(e){return{text:e.name,value:e.code}})),onFilter:function(e,t){return Number(t.status.code)===Number(e)},render:function(e){switch(e.code){case 0:return r.a.createElement(Rt.a,{color:"default"},e.name);case 1:return r.a.createElement(Rt.a,{color:"processing"},e.name);case 2:return r.a.createElement(Rt.a,{color:"warning"},e.name);case 3:return r.a.createElement(Rt.a,{color:"success"},e.name)}}},{title:"M\u1ee9c \u0111\u1ed9",dataIndex:"level",key:"level",filters:f.map((function(e){return{text:e.name,value:e.code}})),onFilter:function(e,t){return Number(t.level.code)===Number(e)},render:function(e){switch(console.log("text",e),e.code){case 0:return r.a.createElement(Rt.a,{color:"#2db7f5"},e.name);case 1:return r.a.createElement(Rt.a,{color:"#f50"},e.name)}}},{title:"Ng\u01b0\u1eddi t\u1ea1o",dataIndex:"createdBy",key:"createdBy"},{title:"H\u1ea1n d\u1ef1 ki\u1ebfn",dataIndex:"dueDate",key:"dueDate",sorter:function(e,t){return Xe()(e.dueDate).format("YYYYMMDD")-Xe()(t.dueDate).format("YYYYMMDD")},sortDirections:["descend","ascend"],render:function(e){return Xe()(e).format("YYYY-MM-DD")}},{title:"Ng\xe0y t\u1ea1o",dataIndex:"createdAt",key:"createdAt",sorter:function(e,t){return Xe()(e.createdAt).format("YYYYMMDD")-Xe()(t.createdAt).format("YYYYMMDD")},sortDirections:["descend","ascend"],render:function(e){return Xe()(e).format("YYYY-MM-DD")}}];Object(n.useEffect)((function(){k()}),[]);var k=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a,n,r,l,i,o,s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,Object(Us.a)(Promise.all([Ws().index(),eu().index(),au().index()]));case 3:t=e.sent,a=Object(u.a)(t,2),n=a[0],r=void 0===(r=a[1])?[]:r,l=Object(u.a)(r,3),i=l[0],o=l[1],s=l[2],n&&P.b.error("Kh\xf4ng th\u1ec3 tr\u1ea3 v\u1ec1 danh s\xe1ch s\u1ef1 c\u1ed1!"),h(i.incidents||[]),E(o||[]),j(s||[]),c(!1),console.log("incidents",i);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Qt.a,Object(Yr.a)({columns:O,loading:i,dataSource:d},"loading",i))},ru=a(354),lu=a.n(ru),iu=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).index=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:"/api/users",method:"GET",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.create=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:"/api/users",method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.edit=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:"/api/users/".concat(a.id),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.detail=function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:"/api/users/".concat(a),method:"GET",data:{id:a}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delete=Object(ne.a)(ae.a.mark((function t(){var a,n,r=arguments;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:{},n=a.ids,t.abrupt("return",e.request({url:"/api/users",method:"DELETE",data:{ids:n}}));case 2:case"end":return t.stop()}}),t)}))),e.getImagesByMonitoredId=Object(ne.a)(ae.a.mark((function e(){var t,a,n,r,l=arguments;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},a=t.id,n="https://it4483team2.herokuapp.com/api/records/monitored/images/".concat(a=a||"5fc68aef1b9ae0001765e821"),e.next=5,fetch(n,{method:"GET"});case 5:return r=e.sent,e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),e)}))),e}return a}(qs),cu=[],ou=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(!1),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(n.useState)(!1),h=Object(u.a)(d,2),p=h[0],g=h[1],f=Object(n.useState)(!1),E=Object(u.a)(f,2),y=E[0],b=E[1],v=ie.a.useForm(),j=Object(u.a)(v,1)[0],O=Object(n.useState)([]),k=Object(u.a)(O,2);k[0],k[1];Object(n.useEffect)((function(){C()}),[]);var C=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a,n,r,l,c,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch level"),e.next=3,Promise.all([eu().index(),(new iu).getImagesByMonitoredId({id:""})]);case 3:t=e.sent,a=Object(u.a)(t,2),n=a[0],r=void 0===n?{}:n,l=a[1],c=void 0===l?[]:l,console.log("images",c),console.log("leverRes",r),cu=r,200==c.status?(o=(c.result||[]).map((function(e){var t=Xe()(e.createdAt).format("DD/MM/YYYY hh:mm:ss"),a="";switch(e.problemType){case 0:a="Ch\xe1y r\u1eebng";break;case 1:a="\u0110\xea \u0111i\u1ec1u";break;case 2:a="L\u01b0\u1edbi \u0111i\u1ec7n";break;case 3:a="C\xe2y tr\u1ed3ng";break;default:a=""}return Object(K.a)(Object(K.a)({},e),{},{src:e.link,caption:e.title,thumbnailWidth:320,thumbnailHeight:212,thumbnail:e.link,tags:[{value:t,title:"Created At"},{value:a,title:"Type"}]})})),i(o)):P.b.error(r.message);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){for(var e=[],t=0;t<l.length;t++)1==l[t].isSelected&&e.push(t);return e},S=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),t=l.filter((function(e){return Boolean(e.isSelected)})),j.validateFields().then(function(){var e=Object(ne.a)(ae.a.mark((function e(a){var n,r,l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values",a),e.next=3,Object(Us.a)(Ws().create(Object(K.a)(Object(K.a)({},a),{},{dueDate:Xe()(a.dueDate).format("YYYY-MM-DD"),images:t,type:"LUOI_DIEN"})));case 3:n=e.sent,r=Object(u.a)(n,2),l=r[0],r[1],l&&P.b.error("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!"),P.b.success("S\u1ef1 c\u1ed1 \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o m\u1edbi!"),b(!1),g(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("errorInfo",e),b(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(cl.a,{onChange:function(){var e=!s;m(e);var t=l.slice();if(e)for(var a=0;a<l.length;a++)t[a].isSelected=!0;else for(var n=0;n<l.length;n++)t[n].isSelected=!1;i(Object(Pa.a)(t))},checked:s},"Select All"),r.a.createElement(L.a,{disabled:!x().length,type:"primary",onClick:function(){g(!0)}},"T\u1ea1o s\u1ef1 c\u1ed1"),r.a.createElement("div",{style:{padding:"2px",color:"#666"}},"Selected images: ",x().toString()),r.a.createElement("div",{style:{display:"block",minHeight:"1px",width:"100%",border:"1px solid #ddd",overflow:"auto"}},r.a.createElement(lu.a,{images:l,onSelectImage:function(e,t){var a=l.slice(),n=a[e];n.hasOwnProperty("isSelected")?n.isSelected=!n.isSelected:n.isSelected=!0,i(a),!function(e){return e.filter((function(e){return Boolean(e.isSelected)})).length==e.length}(l)?m(!1):m(!0)},showLightboxThumbnails:!0})),r.a.createElement(le.a,{title:"Title",visible:p,onOk:S,confirmLoading:y,onCancel:function(){g(!1)},destroyOnClose:!0},r.a.createElement(ie.a,{layout:"vertical",initialValues:{},form:j,preserve:!1},r.a.createElement(ie.a.Item,{label:"T\xean s\u1ef1 c\u1ed1",name:"name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(ce.a,null)),r.a.createElement(ie.a.Item,{label:"M\xf4 t\u1ea3",name:"description",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(ce.a.TextArea,{rows:5})),r.a.createElement(ie.a.Item,{label:"M\u1ee9c \u0111\u1ed9",name:"level",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(Bt.a,null,cu.map((function(e){return r.a.createElement(Bt.a.Option,{value:e.code,key:e.code},e.name)})))),r.a.createElement(ie.a.Item,{label:"DatePicker",name:"dueDate",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(oe.a,null)),r.a.createElement(ie.a.Item,{label:"V\u1ecb tr\xed",name:"location",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(ce.a,null)))))},su=a(1184),uu=(a(1113),a(1114),a(1115),[{src:"//vjs.zencdn.net/v/oceans.mp4",type:"video/mp4"},{src:"//vjs.zencdn.net/v/oceans.webm",type:"video/webm"},{src:"//vjs.zencdn.net/v/oceans.ogg",type:"video/ogg"}]),mu={responsive:!0},du=r.a.forwardRef((function(e,t){var a=e.poster,l=void 0===a?"//vjs.zencdn.net/v/oceans.png":a,i=e.sources,c=void 0===i?uu:i;Object(n.useEffect)((function(){"function"===typeof(Zs=Object(xo.default)("incident-video",mu)).markers?Zs.markers({markers:[]}):window.location.reload()}),[]);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Zs.markers.reset(e)};return Object(n.useImperativeHandle)(t,(function(){return{setMakersByIncidents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(e)},currentTime:function(){return Zs.currentTime()}}})),r.a.createElement("video",Object.assign({id:"incident-video",className:"video-js vjs-default-skin",controls:!0,preload:"auto",poster:l,"ata-setup":'{"fluid": true}'},e),c.map((function(e,t){return r.a.createElement("source",{key:t,src:e.src,type:e.type})})),r.a.createElement("p",{className:"vjs-no-js"},"To view this video please enable JavaScript, and consider upgrading to a web browser that",r.a.createElement("a",{href:"https://videojs.com/html5-video-support/",target:"_blank"},"supports HTML5 video")))})),hu=a(1183),pu=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).url="/api/incident-tags",e.index=Object(ne.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({url:e.url,method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e}return a}(qs),gu=function(e){Object(ze.a)(a,e);var t=Object(He.a)(a);function a(){var e;Object(Qe.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={tags:e.props.defaultValue||[],options:[],inputVisible:!1,inputValue:"",editInputIndex:-1,editInputValue:""},e.handleClose=function(t){var a=e.state.tags.filter((function(e){return e!==t}));e.setState({tags:a})},e.showInput=function(){e.setState({inputVisible:!0},(function(){return e.input.focus()}))},e.handleInputChange=function(t){e.setState({inputValue:t})},e.getTags=function(){return e.state.tags},e.handleInputConfirm=function(){var t=e.state.inputValue,a=e.state.tags;t&&-1===a.indexOf(t)&&(a=[].concat(Object(Pa.a)(a),[t])),e.setState({tags:a,inputVisible:!1,inputValue:""})},e.handleEditInputChange=function(t){e.setState({editInputValue:t.target.value})},e.handleEditInputConfirm=function(){e.setState((function(e){var t=e.tags,a=e.editInputIndex,n=e.editInputValue,r=Object(Pa.a)(t);return r[a]=n,{tags:r,editInputIndex:-1,editInputValue:""}}))},e.saveInputRef=function(t){e.input=t},e.saveEditInputRef=function(t){e.editInput=t},e}return Object(Be.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a,n,r,l,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Us.a)((new pu).index());case 2:t=e.sent,a=Object(u.a)(t,2),n=a[0],r=a[1],l=void 0===r?[]:r,n||(i=l.map((function(e){return{value:e.name}})),this.setState({options:i}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.state,n=a.tags,l=a.inputVisible,i=a.inputValue;return r.a.createElement(r.a.Fragment,null,n.map((function(e,a){var n=e.length>20,l=r.a.createElement(Rt.a,{className:"edit-tag",key:e,closable:!0,onClose:function(){return t.handleClose(e)}},r.a.createElement("span",{onDoubleClick:function(n){0!==a&&(t.setState({editInputIndex:a,editInputValue:e},(function(){t.editInput.focus()})),n.preventDefault())}},n?"".concat(e.slice(0,20),"..."):e));return n?r.a.createElement(Ul.a,{title:e,key:e},l):l})),l&&r.a.createElement(hu.a,(e={ref:this.saveInputRef,className:"tag-input",style:{width:200},size:"small",options:this.state.options},Object(Yr.a)(e,"className","tag-input"),Object(Yr.a)(e,"filterOption",(function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())})),Object(Yr.a)(e,"value",i),Object(Yr.a)(e,"onChange",this.handleInputChange),e),r.a.createElement(ce.a.Search,{onPressEnter:this.handleInputConfirm,onSearch:this.handleInputConfirm,size:"small",laceholder:"Nh\u1eadp tag s\u1ef1 c\u1ed1",enterButton:"Th\xeam"})),!l&&r.a.createElement(Rt.a,{className:"site-tag-plus",onClick:this.showInput},r.a.createElement(Ke.a,null)," Th\xeam nh\xe3n"))}}]),a}(r.a.Component),fu={labelCol:{span:4},wrapperCol:{span:20}},Eu=function(e){var t=e.onStartIncident,a=e.onStopIncident,l=Js(),i=l.notify,c=(l.getData,ie.a.useForm()),o=Object(u.a)(c,1)[0],s=Object(n.useRef)(),m=Object(n.useState)(!0),d=Object(u.a)(m,2),h=d[0],p=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,Object.assign({},fu,{layout:"horizontal",form:o}),r.a.createElement("div",{style:{marginTop:"16px"}},r.a.createElement(ie.a.Item,null,h?r.a.createElement(L.a,{type:"primary",onClick:function(){p(!1),t()}},"Start"):r.a.createElement(L.a,{danger:!0,onClick:function(){var e=s.getTags()||[];e.length?(a(e),p(!0)):i("B\u1ea1n ch\u01b0a g\xe1n nh\xe3n cho s\u1ef1 c\u1ed1","","error")}},"Stop"))),r.a.createElement(gu,{ref:function(e){s=e}})))},yu=r.a.forwardRef((function(e,t){var a=r.a.useState(!1),l=Object(u.a)(a,2),i=l[0],c=l[1],o=r.a.useState({}),s=Object(u.a)(o,2),m=s[0],d=s[1],h=r.a.useState(!1),p=Object(u.a)(h,2),g=p[0],f=p[1],E=ie.a.useForm(),y=Object(u.a)(E,1)[0],b=Object(n.useState)([]),v=Object(u.a)(b,2),j=v[0],O=v[1];Object(n.useEffect)((function(){k()}),[]);var k=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Us.a)(eu().index());case 2:t=e.sent,a=Object(u.a)(t,2),a[0],n=a[1],O(void 0===n?[]:n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),y.validateFields().then(function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Us.a)(Ws().create(Object(K.a)(Object(K.a)(Object(K.a)({},m),t),{},{dueDate:Xe()(t.dueDate).format("YYYY-MM-DD"),images:[],videos:[],type:"LUOI_DIEN"})));case 2:a=e.sent,n=Object(u.a)(a,2),r=n[0],n[1],r&&P.b.error("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!"),P.b.success("S\u1ef1 c\u1ed1 \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o m\u1edbi!"),f(!1),c(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("errorInfo",e),f(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useImperativeHandle)(t,(function(){return{show:function(){c(!0)},hide:function(){c(!1)},setDefaultValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(e)}}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{title:"Title",visible:i,onOk:C,confirmLoading:g,onCancel:function(){c(!1)}},r.a.createElement(ie.a,{layout:"vertical",initialValues:{},form:y,preserve:!1},r.a.createElement(ie.a.Item,{label:"T\xean s\u1ef1 c\u1ed1",name:"name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(ce.a,null)),r.a.createElement(ie.a.Item,{label:"M\xf4 t\u1ea3",name:"description",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(ce.a.TextArea,{rows:5})),r.a.createElement(ie.a.Item,{label:"M\u1ee9c \u0111\u1ed9",name:"level",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(Bt.a,null,j.map((function(e){return r.a.createElement(Bt.a.Option,{value:e.code,key:e.code},e.name)})))),r.a.createElement(ie.a.Item,{label:"Lo\u1ea1i s\u1ef1 c\u1ed1",name:"type",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(Bt.a,null,[{code:"1",name:"L\u01b0\u1edbi \u0111i\u1ec7n"},{code:"2",name:"C\xe2y tr\u1ed3ng"},{code:"3",name:"\u0110\xea \u0111i\u1ec1u"},{code:"4",name:"Ch\xe1y r\u1eebng"}].map((function(e){return r.a.createElement(Bt.a.Option,{value:e.code,key:e.code},e.name)})))),r.a.createElement(ie.a.Item,{label:"DatePicker",name:"dueDate",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(oe.a,null)),r.a.createElement(ie.a.Item,{label:"V\u1ecb tr\xed",name:"location",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\xf4ng tin!"}]},r.a.createElement(ce.a,null)))))})),bu=[],vu=-1,ju=function(e){var t,a=e.incidents,l=void 0===a?[]:a,i=e.onChangeTags,c=Object(n.useState)([]),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(n.useState)(!1),h=Object(u.a)(d,2),p=h[0],g=h[1],f=[],E=Object(xn.a)(l);try{for(E.s();!(t=E.n()).done;){var y=t.value;f=f.concat(y.tags||[]),f=Ks.a.uniqBy(f,(function(e){return e}))}}catch(A){E.e(A)}finally{E.f()}var b=Object(n.useState)(l),v=Object(u.a)(b,2),j=v[0],O=v[1];console.log("allTags",f);var k=Object(n.useRef)(),C=Object(n.useRef)(),x=function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k.getTags()||[],l[vu]&&(l[vu].tags=t,l[vu].text=t.toString(),i(l)),g(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e,t){var a=e.filter((function(e){return t.includes(e)}));return Boolean(a.length)};return Object(n.useEffect)((function(){O(l)}),[l]),r.a.createElement("div",null,r.a.createElement(w.a,null,r.a.createElement(yt.a,{span:4},r.a.createElement(L.a,{type:"primary",disabled:!s.length,onClick:function(){var e,t=[],a=Object(xn.a)(l);try{for(a.s();!(e=a.n()).done;){var n=e.value;t=t.concat(n.tags||[])}}catch(A){a.e(A)}finally{a.f()}C.setDefaultValue({tags:t}),C.show()}},"T\u1ea1o s\u1ef1 c\u1ed1")),r.a.createElement(yt.a,{span:16},r.a.createElement(ie.a,{layout:"horizontal",initialValues:{},preserve:!1},r.a.createElement(ie.a.Item,{label:"Tags",name:"tags"},r.a.createElement(Bt.a,{mode:"multiple",onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length?O(l.filter((function(t){return S(t.tags,e)}))):O(l)}},f.map((function(e,t){return r.a.createElement(Bt.a.Option,{value:e,key:t},e)}))))))),r.a.createElement(M.b,{itemLayout:"horizontal",dataSource:j,renderItem:function(e,t){return r.a.createElement(M.b.Item,{actions:[r.a.createElement(cl.a,{key:"select",onChange:function(e){return function(e,t){var a=[];a=e.target.checked?s.concat([t]):s.filter((function(e){return e!==t})),m(Object(Pa.a)(a))}(e,t)}},"Ch\u1ecdn"),r.a.createElement("a",{key:"edit",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;bu=e,vu=t,g(!0)}(e.tags,t)}},"S\u1eeda nh\xe3n")]},r.a.createElement(M.b.Item.Meta,{avatar:r.a.createElement(T.a,{src:"https://i.imgur.com/EFPQbF4.jpeg"}),title:r.a.createElement("a",{href:"https://ant.design"},"Video "+(t+1)),description:"Start time: ".concat(e.time," - Duration: ").concat(e.duration,". C\xe1c nh\xe3n: ").concat(e.text)}))}}),r.a.createElement(le.a,{title:"S\u1eeda nh\xe3n s\u1ef1 c\u1ed1",visible:p,onOk:x,onCancel:function(){g(!1)},destroyOnClose:!0},r.a.createElement(gu,{defaultValue:bu,ref:function(e){k=e}})),r.a.createElement(yu,{ref:function(e){C=e}}))},Ou=Et.a.Title,ku=[],Cu=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!1),l=Object(u.a)(a,2),i=l[0],c=l[1],o=function(e){t.current.setMakersByIncidents(e)};return r.a.createElement("div",null,r.a.createElement(w.a,{gutter:32},r.a.createElement(yt.a,{xs:24,md:18},r.a.createElement(du,{ref:t,incidents:ku})),r.a.createElement(yt.a,{xs:24,sm:6},r.a.createElement(Eu,{onStartIncident:function(){var e=t.current.currentTime();ku.push({time:e.toFixed(2),isFinish:!1,text:"",tags:[],duration:1,overlayText:"I'm new"}),o(ku)},onStopIncident:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=ku.find((function(e){return!e.isFinish}));if(ku=ku.filter((function(e){return e.isFinish})),a){a.isFinish=!0;var n=t.current.currentTime().toFixed(2);a.duration=n-a.time||0,a.text=e.toString(),a.tags=e,ku.push(a),o(ku),c(!i)}}}))),r.a.createElement(w.a,{gutter:32},r.a.createElement(yt.a,{xs:24,md:18},r.a.createElement(su.a,{orientation:"left",plain:!0},r.a.createElement(Ou,{level:5},"Danh s\xe1ch video s\u1ef1 c\u1ed1")),r.a.createElement(ju,{incidents:ku,onChangeTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(ku=e),c(!i)}}))))},xu=a(1203),Su=function(e){var t=Object(o.i)().id,a=Object(n.useState)({}),l=Object(u.a)(a,2),i=l[0],c=l[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),d=(m[0],m[1]),h=Object(n.useState)([]),p=Object(u.a)(h,2),g=(p[0],p[1]);Object(n.useEffect)((function(){f()}),[]);var f=function(){var e=Object(ne.a)(ae.a.mark((function e(){var a,n,r,l,i,o,s,m,h,p,f,E,y,b;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Us.a)(Ws().detail(t));case 2:return a=e.sent,n=Object(u.a)(a,2),r=n[0],l=n[1],e.next=8,Object(Us.a)(eu().index());case 8:return i=e.sent,o=Object(u.a)(i,2),s=o[0],m=o[1],h=void 0===m?[]:m,e.next=15,Object(Us.a)(au().index());case 15:p=e.sent,f=Object(u.a)(p,2),f[0],E=f[1],y=void 0===E?[]:E,r&&P.b.error("Kh\xf4ng th\u1ec3 tr\u1ea3 v\u1ec1 th\xf4ng tin s\u1ef1 c\u1ed1!"),s&&P.b.error("Kh\xf4ng th\u1ec3 tr\u1ea3 v\u1ec1 danh s\xe1ch m\u1ee9c \u0111\u1ed9 s\u1ef1 c\u1ed1!"),b=(l.images||[]).map((function(e){return Object(K.a)(Object(K.a)({},e),{},{isSelected:!1})})),c(Object(K.a)(Object(K.a)({},l),{},{images:b})||{}),d(h),g(y),console.log("incident",l);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){switch(e){case 0:return"#2db7f5";case 1:return"#f50";default:return""}};return r.a.createElement("div",null,r.a.createElement(xu.a,{bordered:!0,layout:"vertical",title:"Chi ti\u1ebft s\u1ef1 c\u1ed1",extra:r.a.createElement(L.a,{type:"primary"},"X\u1eed l\xfd s\u1ef1 c\u1ed1")},r.a.createElement(xu.a.Item,{label:"T\xean s\u1ef1 c\u1ed1"},i.name),r.a.createElement(xu.a.Item,{label:"H\u1ea1n d\u1ef1 ki\u1ebfn"},Xe()(i.dueDate).format("YYYY-MM-DD")),r.a.createElement(xu.a.Item,{label:"Ng\xe0y t\u1ea1o"},Xe()(i.createdAt).format("YYYY-MM-DD")),r.a.createElement(xu.a.Item,{label:"Lo\u1ea1i s\u1ef1 c\u1ed1"},Ks.a.get(i,"type.name","")),r.a.createElement(xu.a.Item,{label:"Tr\u1ea1ng th\xe1i"},r.a.createElement(Rt.a,{color:"".concat(E(Ks.a.get(i,"status.code",null)))},Ks.a.get(i,"status.name",""))),r.a.createElement(xu.a.Item,{label:"M\u1ee9c \u0111\u1ed9"},r.a.createElement(Rt.a,{color:E(Ks.a.get(i,"level.code",null))},Ks.a.get(i,"level.name",""))),r.a.createElement(xu.a.Item,{label:"M\xf4 t\u1ea3",span:3},i.description),r.a.createElement(xu.a.Item,{label:"\u1ea2nh",span:2},r.a.createElement(lu.a,{images:i.images||[],showLightboxThumbnails:!0,enableImageSelection:!1})),r.a.createElement(xu.a.Item,{label:"V\u1ecb tr\xed",span:1},i.location,r.a.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3725.5756715163598!2d106.1600463149287!3d20.96954899517287!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x313598a919dd3821%3A0x5ba5e686fd49047!2zVHLhuqFtIMSRaeG7h24gY2FvIHRo4bq_IE5n4buNYyBMacOqbg!5e0!3m2!1sen!2s!4v1605663218115!5m2!1sen!2s",width:"100%",height:"450",frameBorder:"0",style:{border:0},allowFullScreen:"","aria-hidden":"false",tabIndex:"0"}))))},wu=a(608),Au=function(e){var t=e.headers,a=e.onSorting,l=Object(n.useState)(""),i=Object(u.a)(l,2),c=i[0],o=i[1],s=Object(n.useState)("asc"),m=Object(u.a)(s,2),d=m[0],h=m[1];return r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e){var t=e.name,n=e.field,l=e.sortable;return r.a.createElement("th",{className:"sticky-column",style:{backgroundColor:"white"},key:t,onClick:function(){return l?function(e){var t=e===c&&"asc"===d?"desc":"asc";o(e),h(t),a(e,t)}(n):null}},t,c&&c===n&&r.a.createElement(wu.a,{icon:"asc"===d?"arrow-down":"arrow-up"}))}))))},Iu=a(210),Tu=function(e){var t=e.total,a=void 0===t?0:t,l=e.itemsPerPage,i=void 0===l?10:l,c=e.currentPage,o=void 0===c?1:c,s=e.onPageChange,m=Object(n.useState)(0),d=Object(u.a)(m,2),h=d[0],p=d[1];Object(n.useEffect)((function(){a>0&&i>0&&p(Math.ceil(a/i))}),[a,i]);var g=Object(n.useMemo)((function(){for(var e=[],t=function(t){e.push(r.a.createElement(Iu.a.Item,{key:t,active:t===o,onClick:function(){return s(t)}},t))},a=1;a<=h;a++)t(a);return e}),[h,o]);return 0===h?null:r.a.createElement(Iu.a,null,r.a.createElement(Iu.a.Prev,{onClick:function(){return s(o-1)},disabled:1===o}),g,r.a.createElement(Iu.a.Next,{onClick:function(){return s(o+1)},disabled:o===h}))},Nu=function(e){var t=e.onSearch,a=Object(n.useState)(""),l=Object(u.a)(a,2),i=l[0],c=l[1];return r.a.createElement("input",{type:"text",className:"form-control",style:{width:"240px"},placeholder:"T\xecm ki\u1ebfm ID",value:i,onChange:function(e){return a=e.target.value,c(a),void t(a);var a}})},Du=a(609),Pu=a.n(Du),Mu=function(){return r.a.createElement("div",{className:"fp-container",style:{align:"center"}},r.a.createElement("img",{src:Pu.a,className:"fp-loader",alt:"loading"}))},Lu=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1];return[a?r.a.createElement(Mu,null):null,function(){return l(!0)},function(){return l(!1)}]},_u=a(1198),Fu=a(1185),Ru=a(1131),Yu=a(232),Qu=a.n(Yu),Bu=a(415),zu=a.n(Bu),Hu=a(205),Uu=a.n(Hu),Vu=a(355),Ku=a.n(Vu),Gu=Object(vl.a)((function(e){return{input:{fontSize:20},formItem:{padding:10,margin:0},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{margin:e.spacing(1)},divButton:{display:"flex",alignItems:"center",justifyContent:"center"}}}));function Zu(e){var t=Gu(),a=r.a.useState(!1),l=Object(u.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],d=s[1],h=function(e){j(e.name),x(e.brand),T(e.color),M(e.dimensions),R(e.maxFlightHeight),z(e.maxFlightRange),K(e.maxFlightSpeed),q(e.maxFlightTime),ee(e.rangeBattery),E(e.urlImage)},p=Object(n.useState)(),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(""),b=Object(u.a)(y,2),v=b[0],j=b[1],O=Object(n.useState)(m.brand),k=Object(u.a)(O,2),C=k[0],x=k[1],S=Object(n.useState)(m.color),A=Object(u.a)(S,2),I=A[0],T=A[1],N=Object(n.useState)(m.dimensions),D=Object(u.a)(N,2),P=D[0],M=D[1],L=Object(n.useState)(m.maxFlightHeight),_=Object(u.a)(L,2),F=_[0],R=_[1],Y=Object(n.useState)(m.maxFlightRange),Q=Object(u.a)(Y,2),B=Q[0],z=Q[1],H=Object(n.useState)(m.maxFlightSpeed),U=Object(u.a)(H,2),V=U[0],K=U[1],G=Object(n.useState)(m.maxFlightTime),Z=Object(u.a)(G,2),J=Z[0],q=Z[1],X=Object(n.useState)(m.rangeBattery),W=Object(u.a)(X,2),$=W[0],ee=W[1];return r.a.createElement("div",null,r.a.createElement(Al.a,{onClick:function(){fetch("http://skyrone.cf:6789/drone/getById/"+e.id).then((function(e){return e.json()})).then((function(e){d(e),console.log(e),c(!0),h(e)}))},variant:"contained",color:"primary",startIcon:r.a.createElement(Qu.a,null)}),r.a.createElement(_u.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:i,onClose:function(){c(!1)},closeAfterTransition:!0,BackdropComponent:Fu.a,BackdropProps:{timeout:500}},r.a.createElement(Ru.a,{in:i},r.a.createElement("div",{className:t.paper},r.a.createElement("h2",{id:"transition-modal-title"},"Id# : ",e.id," "),r.a.createElement(w.a,null,r.a.createElement(yt.a,null,r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"T\xean"),r.a.createElement(ce.a,{value:v,className:t.input,onChange:function(e){return j(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Nh\xe3n Hi\u1ec7u"),r.a.createElement(ce.a,{value:C,className:t.input,onChange:function(e){return x(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"M\xe0u"),r.a.createElement(ce.a,{type:"text",value:I,className:t.input,onChange:function(e){return T(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"K\xedch th\u01b0\u1edbc"),r.a.createElement(ce.a,{value:P,className:t.input,onChange:function(e){return M(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Gi\u1edbi h\u1ea1n t\u1ea7m bay (m)"),r.a.createElement(ce.a,{value:B,className:t.input,onChange:function(e){return z(e.target.value)}}))),r.a.createElement(yt.a,null,r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"T\u1ed1c \u0111\u1ed9 t\u1ed1i \u0111a (m/ph\xfat)"),r.a.createElement(ce.a,{value:V,className:t.input,onChange:function(e){return K(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Th\u1eddi gian bay (ph\xfat)"),r.a.createElement(ce.a,{value:J,className:t.input,onChange:function(e){return q(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Tr\u1ea7n bay (m)"),r.a.createElement(ce.a,{value:F,className:t.input,onChange:function(e){return R(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Dung l\u01b0\u1ee3ng pin (mAh)"),r.a.createElement(ce.a,{value:$,className:t.input,onChange:function(e){return ee(e.target.value)}})),r.a.createElement(Al.a,{className:t.input,onClick:function(e){e.preventDefault(),window.open(f,"_blank")},variant:"contained",color:"primary",startIcon:r.a.createElement(Ku.a,null)},"Xem \u1ea3nh"))),r.a.createElement("div",{className:t.divButton},r.a.createElement(Al.a,{onClick:function(){fetch("http://skyrone.cf:6789/drone/delete/"+e.id).then((function(e){return e.json()})).then((function(e){d(e),alert("\u0110\xe3 x\xf3a th\xe0nh c\xf4ng"),c(!1),window.location.reload()}))},variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(zu.a,null)},"X\xf3a Drone"),r.a.createElement(Al.a,{onClick:function(){var t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json"),t.append("Access-Control-Allow-Origin","*");var a={method:"POST",headers:t,body:JSON.stringify({brand:C,color:I,dimensions:P,id:e.id,idLog:0,maxFlightHeight:F,maxFlightRange:B,maxFlightSpeed:V,maxFlightTime:J,name:v,rangeBattery:$,task:0,used:!1})};fetch("http://skyrone.cf:6789/drone/save",a).then((function(e){return e.text()})).then((function(e){alert("\u0110\xe3 c\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),c(!1),window.location.reload()})).catch((function(){return console.log("Can\u2019t access http://skyrone.cf:6789/drone/save response. Blocked by browser?")}))},variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(Uu.a,null)},"L\u01b0u"))))))}var Ju=a(611),qu=a.n(Ju),Xu=a(610),Wu=a.n(Xu),$u=Object(vl.a)((function(e){return{input:{fontSize:20},formItem:{padding:10,margin:0},modal:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"scroll"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{margin:e.spacing(1)},divButton:{display:"flex",alignItems:"center",justifyContent:"center"}}}));function em(e){var t=$u(),a=r.a.useState(!1),l=Object(u.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(),s=Object(u.a)(o,2),m=s[0],d=s[1],h=Object(n.useState)(),p=Object(u.a)(h,2),g=p[0],f=p[1],E=Object(n.useState)(),y=Object(u.a)(E,2),b=y[0],v=y[1],j=Object(n.useState)(),O=Object(u.a)(j,2),k=O[0],C=O[1],x=Object(n.useState)(),S=Object(u.a)(x,2),A=S[0],I=S[1],T=Object(n.useState)(),N=Object(u.a)(T,2),D=N[0],P=N[1],M=Object(n.useState)(),L=Object(u.a)(M,2),_=L[0],F=L[1],R=Object(n.useState)(),Y=Object(u.a)(R,2),Q=Y[0],B=Y[1],z=Object(n.useState)(),H=Object(u.a)(z,2),U=H[0],V=H[1],K=Object(n.useState)(null),G=Object(u.a)(K,2),Z=(G[0],G[1]),J=Object(n.useState)(""),q=Object(u.a)(J,2);q[0],q[1];return r.a.createElement("div",null,r.a.createElement(Al.a,{onClick:function(){c(!0)},variant:"contained",color:"primary",startIcon:r.a.createElement(qu.a,null)},"Th\xeam drone"),r.a.createElement(_u.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:i,onClose:function(){c(!1)},closeAfterTransition:!0,BackdropComponent:Fu.a,BackdropProps:{timeout:500}},r.a.createElement(Ru.a,{in:i},r.a.createElement("div",{className:t.paper},r.a.createElement(w.a,null,r.a.createElement(Wu.a,{withIcon:!1,withPreview:!0,buttonText:"Choose images",onChange:function(e){console.log(e),Z(e[0])},imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880,simpleImage:!0})),r.a.createElement(w.a,null,r.a.createElement(yt.a,null,r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"T\xean"),r.a.createElement(ce.a,{className:t.input,onChange:function(e){return d(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Nh\xe3n Hi\u1ec7u"),r.a.createElement(ce.a,{className:t.input,onChange:function(e){return f(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"M\xe0u"),r.a.createElement(ce.a,{type:"text",className:t.input,onChange:function(e){return v(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"K\xedch th\u01b0\u1edbc"),r.a.createElement(ce.a,{className:t.input,onChange:function(e){return C(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Gi\u1edbi h\u1ea1n t\u1ea7m bay (m)"),r.a.createElement(ce.a,{className:t.input,onChange:function(e){return P(e.target.value)}}))),r.a.createElement(yt.a,null,r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"T\u1ed1c \u0111\u1ed9 t\u1ed1i \u0111a (m/ph\xfat)"),r.a.createElement(ce.a,{className:t.input,onChange:function(e){return F(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Th\u1eddi gian bay (ph\xfat)"),r.a.createElement(ce.a,{className:t.input,onChange:function(e){return B(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Tr\u1ea7n bay (m)"),r.a.createElement(ce.a,{className:t.input,onChange:function(e){return I(e.target.value)}})),r.a.createElement(ie.a.Item,{className:t.formItem},r.a.createElement("h4",null,"Dung l\u01b0\u1ee3ng pin (mAh)"),r.a.createElement(ce.a,{className:t.input,onChange:function(e){return V(e.target.value)}})))),r.a.createElement("div",{className:t.divButton},r.a.createElement(Al.a,{onClick:function(){var t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json"),t.append("Access-Control-Allow-Origin","*");var a={method:"POST",headers:t,body:JSON.stringify({brand:g,code:e.code,color:b,dimensions:k,id:e.id,idLog:0,maxFlightHeight:A,maxFlightRange:D,maxFlightSpeed:_,maxFlightTime:Q,name:m,rangeBattery:U,task:0,used:!1})};fetch("http://skyrone.cf:6789/drone/save",a).then((function(e){return e.text()})).then((function(e){alert("\u0110\xe3 l\u01b0u th\xe0nh c\xf4ng"),c(!1)})).catch((function(){return console.log("Can\u2019t access http://skyrone.cf:6789/drone/getByCode/save response. Blocked by browser?")}))},variant:"contained",color:"primary",className:t.button,startIcon:r.a.createElement(Uu.a,null)},"L\u01b0u"))))))}function tm(){var e=Object(d.a)(["\n  > div {\n    height: 80vh;\n    overflow: auto;\n  }\n  table {\n\n    border-spacing: 0;\n\n    thead > tr {\n      th {\n        text-align: center;\n        z-index: 50;\n      }\n    }\n\n    \n"]);return tm=function(){return e},e}var am=function(){var e=h.a.div(tm()),t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Lu(),o=Object(u.a)(c,3),s=o[0],m=o[1],d=o[2],p=Object(n.useState)(0),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(1),b=Object(u.a)(y,2),v=b[0],j=b[1],O=Object(n.useState)(""),k=Object(u.a)(O,2),C=k[0],x=k[1],S=Object(n.useState)({field:"",order:""}),w=Object(u.a)(S,2),A=w[0],I=w[1];Object(n.useEffect)((function(){m(),fetch("http://skyrone.cf:6789/drone/getAll").then((function(e){return e.json()})).then((function(e){d(),i(e),console.log(e)}))}),[]);var T=Object(n.useMemo)((function(){var e=l;if(C&&(e=e.filter((function(e){return e.id.toLowerCase().includes(C.toLowerCase())}))),E(e.length),A.field){var t="asc"===A.order?1:-1;e=e.sort((function(e,a){return t*e[A.field].localeCompare(a[A.field.toString])}))}return e.slice(20*(v-1),20*(v-1)+20)}),[l,v,C,A]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement(em,null)),r.a.createElement("div",{className:"col-md-5"},r.a.createElement(Tu,{total:f,itemsPerPage:20,currentPage:v,onPageChange:function(e){return j(e)}})),r.a.createElement("div",{className:"col-md-4 d-flex flex-row-reverse"},r.a.createElement(Nu,{onSearch:function(e){x(e),j(1)}}))),r.a.createElement(e,null,s,r.a.createElement("div",{className:"row w-100"},r.a.createElement("div",{className:"col mb-3 col-12 text-center"},r.a.createElement("table",{className:"table table-striped sticky-table"},r.a.createElement(Au,{headers:[{name:"Id#",field:"id",sortable:!0},{name:"T\xean",field:"name",sortable:!0},{name:"Nh\xe3n hi\u1ec7u",field:"brand",sortable:!0},{name:"M\xe0u",field:"color",sortable:!0},{name:"K\xedch th\u01b0\u1edbc",field:"dimension",sortable:!1},{name:"Gi\u1edbi h\u1ea1n t\u1ea7m bay (m)",field:"maxFlightRange",sortable:!1},{name:"T\u1ed1c \u0111\u1ed9 t\u1ed1i \u0111a (m/min)",field:"maxFlightSpeed",sortable:!1},{name:"Th\u1eddi gian bay t\u1ed1i \u0111a (min)",field:"maxFlightTime",sortable:!1},{name:"Tr\u1ea7n cao (m)",field:"maxFlightHeight",sortable:!1},{name:"Dung l\u01b0\u1ee3ng pin (mAh)",field:"rangeBattery",sortable:!1},{name:"_____",field:"rangeBattery",sortable:!1}],onSorting:function(e,t){return I({field:e,order:t})}}),r.a.createElement("tbody",null,T.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row",key:e.id},e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,e.color),r.a.createElement("td",null,e.dimensions),r.a.createElement("td",null,e.maxFlightRange),r.a.createElement("td",null,e.maxFlightSpeed),r.a.createElement("td",null,e.maxFlightTime),r.a.createElement("td",null,e.maxFlightHeight),r.a.createElement("td",null,e.rangeBattery),r.a.createElement("td",null,r.a.createElement(Zu,{code:e.code,id:e.id})))}))))))))},nm=a(1186),rm=a(356),lm=a.n(rm);Object(Ln.withScriptjs)(Object(Ln.withGoogleMap)((function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)([]),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),h=d[0],p=d[1];return Object(n.useEffect)((function(){fetch("http://skyrone.cf:6789/flightPath/getAllPath").then((function(e){return e.json()})).then((function(e){s(e)}));var e=function(e){"Escape"===e.key&&l(null)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ln.GoogleMap,{onClick:function(e){console.log("NA "+e.latLng.lat()),l(e)},defaultZoom:13,defaultCenter:{lat:21.031558,lng:105.864435}},h.map((function(e){return r.a.createElement(Ln.Marker,{key:e.id,position:{lat:e.locationLat,lng:e.locationLng},onClick:function(){}})})),a&&r.a.createElement(Ln.InfoWindow,{onCloseClick:function(){},position:{lat:a.latLng.lat(),lng:a.latLng.lng()}},r.a.createElement("div",null,r.a.createElement("p",null,a.latLng.lat()," - ",a.latLng.lng())))),r.a.createElement(nm.a,{color:"primary","aria-label":"add",style:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},onClick:function(e){e.preventDefault(),window.location.href="/flight-point"}},r.a.createElement(lm.a,null)),r.a.createElement("table",{style:{height:"45%"},className:"table table-striped"},r.a.createElement(Au,{headers:[{name:"IdDrone",field:"idDrone",sortable:!0},{name:"T\xean \u0111\u01b0\u1eddng bay",field:"name",sortable:!0},{name:"Id Mi\u1ec1n gi\xe1m s\xe1t",field:"idSupervisedArea",sortable:!0},{name:"Tr\u1ea7n bay",field:"heightFlight",sortable:!1},{name:"B\u1eaft \u0111\u1ea7u",field:"timeStart",sortable:!1},{name:"K\u1ebft th\xfac",field:"timeEnd",sortable:!1}]}),r.a.createElement("tbody",null,o.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row",key:e.id},e.idDrone),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.idSupervisedArea),r.a.createElement("td",null,e.heightFlight),r.a.createElement("td",null,e.timeStart),r.a.createElement("td",null,e.timeEnd),r.a.createElement("td",null,r.a.createElement(Al.a,{onClick:function(){var t;console.log("A Td Element was clicked!"+e.id),t=e.id,fetch("http://skyrone.cf:6789/flightPoint/getPointOfPath/"+t).then((function(e){return e.json()})).then((function(e){p(e)}))},variant:"contained",color:"primary"},"Xem \u0111\u01b0\u1eddng bay")))})))))})));var im=Object(Ln.withScriptjs)(Object(Ln.withGoogleMap)((function(){var e=r.a.useState(!0),t=Object(u.a)(e,2),a=t[0],l=t[1],i=Object(vl.a)((function(e){return{input:{fontSize:20},formItem:{padding:10,margin:0},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{margin:e.spacing(1)},divButton:{display:"flex",alignItems:"center",justifyContent:"center"}}})),c=Object(n.useState)(),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(n.useState)(),h=Object(u.a)(d,2),p=h[0],g=h[1],f=Object(n.useState)(),E=Object(u.a)(f,2),y=E[0],b=E[1],v=Object(n.useState)(),j=Object(u.a)(v,2),O=j[0],k=j[1],C=i(),x=Object(n.useState)(null),S=Object(u.a)(x,2),w=S[0],A=S[1];return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&A(null)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ln.GoogleMap,{onClick:function(e){console.log("NA "+e.latLng.lat()),A(e)},defaultZoom:13,defaultCenter:{lat:21.031558,lng:105.864435}},w&&r.a.createElement(Ln.InfoWindow,{onCloseClick:function(){},position:{lat:w.latLng.lat(),lng:w.latLng.lng()}},r.a.createElement("div",null,r.a.createElement("p",null,w.latLng.lat()," - ",w.latLng.lng())))),r.a.createElement(nm.a,{color:"primary","aria-label":"add",style:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},onClick:function(e){!function(){var e=new Headers;e.append("Content-Type","application/json"),e.append("Accept","application/json"),e.append("Access-Control-Allow-Origin","*");var t={method:"POST",headers:e,body:JSON.stringify({idDrone:p,idFlightPath:s,locationLat:w.latLng.lat(),locationLng:w.latLng.lng()})};fetch("http://skyrone.cf:6789/flightPoint/save",t).then((function(e){return e.text()})).then((function(e){l(!1)})).catch((function(){return console.log("Can\u2019t access http://skyrone.cf:6789/drone/getByCode/save response. Blocked by browser?")}))}()}},r.a.createElement(lm.a,null)),r.a.createElement(_u.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:C.modal,open:a,closeAfterTransition:!0,BackdropComponent:Fu.a,BackdropProps:{timeout:500}},r.a.createElement(Ru.a,{in:a},r.a.createElement("div",{className:C.paper},r.a.createElement(ie.a.Item,{className:C.formItem},r.a.createElement("h4",null,"ID drone"),r.a.createElement(ce.a,{className:C.input,onChange:function(e){return g(e.target.value)}})),r.a.createElement(ie.a.Item,{className:C.formItem},r.a.createElement("h4",null,"T\xean \u0111\u01b0\u1eddng bay"),r.a.createElement(ce.a,{className:C.input,onChange:function(e){return b(e.target.value)}})),r.a.createElement(ie.a.Item,{className:C.formItem},r.a.createElement("h4",null,"Tr\u1ea7n bay"),r.a.createElement(ce.a,{className:C.input,onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",{className:C.divButton},r.a.createElement(Al.a,{onClick:function(){var e=new Headers;e.append("Content-Type","application/json"),e.append("Accept","application/json"),e.append("Access-Control-Allow-Origin","*");var t={method:"POST",headers:e,body:JSON.stringify({idDrone:p,name:y,heightFlight:O})};fetch("http://skyrone.cf:6789/flightPath/save",t).then((function(e){return e.json()})).then((function(e){l(!1),m(e.id)})).catch((function(){return console.log("Can\u2019t access http://skyrone.cf:6789/drone/getByCode/save response. Blocked by browser?")}))},color:"primary",className:C.button,startIcon:r.a.createElement(Uu.a,null)},"L\u01b0u"))))))})));var cm=Object(vl.a)((function(e){return{input:{fontSize:20},formItem:{padding:10,margin:0},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{margin:e.spacing(1)},divButton:{display:"flex",alignItems:"center",justifyContent:"center"}}}));function om(e){var t=cm(),a=r.a.useState(!1),l=Object(u.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],d=s[1],h=function(e){f(e.name),b(e.brand),O(e.color),x(e.dimensions),I(e.maxFlightHeight),D(e.maxFlightRange),L(e.maxFlightSpeed),R(e.maxFlightTime),B(e.rangeBattery),console.log("name "+e.brand)},p=Object(n.useState)("NGOC ANH"),g=Object(u.a)(p,2),f=(g[0],g[1]),E=Object(n.useState)(m.brand),y=Object(u.a)(E,2),b=(y[0],y[1]),v=Object(n.useState)(m.color),j=Object(u.a)(v,2),O=(j[0],j[1]),k=Object(n.useState)(m.dimensions),C=Object(u.a)(k,2),x=(C[0],C[1]),S=Object(n.useState)(m.maxFlightHeight),A=Object(u.a)(S,2),I=(A[0],A[1]),T=Object(n.useState)(m.maxFlightRange),N=Object(u.a)(T,2),D=(N[0],N[1]),P=Object(n.useState)(m.maxFlightSpeed),M=Object(u.a)(P,2),L=(M[0],M[1]),_=Object(n.useState)(m.maxFlightTime),F=Object(u.a)(_,2),R=(F[0],F[1]),Y=Object(n.useState)(m.rangeBattery),Q=Object(u.a)(Y,2),B=(Q[0],Q[1]);return r.a.createElement("div",null,r.a.createElement(Al.a,{onClick:function(){fetch("http://skyrone.cf:6789/droneState/getParameterFlightRealTime/"+e.id).then((function(e){return e.json()})).then((function(e){d(e.data),console.log(e.data),c(!0),h(e.data)}))},variant:"contained",color:"primary",startIcon:r.a.createElement(Ku.a,null)}),r.a.createElement(_u.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:i,onClose:function(){c(!1)},closeAfterTransition:!0,BackdropComponent:Fu.a,BackdropProps:{timeout:500}},r.a.createElement(Ru.a,{in:i},r.a.createElement("div",{className:t.paper},r.a.createElement("h2",{id:"transition-modal-title"},"Id# : ",e.id," "),r.a.createElement(w.a,null,r.a.createElement(yt.a,null,r.a.createElement("h3",{id:"transition-modal-title"},"T\u1ecda \u0111\u1ed9 Lat :  ",m.locationLat)),r.a.createElement(yt.a,null,r.a.createElement("h3",{id:"transition-modal-title"},"T\u1ecda \u0111\u1ed9 Lng :  ",m.locationLng))),r.a.createElement("h3",{id:"transition-modal-title"},"\u0110\u1ed9 cao (m) :  ",m.heightFlight),r.a.createElement("h3",{id:"transition-modal-title"},"T\u1ed1c \u0111\u1ed9 bay :  ",m.speed),r.a.createElement("h3",{id:"transition-modal-title"},"Ph\u1ea7n tr\u0103m pin :  ",m.percentBattery),r.a.createElement("div",{className:t.divButton},r.a.createElement(Al.a,{variant:"contained",color:"secondary",className:t.button},"Thu H\u1ed3i"))))))}function sm(){var e=Object(d.a)(["\n        > div {\n            height: 80vh;\n            overflow: auto;\n        }\n        table {\n\n            border-spacing: 0;\n\n            thead > tr {\n            th {\n                text-align: center;\n                z-index: 50;\n            }\n    }"]);return sm=function(){return e},e}var um=function(){var e=h.a.div(sm()),t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Lu(),o=Object(u.a)(c,3),s=o[0],m=o[1],d=o[2],p=Object(n.useState)(0),g=Object(u.a)(p,2),f=g[0],E=g[1],y=Object(n.useState)(1),b=Object(u.a)(y,2),v=b[0],j=b[1],O=Object(n.useState)(""),k=Object(u.a)(O,2),C=k[0],x=k[1],S=Object(n.useState)({field:"",order:""}),w=Object(u.a)(S,2),A=w[0],I=w[1],T=Object(n.useState)("0"),N=Object(u.a)(T,2),D=N[0],P=N[1];Object(n.useEffect)((function(){m(),fetch("http://skyrone.cf:6789/droneState/getAllStateNow").then((function(e){return e.json()})).then((function(e){d(),i(e),console.log(e)}))}),[]);var M=Object(n.useMemo)((function(){var e=l;if(D&&(e="0"===D?l:e.filter((function(e){return e.message.includes(D)}))),C&&(e=e.filter((function(e){return e.idDrone.toLowerCase().includes(C.toLowerCase())}))),E(e.length),A.field){var t="asc"===A.order?1:-1;e=e.sort((function(e,a){return t*e[A.field].localeCompare(a[A.field.toString])}))}return e.slice(20*(v-1),20*(v-1)+20)}),[l,v,C,A,D]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement(em,null)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(Tu,{total:f,itemsPerPage:20,currentPage:v,onPageChange:function(e){return j(e)}})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("select",{value:D,onChange:function(e){return P(e.target.value)}},r.a.createElement("option",{value:"0"},"T\u1ea5t c\u1ea3"),r.a.createElement("option",{value:"\u0110ang R\u1ea3nh"},"\u0110ang r\u1ea3nh"),r.a.createElement("option",{value:"\u0110ang Bay"},"\u0110ang bay"),r.a.createElement("option",{value:"\u0110ang S\u1ea1c"},"\u0110ang s\u1ea1c"),r.a.createElement("option",{value:"\u0110ang B\u1ea3o tr\xec"},"\u0110ang b\u1ea3o tr\xec"),r.a.createElement("option",{value:"H\u1ecfng"},"H\u1ecfng"))),r.a.createElement("div",{className:"col-md-2 d-flex flex-row-reverse"},r.a.createElement(Nu,{onSearch:function(e){x(e),j(1)}}))),r.a.createElement(e,null,s,r.a.createElement("div",{className:"row w-100"},r.a.createElement("div",{className:"col mb-3 col-12 text-center"},r.a.createElement("table",{className:"table table-striped sticky-table"},r.a.createElement(Au,{headers:[{name:"Id#",field:"idDrone",sortable:!0},{name:"T\xean",field:"name",sortable:!0},{name:"T\xecnh tr\u1ea1ng",field:"message",sortable:!0},{name:"______",field:"",sortable:!1}],onSorting:function(e,t){return I({field:e,order:t})}}),r.a.createElement("tbody",null,M.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row",key:e.idDrone},e.idDrone),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.message),r.a.createElement("td",null,0==e.state?r.a.createElement(Al.a,{variant:"contained",color:"darkslategrey"},"\u0110\u1eb7t l\u1ecbch s\u1ea1c"):1==e.state?r.a.createElement(om,{id:e.idDrone}):2==e.state||3==e.state?r.a.createElement("div",null,new Intl.DateTimeFormat("vi-VE",{year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(e.timeStart),r.a.createElement("br",null),new Intl.DateTimeFormat("vi-VE",{year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(e.timeEnd)):4==e.state?r.a.createElement(Al.a,{variant:"contained",color:"secondary"},"\u0110\u1eb7t b\u1ea3o tr\xec"):void 0))}))))))))},mm=Object(kr.compose)(Object(kr.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Ln.withScriptjs,Ln.withGoogleMap)((function(e){var t=Object(n.useRef)(null);function a(e,t,a){console.log(e.latLng.lat(),e.latLng.lng())}return r.a.createElement(Ln.GoogleMap,{ref:t,defaultZoom:10,defaultCenter:{lat:20.99933610536628,lng:105.8329881666537},onClick:a},r.a.createElement(Ln.Polyline,{path:[{lat:58.41947,lng:-30},{lat:-51.10061,lng:147.93535}],options:{strokeColor:"red",strokeOpacity:1,strokeWeight:5}}),r.a.createElement(Ln.Marker,{position:{lat:20.99933610536628,lng:105.8229881666537},icon:{url:xt.poin,anchor:new window.google.maps.Point(5,58),size:new window.google.maps.Size(32,32)}}),r.a.createElement(Ln.Circle,{onClick:a,center:{lat:20.99933610536628,lng:105.8329881666537},radius:20,anchor:new window.google.maps.Point(5,58),options:{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:1}}))}));var dm=a(565),hm=a(564),pm=a(313);var gm=function(e){var t=e.point,a=Object(n.useState)(!1),l=Object(u.a)(a,2),i=l[0],c=l[1],o=function(){return c(!i)};return r.a.createElement(Ln.Marker,{position:{lat:t.locationLat,lng:t.locationLng},onClick:o},i&&r.a.createElement(Ln.InfoWindow,{onCloseClick:o},r.a.createElement("div",null,r.a.createElement("p",null,"Th\u1eddi gian bay \u0111\u1ebfn: ",t.timeCome," ph\xfat"),r.a.createElement("p",null,"Th\u1eddi gian d\u1eebng: ",t.timeStop," ph\xfat"),r.a.createElement("p",null,"\u0110\u1ed9 cao: ",null==t.flightHeight?30:t.flightHeight," m\xe9t"))))};function fm(e){var t=e.flightPoints;return r.a.createElement(r.a.Fragment,null,0!==t.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ln.Polyline,{path:Em(t),options:{strokeColor:"red",strokeOpacity:1,strokeWeight:3}}),t.map((function(e,t){return r.a.createElement(gm,{key:t,point:e})}))))}function Em(e){return e.map((function(e){return{lat:e.locationLat,lng:e.locationLng}}))}var ym=Object(kr.compose)(Object(kr.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Ln.withScriptjs,Ln.withGoogleMap)((function(e){var t=e.flightPathView,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(null!=t){var e,n=t.flightPoints,r=new window.google.maps.LatLngBounds,l=Object(xn.a)(n);try{for(l.s();!(e=l.n()).done;){var i=e.value,c=new window.google.maps.LatLng(i.locationLat,i.locationLng);r.extend(c)}}catch(o){l.e(o)}finally{l.f()}a.current.fitBounds(r)}}),[t]),r.a.createElement(Ln.GoogleMap,{ref:a,defaultZoom:10,defaultCenter:{lat:20.99933610536628,lng:105.8329881666537},onClick:function(e,t,a){console.log(e.latLng.lat(),e.latLng.lng())}},t&&r.a.createElement(fm,{flightPoints:t.flightPoints}))}));function bm(e){return r.a.createElement(ym,e)}var vm=a(563);a(1120);var jm=function(e){var t=e.flightPaths,a=e.viewFlightPath,n=e.handleDeleteFlightPath;return r.a.createElement(vm.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"T\xean \u0111\u01b0\u1eddng bay"),r.a.createElement("th",null,"Khu v\u1ef1c gi\xe1m s\xe1t"),r.a.createElement("th",null,"Mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.monitoredAreaName),r.a.createElement("td",null,e.monitoredZoneCode),r.a.createElement("td",{className:"td-action"},r.a.createElement("button",{className:"btn-view",onClick:function(){return a(e)}},r.a.createElement("i",{className:"far fa-eye"})),"/",r.a.createElement("button",{className:"btn-delete",onClick:function(){return n(e)}},r.a.createElement("i",{class:"fas fa-trash-alt"}))))}))))},Om=a(177),km=a(566),Cm=a(567),xm=a(432);var Sm=function(e){var t=e.name,a=e.setName,l=(e.height,e.setHeight,e.heightPoint),i=e.setHeightPoint,c=e.selectedArea,o=e.setSelectedArea,s=e.selectedZone,m=e.setSelectedZone,d=Object(n.useState)([]),h=Object(u.a)(d,2),p=h[0],g=h[1],f=Object(n.useState)(!0),E=Object(u.a)(f,2),y=E[0],b=E[1],v=Object(n.useState)([]),j=Object(u.a)(v,2),O=j[0],k=j[1],C=Object(n.useState)(!0),x=Object(u.a)(C,2),S=x[0],w=x[1];return Object(n.useEffect)((function(){de.a.get("https://monitoredzoneserver.herokuapp.com/area?page=0").then((function(e){var t=e.data.content.monitoredArea.map((function(e){return{name:e.name,_id:e._id,startPoint:e.startPoint,endPoint:e.endPoint,label:e.name,value:e._id}}));g(t),b(!1)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){console.log("load zone"),c&&(w(!0),de.a.get("https://monitoredzoneserver.herokuapp.com/monitoredzone/area/".concat(c._id)).then((function(e){var t=e.data.content.zone.map((function(e){return{_id:e._id,name:e.code,startPoint:e.startPoint,endPoint:e.endPoint,maxHeight:e.maxHeight,minHeight:e.minHeight,label:e.code,value:e._id}}));console.log("mien giam sat",t),k(t),w(!1)})).catch((function(e){console.log(e),w(!1)})))}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(hm.a,null,r.a.createElement(pm.a,null,r.a.createElement(Cm.a.Group,{controlId:"flightName"},r.a.createElement(Cm.a.Label,null,"T\xean \u0111\u01b0\u1eddng bay"),r.a.createElement(Cm.a.Control,{type:"text",value:t,onChange:function(e){return a(e.target.value)},placeholder:"Nh\u1eadp t\xean \u0111\u01b0\u1eddng bay"})))),r.a.createElement(hm.a,null,r.a.createElement(pm.a,null,r.a.createElement(Cm.a.Group,{controlId:"task"},r.a.createElement(Cm.a.Label,null,"Ch\u1ecdn khu v\u1ef1c"),r.a.createElement(xm.a,{value:c,isSearchable:!0,isLoading:y,onChange:function(e){o(e),m(null)},options:p}))),r.a.createElement(pm.a,null,r.a.createElement(Cm.a.Group,{controlId:"monitoredArea"},r.a.createElement(Cm.a.Label,null,"Ch\u1ecdn mi\u1ec1n gi\xe1m s\xe1t"),r.a.createElement(xm.a,{value:s,isSearchable:!0,isLoading:S,onChange:function(e){m(e),console.log("heightPoint",l),i(e.minHeight)},options:O})))))},wm=(a(1123),Object(kr.compose)(Object(kr.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Ln.withScriptjs,Ln.withGoogleMap)((function(e){var t=Object(n.useRef)(null),a=e.newPoint,l=e.setNewPoint,i=e.flightPoints,c=e.selectedZone,o=e.monitoredObjectList,s=e.setMonitoredObjectId,u=e.setHeightPoint,m=e.heightPoint;var d;return Object(n.useEffect)((function(){if(c){var e=new window.google.maps.LatLngBounds,a=new window.google.maps.LatLng(c.startPoint.latitude,c.startPoint.longitude);e.extend(a);var n=new window.google.maps.LatLng(c.endPoint.latitude,c.endPoint.longitude);e.extend(n),t.current.fitBounds(e)}}),[c]),r.a.createElement(Ln.GoogleMap,{ref:t,defaultZoom:10,defaultCenter:{lat:20.99933610536628,lng:105.8329881666537}},0!==i.length&&i.map((function(e,t){return r.a.createElement(Ln.Marker,{key:t,position:{lat:e.locationLat,lng:e.locationLng}})})),i.length>=2&&r.a.createElement(Ln.Polyline,{path:Im(i),options:{strokeColor:"red",strokeOpacity:1,strokeWeight:3}}),null!=c&&r.a.createElement(Ln.Polygon,{path:(d=c,[{lat:d.startPoint.latitude,lng:d.startPoint.longitude},{lat:d.endPoint.latitude,lng:d.startPoint.longitude},{lat:d.endPoint.latitude,lng:d.endPoint.longitude},{lat:d.startPoint.latitude,lng:d.endPoint.longitude}]),onClick:function(e){console.log(e.latLng.lat(),e.latLng.lng()),l(Object(K.a)(Object(K.a)({},a),{},{locationLat:e.latLng.lat(),locationLng:e.latLng.lng()}))},options:{strokeColor:"#0000FF",strokeOpacity:1,strokeWeight:1,fillColor:"#fff",fillOpacity:.2}}),0!=o.length&&o.map((function(e,t){return r.a.createElement(Ln.Circle,{onClick:function(){return function(e){console.log("point clicked");var t=o[e];l(Object(K.a)(Object(K.a)({},a),{},{locationLat:t.lat,locationLng:t.lng})),t.height&&t.height+10>m&&u(t.height+10),s(t._id)}(t)},key:t,center:{lat:e.lat,lng:e.lng},radius:20,anchor:new window.google.maps.Point(5,58),options:{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:1}})})))})));function Am(e){return r.a.createElement(wm,e)}function Im(e){return e.map((function(e){return{lat:e.locationLat,lng:e.locationLng}}))}var Tm=function(e){var t=e.timeCome,a=e.setTimeCome,l=e.timeStop,i=e.setTimeStop,c=e.addPoint,o=e.newPoint,s=e.heightPoint,m=e.selectedZone,d=e.setHeightPoint,h=Object(n.useState)(""),p=Object(u.a)(h,2),g=p[0],f=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cm.a.Group,{controlId:"timeCome"},r.a.createElement(Cm.a.Label,null,"Th\u1eddi gian bay \u0111\u1ebfn"),r.a.createElement(Cm.a.Control,{type:"number",value:t,onChange:function(e){return a(e.target.value)},placeholder:"ph\xfat"})),r.a.createElement(Cm.a.Group,{controlId:"timeStop"},r.a.createElement(Cm.a.Label,null,"Th\u1eddi gian d\u1eebng"),r.a.createElement(Cm.a.Control,{type:"number",onChange:function(e){return i(e.target.value)},value:l,placeholder:"ph\xfat"})),r.a.createElement(Cm.a.Group,{controlId:"heightPoint"},r.a.createElement(Cm.a.Label,null,"\u0110\u1ed9 cao ",null!=m&&"(".concat(m.minHeight,"~").concat(m.maxHeight,")")),r.a.createElement(Cm.a.Control,{type:"number",onChange:function(e){return d(e.target.value)},value:s,placeholder:"m"})),""!==g&&r.a.createElement(Cm.a.Group,{controlId:"errorMessage"},r.a.createElement(Cm.a.Text,{className:"text-muted"},g)),r.a.createElement(Om.a,{onClick:function(){""!=t&&""!=l?m&&(s<m.minHeight||s>m.maxHeight)?f("\u0110\u1ed9 cao ko trong gi\u1edbi h\u1ea1n cho ph\xe9p"):o.locationLat?(c(),f("")):f("Ok c\xe1i g\xec v\u1eady"):f("b\u1ea1n ch\u01b0a nh\u1eadp \u0111\u1ee7 th\xf4ng tin")}},"OK"))};var Nm=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(""),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(n.useState)(""),h=Object(u.a)(d,2),p=h[0],g=h[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),y=E[0],b=E[1],v=Object(n.useState)(""),j=Object(u.a)(v,2),O=j[0],k=j[1],C=Object(n.useState)({}),x=Object(u.a)(C,2),S=x[0],w=x[1],A=Object(n.useState)([]),I=Object(u.a)(A,2),T=I[0],N=I[1],D=Object(n.useState)(""),P=Object(u.a)(D,2),M=P[0],L=P[1],_=Object(n.useState)(""),F=Object(u.a)(_,2),R=F[0],Y=F[1],Q=Object(n.useState)(null),B=Object(u.a)(Q,2),z=B[0],H=B[1],U=Object(n.useState)(null),V=Object(u.a)(U,2),K=V[0],G=V[1],Z=Object(n.useState)([]),J=Object(u.a)(Z,2),q=J[0],X=J[1],W=Object(n.useState)(!1),$=Object(u.a)(W,2),ee=$[0],te=$[1],ae=function(){return te(!ee)},ne=Object(n.useState)(""),re=Object(u.a)(ne,2),le=re[0],ie=re[1];Object(n.useEffect)((function(){K&&de.a.get("https://dsd05-monitored-object.herokuapp.com/monitored-object/get-object-by-zone?monitoredZone=".concat(K._id)).then((function(e){var t=e.data.content.map((function(e){return{_id:e._id,name:e.name,lat:parseFloat(e.lat),lng:parseFloat(e.lng),height:e.height}}));console.log("monitored object",t),X(t)})).catch((function(e){console.log(e)}))}),[K]);var ce=function(){b(""),k(""),w({}),K&&L(void 0!=K.minHeight?K.minHeight:"")},oe=function(){i(""),g(""),m(""),N([]),H(null),G(null),X([]),Y(""),ie(""),ce()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Om.a,{variant:"primary",onClick:ae},"Th\xeam \u0111\u01b0\u1eddng bay"),r.a.createElement(km.a,{show:ee,onHide:function(){oe(),ae()},dialogClassName:"modal-80w"},r.a.createElement(km.a.Header,{closeButton:!0},r.a.createElement(km.a.Title,null,"Th\xeam \u0111\u01b0\u1eddng bay")),r.a.createElement(km.a.Body,null,r.a.createElement(dm.a,null,r.a.createElement(Sm,{name:l,setName:i,height:s,setHeight:m,heightPoint:M,setHeightPoint:L,task:p,setTask:g,selectedArea:z,setSelectedArea:H,selectedZone:K,setSelectedZone:G}),r.a.createElement(hm.a,null,r.a.createElement(pm.a,{md:4},r.a.createElement(Tm,{timeCome:y,setTimeCome:b,timeStop:O,setTimeStop:k,newPoint:S,addPoint:function(){if(S.locationLat){var e={locationLat:S.locationLat,locationLng:S.locationLng,timeCome:y,timeStop:O,flightHeight:""!=M?M:30,idSupervisedObject:R};N([].concat(Object(Pa.a)(T),[e])),ce()}},heightPoint:M,setHeightPoint:L,selectedZone:K})),r.a.createElement(pm.a,{md:8},r.a.createElement(Am,{newPoint:S,setNewPoint:w,flightPoints:S.locationLat?[].concat(Object(Pa.a)(T),[S]):T,selectedZone:K,monitoredObjectList:q,setMonitoredObjectId:Y,setHeightPoint:L,heightPoint:M}))))),r.a.createElement(km.a.Footer,null,""!==le&&r.a.createElement(Cm.a.Group,{controlId:"errorMessage"},r.a.createElement(Cm.a.Text,{className:"text-muted"},le)),r.a.createElement(Om.a,{variant:"primary",onClick:function(){if(!l||0===T.length||!K)return ie("B\u1ea1n ch\u01b0a nh\u1eadp \u0111\u1ee7 th\xf4ng tin");var t={name:l,flightPoints:T,idSupervisedArea:K._id};console.log(t),de.a.post("http://skyrone.cf:6789/flightPath/save",t).then((function(t){console.log(t),e.pageReload()})).catch((function(e){console.log(e)})).finally((function(){oe(),ae()}))}},"Save Changes"))))};function Dm(e){var t=e.pagination,a=e.pageChange,n=t.page,l=t.totalPage,i=function(e){a&&a(e)};return r.a.createElement(Iu.a,null,r.a.createElement(Iu.a.First,{onClick:function(){return i(1)}}),n==l&&l>2&&r.a.createElement(Iu.a.Item,{onClick:function(){return i(n-2)}},n-2),n-1>0&&r.a.createElement(Iu.a.Item,{onClick:function(){return i(n-1)}},n-1),r.a.createElement(Iu.a.Item,{active:!0},n),n+1<=l&&r.a.createElement(Iu.a.Item,{onClick:function(){return i(n+1)}},n+1),l>2&&1==n&&r.a.createElement(Iu.a.Item,{onClick:function(){return i(n+2)}},n+2),r.a.createElement(Iu.a.Last,{onClick:function(){return i(l)}}))}Dm.defaultProps={pagination:{page:1,totalPage:1},pageChange:null};var Pm=Dm;var Mm=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)([]),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(n.useState)(!0),h=Object(u.a)(d,2),p=h[0],g=h[1],f=Object(n.useState)({page:1,totalPage:1,perPage:8}),E=Object(u.a)(f,2),y=E[0],b=E[1],v=Object(n.useRef)(null),j=Object(n.useState)(!1),O=Object(u.a)(j,2),k=O[0],C=O[1],x=function(){return C(!k)};return Object(n.useEffect)((function(){g(!0),de.a.get("http://skyrone.cf:6789/flightPath/getAllPath").then((function(e){console.log(e),v.current=e.data,m(v.current.slice(0,y.perPage));var t=Math.ceil(v.current.length/y.perPage);t!=y.totalPage&&b(Object(K.a)(Object(K.a)({},y),{},{totalPage:t})),console.log(t),g(!1)})).catch((function(e){console.log(e),g(!1)}))}),[k]),r.a.createElement(dm.a,null,r.a.createElement(hm.a,null,r.a.createElement(pm.a,null,r.a.createElement(Nm,{addFlightPath:function(e){m([].concat(Object(Pa.a)(s),[e]))},pageReload:x})),r.a.createElement(pm.a,null,r.a.createElement(Pm,{pagination:y,pageChange:function(e){var t=(e-1)*y.perPage,a=v.current.slice(t,t+y.perPage);m(a),b(Object(K.a)(Object(K.a)({},y),{},{page:e}))}})),r.a.createElement(pm.a,null,"T\xecm ki\u1ebfm")),r.a.createElement("br",null),r.a.createElement(hm.a,null,r.a.createElement(pm.a,{md:6},p?r.a.createElement("p",null,"Loading..."):r.a.createElement(jm,{flightPaths:s,viewFlightPath:function(e){null!=l&&l.id===e.id||i(e)},handleDeleteFlightPath:function(e){"delete"===prompt("Nh\u1eadp 'delete' \u0111\u1ec3 x\xe1c nh\u1eadn b\u1ea1n th\u1ef1c s\u1ef1 mu\u1ed1n x\xf3a \u0111\u01b0\u1eddng bay")&&de.a.get("http://skyrone.cf:6789/flightPath/delete/".concat(e.id)).then((function(e){console.log(e),x()}))}})),r.a.createElement(pm.a,{md:6},r.a.createElement(bm,{flightPathView:l}))))},Lm=a(157);Lm.Button,Lm.Modal,Lm.Form;a(1124);var _m=[{path:"/dashboard",component:function(){return r.a.createElement(Kr,null)},exact:!0},{path:"/drones",component:function(){return r.a.createElement("div",null,"DroneManagement")}},{path:"/drone-list",component:am},{path:"/drone-state",component:um},{path:"/my-map-test",component:function(){return r.a.createElement(mm,{onClick:function(e,t,a){console.log(e.latLng.lat(),e.latLng.lng())}})}},{path:"/flight-path",component:Mm},{path:"/flight-point",component:function(){return r.a.createElement(im,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyBYUJNgbfjL9QvyUobTRpfmhOpLlvtLaAY",loadingElement:r.a.createElement("div",{style:{height:"65%"}}),containerElement:r.a.createElement("div",{style:{height:"65%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})}},{path:"/flight-hub-monitor-campaigns/create",component:lr},{path:"/flight-hub-monitor-campaigns/:id",component:cr},{path:"/flight-hub-monitor-campaigns",component:dn},{path:"/flight-hub-other-params",component:jr},{path:"/payloads",component:function(){return r.a.createElement("div",null,"PayloadManagement")}},{path:"/payload-management",component:fc},{path:"/payload-dscard",component:$c},{path:"/payload-type",component:bc},{path:"/payload-drone",component:Bc},{path:"/edit-signup-payload-drone",component:Vc},{path:"/add-signup-payload-drone",component:qc},{path:"/payload-configuration",component:xc},{path:"/payload-statistic",component:Ac},{path:"/payload-statistic-type",component:Dc},{path:"/payload-statistic-time",component:Pc},{path:"/payload-statistic-work",component:Fc},{path:"/payload-statistic-status",component:_c},{path:"/payload-statistic-fix",component:Rc},{path:"/metadata",component:function(){return r.a.createElement(go,null)}},{path:"/stream",component:function(){return r.a.createElement(Mo,null)}},{path:"/image-video-detail/:id",component:function(){return r.a.createElement(Co,null)}},{path:"/problem",component:function(){return r.a.createElement("div",null,"Problem")}},{path:"/supervised-object",component:function(){return r.a.createElement("div",null,"\u0110\u1ed1i t\u01b0\u1ee3ng gi\xe1m s\xe1t")}},{path:"/monitored-object-management/:option/:id",component:Hs,exact:!0},{path:"/monitored-object-management/:option",component:Bs,exact:!0},{path:"/monitored-object-management",component:_s,exact:!0},{path:"/category-monitored-object-management",component:ss,exact:!0},{path:"/statistic",component:function(){return r.a.createElement("div",null,"B\xe1o c\xe1o th\u1ed1ng k\xea")}},{path:"/problems",component:function(){return r.a.createElement("div",null,"S\u1ef1 c\u1ed1")}},{path:"/warning",component:function(){return r.a.createElement(Rl,null)}},{path:"/warning-detail/:id",component:function(){return r.a.createElement(Zl,null)}},{path:"/activity-log",component:function(){return r.a.createElement("div",null,"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng")}},{path:"/log-user",component:ti},{path:"/log-drone",component:ci},{path:"/log-problem",component:bi},{path:"/log-warn",component:hi},{path:"/log-payload",component:Ni},{path:"/log-image",component:Fi},{path:"/log-video",component:xi},{path:"/log-incident",component:Hi},{path:"/log-objmonitor",component:Ji},{path:"/log-region",component:tc},{path:"/log-statistic",component:cc},{path:"/log-uav",component:hc},{path:"/surveillance-domain-area",component:function(){return r.a.createElement("div",null,"Qu\u1ea3n l\xfd khu v\u1ef1c")}},{path:"/surveillance-domain-manage/edit",component:function(){return r.a.createElement(Vr,null)},exact:!0},{path:"/surveillance-domain-manage",component:function(){return r.a.createElement(Rr,null)},exact:!0},{path:"/surveillance-area",component:function(){return r.a.createElement(Mr,null)}},{path:"/surveillance-area-detail",component:function(){return r.a.createElement(Tr,null)}},{path:"/handle-problem",component:hl,exact:!0},{path:"/user-management",component:Zt},{path:"/user",component:Zt},{path:"/department",component:na},{path:"/user-meta",component:da},{path:"/incidents",component:function(){return r.a.createElement(nu,null)},exact:!0},{path:"/incidents/:id",component:function(){return r.a.createElement(Su,null)},exact:!0},{path:"/imageGallery",component:function(){return r.a.createElement(ou,null)},exact:!0},{path:"/videoGallery",component:function(){return r.a.createElement(Cu,null)}},{exact:!0,path:"/role",component:ya},{path:"/permission",component:Ca},{path:"/role-permission",component:Da}],Fm=function(e){var t=e.component,a=Object(c.a)(e,["component"]),n=Object(V.useSelector)((function(e){return e.user.isLogin}));return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))},Rm=function(){return r.a.createElement(o.d,null,_m.map((function(e){var t=e.path,a=e.exact,n=void 0!==a&&a,l=e.component,i=Object(c.a)(e,["path","exact","component"]);return r.a.createElement(Fm,Object.assign({key:t,exact:n,path:t,component:l},i))})))},Ym=a(113),Qm=a(433),Bm=a(612),zm=function(e,t){var a=-1;return e.forEach((function(e,n){e._id===t&&(a=n)})),a},Hm={list:[],listPaginate:[],totalDocs:0,limit:0,totalPages:0,page:0,pagingCounter:0,hasPrevPage:!1,hasNextPage:!1,prevPage:0,nextPage:0,isObjectSuccess:!1,isObjectFailure:!1,objectMessages:""};var Um=function(e,t){var a=-1;return e.forEach((function(e,n){e._id===t&&(a=n)})),a},Vm={listPaginate:[],list:[],totalDocs:0,limit:0,totalPages:0,page:0,pagingCounter:0,hasPrevPage:!1,hasNextPage:!1,isCatSuccess:!1,isError:!1,messages:""};var Km={key:"root",storage:a.n(Bm).a,whitelist:["user"]},Gm=Object(Ym.c)({user:J,monitoredObjects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hm,t=arguments.length>1?arguments[1]:void 0,a=-1,n=-1;switch(t.type){case Es:case ps:case vs:case Ss:case ks:return Object(K.a)({},e);case ys:return Object(K.a)(Object(K.a)({},e),{},{list:t.payload});case gs:return Object(K.a)(Object(K.a)({},e),{},{listPaginate:t.payload.docs,totalDocs:t.payload.totalDocs,limit:t.payload.limit,totalPages:t.payload.totalPages,page:t.payload.page,pagingCounter:t.payload.pagingCounter,hasPrevPage:t.payload.hasPrevPage,hasNextPage:t.payload.hasNextPage,prevPage:t.payload.prevPage,nextPage:t.payload.nextPage});case js:return Object(K.a)(Object(K.a)({},e),{},{list:[].concat(Object(Pa.a)(e.list),[t.payload]),listPaginate:[].concat(Object(Pa.a)(e.listPaginate),[t.payload])});case Ts:return Object(K.a)(Object(K.a)({},e),{},{isObjectSuccess:t.payload});case Cs:return a=zm(e.list,t.payload._id),n=zm(e.listPaginate,t.payload._id),-1!==a&&(e.list[a]=t.payload),-1!==n&&(e.listPaginate[n]=t.payload),Object(K.a)({},e);case ws:return Object(K.a)({},e);case Ns:return Object(K.a)(Object(K.a)({},e),{},{isObjectFailure:t.payload});case bs:case fs:case Os:case As:case bs:return Object(K.a)({},e);case Is:return Object(K.a)(Object(K.a)({},e),{},{objectMessages:t.payload});default:return Object(K.a)({},e)}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vm,t=arguments.length>1?arguments[1]:void 0,a=-1,n=-1;switch(t.type){case Ro:case Lo:case Bo:case Ko:case Uo:return Object(K.a)({},e);case Yo:return Object(K.a)(Object(K.a)({},e),{},{list:t.payload});case _o:return Object(K.a)(Object(K.a)({},e),{},{listPaginate:t.payload.docs,totalDocs:t.payload.totalDocs,limit:t.payload.limit,totalPages:t.payload.totalPages,page:t.payload.page,pagingCounter:t.payload.pagingCounter,hasPrevPage:t.payload.hasPrevPage,hasNextPage:t.payload.hasNextPage,prevPage:t.payload.prevPage,nextPage:t.payload.nextPage});case zo:return Object(K.a)(Object(K.a)({},e),{},{list:[].concat(Object(Pa.a)(e.list),[t.payload]),listPaginate:[].concat(Object(Pa.a)(e.listPaginate),[t.payload])});case Vo:return a=Um(e.list,t.payload._id),n=Um(e.listPaginate,t.payload._id),-1!==a&&(e.list[a]=t.payload),-1!==n&&(e.listPaginate[n]=t.payload),Object(K.a)({},e);case Go:return Object(K.a)({},e);case Xo:return Object(K.a)(Object(K.a)({},e),{},{isCatSuccess:t.payload});case Qo:case Fo:case Ho:case Zo:case qo:return Object(K.a)(Object(K.a)({},e),{},{isError:t.payload});case Jo:return Object(K.a)(Object(K.a)({},e),{},{messages:t.payload});default:return Object(K.a)({},e)}}}),Zm=Object(Qm.a)(Km,Gm),Jm=Object(G.a)({reducer:Zm,middleware:Object(G.c)({serializableCheck:!1,immutableCheck:!1})}),qm=Object(Qm.b)(Jm),Xm=Jm,Wm=a(613),$m=a(1233),ed=a(1234);function td(){var e=Object(d.a)(["\n    width: 80%;\n\n    .first-button {\n        margin-right: 10px;\n    }\n    .noti-message {\n        color: red;\n    }\n"]);return td=function(){return e},e}var ad=h.a.div(td()),nd=Et.a.Title,rd=function(){var e=Object(V.useDispatch)(),t=Object(n.useState)({username:"",password:""}),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(""),s=Object(u.a)(c,2),m=s[0],d=s[1],h=(Object(V.useSelector)((function(e){return e.user.projectType})),Object(n.useState)(!1)),p=Object(u.a)(h,2),g=p[0],f=p[1];Object(n.useEffect)((function(){var e=localStorage.getItem("saveLogin");f(!e||"true"==e);var t=JSON.parse(localStorage.getItem("dataLogin"));"true"==e&&i(t)}),[]);var E=Object(o.g)(),y=Object(o.h)(),b=Object(V.useSelector)((function(e){return e.user.isLogin}));Object(n.useEffect)((function(){b&&E.push("/dashboard")}),[b]),Object(n.useEffect)((function(){y.state&&y.state.message&&d(y.state.message)}),[y]),Object(n.useEffect)((function(){if(m&&""!==m){var e=setTimeout((function(){d("")}),3e3);return function(){return clearTimeout(e)}}}),[m]);var v=function(){var t=Object(ne.a)(ae.a.mark((function t(){var a,n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,j()){t.next=3;break}return t.abrupt("return");case 3:return a={username:l.username,password:l.password},t.next=6,r=a,ge.post("login",r).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 6:"successful"==(n=t.sent).status?(e(q.setUserData(n.result)),e(q.setLogin(!0)),e(q.setProjectType(n.result.type)),localStorage.setItem("token",n.result.api_token),localStorage.setItem("project-type",n.result.type),fe({token:n.result.api_token}),fe({"project-type":n.result.type}),E.push("/dashboard")):d(n.message),localStorage.setItem("saveLogin",g),g?localStorage.setItem("dataLogin",JSON.stringify(a)):localStorage.removeItem("dataLogin"),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}var r}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),j=Object(n.useCallback)((function(){var e=!0;return"undefined"===typeof l.username||""===l.username?(e=!1,d("Vui l\xf2ng nh\u1eadp t\xe0i kho\u1ea3n!"),e):"undefined"===typeof l.password||""===l.password?(e=!1,d("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"),e):e}),[l]);return r.a.createElement(ad,null,r.a.createElement(nd,{level:2},"H\u1ec7 th\u1ed1ng gi\xe1m s\xe1t b\u1eb1ng Drone"),r.a.createElement("h2",null,"\u0110\u0103ng nh\u1eadp"),r.a.createElement(ie.a,{name:"normal_login",initialValues:{remember:!0}},r.a.createElement(ie.a.Item,{name:"username"},r.a.createElement(ce.a,{prefix:r.a.createElement($m.a,{className:"site-form-item-icon"}),placeholder:"Email ho\u1eb7c sdt",value:l.username,onChange:function(e){return i(Object(K.a)(Object(K.a)({},l),{},{username:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"password"},r.a.createElement(ce.a,{prefix:r.a.createElement(ed.a,{className:"site-form-item-icon"}),type:"password",placeholder:"M\u1eadt kh\u1ea9u",value:l.password,onChange:function(e){return i(Object(K.a)(Object(K.a)({},l),{},{password:e.target.value}))}})),m&&r.a.createElement("p",{className:"noti-message"},m),r.a.createElement(ie.a.Item,null,r.a.createElement(ie.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(cl.a,{onChange:function(e){f(e.target.checked)},checked:g},"L\u01b0u t\xe0i kho\u1ea3n")),r.a.createElement("a",{className:"first-button",onClick:function(){return E.push("/forgot-password")}},"Qu\xean m\u1eadt kh\u1ea9u"),r.a.createElement("a",{className:"second-button",onClick:function(){return E.push("/register")}},"\u0110\u0103ng k\xfd")),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:v},"\u0110\u0103ng nh\u1eadp"))))};function ld(){var e=Object(d.a)(["\n    .login-row {\n        height: 100vh;\n        background: #5a5c69;\n    }\n    .login-container {\n        height: 80vh;\n    }\n    .login-form {\n        height: 80vh;\n        background: white;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n"]);return ld=function(){return e},e}var id=h.a.div(ld()),cd=function(e){var t=e.children;return r.a.createElement(id,null,r.a.createElement(w.a,{justify:"center",align:"middle",className:"login-row"},r.a.createElement(yt.a,{span:15},r.a.createElement(w.a,{className:"login-container"},r.a.createElement(yt.a,{span:12},r.a.createElement(vt.a,{src:xt.drone,height:"100%"})),r.a.createElement(yt.a,{className:"login-form",span:12},t)))))},od=function(){return r.a.createElement(cd,null,r.a.createElement(rd,null))};function sd(){var e=Object(d.a)(["\n    width: 80%;\n\n    .first-button {\n        margin-right: 10px;\n    }\n"]);return sd=function(){return e},e}var ud=h.a.div(sd()),md=Et.a.Title,dd=Object(o.k)((function(e){var t=e.history,a=(Object(V.useDispatch)(),Object(n.useState)("")),l=Object(u.a)(a,2),i=l[0],c=l[1],o=function(){var e=Object(ne.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&""!==i){e.next=3;break}return re.a.error({message:"L\u1ed7i",description:"Vui l\xf2ng \u0111i\u1ec1n email"}),e.abrupt("return");case 3:if(s(i)){e.next=6;break}return re.a.error({message:"L\u1ed7i",description:"Email kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng"}),e.abrupt("return");case 6:return e.next=8,n={email:i},ge.post("send-email-forgot-password",n).then((function(e){return e.data}));case 8:"successful"==(a=e.sent).status?(re.a.success({message:"Th\xe0nh c\xf4ng",description:"Vui l\xf2ng ki\u1ec3m tra email c\u1ee7a b\u1ea1n"}),setTimeout((function(){t.push("/login")}),2500)):re.a.error({message:"L\u1ed7i",description:a.message});case 10:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();function s(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}return r.a.createElement(ud,null,r.a.createElement(md,{level:2},"H\u1ec7 th\u1ed1ng gi\xe1m s\xe1t b\u1eb1ng Drone"),r.a.createElement("h2",null,"Qu\xean m\u1eadt kh\u1ea9u"),r.a.createElement(ie.a,{name:"normal_login",initialValues:{remember:!0}},r.a.createElement(ie.a.Item,{name:"email"},r.a.createElement(ce.a,{prefix:r.a.createElement($m.a,{className:"site-form-item-icon"}),placeholder:"Email",value:i,onChange:function(e){return c(e.target.value)}})),r.a.createElement(ie.a.Item,null,r.a.createElement("a",{className:"first-button",onClick:function(){return t.push("/login")}},"\u0110\u0103ng nh\u1eadp"),r.a.createElement("a",{className:"second-button",onClick:function(){return t.push("/register")}},"\u0110\u0103ng k\xfd")),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:o},"G\u1eedi"))))})),hd=function(){return r.a.createElement(cd,null,r.a.createElement(dd,null))};function pd(){var e=Object(d.a)(["\n    width: 80%;\n\n    .first-button {\n        margin-right: 10px;\n    }\n\n    .noti-message {\n        color: red;\n    }\n"]);return pd=function(){return e},e}var gd=h.a.div(pd()),fd=Et.a.Title,Ed=(Bt.a.Option,function(){var e=Object(V.useDispatch)(),t=Object(o.g)(),a=Object(n.useState)({full_name:"",email:"",password:"",repassword:"",type:""}),l=Object(u.a)(a,2),i=l[0],c=l[1],s=Object(V.useSelector)((function(e){return e.user.projectType})),m=Object(n.useState)(""),d=Object(u.a)(m,2),h=d[0],p=d[1],g=function(){var a=Object(ne.a)(ae.a.mark((function a(){var n,r;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,f()){a.next=3;break}return a.abrupt("return");case 3:return n={full_name:i.full_name,email:i.email,password:i.password,repassword:i.repassword,type:s},p(""),a.next=7,l=n,ge.post("register",l).then((function(e){return e.data}));case 7:"successful"==(r=a.sent).status?(e(q.setUserData({})),t.push({pathname:"/login",state:{message:"Vui l\xf2ng \u0111\u1ee3i admin duy\u1ec7t t\xe0i kho\u1ea3n!"}})):p(r.message),a.next=13;break;case 11:a.prev=11,a.t0=a.catch(0);case 13:case"end":return a.stop()}var l}),a,null,[[0,11]])})));return function(){return a.apply(this,arguments)}}(),f=Object(n.useCallback)((function(){var e=!0;return"undefined"===typeof i.full_name||""===i.full_name||"undefined"===typeof i.email||""===i.email?(e=!1,p("Vui l\xf2ng nh\u1eadp email!"),e):"undefined"===typeof i.password||""===i.password?(e=!1,p("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"),e):"undefined"===typeof i.repassword?(e=!1,p("Vui l\xf2ng x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u!"),e):i.repassword!==i.password?(e=!1,p("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang!"),e):e}));return r.a.createElement(gd,null,r.a.createElement(fd,{level:2},"H\u1ec7 th\u1ed1ng gi\xe1m s\xe1t b\u1eb1ng Drone"),r.a.createElement("h2",null,"\u0110\u0103ng k\xfd"),r.a.createElement(ie.a,{name:"normal_login",initialValues:{remember:!0}},r.a.createElement(ie.a.Item,{name:"name"},r.a.createElement(ce.a,{prefix:r.a.createElement($m.a,{className:"site-form-item-icon"}),type:"text",placeholder:"H\u1ecd t\xean",value:i.full_name,onChange:function(e){return c(Object(K.a)(Object(K.a)({},i),{},{full_name:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"email"},r.a.createElement(ce.a,{prefix:r.a.createElement($m.a,{className:"site-form-item-icon"}),type:"email",placeholder:"Email",value:i.email,onChange:function(e){return c(Object(K.a)(Object(K.a)({},i),{},{email:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"password"},r.a.createElement(ce.a,{prefix:r.a.createElement(ed.a,{className:"site-form-item-icon"}),type:"password",placeholder:"M\u1eadt kh\u1ea9u",value:i.password,onChange:function(e){return c(Object(K.a)(Object(K.a)({},i),{},{password:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"re-password"},r.a.createElement(ce.a,{prefix:r.a.createElement(ed.a,{className:"site-form-item-icon"}),type:"password",placeholder:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",value:i.repassword,onChange:function(e){return c(Object(K.a)(Object(K.a)({},i),{},{repassword:e.target.value}))}})),h&&r.a.createElement("p",{className:"noti-message"},h),r.a.createElement(ie.a.Item,null,r.a.createElement("a",{className:"first-button",onClick:function(){return t.push("/login")}},"\u0110\u0103ng nh\u1eadp"),r.a.createElement("a",{className:"second-button",onClick:function(){return t.push("/forgot-password")}},"Qu\xean m\u1eadt kh\u1ea9u")),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:g},"\u0110\u0103ng k\xfd"))))}),yd=function(){return r.a.createElement(cd,null,r.a.createElement(Ed,null))};function bd(){var e=Object(d.a)(["\n    width: 80%;\n\n    .first-button {\n        margin-right: 10px;\n    }\n\n    .noti-message {\n        color: red;\n    }\n"]);return bd=function(){return e},e}var vd=h.a.div(bd()),jd=Et.a.Title,Od=function(){var e=Object(o.g)(),t=(Object(V.useDispatch)(),Object(n.useState)({oldPassword:"",email:"",password:"",repassword:""})),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(""),s=Object(u.a)(c,2),m=s[0],d=s[1],h=Object(o.h)(),p=function(){var t=Object(ne.a)(ae.a.mark((function t(){var a,n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,g()){t.next=3;break}return t.abrupt("return");case 3:return a={oldPassword:l.oldPassword,email:l.email,password:l.password,repassword:l.repassword},d(""),t.next=7,r=a,ge.post("change-password",r).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 7:"successful"==(n=t.sent).status?e.push(h.state.lastRoute):d(n.message),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}var r}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),g=Object(n.useCallback)((function(){var e=!0;return"undefined"===typeof l.email||""===l.email?(e=!1,d("Vui l\xf2ng nh\u1eadp email!"),e):"undefined"===typeof l.oldPassword||""===l.oldPassword?(e=!1,d("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u c\u0169!"),e):"undefined"===typeof l.password||""===l.password?(e=!1,d("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"),e):"undefined"===typeof l.repassword?(e=!1,d("Vui l\xf2ng x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u!"),e):l.repassword!==l.password?(e=!1,d("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang!"),e):e}),[l]),f=function(){e.push(h.state.lastRoute)};return r.a.createElement(vd,null,r.a.createElement(jd,{level:2},"H\u1ec7 th\u1ed1ng gi\xe1m s\xe1t b\u1eb1ng Drone"),r.a.createElement("h2",null,"\u0110\u1ed5i m\u1eadt kh\u1ea9u"),r.a.createElement(ie.a,{name:"normal_login",initialValues:{remember:!0}},r.a.createElement(ie.a.Item,{name:"email"},r.a.createElement(ce.a,{prefix:r.a.createElement($m.a,{className:"site-form-item-icon"}),placeholder:"Email",value:l.email,onChange:function(e){return i(Object(K.a)(Object(K.a)({},l),{},{email:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"oldPassword"},r.a.createElement(ce.a,{prefix:r.a.createElement(ed.a,{className:"site-form-item-icon"}),type:"password",placeholder:"M\u1eadt kh\u1ea9u c\u0169",value:l.oldPassword,onChange:function(e){return i(Object(K.a)(Object(K.a)({},l),{},{oldPassword:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"password"},r.a.createElement(ce.a,{prefix:r.a.createElement(ed.a,{className:"site-form-item-icon"}),type:"password",placeholder:"M\u1eadt kh\u1ea9u m\u1edbi",value:l.password,onChange:function(e){return i(Object(K.a)(Object(K.a)({},l),{},{password:e.target.value}))}})),r.a.createElement(ie.a.Item,{name:"re-password"},r.a.createElement(ce.a,{prefix:r.a.createElement(ed.a,{className:"site-form-item-icon"}),type:"password",placeholder:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",value:l.repassword,onChange:function(e){return i(Object(K.a)(Object(K.a)({},l),{},{repassword:e.target.value}))}})),m&&r.a.createElement("p",{className:"noti-message"},m),r.a.createElement(ie.a.Item,null,r.a.createElement("a",{className:"second-button",onClick:function(){return f}},"Quay l\u1ea1i")),r.a.createElement(ie.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:p},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"))))},kd=function(){return r.a.createElement(cd,null,r.a.createElement(Od,null))},Cd=function(e){var t=e.component,a=Object(c.a)(e,["component"]),n=Object(V.useSelector)((function(e){return e.user.isLogin}));return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))},xd=function(){return r.a.createElement(s.a,null,r.a.createElement(o.d,null,r.a.createElement(Cd,{exact:!0,path:"/home",component:Lt}),r.a.createElement(o.b,{exact:!0,path:"/login",component:od}),r.a.createElement(o.b,{exact:!0,path:"/register",component:yd}),r.a.createElement(o.b,{exact:!0,path:"/forgot-password",component:hd}),r.a.createElement(o.b,{exact:!0,path:"/change-password",component:kd}),r.a.createElement(pt,null,r.a.createElement(Rm,null))))},Sd=function(){return Object(n.useEffect)((function(){localStorage.getItem("project-type")&&fe({"project-type":localStorage.getItem("project-type")}),localStorage.getItem("token")&&fe({token:localStorage.getItem("token")})}),[]),r.a.createElement(V.Provider,{store:Xm},r.a.createElement(Wm.PersistGate,{loading:null,persistor:qm},r.a.createElement(xd,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(1127);i.a.render(r.a.createElement(Sd,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},229:function(e,t,a){},351:function(e,t){e.exports={omitBy:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=n.deep,l=void 0!==r&&r;return"object"===typeof t&&t&&Array.isArray(a)?(a.forEach((function(e){delete t[e]})),l&&Object.keys(t).forEach((function(n){"object"===typeof t[n]&&e(t[n],a)})),t):{}},omitIsNil:function e(t,a){var n=a.deep,r=void 0!==n&&n;return"object"===typeof t&&t?(Object.keys(t).forEach((function(e){void 0!==t[e]&&null!==t[e]||delete t[e]})),r&&Object.keys(t).forEach((function(a){"object"===typeof t[a]&&e(t[a],!0)})),t):{}}}},609:function(e,t,a){e.exports=a.p+"static/media/setting-loader.217e495e.gif"},636:function(e,t,a){e.exports=a(1128)},641:function(e,t,a){},956:function(e,t,a){},976:function(e,t,a){},977:function(e,t,a){}},[[636,1,2]]]);
//# sourceMappingURL=main.a646e951.chunk.js.map