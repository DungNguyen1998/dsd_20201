{"version":3,"sources":["containers/MainLayout/index.style.js","containers/Header/index.style.js","containers/Navbar/index.style.js","components/Group4/config4.js","configs/index.js","components/Group4/Bell/index.style.js","components/Group4/Bell/index.jsx","modules/user/store/slice.js","modules/user/store/index.js","modules/user/config/UserConfig.jsx","services/axios.js","modules/user/store/services.js","modules/user/components/listUser/UploadImage.jsx","modules/user/components/screens/EditProfile/index.jsx","containers/Navbar/index.jsx","modules/user/Utils/helper.jsx","containers/Header/index.jsx","containers/Sidebar/index.style.js","components/Logo/index.style.js","components/Logo/index.jsx","containers/Sidebar/config.js","containers/Sidebar/index.jsx","containers/MainLayout/index.jsx","pages/Home/index.style.js","containers/HomeContent/index.style.js","constants/images.js","constants/mechanism.js","constants/metadataTypes.js","constants/resolution.js","containers/HomeContent/index.jsx","pages/Home/index.jsx","modules/user/components/listUser/index.style.js","modules/user/components/listUser/ModalUser.jsx","modules/user/components/listUser/Filter.jsx","modules/user/components/listUser/index.jsx","modules/user/components/listDepartment/index.style.js","modules/user/components/listDepartment/ModalDepartment.jsx","modules/user/components/listDepartment/Filter.jsx","modules/user/components/listDepartment/index.jsx","modules/user/components/listUserMeta/index.style.js","modules/user/config/UserMetaConfig.jsx","modules/user/components/listUserMeta/Filter.jsx","modules/user/components/listUserMeta/index.jsx","modules/user/components/listRole/index.style.js","modules/user/components/listRole/ModalRole.jsx","modules/user/components/listRole/Filter.jsx","modules/user/components/listRole/index.jsx","modules/user/components/listPermission/index.style.js","modules/user/components/listPermission/ModalPermission.jsx","modules/user/components/listPermission/Filter.jsx","modules/user/components/listPermission/index.jsx","modules/user/components/listRolePermission/index.style.js","modules/user/components/listRolePermission/ModalRolePermission.jsx","modules/user/components/listRolePermission/Filter.jsx","modules/user/components/listRolePermission/index.jsx","containers/FlightHub/MonitorCampaign/ListMonitorCampaign/index.style.js","themes/default.js","containers/FlightHub/MonitorCampaign/services/index.js","apis/api.js","apis/monitorCampaign.js","apis/label.js","apis/drone.js","apis/payload.js","containers/FlightHub/MonitorCampaign/ListMonitorCampaign/index.jsx","pages/FlightHub/ListMonitorCampaign.jsx","containers/FlightHub/MonitorCampaign/MonitorCampaignForm/index.style.js","containers/FlightHub/MonitorCampaign/Step1/index.style.js","containers/FlightHub/MonitorCampaign/Step1/index.jsx","containers/FlightHub/MonitorCampaign/Step2/index.style.js","containers/FlightHub/MonitorCampaign/Step2/service.js","containers/FlightHub/MonitorCampaign/Step2/index.jsx","containers/FlightHub/MonitorCampaign/Step3/index.style.js","helpers/removeVietnameseTones.js","containers/FlightHub/MonitorCampaign/Step3/map.jsx","containers/FlightHub/MonitorCampaign/Step3/index.jsx","containers/FlightHub/MonitorCampaign/Step4/index.style.js","containers/FlightHub/MonitorCampaign/Step4/index.jsx","containers/FlightHub/MonitorCampaign/Step5/index.style.js","containers/FlightHub/MonitorCampaign/Step5/index.jsx","containers/FlightHub/MonitorCampaign/config.js","containers/FlightHub/MonitorCampaign/MonitorCampaignForm/index.jsx","containers/FlightHub/MonitorCampaign/CreateMonitorCampaign.jsx","pages/FlightHub/CreateMonitorCampaign.jsx","containers/FlightHub/MonitorCampaign/UpdateMonitorCampaign.jsx","pages/FlightHub/UpdateMonitorCampaign.jsx","containers/FlightHub/Labels/ListLabels/index.style.js","containers/FlightHub/Labels/LabelForm/index.jsx","containers/FlightHub/Labels/AddLabel/index.jsx","containers/FlightHub/Labels/UpdateLabel/index.jsx","containers/FlightHub/Labels/ListLabels/index.jsx","pages/FlightHub/Labels.jsx","components/Aera/DetailArea.jsx","components/Aera/ManageArea.jsx","components/SurveillanceDomain/Manage.jsx","components/SurveillanceDomain/ManageEdit.jsx","components/SurveillanceDomain/CustomMaker.jsx","pages/Dashboard/index.jsx","components/IncidentComponents/url.js","components/IncidentComponents/ListIncidents.jsx","components/IncidentComponents/ListReport.jsx","components/IncidentComponents/ListStaff.jsx","components/IncidentComponents/SettingSchedule.jsx","components/IncidentComponents/TypeTask.jsx","pages/Incident/index.jsx","services/pushNotifications.js","components/Group4/Rating/index.jsx","components/Group4/Notification/index.style.js","components/Group4/Notification/index.jsx","components/Group4/DetailedNotification/index.jsx","pages/LogUser/index.jsx","pages/LogDrone/index.jsx","pages/LogWarn/index.jsx","pages/LogProblem/index.jsx","pages/LogVideo/index.jsx","pages/LogPayLoad/index.jsx","pages/LogImage/index.jsx","pages/LogIncident/index.jsx","pages/LogObjMonitor/index.jsx","pages/LogRegion/index.jsx","pages/LogStatistic/index.jsx","pages/LogUAV/index.jsx","pages/Payload/PayloadManagement/List/index.style.js","pages/Payload/PayloadManagement/List/index.jsx","pages/Payload/PayloadType/List/index.style.js","pages/Payload/PayloadType/List/index.jsx","pages/Payload/PayloadMaintenance/index.style.js","pages/Payload/PayloadMaintenance/Edit/index.jsx","pages/Payload/PayloadMaintenance/Add/index.jsx","pages/Payload/PayloadSetting/index.style.js","pages/Payload/PayloadSetting/index.jsx","pages/Payload/PayloadStatistic/index.style.js","pages/Payload/PayloadStatistic/index.jsx","pages/Payload/PayloadStatistic/PayloadStatisticFrequency/index.style.js","pages/Payload/PayloadStatistic/PayloadStatisticFrequency/index.jsx","pages/Payload/PayloadStatistic/PayloadStatisticTime/index.jsx","pages/Payload/PayloadStatistic/PayloadStatisticStatus/index.style.js","pages/Payload/PayloadStatistic/PayloadStatisticStatus/index.jsx","pages/Payload/PayloadStatistic/PayloadStatisticWorking/index.jsx","pages/Payload/PayloadStatistic/PayloadStatisticDroneFixing/index.jsx","pages/Payload/PayloadToDrone/index.style.js","pages/Payload/PayloadToDrone/List/index.jsx","pages/Payload/PayloadToDrone/Edit/index.jsx","pages/Payload/PayloadToDrone/Add/index.jsx","pages/Payload/PayloadSDcard/index.style.js","pages/Payload/PayloadSDcard/index.jsx","pages/ImageVideo/config.js","pages/ImageVideo/index.js","pages/ImageVideo/detail.js","pages/ImageVideo/VideoPlayer.js","pages/ImageVideo/stream.js","pages/MonitoredObject/Category/redux/constants.jsx","helpers/sendRequest.js","pages/MonitoredObject/Category/redux/services.jsx","pages/MonitoredObject/Category/redux/actions.jsx","pages/MonitoredObject/Category/component/catMonitoredCreate.jsx","pages/MonitoredObject/Category/component/modal.jsx","pages/MonitoredObject/Category/component/areaMonitoredImport.jsx","pages/MonitoredObject/Category/component/SuccessNotification.jsx","pages/MonitoredObject/Category/component/index.jsx","pages/MonitoredObject/MonitoredObject/component/areaMonitoredImport.jsx","pages/MonitoredObject/MonitoredObject/redux/constants.jsx","pages/MonitoredObject/MonitoredObject/redux/services.jsx","pages/MonitoredObject/MonitoredObject/redux/actions.jsx","pages/MonitoredObject/MonitoredObject/component/modal.jsx","pages/MonitoredObject/MonitoredObject/component/SuccessNotification.js","pages/MonitoredObject/MonitoredObject/component/index.jsx","pages/MonitoredObject/MonitoredObject/component/map.jsx","pages/MonitoredObject/MonitoredObject/component/monitoredObjectCreate.jsx","pages/MonitoredObject/MonitoredObject/component/MonitoredObjectView.jsx","hooks/BaseHooks.js","components/Group09/Video/index.jsx","services/group09/baseService.js","services/group09/incidentService.js","services/group09/incidentLevelService.js","services/group09/incidentStatusService.js","pages/Incident/Incident/index.jsx","services/group09/imageService.js","pages/Incident/ImageGallery/index.jsx","services/group09/incidentTagService.js","components/Group09/Video/TagGroup.jsx","components/Group09/Video/Form.jsx","components/Group09/Model/CreateIncidentModel.jsx","components/Group09/Video/VideoList.jsx","pages/Incident/VideoGallery/index.jsx","pages/Incident/Incident/edit.jsx","components/DataTable/Header/index.js","components/DataTable/Pagination/index.js","components/DataTable/Search/index.js","components/FullPageLoader/index.js","components/hooks/useFullPageLoader.js","containers/ModalEditDataTable/index.jsx","containers/ModalAddDataTable/index.jsx","pages/TableDrone/index.js","pages/FLightPathDrone/index.jsx","pages/FlightPoint/index.jsx","containers/ModalFlight/index.jsx","pages/TableDroneState/index.js","pages/MapTest/index.jsx","components/Drone/Map/MarkerInfo/index.jsx","components/Drone/Map/FlightPath/index.jsx","components/Drone/Map/index.jsx","components/Drone/FlightPathList/index.jsx","components/Drone/DroneModals/FlightPathInput/index.jsx","components/Drone/DroneModals/Map/index.jsx","components/Drone/DroneModals/PointInput/index.jsx","components/Drone/DroneModals/AddFlightPathModal/index.jsx","components/Drone/Pagination/index.jsx","pages/FlightPathManagement/index.jsx","components/Drone/DroneModals/AddFlightScheduleModal/index.jsx","pages/FlightSchedule/index.jsx","pages/routes.js","pages/MonitoredObject/MonitoredObject/redux/reducers.jsx","pages/MonitoredObject/Category/redux/reducers.jsx","services/index.js","modules/user/components/screens/LoginForm/index.style.js","modules/user/components/screens/LoginForm/index.jsx","modules/user/components/login/index.style.js","modules/user/components/ControllerUser.jsx","modules/user/components/login/index.jsx","modules/user/components/screens/ForgotPasswordForm/index.style.js","modules/user/components/screens/ForgotPasswordForm/index.jsx","modules/user/components/forgotPassword/index.jsx","modules/user/components/screens/RegisterForm/index.style.js","modules/user/components/screens/RegisterForm/index.jsx","modules/user/components/register/index.jsx","modules/user/components/screens/ChangePasswordForm/index.style.js","modules/user/components/screens/ChangePasswordForm/index.jsx","modules/user/components/changePassword/index.jsx","App.jsx","serviceWorker.js","index.jsx","utils/omit.js","resources/images/setting-loader.gif"],"names":["StyleLayout","styled","div","StyleHeader","StyleNavItem","StyleUserProfileContainer","StyleUserName","ref","prop","1","name","value","img","process","2","3","4","5","6","7","8","9","10","11","12","13","PROJECT_TYPE_MAP_TITLE","StyleListNotification","axios","require","BellNotification","history","useHistory","useState","total","setTotal","newNotifications","setNewNotifications","first","setFirst","diff","setDiff","index","setIndex","notifications","setNotifications","loading","setLoading","hasMore","setHasMore","useEffect","forEach","item","isNew","concat","console","log","setInterval","fetchNewNotification","loadData","openMessage","loaded","timeout","message","content","key","setTimeout","success","duration","handleInfiniteOnLoad","length","warning","getConfig","start","to","method","url","headers","params","count","config","then","response","newTotal","data","catch","error","placement","title","initialLoad","pageStart","loadMore","useWindow","itemLayout","dataSource","renderItem","Item","actions","size","type","style","background","onClick","danger","_id","Meta","avatar","shape","src","_type","id","push","href","description","Rating","level","readOnly","color","className","trigger","width","BellOutlined","fontSize","user","createSlice","initialState","listUser","projectType","isLogin","reducers","setUserData","state","payload","setProjectType","setLogin","extraReducers","builder","reducer","slice","userHost","statuses","code","types","statusesActivation","apiAxios","baseURL","axiosInstance","create","paramsSerializer","qs","stringify","arrayFormat","interceptors","request","use","Promise","reject","instance","setHeaders","newHeaders","defaults","common","pickBy","val","getListUsers","filter","page_id","page_size","role","status","statusActivation","department_id","search","get","res","getUser","userId","updateUser","body","patch","createUser","post","deleteUser","delete","uploadAvatar","file","formData","FormData","append","getListDepartments","getDepartment","departmentId","createDepartment","deleteDepartment","getListUsersMeta","target_id","user_id","getAllRoles","getListRoles","getRole","roleId","createRole","deleteRole","getListPermissions","getPermission","permissionId","createPermission","deletePermission","getPermissionResource","resource","getListRolePermissions","role_id","permission_id","getRolePermission","rolePermissionId","getBase64","callback","reader","FileReader","addEventListener","result","readAsDataURL","beforeUpload","isJpgOrPng","isLt2M","UploadImage","handleChange","info","a","setState","originFileObj","imageUrl","handleUpload","props","setImageUrl","this","uploadButton","LoadingOutlined","PlusOutlined","marginTop","listType","showUploadList","action","onChange","alt","React","Component","ModalUser","setVisible","visible","setUser","setMessage","fetchUser","useCallback","handleSave","validateData","notification","dataUser","buildUserData","handleCloseModal","errorMessage","retval","full_name","username","email","element","birthday","moment","format","onOk","onCancel","okText","cancelText","gutter","marginRight","htmlFor","placeholder","e","target","phone","address","date","margin","marginBottom","Navbar","dispatch","useDispatch","useSelector","location","useLocation","handleLogout","localStorage","removeItem","handleEdit","handleChangePassword","pathname","lastRoute","justify","align","Bell","cursor","dot","standardizePhone","replace","getByField","list","fieldName","retVal","Header","collapsed","toggle","display","justifyContent","createElement","MenuUnfoldOutlined","MenuFoldOutlined","alignItems","fontWeight","textTransform","StyleSidebarMenu","Logo","sidebarMenu","heading","icon","route","subMenu","Sider","Layout","SubMenu","Menu","Sidebar","setKey","currentRoute","split","getFirstRouteMounted","menu","idx","menuItem","document","handleClickMenu","breakpoint","collapsedWidth","collapsible","onCollapse","theme","mode","defaultSelectedKeys","selectedKeys","triggerSubMenuAction","renderListMenu","map","Content","withRouter","children","setCollapsed","StyleHome","StyleHomeContent","IMAGES","logo","logoThumbnail","drone","tree","highVoltageGrid","dike","forestFires","MECHANISM","AUTO","MANUALLY","METADATA_TYPES","PHOTO","VIDEO","RESOLUTION","Title","Typography","handleClickIncident","span","hoverable","cover","height","Footer","Home","bottom","StyleListUser","Option","Select","fetchListUser","setMode","listDepartments","listRoles","loginUser","setTitle","department","password","repassword","getItem","disabled","defaultValue","minWidth","Search","Input","Filter","setFilter","flex","offset","block","float","UserAddOutlined","marginLeft","showSearch","optionFilterProp","ListUser","setListUser","meta","setMeta","setUserId","setListDepartments","fetchDepartments","setListRoles","fetchRoles","handleDelete","Modal","confirm","resolve","columns","render","text","record","handleView","dataIndex","wordBreak","rowKey","pagination","total_count","pageSize","StyleListDepartment","ModalDepartment","fetchListDepartment","setDepartment","fetchDepartment","dataDepartment","buildDepartmentData","created_at","FolderAddOutlined","ListDepartment","listDepartment","setListDepartment","setDepartmentId","names","listUsers","setListUsers","fetchUsers","ListUserMeta","listUserMeta","setListUserMeta","fetchListUserMeta","StyleListRole","ModalRole","fetchListRole","setRole","fetchRole","dataRole","ranking","ListRole","listRole","setListRole","setRoleId","StyleListPermission","ModalPermission","fetchListPermission","permission","setPermission","fetchPermission","listPermission","setListPermission","setPermissionId","accesses","ModalRolePermission","fetchListRolePermission","listPermissions","rolePermission","setRolePermission","fetchRolePermission","dataRolePermission","access","listRolePermission","setListRolePermission","setRolePermissionId","setListPermissions","fetchPermissions","StyleSpinContainer","StyleTitle","StyleSeparator","StyleTable","StyleSearchForm","covertMomentToDate","dateMoment","Date","valueOf","convertInitialDataToFieldValues","startTime","endTime","monitoredZone","monitoredObjects","timeRange","convertDateToTimeRange","convertFieldValuesToDataSubmit","fieldValues","dataSubmit","timeRangeDate","convertTimeRangeToData","formatMomentDateToDateTimeString","momentDate","responseType","token","Authorization","createMonitorCampaign","getListMonitorCampaigns","getMonitorCampaign","monitorCampaignId","updateMonitorCampaign","deleteMonitorCampaign","addLabelApi","otherLabel","getListLabelsApi","labels","updateLabelApi","deleteLabelApi","getDroneAvailable","getAllPath","getAllPayload","RangePicker","DatePicker","ListMonitorCampaign","listMonitorCampaignsData","setListMonitorCampaignsData","Form","useForm","form","fetchListMonitorCampaignsData","monitorCampaignApi","resp","monitorCampaigns","handleDeleteMonitorCampaign","newListMonitorCampaignsData","splice","deleteConfirm","ExclamationCircleOutlined","sorter","b","localeCompare","elem","createdAt","toString","mechanism","metadataType","resolution","EditOutlined","DeleteOutlined","layout","labelCol","wrapperCol","labelAlign","onValuesChange","newFieldValues","getFieldsValue","label","rules","allowClear","showTime","HistoryOutlined","resetFields","scroll","x","ListMonitorCampaignPage","StyleContent","StyleIconBack","Step1","nextStep","handleChangeData","setFieldsValue","LAYOUT","onFinish","values","validateMessages","VALIDATE_MESSAGES","initialValues","required","StepForwardOutlined","htmlType","convertDronesData","drones","flightPaths","payloads","Step2","prevStep","selectedRowKeys","setSelectedRowKeys","selectedRows","setSelectedRows","dronesData","setDronesData","payloadsData","setPayloadsData","flightPathsData","setFlightPathsData","fetchDronesData","droneApi","fetchPayloadsData","payloadApi","fetchFlightPathsData","timeStart","timeEnd","handleChangeFlightPath","newDrones","indexSelected","findIndex","newSelectedRows","handleChangePayloads","newDronesData","selectedDrone","rowKeys","editable","rowSelection","StepBackwardOutlined","removeVietnameseTones","str","toLowerCase","trim","WrappedMap","withScriptjs","withGoogleMap","onChangeLocation","onChangeMonitoredZone","monitoredZoneInit","monitoredZonesDataInit","setMonitoredZonesDataInit","monitoredZonesData","setMonitoredZonesData","currentMonitoredZone","setCurrentMonitoredZone","selectedMonitoredZone","setSelectedMonitoredZone","positionClick","setPositionClick","searchText","searchTextValue","lat","lng","initLocation","setInitLocation","getMonitoredZone","zone","parseFloat","startPoint","latitude","longitude","find","endPoint","err","handleMonitoredZoneChange","preventDefault","undefined","defaultZoom","defaultCenter","onSearch","textElement","textValue","includes","enterButton","position","top","left","defaultBounds","window","google","maps","LatLngBounds","LatLng","latLng","handleClickMonitoredZones","options","strokeColor","fillColor","strokeOpacity","strokeWeight","onCloseClick","minHeight","maxHeight","HeatMapOutlined","Step3","objectData","setObjectData","getObjectData","googleMapURL","loadingElement","containerElement","mapElement","zoneId","monitoredObject","FormOutlined","Step4","TextArea","STEPS","handleSubmit","labelsData","setLabelsData","Array","isArray","Error","fetchListLabelsData","handleCreate","submitConfirm","autoSize","minRows","maxRows","Step","Steps","MonitorCampaignForm","initialData","current","setCurrent","setData","Object","keys","ArrowLeftOutlined","goBack","renderContent","CreateMonitorCampaign","CreateMonitorCampaignPage","UpdateMonitorCampaign","monitorCampaignData","setMonitorCampaignData","useParams","monitorCampaign","fetchMonitorCampaignData","UpdateMonitorCampaignPage","StyledTable","number","range","defaultValues","LabelForm","isDetails","footer","scrollToFirstError","AddLabel","hideModal","addLabel","onAddLabel","property","labelData","omitIsNil","isDefault","deep","newLabel","UpdateLabel","labelDetails","updateLabel","onUpdateLabel","updatedLabel","ListLabels","modalCreateVisible","setModalCreateVisible","modalUpdateVisible","setModalUpdateVisible","labelUpdateData","setLabelUpdateData","listLabels","setListLabels","listLabelsInit","setListLabelsInit","fetchListLabels","hideModalCreate","showModalUpdate","hideModalUpdate","labelId","newListLabels","updatedListLabels","dataSearchResult","labelNameConvert","labelDescriptionConvert","valueConvert","ListLabelsPage","TabPane","Tabs","MyMapComponent","compose","withProps","onMarkerClick","showDomain","domain","path","triangleCoords","DetailDomain","visibility","show","selectedDomain","priority","times","DetailArea","handleMarkerClick","long","listDomain","i","assign","showDetail","onMarkerMouseover","showMarkerMouseover","handleMouseExit","oldarea","newarea","listDomainToShow","openModalshow","openModalAdd","openModalDelete","pathCoordinates","_handleChange","bind","setArea","getZoneByArea","obj1","obj2","k","prevState","area","Area","c","defaultActiveKey","tab","colSpan","paddingLeft","clear","PureComponent","chooseArea","ManageArea","delayedShowMarker","isMarkerShown","latStartPoint","latEndPoint","arrayDelete","listArea","editArea","deleteArea","zoneByArea","monitoredArea","setStatusModalAdd","getAllArea","checked","elm","prefix","SearchOutlined","createArea","centered","tip","Manage","toggleActive","getZonebyArea","locationArea","zoneArea","editDomain","updatedAt","getNameArea","deleteZone","Math","floor","random","dataCreate","getAllZone","getArea","nameArea","getMonitoredObjectByZone","objectByZone","idArea","createDomain","marker","showDetailMaker","MyMapComponent1","forceUpdate","geodesic","icons","repeat","ManageEdit","obj","detailMaker","setDefault","newdomain","olddomain","columnsDrone","unix","listDrone","myRef","createRef","getAllBySupervisedArea","setModalshow","flightPoints","point","tmp","locationLat","locationLng","reload","dataEdit","idZone","put","save","ControlledTabs","URL_API","ListIncidents","dataIncidents","setDataIncidents","filterTable","setFilterTable","loadingModal","setLoadingModal","loadingTable","setLoadingTable","setLoadingChildTable","visibleModal","setVisibleModal","dataEmployees","setDataEmployees","listTypeWork","setListTypeWork","setTypeWorkNew","setListEmployeesNew","childData","setChildData","idModalIncident","setIdModalIncident","visibleModalDetailIncident","setVisibleModalDetailIncident","API_TOKEN","getListEmployees","getListWork","getDataIncidents","convertItem","statusCode","levelCode","images","videos","filters","filterMultiple","onFilter","indexOf","dataRecord","textAlign","InfoCircleOutlined","data-toggle","data-placement","getInforIncident","dataIncident","listDetailChild","listEmployees","task_type","employees","person","childDataObject","idIncident","incident_id","childColumns","createContext","creatNew","o","some","String","normalize","spinning","defaultPageSize","listNewWorks","childWork","typeWork","listEmployee","autoComplete","List","fields","add","remove","field","fieldKey","MinusCircleOutlined","ListReport","dataReport","setDataReport","codeIncidents","CHAY_RUNG","DE_DIEU","CAY_TRONG","LUOI_DIEN","currentImg","setCurrentImg","getDataInit","task_id","sortDirections","charCodeAt","flexDirection","backgroundColor","borderRadius","getInforReport","image","CheckOutlined","acceptReport","CloseOutlined","rejectReport","confirmAlert","buttons","ListStaff","detailEmployee","setDetailEmployee","dataAPI","setDataAPI","employee","status_activation","getInforEmployee","displayL","flexWrap","current_task_type","SettingSchedule","dataSettingSchedule","setDataSettingSchedule","itemSelected","setItemSelected","creatingNewItem","setCreatingNewItem","idItemEditing","setIdItemEditing","valueDateEdit","setValueDateEdit","checkboxSaturdayEdit","setCheckboxSaturdayEdit","checkboxSundayEdit","setCheckboxSundayEdit","listDayoffEdit","setListDayoffEdit","childrenDay","customFormat","getDataSetting","off_days","listOffDays","refDatePickerEdit","refCheckBoxSaturday","refCheckBoxSunday","refSelectDayOff","editItemSetting","idItem","itemEdited","off_saturday","off_sunday","valueRow","isEditing","dateString","picker","month","year","selected","newData","preTarget","starteditingItem","onRow","rowClassName","right","createNewItem","TypeTask","dataType","setdataType","visibleModal1","setVisibleModal1","employee_number","prioritize","setDataEdit","getData","project_type","editData","submit","handleCancel","onChangeValue","Incident","PUSH_SERVER_URL","useStyles","makeStyles","boxContainer","rating","SimpleRating","classes","Box","component","mb","borderColor","Grid","container","direction","ListItemStyle","ListItem","Button","LastSeen","ReactTimeAgo","timeStyle","locale","TimeAgo","addDefaultLocale","vi","primary","paper","padding","spacing","palette","secondary","TimeHistory","Primary","Secondary","MyList","datas","setDatas","page","setPage","ListItemAvatar","Avatar","variant","ListItemText","TablePagination","rowsPerPageOptions","rowsPerPage","onChangePage","event","newPage","root","flexGrow","maxWidth","header","gridDescription","GridDetailed","link","sm","xs","Link","DetailedNotification","notificationDetail","setNotificationDetail","setStatus","openNotificationWithIcon","Paper","ButtonBase","gutterBottom","CheckCircleTwoTone","twoToneColor","fromUser","_link","DroneActivity","searchedColumn","filteredInfo","sortedInfo","clearFilters","clearAll","setAgeSort","order","columnKey","getColumnSearchProps","filterDropdown","setSelectedKeys","node","searchInput","onPressEnter","handleSearch","handleReset","filterIcon","filtered","onFilterDropdownVisibleChange","select","highlightStyle","searchWords","autoEscape","textToHighlight","targetId","incidentId","resolveProblemId","timestamp","App","onProjectTypeChange","fromDate","toDate","logActivityData","isLoadedLogActivityData","onRangePickerChange","setLogActivityData","logData","dates","dateStrings","LogDrone","entityId","regionId","imageId","videoId","droneId","PayloadActivity","LogPayload","StyleList","openNotificationSucess","openNotificationError","showModal","detailPayload","idPayload","handleOk","handleCancelAdd","visibleAdd","handleCancelDelete","visibleDelete","handleCancelMaintenance","visibleMaintenance","currentTable","tables","modalLoading","detailBill","idPayloadDelete","idPayloadFix","loadAllPayload","getAllTypePayload","Options","detail","manufacturer","weight","opticalZoom","digitalZoom","panning","min","panningmin","max","panningmax","tilting","tiltingmin","tiltingmax","zoom","zoomingmin","zoomingmax","sizewidth","sizelength","sizeheight","handleFormSubmitEdit","initialValue","type_id","zoommin","zoommax","handleFormSubmit","deleteRecord","handleSubmitMaintenance","rows","reason","des","showModalDelete","showMaintenance","showCharging","searchPayload","showModalAdd","renderModal","handleOkAdd","renderModalAdd","handleOkDelete","renderModalDelete","renderModalMaintenance","ListTypePayload","detailPayloadType","idPayloadType","loadAllPayloadType","payloadtype","StyleSetting","tailLayout","PayloadSetting","remember","onFinishFailed","errorInfo","PayloadStatistic","typeData","y","that","valu","hasLegend","subTitle","dangerouslySetInnerHTML","__html","reduce","pre","now","valueFormat","PayloadStatisticTime","stt","use_number","drone_number","salesPieData","PayloadStatisticWorking","listPayloadWorking","workData","startedAt","finishedAt","j","payloadWorking","payloadCode","payloadName","fee","PayloadStatisticDrone","listPayloadFixing","payloadFixing","PayloadDroneHistory","handleCancelReturnPayload","visableReturnModal","listPayloadDroneHistory","payloadId","PayloadOptions","PayloadTypeOptions","idPayloadReturn","droneName","isGetAllHistoryPayload","listAllHistories","getAllHistories","listAllHistoriesFromServer","listHistoriesHasPayloadNull","listHistoriesHasPayload","sdCardId","listPayloadDroneHistoryFromServer","payloadHistory","findDroneById","valuesOfReturnPayload","returnPayload","showModalReturnPayload","payloadDroneHistory","Moment","memory","volume","handleFindPayloadHistory","renderModalReturnPayload","EditSignupPayloadDrone","AddSignupPayloadDrone","autoTracking","shootInterval","numberOfConfigs","handleSelectNumberOfConfig","valueSelected","numberConfig","droneOptions","sdCardOptions","visable","visableAdd","time","payloadType","titling","shooting","tracking","configs","showSuccessAlert","showFailAlert","getAllDrone","getAllSDCard","configsPayload","startTimeName","endTimeName","objectName","panName","tiltName","zoomName","trackingName","shootName","object","payloadToDrone","DroneOptions","optionSDCard","card","parseInt","configNumbers","loadAllPayloadDScard","problemTypes","problemColumns","preview","Text","Container","TitleCustom","SpaceCustom","Space","TableCustom","Table","ImageVideo","imageVideos","setImageVideos","problemType","filterFields","setFilterFields","searchString","setSearchString","skip","take","fallback","every","filterField","h1","Info","Detail","useRouteMatch","imageVideo","setImageVideo","imageVideoRelated","setImageVideoRelated","problems","setProblems","res1","monitoredObjectId","res2","imageIds","res3","incidents","fetchData","md","arr","objId","pop","join","renderDescription","urlStreams","HeaderList","ItemCustom","Stream","currentDrone","setCurrentDrone","setDrones","idDrone","urlStream","fetchCurrentDrone","rangeBattery","maxFlightSpeed","maxFlightHeight","controls","autoPlay","bordered","used","CategoryConstants","sendRequest","requestOptions","CategoryServices","getAllCategories","createCategory","editCategory","deleteManyCategories","arrayId","CategoryActions","CatMonitorCreate","setCatMonitored","option","tabIndex","aria-labelledby","aria-hidden","data-dismiss","aria-label","Modals","FileUpload","setFile","files","alert","AreaMonitorImport","SuccessNotification","formatStyle","messages","AreaMonitored","category","listPaginate","totalPages","isError","isCatSuccess","limit","setPagination","setFormatStyle","itemSearch","setItemSearch","setOption","catMonitored","$","modal","data-target","overlay","arrow","persist","prev","handleACatView","handleCatEdit","handleCatDelete","Pagination","formState","MonitoredObjectConstants","MonitoredObjectServices","getAllMonitoredObjects","createMonitoredObject","editMonitoredObject","deleteManyMonitoredObjects","MonitoredObjectActions","withTranslate","isObjectSuccess","isObjectFailure","objectMessages","setSelected","selectItemDelete","setSelectItemDelete","areaMonitored","handleMonitoredView","handleMonitoredEdit","handleMonitoredDelete","setMonitoredObject","getCoodinate","selectedMonitor","setSelectedMonitor","MonitoredObjectView","managementUnit","parent","datazoneAll","setDataZoneAll","getZoneAll","arrImages","setArrImages","getDetailMonitoredObject","getDetailZoneById","getImagesMonitored","getVideoMonitored","data-ride","data-slide-to","data-slide","overflow","listStyle","useBaseHooks","_","notify","player","BaseService","makeQuery","JSON","BASE_URL","fetch","handleResponse","parse","ok","statusText","query","q","Service","edit","ids","Base","IncidentLevelService","useBaseHook","setIncidents","levels","setLevels","Number","dueDate","all","incidentService","incidentLevelService","incidentStatusService","_levels","_status","getImagesByMonitoredId","json","ImageGalley","setImages","selectAllChecked","setSelectAllChecked","confirmLoading","setConfirmLoading","fetchLevels","leverRes","imagesRes","_images","nameType","caption","thumbnailWidth","thumbnailHeight","thumbnail","tags","getSelectedImages","isSelected","selectedImages","Boolean","validateFields","_selectAllChecked","border","onSelectImage","hasOwnProperty","allImagesSelected","showLightboxThumbnails","destroyOnClose","preserve","SOURCES","responsive","Video","forwardRef","poster","sources","videojs","markers","setMakers","reset","useImperativeHandle","setMakersByIncidents","currentTime","preload","ata-setup","IncidentTagService","EditableTagGroup","inputVisible","inputValue","editInputIndex","editInputValue","handleClose","removedTag","tag","showInput","input","focus","handleInputChange","getTags","handleInputConfirm","handleEditInputChange","handleEditInputConfirm","newTags","saveInputRef","saveEditInputRef","editInput","error2","isLongTag","tagElem","closable","onClose","onDoubleClick","toUpperCase","laceholder","formItemLayout","VideoForm","onStartIncident","onStopIncident","tagRef","useRef","setStart","TagGroup","CreateModel","setDefaultValue","hide","defaultTags","currentIndex","VideoList","onChangeTags","selectedVideos","setSelectedVideos","allTags","incident","uniqBy","filteredVideos","setFilteredVideo","checkMatchValue","array1","array2","found","_selects","onCheck","onClickEdit","CreateIncidentModel","VideoGalley","videoRef","setReload","toFixed","isFinish","overlayText","currentIncident","orientation","plain","_incidents","IncidentEdit","setIncident","error1","colorLevel","extra","enableImageSelection","frameBorder","allowFullScreen","onSorting","sortingField","setSortingField","sortingOrder","setSortingOrder","sortable","onSortingChange","PaginationComponent","itemsPerPage","currentPage","onPageChange","setTotalPages","ceil","paginationItems","useMemo","pages","active","Prev","Next","setSearch","FullPageLoader","Spinner","useFullPageLoader","formItem","boxShadow","shadows","button","divButton","TransitionsModal","open","setOpen","initFormData","setName","setBrand","brand","setColor","setDimensions","dimensions","setMaxFlightHeight","setMaxFlightRange","maxFlightRange","setMaxFlightSpeed","setMaxFlightTime","maxFlightTime","setBattery","setUrlImage","urlImage","startIcon","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","in","Headers","idLog","task","contents","setSelectedImage","withIcon","withPreview","buttonText","picture","imgExtension","maxFileSize","simpleImage","DataTable","Styles","loader","showLoader","hideLoader","totalItems","setTotalItems","setCurrentPage","sorting","setSorting","computedDrones","comment","reversed","sort","scope","selectedPoint","setSelectedPoint","setPath","setFlightPoints","listener","removeEventListener","Fab","pathFlight","idSupervisedArea","heightFlight","MapWrapped","idPath","setIdPath","setIdDrone","namePath","setNamePath","heightPath","setHeightPath","idFlightPath","savePoint","speed","percentBattery","stateDrone","setStateDrone","Intl","DateTimeFormat","day","hour","minute","second","hour12","mapRef","t","coord","poin","anchor","Point","Size","center","radius","fillOpacity","MarkerInfo","isOpen","setIsOpen","timeCome","timeStop","flightHeight","FlightPath","getPathFromPoints","flightPathView","bounds","extend","fitBounds","Map","FlightPathList","viewFlightPath","handleDeleteFlightPath","striped","hover","monitoredAreaName","monitoredZoneCode","class","FlightPathInput","heightPoint","setHeight","setHeightPoint","selectedArea","setSelectedArea","selectedZone","setSelectedZone","monitoredAreaList","setMonitoredAreaList","areaLoading","setAreaLoading","monitoredZoneList","setMonitoredZoneList","zoneLoading","setZoneLoading","Row","Col","Group","controlId","Label","Control","isSearchable","isLoading","selectedOption","newPoint","setNewPoint","monitoredObjectList","setMonitoredObjectId","handlePointClick","PointInput","setTimeCome","setTimeStop","addPoint","setError","AddFlightPathModal","setTask","setMonitoredObjectList","setShow","resetPoint","onHide","dialogClassName","closeButton","Body","idSupervisedObject","newFlightPath","pageReload","finally","pageChange","totalPage","handlePageChange","First","Last","defaultProps","FlightPathManagement","setFlightPathView","setFlightPaths","perPage","allFlightPath","addFlightPath","newFlightPaths","flightPath","prompt","FlightSchedule","routes","exact","TableDrone","TableDroneState","ListPayload","DScard","PayloadStatisticFrequency","PayloadStatisticStatus","PayloadStatisticDroneFixing","MonitoredObjectCreate","MonitoredObject","CategoryMonitored","LogUser","LogProblem","LogWarn","LogPayLoad","LogImage","LogVideo","LogIncident","LogObjMonitor","LogRegion","LogStatistic","LogUAV","ImageGallery","VideoGallery","ListPermission","ListRolePermission","PrivateRoute","rest","array","totalDocs","pagingCounter","hasPrevPage","hasNextPage","prevPage","nextPage","persistConfig","storage","whitelist","rootReducer","combineReducers","userReducer","indexPaginate","docs","persistedReducer","persistReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","immutableCheck","persistor","persistStore","StyleLoginForm","LoginForm","userInfo","setUserInfo","saveInfo","setSaveInfo","saveLogin","userData","timer","clearTimeout","handleLogin","dataLogin","setItem","api_token","UserOutlined","LockOutlined","valuePropName","noStyle","StyleLogin","ControllerUser","Login","StyleForgotPasswordForm","setEmail","handleForgotPassword","validateEmail","test","ForgotPassword","RegisterForm","handleRegister","dataRegister","Register","StyleChangePasswordForm","ChangePasswordForm","oldPassword","dataChangePassword","handleGoBack","ChangePassword","AppModule","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","omitBy","listKeys"],"mappings":"urBAEA,IAkBeA,EAlBKC,IAAOC,IAAV,K,oWCAjB,IAiBeC,EAjBKF,IAAOC,IAAV,K,giCCAFD,IAAOC,IAAtB,KAAeD,IAEFG,EAAeH,IAAOC,IAAV,KASZG,EAA4BJ,IAAOC,IAAV,KAmBzBI,EAAgBL,IAAOC,IAAV,K,gHCdpBK,EAAM,CACRC,KAAM,CACFC,EAAG,CAACC,KAAM,QAASC,MAAO,EAAGC,IAAI,GAAD,OCpBjBC,GDoBiB,sBAChCC,EAAG,CAACJ,KAAM,UAAWC,MAAO,EAAGC,IAAI,GAAD,OCrBnBC,GDqBmB,wBAClCE,EAAG,CAACL,KAAM,OAAQC,MAAO,EAAGC,IAAI,GAAD,OCtBhBC,GDsBgB,qBAC/BG,EAAG,CAACN,KAAM,cAAeC,MAAO,EAAGC,IAAI,GAAD,OCvBvBC,GDuBuB,4BACtCI,EAAG,CAACP,KAAM,+CAAsBC,MAAO,EAAGC,IAAI,GAAD,OCxB9BC,GDwB8B,uBAC7CK,EAAG,CAACR,KAAM,iCAAoBC,MAAO,EAAGC,IAAI,GAAD,OCzB5BC,GDyB4B,uBAC3CM,EAAG,CAACT,KAAM,2BAAiBC,MAAO,EAAGC,IAAI,GAAD,OC1BzBC,GD0ByB,qBACxCO,EAAG,CAACV,KAAM,kDAAyBC,MAAO,EAAGC,IAAI,GAAD,OC3BjCC,GD2BiC,yBAChDQ,EAAG,CAACX,KAAM,YAAaC,MAAO,EAAGC,IAAI,GAAD,OC5BrBC,GD4BqB,0BACpCS,GAAI,CAACZ,KAAM,gDAAmBC,MAAO,EAAGC,IAAI,GAAD,OC7B5BC,GD6B4B,qBAC3CU,GAAI,CAACb,KAAM,oCAAmBC,MAAO,EAAGC,IAAI,GAAD,OC9B5BC,GD8B4B,qBAC3CW,GAAI,CAACd,KAAM,oCAAmBC,MAAO,EAAGC,IAAI,GAAD,OC/B5BC,GD+B4B,6BAC3CY,GAAI,CAACf,KAAM,4CAAiBC,MAAO,EAAGC,IAAI,GAAD,OChC1BC,GDgC0B,uBAI3Ca,EAAyB,CAC7B,UAAa,oCACb,QAAW,4CACX,UAAa,oCACb,UAAa,iD,wnBEtCR,IAAMC,EAAwB1B,IAAOC,IAAV,KCO9B0B,EAAQC,EAAQ,IAsKLC,EApKU,WAEvB,IAAMC,EAAUC,cAFa,EAGHC,mBAAS,GAHN,mBAGtBC,EAHsB,KAGfC,EAHe,OAImBF,mBAAS,IAJ5B,mBAItBG,EAJsB,KAIJC,EAJI,OAKHJ,oBAAS,GALN,mBAKtBK,EALsB,KAKfC,EALe,OAMLN,mBAAS,GANJ,mBAMtBO,EANsB,KAMhBC,EANgB,OAQHR,mBAAS,GARN,mBAQtBS,EARsB,KAQfC,EARe,OASaV,mBAAS,IATtB,mBAStBW,EATsB,KASPC,EATO,OAUCZ,oBAAS,GAVV,mBAUtBa,EAVsB,KAUbC,EAVa,OAWCd,oBAAS,GAXV,mBAWtBe,EAXsB,KAWbC,EAXa,KAa7BC,qBAAU,WACRd,EAAiBe,SAAQ,SAAAC,GAAUA,EAAKC,OAAQ,KAChDR,EAAiBT,EAAiBkB,OAAOV,MACxC,CAACR,IAEJc,qBAAU,WACRK,QAAQC,IAAR,yBAA8BtB,EAA9B,cAAyCI,IACpCA,GAAOmB,aAAY,kBAAMC,EAAqB,EAAG,KAAI,OACzD,CAACxB,IAEJgB,qBAAU,WACRS,GAAS,EAAG,KACX,IAEH,IAAMC,EAAc,SAACd,EAASe,EAAQC,GAEpCC,IAAQjB,QAAQ,CAAEkB,QAASlB,EAASmB,IADxB,cAEZC,YAAW,WACTH,IAAQI,QAAQ,CAAEH,QAASH,EAAQI,IAHzB,YAG8BG,SAAU,MACjDN,IAOCO,EAAuB,WAE3B,GADAtB,GAAW,GACPH,EAAc0B,OAAS,GAIzB,OAHAP,IAAQQ,QAAQ,4BAChBtB,GAAW,QACXF,GAAW,GAGbQ,QAAQC,IAAR,UAAeR,EAAf,eAA6BF,IAC7Ba,GAASjB,EAzCG,IAqFR8B,EAAY,SAACC,EAAOC,GAcxB,MAba,CACXC,OAAQ,MACRC,IAAK,kDACLC,QAAS,CACP,eAAgB,mBAChB,YAAa,mCACb,eAAgB,aAElBC,OAAQ,CACNpC,MAAO+B,EACPM,MAAOL,KAMPhB,EAAuB,SAACe,EAAOC,GACnCnB,QAAQC,IAAI,2BACZ,IAAIwB,EAASR,EAAUC,EAAOC,GAC9B9C,EAAMoD,GACHC,MAAK,SAAUC,GACd,IAAMC,EAAWD,EAASE,KAAKA,KAAKlD,MAChCiD,IAAajD,IACfC,EAAS+C,EAASE,KAAKA,KAAKlD,OAC5BO,EAAQ0C,EAAWjD,GACnBN,EAAM4C,EAAU,EAAGW,EAAWjD,IAC3B+C,MAAK,SAAUC,GACd7C,EAAoB6C,EAASE,KAAKA,KAAKxC,kBAExCyC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,UAKnBD,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,OAIZ3B,GAAW,SAACc,EAAOC,GACvBnB,QAAQC,IAAR,UAAed,EAAf,eA/HY,IAgIZ,IAAIsC,EAASR,EAAUC,EAAOC,GAC9B9C,EAAMoD,GACHC,MAAK,SAAUC,GACd3C,GAAS,GACTJ,EAAS+C,EAASE,KAAKA,KAAKlD,OAC5BW,EAAiBD,EAAcU,OAAO4B,EAASE,KAAKA,KAAKxC,gBACzDD,EAASD,EAAQgC,GACjB3B,GAAW,MAEZsC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,OAIlB,OACE,kBAAC,IAAD,CACEC,UAAU,SACVC,MAAM,kBACNxB,QAtGiB,kBACnB,kBAACrC,EAAD,KACE,kBAAC,IAAD,CACE8D,aAAa,EACbC,UAAW,EACXC,SAAUtB,EACVrB,SAAUF,GAAWE,EACrB4C,WAAW,GAEX,kBAAC,IAAD,CACEC,WAAW,WACXC,WAAYlD,EACZmD,WAAY,SAAA3C,GAAI,OACd,kBAAC,IAAK4C,KAAN,CACEC,QAAS,CACP,kBAAC,IAAD,CAAQC,KAAK,QAAQC,KAAK,UAAUC,MAAO,CAAEC,WAAY,WAAaC,QAAS,kBAAM1C,EAAY,2BAA4B,sCAAuC,OAApK,YACA,kBAAC,IAAD,CAAQsC,KAAK,QAAQC,KAAK,UAAUG,QAAS,kBAAM1C,EAAY,0BAA2B,qCAAsC,MAAM2C,QAAM,GAA5I,YAGFtC,IAAKb,EAAKoD,KACV,kBAAC,IAAKR,KAAKS,KAAX,CACEC,OACE,kBAAC,IAAD,CAAQC,MAAM,SAAST,KAAM,GAAIU,IAAKrG,EAAIC,KAAK4C,EAAK7C,IAAIsG,OAAOjG,MAEjE4E,MAAO,uBAAGc,QAAS,kBAxCZQ,EAwC8B1D,EAAKoD,SAvCtDzE,EAAQgF,KAAR,0BAAgCD,IADd,IAACA,GAwCyCE,KAAK,IAAI5D,EAAKY,SAC9DiD,YAAa,kBAACC,EAAA,EAAD,CAAQxG,KAAK,YAAYC,MAAOyC,EAAK+D,OAAS,EAAGC,UAAQ,EAAChB,MAAO,CAAEiB,MAAO,cAK5FvE,GAAWE,GACV,yBAAKsE,UAAU,0BACb,kBAAC,IAAD,WAuERC,QAAQ,QACRnB,MAAO,CAAEoB,MAAO,MAEhB,kBAAC,IAAD,CAAOzC,MAAOvC,GAAc,MAC1B,kBAACiF,EAAA,EAAD,CAAcrB,MAAO,CAAEiB,MAAO,OAAQK,SAAU,S,wBC/IzCC,EAjBFC,YAAY,CACrBlH,KAAM,OACNmH,aATiB,CACjBF,KAAM,GACNG,SAAU,GACVC,YAAa,GACbC,SAAS,GAMTC,SAAU,CACNC,YAAa,SAACC,EAAD,GAAyB,IAAfC,EAAc,EAAdA,QACnBD,EAAMR,KAAOS,GAEjBC,eAAgB,SAACF,EAAD,GAAyB,IAAfC,EAAc,EAAdA,QACtBD,EAAMJ,YAAcK,GAExBE,SAAU,SAACH,EAAD,GAAyB,IAAfC,EAAc,EAAdA,QAChBD,EAAMH,QAAUI,IAGxBG,cAAe,SAACC,OCrBLC,EAAYC,EAAZD,QAEFxC,EAAO,eACbyC,EAAMzC,SCLA0C,EAAW,sCAEXC,EAAW,CACpB,CACIlI,KAAM,2BACNmI,KAAM,UAEV,CACInI,KAAM,4BACNmI,KAAM,WAEV,CACInI,KAAM,yBACNmI,KAAM,aAIDC,EAAQ,CACjB,CACIpI,KAAM,oCACNmI,KAAM,aAEV,CACInI,KAAM,4CACNmI,KAAM,WAEV,CACInI,KAAM,oCACNmI,KAAM,aAEV,CACInI,KAAM,gDACNmI,KAAM,cAIDE,GAAqB,CAC9B,CACIrI,KAAM,qCACNmI,KAAM,QAEV,CACInI,KAAM,WACNmI,KAAM,S,gJCTDG,GA9BW,SAACC,GACrB,IAAMC,EAAgBtH,KAAMuH,OAAO,CAC/BF,UACAG,iBAAkB,SAACtE,GAAD,OACduE,KAAGC,UAAUxE,EAAQ,CAAEyE,YAAa,YACxCzF,QAAS,IACTe,QAAS,KAqBb,OAlBAqE,EAAcM,aAAaC,QAAQC,KAC/B,SAAU1E,GACN,OAAOA,KAEX,SAAUM,GACN,OAAOqE,QAAQC,OAAOtE,MAI9B4D,EAAcM,aAAatE,SAASwE,KAChC,SAAUxE,GACN,OAAOA,KAEX,SAAUI,GACN,OAAOqE,QAAQC,OAAOtE,MAIvB4D,EAGaW,CAAS,2CAE1B,SAASC,GAAWhF,GACvB,IAAMiF,EAAU,2BACTf,GAASgB,SAASnF,QAAQoF,QAC1BnF,GAEPkE,GAASgB,SAASnF,QAAQoF,OAASC,KAAOH,GAAY,SAACI,GAAD,QAAWA,KCvC9D,IA8BMC,GAAe,SAACC,GACzB,IAAIzF,EAAG,uBAAmByF,EAAOC,QAA1B,sBAA+CD,EAAOE,UAAtD,yCAsBP,OArBIF,EAAOG,MAAuB,mCAAfH,EAAOG,OACtB5F,GAAO,SAAWyF,EAAOG,MAEzBH,EAAOI,QAA2B,mCAAjBJ,EAAOI,SACxB7F,GAAO,WAAayF,EAAOI,QAE3BJ,EAAOlE,MAAuB,mCAAfkE,EAAOlE,OACtBvB,GAAO,SAAWyF,EAAOlE,MAEzBkE,EAAOK,kBAA+C,mCAA3BL,EAAOK,mBAClC9F,GAAO,sBAAwByF,EAAOK,kBAEtCL,EAAOM,eAAyC,mCAAxBN,EAAOM,gBAC/B/F,GAAO,kBAAoByF,EAAOM,eAElCN,EAAOK,kBAA+C,mCAA3BL,EAAOK,mBAClC9F,GAAO,sBAAwByF,EAAOK,kBAEtCL,EAAOO,SACPhG,GAAO,MAAQyF,EAAOO,QAEnB5B,GACF6B,IAAIjG,GACJK,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrB2F,GAAU,SAACC,GACpB,OAAOhC,GACF6B,IADE,eACUG,IACZ/F,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrB6F,GAAa,SAACC,GACvB,OAAOlC,GACFmC,MADE,eACYD,EAAKpE,IAAMoE,GACzBjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrBgG,GAAa,SAACF,GACvB,OAAOlC,GACFqC,KAAK,OAAQH,GACbjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrBkG,GAAa,SAACN,GACvB,OAAOhC,GACFuC,OADE,eACaP,IACf/F,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrBoG,GAAe,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACvBC,EAAW,IAAIC,SAGnB,OAFAD,EAASE,OAAO,OAAQH,GAEjBzC,GAASqC,KAAK,SAAUK,GAAUzG,MAAK,SAAC6F,GAC3C,OAAOA,EAAI1F,SAINyG,GAAqB,SAACxB,GAC/B,IAAIzF,EAAG,6BAAyByF,EAAOC,QAAhC,sBAAqDD,EAAOE,UAA5D,uBAOP,OANIF,EAAOO,SACPhG,GAAO,iBAAmByF,EAAOO,QAEjCP,EAAOlE,MAAuB,mCAAfkE,EAAOlE,OACtBvB,GAAO,SAAWyF,EAAOlE,MAEtB6C,GACF6B,IAAIjG,GACJK,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrB0G,GAAgB,SAACC,GAC1B,OAAO/C,GACF6B,IADE,qBACgBkB,IAClB9G,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAerB4G,GAAmB,SAACd,GAC7B,OAAOlC,GACFqC,KAAK,aAAcH,GACnBjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrB6G,GAAmB,SAACF,GAC7B,OAAO/C,GACFuC,OADE,qBACmBQ,IACrB9G,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SA4BrB8G,GAAmB,SAAC7B,GAC7B,IAAIzF,EAAG,2BAAuByF,EAAOC,QAA9B,sBAAmDD,EAAOE,UAA1D,8CAgBP,OAfIF,EAAOlE,MAAuB,mCAAfkE,EAAOlE,OACtBvB,GAAO,SAAWyF,EAAOlE,MAEzBkE,EAAO3J,MAAuB,mCAAf2J,EAAO3J,OACtBkE,GAAO,SAAWyF,EAAO3J,MAEzB2J,EAAO8B,WAAiC,mCAApB9B,EAAO8B,YAC3BvH,GAAO,cAAgByF,EAAO8B,WAE9B9B,EAAO+B,SAA6B,mCAAlB/B,EAAO+B,UACzBxH,GAAO,YAAcyF,EAAO+B,SAE5B/B,EAAOO,SACPhG,GAAO,WAAayF,EAAOO,QAExB5B,GACF6B,IAAIjG,GACJK,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrBiH,GAAc,WAEvB,OAAOrD,GACF6B,IAFE,mBAGF5F,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAgBrBkH,GAAe,SAACjC,GACzB,IAAIzF,EAAG,uBAAmByF,EAAOC,QAA1B,sBAA+CD,EAAOE,UAAtD,uBAIP,OAHIF,EAAOO,SACPhG,GAAO,WAAayF,EAAOO,QAExB5B,GACF6B,IAAIjG,GACJK,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrBmH,GAAU,SAACC,GACpB,OAAOxD,GACF6B,IADE,eACU2B,IACZvH,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAerBqH,GAAa,SAACvB,GACvB,OAAOlC,GACFqC,KAAK,OAAQH,GACbjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrBsH,GAAa,SAACF,GACvB,OAAOxD,GACFuC,OADE,eACaiB,IACfvH,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrBuH,GAAqB,SAACtC,GAC/B,IAAIzF,EAAG,6BAAyByF,EAAOC,QAAhC,sBAAqDD,EAAOE,UAA5D,uBAIP,OAHIF,EAAOO,SACPhG,GAAO,iBAAmByF,EAAOO,QAE9B5B,GACF6B,IAAIjG,GACJK,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrBwH,GAAgB,SAACC,GAC1B,OAAO7D,GACF6B,IADE,qBACgBgC,IAClB5H,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAerB0H,GAAmB,SAAC5B,GAC7B,OAAOlC,GACFqC,KAAK,aAAcH,GACnBjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrB2H,GAAmB,SAACF,GAC7B,OAAO7D,GACFuC,OADE,qBACmBsB,IACrB5H,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrB4H,GAAwB,SAACC,GAClC,OAAOjE,GACF6B,IADE,kCAC6BoC,IAC/BhI,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrB8H,GAAyB,SAAC7C,GACnC,IAAIzF,EAAG,iCAA6ByF,EAAOC,QAApC,sBAAyDD,EAAOE,UAAhE,8CAOP,OANIF,EAAO8C,SAA6B,mCAAlB9C,EAAO8C,UACzBvI,GAAO,YAAcyF,EAAO8C,SAE5B9C,EAAO+C,eAAyC,mCAAxB/C,EAAO+C,gBAC/BxI,GAAO,kBAAoByF,EAAO+C,eAE/BpE,GACF6B,IAAIjG,GACJK,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,SAIrBiI,GAAoB,SAACC,GAC9B,OAAOtE,GACF6B,IADE,yBACoByC,IACtBrI,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,S,qECpZlC,SAASmI,GAAU3M,EAAK4M,GACpB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,iBAAiB,QAAQ,kBAAMH,EAASC,EAAOG,WACtDH,EAAOI,cAAcjN,GAGzB,SAASkN,GAAarC,GAClB,IAAMsC,EAA2B,eAAdtC,EAAKtF,MAAuC,cAAdsF,EAAKtF,KACjD4H,GACDhK,IAAQuB,MAAM,gDAElB,IAAM0I,EAASvC,EAAKvF,KAAO,KAAO,KAAO,EAIzC,OAHK8H,GACDjK,IAAQuB,MAAM,0DAEXyI,GAAcC,E,IA6DVC,G,+MAzDX9F,MAAQ,CACJrF,SAAS,G,EAGboL,a,yCAAe,WAAOC,GAAP,UAAAC,EAAA,yDACc,cAArBD,EAAK1C,KAAKhB,OADH,uBAEP,EAAK4D,SAAS,CAAEvL,SAAS,IAFlB,0BAMXyK,GAAUY,EAAK1C,KAAK6C,eAAe,SAACC,GAChC,EAAKF,SAAS,CACVE,WACAzL,SAAS,OATN,2C,wDAcf0L,a,yCAAe,WAAO/C,GAAP,gBAAA2C,EAAA,sEACO5C,GAAa,CAAEC,SADtB,OACLX,EADK,OAEX,EAAK2D,MAAMC,YHGO,UGHmB5D,EAAI8C,QAF9B,2C,8GAKL,IACE9K,EAAY6L,KAAKxG,MAAjBrF,QACAyL,EAAaI,KAAKF,MAAlBF,SAEFK,EACF,6BACK9L,EAAU,kBAAC+L,GAAA,EAAD,MAAsB,kBAACC,GAAA,EAAD,MACjC,yBAAK1I,MAAO,CAAE2I,UAAW,IAAzB,WAGR,OACI,kBAAC,KAAD,CACIrO,KAAK,OACLsO,SAAS,eACT1H,UAAU,kBACV2H,gBAAgB,EAChBC,OAAQP,KAAKH,aACbV,aAAcA,GACdqB,SAAUR,KAAKT,cAEdK,EACG,yBACI3H,IAAK+B,EAAW4F,EAChBa,IAAI,SACJhJ,MAAO,CAAEoB,MAAO,UAGpBoH,O,GAnDMS,IAAMC,W,oBC4LjBC,GA7MG,SAAC,GAAqC,IAAnCvE,EAAkC,EAAlCA,OAAQwE,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QAAc,EAC3BxN,mBAAS,IADkB,mBAC5C0F,EAD4C,KACtC+H,EADsC,OAEnBzN,mBAAS,IAFU,mBAE5CsM,EAF4C,KAElCG,EAFkC,OAGrBzM,mBAAS,IAHY,mBAG5C8B,EAH4C,KAGnC4L,EAHmC,KAKnDzM,qBAAU,WACDuM,GACDf,EAAY,MAEjB,CAACe,IAEJ,IAAMG,EAAYC,sBAAW,wBAAC,6BAAAzB,EAAA,+EAEJrD,GAAQC,GAFJ,OAGH,gBADbF,EAFgB,QAGdL,SACJiF,EAAQ5E,EAAI8C,QACR9C,EAAI8C,QAAU9C,EAAI8C,OAAOlH,QACzBgI,EAAY5D,EAAI8C,OAAOlH,SANT,uGAU3B,CAACsE,IAEJ9H,qBAAU,WACF8H,GAAUyE,EACVG,IAEAF,EAAQ,MAEb,CAACE,EAAW5E,EAAQyE,IAEvB,IAAMK,EAAU,yCAAG,iCAAA1B,EAAA,yDACXtD,EAAM,GACLiF,IAFU,uBAGXC,KAAazL,QAAQ,CACjBR,QAAS,eACTkD,YAAalD,IALN,6BASTkM,EAAWC,KAEblF,GAAoB,IAAVA,EAXC,wBAYXiF,EAASnJ,GAAKkE,EAZH,SAaCC,GAAWgF,GAbZ,OAaXnF,EAbW,gDAeCM,GAAW6E,GAfZ,QAeXnF,EAfW,eAiBI,eAAfA,EAAIL,OACJ0F,KAEIC,EAAe,GAEfA,EADe,IAAftF,EAAI/G,QACW+G,EAAI/G,QAEJ+G,EAAI8C,OAEvB+B,EAAW,CACPhP,MAAOyP,EACPjK,KAAM,QACNX,MAAO,cA7BA,4CAAH,qDAkChBtC,qBAAU,WACNwM,EAAQ,2BAAK/H,GAAN,IAAYjB,OAAQ6H,OAC5B,CAACA,IAEJrL,qBAAU,WACFa,GAAsB,IAAXA,IACS,SAAhBA,EAAQoC,MACR6J,KAAa1K,MAAM,CACfvB,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAazL,QAAQ,CACjBR,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAa7L,QAAQ,CACjBJ,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,WAIlC,CAACoD,IAEJ,IAAMgM,EAAeF,uBAAY,WAC7B,IAAIQ,GAAS,EACb,MAA8B,qBAAnB1I,EAAK2I,WAAgD,KAAnB3I,EAAK2I,WAC9CD,GAAS,EACTV,EAAW,CACPhP,MAAO,wCACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEkB,qBAAlB1I,EAAK4I,UAA8C,KAAlB5I,EAAK4I,UAC7CF,GAAS,EACTV,EAAW,CACPhP,MAAO,yDACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEe,qBAAf1I,EAAK6I,OAAwC,KAAf7I,EAAK6I,OAC1CH,GAAS,EACTV,EAAW,CACPhP,MAAO,+BACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEJA,KAGLH,EAAgB,WAClB,IAAI9K,EAAO,GAQX,MAPc,CAAC,YAAa,WAAY,QAAS,QAAS,SAAU,WAC5DjC,SAAQ,SAACsN,GACT9I,EAAK8I,IAA6B,IAAjB9I,EAAK8I,KACtBrL,EAAKqL,GAAW9I,EAAK8I,OAG7BrL,EAAKsL,SAAWC,KAAOhJ,EAAI,UAAciJ,OAAO,uBACzCxL,GAGL+K,EAAmB,WACrBT,EAAQ,IACRF,GAAW,IAGf,OACI,kBAAC,KAAD,CAAOC,QAASA,EAASjK,MAAM,sCAAwBqL,KAAMf,EAAYgB,SAAUX,EAAkBY,OAAO,WAAMC,WAAW,YACzH,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACvD,2BAAOC,QAAQ,IAAf,kBACW,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEX,kBAAC,KAAD,CAAOC,UAAU,YAAY8J,YAAY,SAAMzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM2I,UAAWnB,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY2I,UAAWe,EAAEC,OAAO3Q,aAEnI,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,WAAW0F,MAAO,CAAEoB,MAAO,QACvC,2BAAO2J,QAAQ,IAAf,mCACkB,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAElB,kBAAC,KAAD,CAAOC,UAAU,YAAYnB,KAAK,OAAOiL,YAAY,kCAAgBzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM4I,SAAUpB,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY4I,SAAUc,EAAEC,OAAO3Q,cAG3J,kBAAC,IAAD,CAAKsQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,QAAQ0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACxD,2BAAOC,QAAQ,IAAf,SACU,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEV,kBAAC,KAAD,CAAOC,UAAU,YAAYnB,KAAK,QAAQiL,YAAY,QAAQzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM6I,MAAOrB,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY6I,MAAOa,EAAEC,OAAO3Q,aAE1I,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,QAAQ0F,MAAO,CAAEoB,MAAO,QACpC,2BAAO2J,QAAQ,IAAf,OACQ,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAER,kBAAC,KAAD,CAAOC,UAAU,YAAY8J,YAAY,oCAAgBzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM4J,MAAOpC,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY4J,MAAOF,EAAEC,OAAO3Q,cAGzI,kBAAC,IAAD,CAAKsQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,UAAU0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KAC1D,2BAAOC,QAAQ,IAAf,YACA,kBAAC,KAAD,CAAO7J,UAAU,YAAYnB,KAAK,OAAOiL,YAAY,yBAAUzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM6J,QAASrC,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY6J,QAASH,EAAEC,OAAO3Q,aAE/I,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,QACnC,2BAAO2J,QAAQ,IAAf,iBACA,kBAAC,KAAD,CACIxQ,MAAOgH,EAAK+I,SAAWC,KAAM,OAAChJ,QAAD,IAACA,OAAD,EAACA,EAAM+I,SAAU,cAAgB,GAC9DvB,SAAU,SAACsC,GAAD,OACN/B,EAAQ,2BACD/H,GADA,IAEH+I,SAAUe,MAGlBrL,MAAO,CAAEoB,MAAO,QAChBoJ,OAAQ,iBAIpB,kBAAC,IAAD,KACI,kBAAC,KAAK5K,KAAN,CAAWtF,KAAK,SAAS0F,MAAO,CAAEsL,OAAQ,WACtC,yBAAKtL,MAAO,CAAEuL,aAAc,KACxB,2BAAOR,QAAQ,IAAf,YAEJ,kBAAC,GAAD,CAAa5C,SAAUA,GAAQ,wBAAuCG,YAAaA,SCnH5FkD,GAxEA,WACb,IAAMC,EAAWC,wBACX/P,EAAUC,cAFG,EAGKC,mBAAS8P,uBAAY,SAAA5J,GAAK,OAAIA,EAAMR,KAAKA,SAH9C,mBAGZA,EAHY,aAIW1F,oBAAS,IAJpB,mBAIZwN,EAJY,KAIHD,EAJG,KAKbwC,EAAWC,cAQXC,EAAe,WACnBL,EAAS5L,EAAQiC,YAAY,KAC7B2J,EAAS5L,EAAQoC,eAAe,KAChCwJ,EAAS5L,EAAQqC,UAAS,IAC1B6J,aAAaC,WAAW,SACxBD,aAAaC,WAAW,gBACxBrQ,EAAQgF,KAAK,WAGTsL,EAAa,WACjB7C,GAAW,IAaP8C,EAAuB,WAC3BvQ,EAAQgF,KAAK,CACXwL,SAAU,mBACVpK,MAAO,CAAEqK,UAAWR,EAASO,aAIjC,OACE,kBAAC,IAAD,CAAKpM,KAAK,OAAOsM,QAAQ,MAAMC,MAAM,SAASpL,UAAU,gBACtD,kBAAClH,EAAD,KACE,kBAACuS,EAAD,OAGF,kBAACvS,EAAD,KACE,kBAAC,IAAD,CACEmF,UAAU,SACVC,MAAM,iCACNxB,QA3BQ,kBACd,6BACE,uBAAGsC,QAAS+L,EAAYjM,MAAO,CAAEwM,OAAQ,YAAzC,qBACA,uBAAGtM,QAASgM,EAAsBlM,MAAO,CAAEwM,OAAQ,YAAnD,oCACA,uBAAGtM,QAAS4L,EAAc9L,MAAO,CAAEwM,OAAQ,YAA3C,8BAwBIrL,QAAQ,SAER,kBAAClH,EAAD,KACE,kBAAC,IAAD,CAAOwS,KAAG,EAACxL,MAAM,WACf,kBAAC,IAAD,CAAQV,MAAM,SAAST,KAAK,QAAQU,IAAK+B,EAAWhB,EAAKjB,UAE3D,kBAACpG,EAAD,KACE,0BAAMgH,UAAU,kBAAkBK,EAAK6C,MACvC,0BAAMlD,UAAU,sBAAsBK,EAAK2I,eAKnD,kBAAC,GAAD,CAAWtF,OAAQrD,EAAKb,GAAI0I,WAAYA,EAAYC,QAASA,MC3E7DqD,GAAmB,SAACvB,GACtB,OAAa,MAATA,EACOA,EAGJA,EAAMwB,QAAQ,UAAW,KAGvBC,GAAa,SAACC,EAAMC,EAAWvS,GACxC,IAAIwS,EAAS,KAOb,OANAF,EAAK9P,SAAQ,SAAUC,GACfA,EAAK8P,IAAcvS,IACnBwS,EAAS/P,MAIV+P,GCiBIC,GAjCA,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,OACrBtL,EAAU+J,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKK,WAC5CD,EAAcgK,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKI,eAEtD,OACE,kBAAC,EAAD,KACE,kBAAC,IAAOqL,OAAR,CACE9L,UAAU,iBACVlB,MAAO,CAAEmN,QAAS,OAAQC,eAAgB,kBAE1C,6BACGnE,IAAMoE,cACLJ,EAAYK,IAAqBC,IACjC,CACErM,UAAW,UACXhB,QAASgN,KAIf,yBAAKlN,MAAO,CAAEmN,QAAS,OAAQK,WAAY,WACzC,6BACE,wBAAIxN,MAAO,CAAEyN,WAAY,OAAQC,cAAe,cAC7Cd,GAAWlK,EAAO,OAAQf,IACzBiL,GAAWlK,EAAO,OAAQf,GAAarH,QAI/C,6BAAMsH,GAAW,kBAAC,GAAD,U,ygCCjClB,IAAM+L,GAAmB9T,IAAOC,IAAV,MAgBd,SAACuO,GAAD,OAAYA,EAAM4E,UAAY,EAAI,K,kVChBlCpT,WAAOC,IAAtB,MCUe8T,GATF,SAAC,GAAyB,IAAD,IAAvBX,iBAAuB,SACpC,OACE,kBAAC,GAAD,KACE,uBAAG/L,UAAU,qBACX+L,GAAa,0BAAM/L,UAAU,SAAhB,eCPR2M,GAAc,CACzB,CACEhQ,IAAK,YACLiQ,QAAS,sCACTC,KAAM,iBACNC,MAAO,cAET,CACEnQ,IAAK,SACLiQ,QAAS,kCACTC,KAAM,mBACNC,MAAO,UACPC,QAAS,CACP,CACEpQ,IAAK,aACLiQ,QAAS,qBACTC,KAAM,4BACNC,MAAO,eAET,CACEnQ,IAAK,uBACLiQ,QAAS,2CACTC,KAAM,eACNC,MAAO,gBAET,CACEnQ,IAAK,iBACLiQ,QAAS,gBACTC,KAAM,sBACNC,MAAO,oBAET,CACEnQ,IAAK,iBACLiQ,QAAS,yBACTC,KAAM,wBACNC,MAAO,kBAIb,CACEnQ,IAAK,YACLiQ,QAAS,aACTC,KAAM,iBACNC,MAAO,cACPC,QAAS,CACP,CACEpQ,IAAK,kBACLiQ,QAAS,+CACTC,KAAM,oBACNC,MAAO,iCAET,CACEnQ,IAAK,cACLiQ,QAAS,8BACTC,KAAM,qBACNC,MAAO,8BAIb,CACEnQ,IAAK,WACLiQ,QAAS,WACTC,KAAM,qBACNC,MAAO,YACPC,QAAS,CACP,CACEpQ,IAAK,oBACLiQ,QAAS,0BACTC,KAAM,4BACNC,MAAO,uBAET,CACEnQ,IAAK,gBACLiQ,QAAS,iBACTC,KAAM,cACNC,MAAO,mBAET,CACEnQ,IAAK,cACLiQ,QAAS,oCACTC,KAAM,cACNC,MAAO,iBAET,CACEnQ,IAAK,mBACLiQ,QAAS,2BACTC,KAAM,wBACNC,MAAO,sBAET,CACEnQ,IAAK,iBACLiQ,QAAS,kBACTC,KAAM,kBACNC,MAAO,oBAIb,CACEnQ,IAAK,WACLiQ,QAAS,+BACTC,KAAM,gBACNE,QAAS,CACP,CACEpQ,IAAK,aACLiQ,QAAS,0CACTC,KAAM,4BACNC,MAAO,aAET,CACEnQ,IAAK,SACLiQ,QAAS,SACTC,KAAM,4BACNC,MAAO,aAIb,CACEnQ,IAAK,WACLiQ,QAAS,kBACTC,KAAM,uBACNE,QAAS,CACP,CACEpQ,IAAK,gBACLiQ,QAAS,+BACTC,KAAM,cACNC,MAAO,cAET,CACEnQ,IAAK,yBACLiQ,QAAS,mBACTC,KAAM,gBACNC,MAAO,iBAET,CACEnQ,IAAK,yBACLiQ,QAAS,yBACTC,KAAM,gBACNC,MAAO,mBAKb,CACEnQ,IAAK,mBACLiQ,QAAS,+CACTC,KAAM,oBACNC,MAAO,qBACPC,QAAS,CACP,CACEpQ,IAAK,oBACLiQ,QAAS,+CACTC,KAAM,aACNC,MAAO,yCAET,CACEnQ,IAAK,kBACLiQ,QAAS,+DACTC,KAAM,iBACNC,MAAO,kCAIb,CACEnQ,IAAK,mBACLiQ,QAAS,iCACTC,KAAM,oBACNC,MAAO,cAET,CACEnQ,IAAK,UACLiQ,QAAS,mBACTC,KAAM,cACNC,MAAO,YAET,CACEnQ,IAAK,cACLiQ,QAAS,6CACTC,KAAM,wBACNC,MAAO,gBACPC,QAAS,CAEP,CACEpQ,IAAK,WACLiQ,QAAS,4DACTC,KAAM,mBACNC,MAAO,cAET,CACEnQ,IAAK,aACLiQ,QAAS,8DAETC,KAAM,qBACNC,MAAO,gBAET,CACEnQ,IAAK,UACLiQ,QAAS,qEACTC,KAAM,qBACNC,MAAO,aAET,CACEnQ,IAAK,WACLiQ,QAAS,uDACTC,KAAM,gBACNC,MAAO,cAET,CACEnQ,IAAK,WACLiQ,QAAS,4CACTC,KAAM,gBACNC,MAAO,cAET,CACEnQ,IAAK,aACLiQ,QAAS,oCACTC,KAAM,iBACNC,MAAO,gBAET,CACEnQ,IAAK,gBACLiQ,QAAS,mGACTC,KAAM,oBACNC,MAAO,mBAET,CACEnQ,IAAK,UACLiQ,QAAS,qCACTC,KAAM,cACNC,MAAO,aAET,CACEnQ,IAAK,cACLiQ,QAAS,kDACTC,KAAM,iBACNC,MAAO,iBAGT,CACEnQ,IAAK,YACLiQ,QAAS,+EACTC,KAAM,kBACNC,MAAO,eAET,CACEnQ,IAAK,eACLiQ,QAAS,oDACTC,KAAM,wBACNC,MAAO,kBAET,CACEnQ,IAAK,SACLiQ,QAAS,0CACTC,KAAM,gBACNC,MAAO,cAIb,CACEnQ,IAAK,qBACLiQ,QAAS,2BACTC,KAAM,kBACNC,MAAO,uBACPC,QAAS,CACP,CACEpQ,IAAK,yBACLiQ,QAAS,+BACTC,KAAM,kBACNC,MAAO,sBAET,CACEnQ,IAAK,2BACLiQ,QAAS,2CACTC,KAAM,kBACNC,MAAO,iCAIb,CACEnQ,IAAK,gBACLiQ,QAAS,gCACTC,KAAM,iBACNC,MAAO,mBAET,CACEnQ,IAAK,iBACLiQ,QAAS,0BACTC,KAAM,qBACNC,MAAO,mBACPC,QAAS,CACP,CACEpQ,IAAK,cACLiQ,QAAS,0CACTC,KAAM,cACNC,MAAO,QACPnH,SAAU,aAEZ,CACEhJ,IAAK,oBACLiQ,QAAS,+BACTC,KAAM,iBACNC,MAAO,cACPnH,SAAU,mBAEZ,CACEhJ,IAAK,kBACLiQ,QAAS,4CACTC,KAAM,gBACNC,MAAO,aACPnH,SAAU,iBAEZ,CACEhJ,IAAK,cACLiQ,QAAS,oCACTC,KAAM,kBACNC,MAAO,QACPnH,SAAU,eAEZ,CACEhJ,IAAK,oBACLiQ,QAAS,6BACTC,KAAM,aACNC,MAAO,cACPnH,SAAU,qBAEZ,CACEhJ,IAAK,iBACLiQ,QAAS,qBACTC,KAAM,kBACNC,MAAO,mBACPnH,SAAU,4BClUVqH,GAAUC,IAAVD,MACAE,GAAYC,KAAZD,QA4GOE,GA1GC,SAAC,GAA2B,IAAzBrB,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,OAAa,EACnBrR,mBAAS,aADU,mBAClCgC,EADkC,KAC7B0Q,EAD6B,KAEjCpC,EAAaN,cAAbM,SACFxQ,EAAUC,cAEhBkB,qBAAU,WACR,IAAM0R,EAAY,WAAOrC,EAASsC,MAAM,KAAK,IAD/B,EAEe,SAAvBC,EAAwBC,GAC5B,IAAK,IAAIC,EAAM,EAAGA,EAAMD,EAAKzQ,OAAQ0Q,IAAO,CAC1C,IAAMC,EAAWF,EAAKC,GACdX,EAAYY,EAAZZ,QACR,GAAKA,EAIE,CACL,IAAMzG,EAASkH,EAAqBT,GACpC,GAAIzG,EAAQ,OAAOA,OALnB,GAAIqH,EAASb,QAAUQ,EACrB,OAAOK,GAQUH,CAAqBb,KAAgB,GAAtDhQ,EAhBM,EAgBNA,IAAKiQ,EAhBC,EAgBDA,QACTjQ,IACF0Q,EAAO1Q,GACPiR,SAAS1P,MAAQ0O,KAElB,CAAC3B,EAAUtO,IAEd,IAAMkR,EAAe,yCAAG,WAAOF,GAAP,sBAAA7G,EAAA,yDACdnK,EAAkCgR,EAAlChR,IAAKiQ,EAA6Be,EAA7Bf,QAASE,EAAoBa,EAApBb,QAAOnH,EAAagI,EAAbhI,WACA,KAAbA,EAFM,gCAGKD,GAAsBC,GAH3B,UAIK,QAJL,OAILxC,OAJK,uBAKlBuF,KAAa1K,MAAM,CACjBvB,QAAS,WACTkD,YAAa,sDAPG,6BAYlBsL,IAAa6B,EAZK,mDAatBO,EAAO1Q,GACPiR,SAAS1P,MAAQ0O,EACjBnS,EAAQgF,KAAKqN,GAfS,4CAAH,sDAgDrB,OACE,kBAACE,GAAD,CACEc,WAAW,KACX5N,MAAO,IACP6N,eAAe,OACfC,aAAW,EACX/N,QAAS,KACT8L,UAAWA,EACXkC,WAAY,WACVjC,MAGF,kBAAC,IAAD,CAAM5O,GAAG,KACP,kBAAC,GAAD,CAAM2O,UAAWA,KAEnB,kBAACU,GAAD,CAAkBV,UAAWA,GAC3B,kBAAC,KAAD,CACEmC,MAAM,OACNC,KAAK,SACLC,oBAAqB,CAAC,YAAazR,GACnC0R,aAAc1R,EACd2R,qBAAqB,SAnDN,SAAjBC,EAAkBd,GACtB,OAAOA,EAAKe,KAAI,SAACb,GAAc,IAAD,EACiBA,EAArCZ,eADoB,MACV,GADU,EACNpQ,EAAuBgR,EAAvBhR,IAAKiQ,EAAkBe,EAAlBf,QAASC,EAASc,EAATd,KACpC,OAAKE,EAAQ/P,OAYX,kBAACkQ,GAAD,CACEvQ,IAAKA,EACLuB,MACE,8BACE,uBAAG8B,UAAS,UAAK6M,EAAL,qBACZ,0BAAM7M,UAAU,aAAa4M,KAIhC2B,EAAexB,IAnBhB,kBAAC,KAAKrO,KAAN,CACE/B,IAAKA,EACLkQ,KAAM,uBAAG7M,UAAS,UAAK6M,EAAL,qBAClB7N,QAAS,kBAAM6O,EAAgBF,KAE/B,0BAAM3N,UAAU,aAAa4M,OA2C9B2B,CAAe5B,QCrGlB8B,GAAYxB,IAAZwB,QA8BOC,gBA5BI,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,SAAUlU,EAAc,EAAdA,QAAc,EACVE,oBAAS,GADC,mBACrCoR,EADqC,KAC1B6C,EAD0B,KAGtC5C,EAAS,WACb4C,GAAc7C,IAGVtL,EAAcgK,uBAAY,SAAA5J,GAAK,OAAIA,EAAMR,KAAKI,eAQpD,OANA7E,qBAAU,WACH6E,GACHhG,EAAQgF,KAAK,WAEd,IAGD,kBAAC,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,CAASsM,UAAWA,EAAWC,OAAQA,IACvC,kBAAC,IAAD,CAAQhM,UAAU,eAChB,kBAAC,GAAD,CAAQ+L,UAAWA,EAAWC,OAAQA,IACtC,kBAACyC,GAAD,KAAUE,S,0fC7BpB,IA0BeE,GA1BGlW,IAAOC,IAAV,M,oTCAf,IAcekW,GAdUnW,IAAOC,IAAV,M,qBCUPmW,GAVA,CACbC,KAAK,GAAD,OrBHiBzV,GqBGjB,oBACJ0V,cAAc,GAAD,OrBJQ1V,GqBIR,8BACb2V,MAAM,GAAD,OrBLgB3V,GqBKhB,qBACL4V,KAAK,GAAD,OrBNiB5V,GqBMjB,oBACJ6V,gBAAgB,GAAD,OrBPM7V,GqBON,iCACf8V,KAAK,GAAD,OrBRiB9V,GqBQjB,oBACJ+V,YAAY,GAAD,OrBTU/V,GqBSV,6BCLEgW,GAJG,CAChBC,KAAM,OACNC,SAAU,YCEGC,GAJQ,CACrBC,MAAO,QACPC,MAAO,SCGMC,GALI,CACjB,OAAQ,OACR,OAAQ,OACR,QAAS,SCOHC,GAAUC,KAAVD,MAyGOpB,gBAvGK,SAAC,GAAiB,IAAfjU,EAAc,EAAdA,QACf4F,EAAOoK,uBAAY,SAAA5J,GAAK,OAAIA,EAAMR,KAAKA,QACvCK,EAAU+J,uBAAY,SAAA5J,GAAK,OAAIA,EAAMR,KAAKK,WAC1C6J,EAAWC,wBAEXwF,EAAsB,SAACnR,GACtB6B,GAGCA,GAAYL,EAAKxB,MAAQA,GAAqB,eAAbwB,EAAK6C,KAIxCwF,KAAazL,QAAQ,CACnBR,QAAS,UACTkD,YAAa,oEALf4K,EAAS5L,EAAQoC,eAAelC,IAChCpE,EAAQgF,KAAK,eAJfhF,EAAQgF,KAAK,WAajB,OACE,kBAAC,GAAD,KACE,kBAACqQ,GAAD,CAAOjQ,MAAO,EAAGG,UAAU,SAA3B,oIAGA,kBAAC,IAAD,CAAK2J,OAAQ,GAAI3J,UAAU,YACzB,kBAAC,KAAD,CAAKiQ,KAAM,GACT,kBAAC,KAAD,CACEC,WAAS,EACTlQ,UAAU,eACVhB,QAAS,kBAAMgR,EAAoB,cACnCG,MACE,kBAAC,KAAD,CAAOrI,IAAI,UAAUsI,OAAO,QAAQ9Q,IAAKyP,GAAOO,eAGlD,kBAAC,KAAD,CACEpR,MAAM,oCACNyB,YAAY,2SAIlB,kBAAC,KAAD,CAAKsQ,KAAM,GACT,kBAAC,KAAD,CACEC,WAAS,EACTlQ,UAAU,eACVhB,QAAS,kBAAMgR,EAAoB,YACnCG,MACE,kBAAC,KAAD,CACErI,IAAI,UACJsI,OAAO,QACP9Q,IAAKyP,GAAOM,QAIhB,kBAAC,KAAD,CACEnR,MAAM,4CACNyB,YAAY,6aAIlB,kBAAC,KAAD,CAAKsQ,KAAM,GACT,kBAAC,KAAD,CACEC,WAAS,EACTlQ,UAAU,eACVhB,QAAS,kBAAMgR,EAAoB,cACnCG,MACE,kBAAC,KAAD,CACErI,IAAI,UACJsI,OAAO,QACP9Q,IAAKyP,GAAOK,mBAIhB,kBAAC,KAAD,CACElR,MAAM,gDACNyB,YAAY,iUAIlB,kBAAC,KAAD,CAAKsQ,KAAM,GACT,kBAAC,KAAD,CACEC,WAAS,EACTlQ,UAAU,eACVhB,QAAS,kBAAMgR,EAAoB,cACnCG,MACE,kBAAC,KAAD,CACErI,IAAI,UACJsI,OAAO,QACP9Q,IAAKyP,GAAOI,QAIhB,kBAAC,KAAD,CACEjR,MAAM,oCACNyB,YAAY,qdClGlBmM,GAA4BmB,IAA5BnB,OAAQ2C,GAAoBxB,IAApBwB,QAAS4B,GAAWpD,IAAXoD,OA0BVC,GAxBF,WACX1U,qBAAU,WACRgS,SAAS1P,MAAQ,SAChB,IACH,IAAMwC,EAAU+J,uBAAY,SAAA5J,GAAK,OAAIA,EAAMR,KAAKK,WAEhD,OACE,kBAAC,GAAD,KACE,kBAAC,IAAD,CAAQV,UAAU,UAChB,kBAAC,GAAD,CAAQA,UAAU,UAChB,kBAAC,GAAD,MACCU,GAAW,kBAAC,GAAD,OAEd,kBAAC,GAAD,CAASV,UAAU,WACjB,yBAAKA,UAAU,uBACb,kBAAC,GAAD,QAGJ,kBAACqQ,GAAD,CAAQrQ,UAAU,SAASlB,MAAO,CAACyR,OAAQ,IAA3C,mC,sLC1BR,IAQeC,GARO7X,IAAOC,IAAV,M,0CCMX6X,GAAWC,KAAXD,OAwaOxI,GAtaG,SAAC,GAA+F,IAA7FvE,EAA4F,EAA5FA,OAAQwE,EAAoF,EAApFA,WAAYC,EAAwE,EAAxEA,QAASwI,EAA+D,EAA/DA,cAAexC,EAAgD,EAAhDA,KAAMyC,EAA0C,EAA1CA,QAASC,EAAiC,EAAjCA,gBAAiBC,EAAgB,EAAhBA,UAAgB,EACrFnW,mBAAS,IAD4E,mBACtG0F,EADsG,KAChG+H,EADgG,OAE7EzN,mBAAS,IAFoE,mBAEtGsM,EAFsG,KAE5FG,EAF4F,OAG/EzM,mBAAS,IAHsE,mBAGtG8B,EAHsG,KAG7F4L,EAH6F,KAIvG0I,EAAYtG,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKA,QAJyD,EAKnF1F,mBAAS,IAL0E,mBAKtGuD,EALsG,KAK/F8S,EAL+F,KAO7GpV,qBAAU,WACDuM,IACDf,EAAY,IACZgB,EAAQ,CACJjF,OAAQ,kCACRD,KAAM,kCACNrE,KAAM,kCACNoS,WAAY,uCAGrB,CAAC9I,IAEJ,IAAMG,EAAYC,sBAAW,wBAAC,6BAAAzB,EAAA,+EAEJrD,GAAQC,GAFJ,OAGH,gBADbF,EAFgB,QAGdL,SACJiF,EAAQ5E,EAAI8C,QACR9C,EAAI8C,QAAU9C,EAAI8C,OAAOlH,QACzBgI,EAAY5D,EAAI8C,OAAOlH,SANT,uGAU3B,CAACsE,IAEJ9H,qBAAU,WACF8H,EACA4E,IAEAF,EAAQ,MAEb,CAACE,EAAW5E,IAEf9H,qBAAU,WAEFoV,EADQ,UAAR7C,EACS,2CACM,UAARA,EACE,6CAEA,0CAEd,CAACA,IAEJ,IAAM3F,EAAU,yCAAG,mCAAA1B,EAAA,yDACXtD,EAAM,GACLiF,IAFU,oDAKTE,EAAWC,IACbjJ,EAAc,IAEd+D,GAAoB,IAAVA,EARC,wBASXiF,EAASnJ,GAAKkE,EATH,SAUCC,GAAWgF,GAVZ,OAUXnF,EAVW,OAWX7D,EAAc,uCAXH,yCAaCmE,GAAW6E,GAbZ,QAaXnF,EAbW,OAcX7D,EAAc,sCAdH,QAgBI,eAAf6D,EAAIL,QACJuF,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAaA,IAEjBkJ,IACA8H,MAEI7H,EAAe,GAEfA,EADAtF,EAAI/G,SAA0B,IAAf+G,EAAI/G,QACJ+G,EAAI/G,QAEJ+G,EAAI8C,OAEvBoC,KAAa1K,MAAM,CACfvB,QAAS,GACTkD,YAAamJ,KAhCN,4CAAH,qDAqChBlN,qBAAU,WACNwM,EAAQ,2BAAK/H,GAAN,IAAYjB,OAAQ6H,OAC5B,CAACA,IAEJ,IAAMwB,EAAeF,uBAAY,WAC7B,IAAIQ,GAAS,EACb,GAA8B,qBAAnB1I,EAAK2I,WAAgD,KAAnB3I,EAAK2I,UAO9C,OANAD,GAAS,EACTV,EAAW,CACPhP,MAAO,wCACPwF,KAAM,QACNX,MAAO,aAEJ6K,EAEX,GAA6B,qBAAlB1I,EAAK4I,UAA8C,KAAlB5I,EAAK4I,SAO7C,OANAF,GAAS,EACTV,EAAW,CACPhP,MAAO,yDACPwF,KAAM,QACNX,MAAO,aAEJ6K,EAEX,GAA0B,qBAAf1I,EAAK6I,OAAwC,KAAf7I,EAAK6I,MAO1C,OANAH,GAAS,EACTV,EAAW,CACPhP,MAAO,+BACPwF,KAAM,QACNX,MAAO,aAEJ6K,EAEX,IAAKrF,EAAQ,CACT,GAA6B,qBAAlBrD,EAAK6Q,UAA8C,KAAlB7Q,EAAK6Q,SAO7C,OANAnI,GAAS,EACTV,EAAW,CACPhP,MAAO,4CACPwF,KAAM,QACNX,MAAO,aAEJ6K,EAEX,GAA+B,qBAApB1I,EAAK8Q,WAOZ,OANApI,GAAS,EACTV,EAAW,CACPhP,MAAO,mDACPwF,KAAM,QACNX,MAAO,aAEJ6K,EAEX,GAAI1I,EAAK8Q,aAAe9Q,EAAK6Q,SAOzB,OANAnI,GAAS,EACTV,EAAW,CACPhP,MAAO,6DACPwF,KAAM,QACNX,MAAO,aAEJ6K,EAGf,OAAOA,KAGLH,EAAgB,WAClB,IAAI9K,EAAO,GAoBX,MAnBc,CAAC,YAAa,WAAY,WAAY,QAAS,QAAS,SAAU,UAAW,SAAU,QAC7FjC,SAAQ,SAACsN,GACT9I,EAAK8I,IAA6B,IAAjB9I,EAAK8I,KACtBrL,EAAKqL,GAAW9I,EAAK8I,OAGzB9I,EAAK4Q,YAAc5Q,EAAK4Q,WAAWzR,GACnC1B,EAAI,cAAoBuC,EAAK4Q,WAAWzR,GAExC1B,EAAI,cAAoB,EAEN,mCAAlBA,EAAI,SACJA,EAAI,OAAa,MAED,mCAAhBA,EAAI,OACJA,EAAI,KAAW,MAEnBA,EAAKe,KAAOgM,aAAauG,QAAQ,gBACjCtT,EAAKsL,SAAWC,KAAOhJ,EAAI,UAAciJ,OAAO,uBACzCxL,GAGL+K,EAAmB,WACrBT,EAAQ,IACRF,GAAW,GACX0I,EAAQ,WAGZhV,qBAAU,WACFa,GAAsB,IAAXA,IACS,SAAhBA,EAAQoC,MACR6J,KAAa1K,MAAM,CACfvB,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAazL,QAAQ,CACjBR,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAa7L,QAAQ,CACjBJ,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,WAIlC,CAACoD,IAiFJ,OACI,kBAAC,KAAD,CAAO0L,QAASA,EAASjK,MAAOA,EAAOqL,KAAMf,EAAYgB,SAAUX,EAAkBY,OAAO,WAAMC,WAAW,YACzG,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACvD,2BAAOC,QAAQ,IAAf,kBACW,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEX,kBAAC,KAAD,CAAOsR,SAAkB,UAARlD,EAAkBnO,UAAU,YAAY8J,YAAY,SAAMzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM2I,UAAWnB,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY2I,UAAWe,EAAEC,OAAO3Q,aAE/J,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,WAAW0F,MAAO,CAAEoB,MAAO,QACvC,2BAAO2J,QAAQ,IAAf,mCACkB,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAElB,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVnO,UAAU,YACVnB,KAAK,OACLiL,YAAY,kCACZzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM4I,SACbpB,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY4I,SAAUc,EAAEC,OAAO3Q,cAInE,kBAAC,IAAD,CAAKsQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,QAAQ0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACxD,2BAAOC,QAAQ,IAAf,SACU,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEV,kBAAC,KAAD,CAAOsR,SAAkB,UAARlD,EAAkBnO,UAAU,YAAYnB,KAAK,QAAQiL,YAAY,QAAQzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM6I,MAAOrB,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY6I,MAAOa,EAAEC,OAAO3Q,aAEtK,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,QAAQ0F,MAAO,CAAEoB,MAAO,QACpC,2BAAO2J,QAAQ,IAAf,OACQ,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAER,kBAAC,KAAD,CAAOsR,SAAkB,UAARlD,EAAkBnO,UAAU,YAAY8J,YAAY,oCAAgBzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM4J,MAAOpC,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY4J,MAAOF,EAAEC,OAAO3Q,eAGnKqK,GACE,kBAAC,IAAD,CAAKiG,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,WAAW0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KAC3D,2BAAOC,QAAQ,IAAf,sBACa,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEb,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVtP,KAAK,WACLiL,YAAY,qBACZzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM6Q,SACbrJ,SAAU,SAACkC,GAAD,OACN3B,EAAQ,2BACD/H,GADA,IAEH6Q,SAAUnH,EAAEC,OAAO3Q,aAKnC,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,cAAc0F,MAAO,CAAEoB,MAAO,QAC1C,2BAAO2J,QAAQ,IAAf,uCACsB,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEtB,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVtP,KAAK,WACLiL,YAAY,sCACZzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM8Q,WACbtJ,SAAU,SAACkC,GAAD,OACN3B,EAAQ,2BACD/H,GADA,IAEH8Q,WAAYpH,EAAEC,OAAO3Q,cAO7C,kBAAC,IAAD,CAAKsQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,UAAU0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KAC1D,2BAAOC,QAAQ,IAAf,YACA,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACVnO,UAAU,YACVnB,KAAK,OACLiL,YAAY,yBACZzQ,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM6J,QACbrC,SAAU,SAACkC,GAAD,OAAO3B,EAAQ,2BAAK/H,GAAN,IAAY6J,QAASH,EAAEC,OAAO3Q,aAG9D,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,QACnC,2BAAO2J,QAAQ,IAAf,iBACA,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACV9U,MAAOgH,EAAK+I,SAAWC,KAAM,OAAChJ,QAAD,IAACA,OAAD,EAACA,EAAM+I,SAAU,cAAgB,GAC9DvB,SAAU,SAACsC,GAAD,OACN/B,EAAQ,2BACD/H,GADA,IAEH+I,SAAUe,MAGlBrL,MAAO,CAAEoB,MAAO,QAChBoJ,OAAQ,iBAIpB,kBAAC,IAAD,CAAKK,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACvD,2BAAOC,QAAQ,IAAf,sBAtKhB,kBAAC,KAAD,CAAQwH,SAAkB,UAARlD,EAAkBnO,UAAU,aAAa3G,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM6C,KAAM2E,SAAU,SAACxO,GAAD,OAAW+O,EAAQ,2BAAK/H,GAAN,IAAY6C,KAAM7J,MAAUiY,aAAa,kCAAgBxS,MAAO,CAAEoB,MAAO,SAC9K6Q,GAA+B,eAAlBA,EAAU7N,MACpB,kBAAC,GAAD,CAAQvG,IAAK,EAAGtD,MAAM,eAAtB,yCAIHyX,GAAaA,EAAUtC,KAAI,SAACrL,EAAQ/H,GACjC,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO8J,EAAO5B,MAC7B4B,EAAO/J,WAgKZ,kBAAC,KAAKsF,KAAN,CAAWtF,KAAK,SAAS0F,MAAO,CAAEoB,MAAO,QACrC,2BAAO2J,QAAQ,IAAf,uBA5LhB,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACVnO,UAAU,aACV3G,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAM8C,OACb0E,SAAU,SAACxO,GAAD,OAAW+O,EAAQ,2BAAK/H,GAAN,IAAY8C,OAAQ9J,MAChDiY,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,SACfoB,EAASkN,KAAI,SAACrL,EAAQ/H,GACnB,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO8J,EAAO5B,MAC7B4B,EAAO/J,YAsLhB,kBAAC,IAAD,CAAKuQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACvD,2BAAOC,QAAQ,IAAf,iBA/JhB,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACVnO,UAAU,aACV3G,MAAOgH,GAAQA,EAAK4Q,WAAa5Q,EAAK4Q,WAAWzR,GAAK,kCACtDqI,SAAU,SAACxO,GAAD,OAAW+O,EAAQ,2BAAK/H,GAAN,IAAY4Q,WAAY5X,MACpDiY,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,SAChB,kBAAC,GAAD,CAAQvD,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCwX,GAAmBA,EAAgBrC,KAAI,SAACyC,EAAY7V,GACjD,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO4X,EAAWzR,IACjCyR,EAAW7X,WAqJf2X,GAA+B,eAAlBA,EAAU7N,MACpB,kBAAC,KAAKxE,KAAN,CAAWtF,KAAK,QACZ,2BAAOyQ,QAAQ,IAAf,kBA/IpB,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACVnO,UAAU,aACV3G,MAAK,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAMxB,KACbgJ,SAAU,SAACxO,GAAD,OAAW+O,EAAQ,2BAAK/H,GAAN,IAAYxB,KAAMxF,EAAO2J,QAAS,MAC9DsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,OAAQqR,SAAU,MACjCR,GAA+B,eAAlBA,EAAU7N,MACpB,kBAAC,GAAD,CAAQvG,IAAK,EAAGtD,MAAM,eAAtB,oBAIHmI,EAAMgN,KAAI,SAAC3P,EAAMzD,GACd,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOwF,EAAK0C,MAC3B1C,EAAKzF,YAqId,kBAAC,IAAD,KACI,kBAAC,KAAKsF,KAAN,CAAWtF,KAAK,SAAS0F,MAAO,CAAEsL,OAAQ,WACtC,yBAAKtL,MAAO,CAAEuL,aAAc,KACxB,2BAAOR,QAAQ,IAAf,YAEJ,kBAAC,GAAD,CAAa5C,SAAUA,GAAQ,wBAAuCG,YAAaA,S,WClanGqJ,GAAWC,KAAXD,OACAe,GAAWC,KAAXD,OAoMOE,GAlMA,SAAC,GAA4E,IAA1E3O,EAAyE,EAAzEA,OAAQ4O,EAAiE,EAAjEA,UAAWzJ,EAAsD,EAAtDA,WAAY0I,EAA0C,EAA1CA,QAASC,EAAiC,EAAjCA,gBAAiBC,EAAgB,EAAhBA,UACjEzQ,EAAOoK,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKA,QA2H/C,OACI,kBAAC,WAAD,KACI,kBAAC,IAAD,CAAKsJ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,IAAX,wCACA,kBAAC,KAAD,CAAK2B,KAAK,QAAQ3B,KAAM,EAAG4B,OAAQ,IAC/B,kBAAC,IAAD,CAAQC,OAAK,EAACjT,KAAK,UAAUG,QAAS,kBATlDkJ,GAAW,QACX0I,EAAQ,WAQgE9R,MAAO,CAAEoB,MAAO,IAAK6R,MAAO,UACpF,kBAACC,GAAA,EAAD,MADJ,qCAMR,kBAAC,IAAD,CAAKrI,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,GACP,kBAAC,GAAD,CACInG,YAAY,mBACZjC,SAAU,SAACkC,GAAD,OACN4H,EAAU,2BACH5O,GADE,IAELO,OAAQyG,EAAEC,OAAO3Q,MACjB2J,QAAS,SAKzB,kBAAC,KAAD,CAAKiN,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,sBAjJZ,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAAOI,OACd0E,SAAU,SAACxO,GAAD,OAAWsY,EAAU,2BAAK5O,GAAN,IAAcI,OAAQ9J,EAAO2J,QAAS,MACpEsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KACnC,kBAAC,GAAD,CAAQtV,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCiI,EAASkN,KAAI,SAACrL,EAAQ/H,GACnB,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO8J,EAAO5B,MAC7B4B,EAAO/J,WA0IhB,kBAAC,KAAD,CAAK6W,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,qBAnIZ,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAAOG,KACd2E,SAAU,SAACxO,GAAD,OAAWsY,EAAU,2BAAK5O,GAAN,IAAcG,KAAM7J,EAAO2J,QAAS,MAClEsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KACnC,kBAAC,GAAD,CAAQtV,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCyX,GAAaA,EAAUtC,KAAI,SAACtL,EAAM9H,GAC/B,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO6J,EAAK3B,MAC3B2B,EAAK9J,YA6HlB,kBAAC,IAAD,CAAKuQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,gBA/EZ,kBAAC,KAAD,CACIgS,YAAU,EACVC,iBAAiB,WACjBnS,UAAU,aACV3G,MAAO0J,EAAOM,cAAgBN,EAAOM,cAAgB,kCACrDiO,aAAa,kCACbzJ,SAAU,SAACxO,GAAD,OAAWsY,EAAU,2BAAK5O,GAAN,IAAcM,cAAehK,EAAO2J,QAAS,MAC3ElE,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KACnC,kBAAC,GAAD,CAAQtV,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCwX,GACGA,EAAgBrC,KAAI,SAAC3P,EAAMzD,GACvB,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOwF,EAAKW,IAC3BX,EAAKzF,WAqEJ,eAAbiH,EAAK6C,MACF,kBAAC,KAAD,CAAK+M,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,iBA1GhB,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAAOlE,KACdgJ,SAAU,SAACxO,GAAD,OAAWsY,EAAU,2BAAK5O,GAAN,IAAclE,KAAMxF,EAAO2J,QAAS,MAClEsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KACnC,kBAAC,GAAD,CAAQtV,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCmI,EAAMgN,KAAI,SAAC3P,EAAMzD,GACd,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOwF,EAAK0C,MAC3B1C,EAAKzF,WAoGd,kBAAC,KAAD,CAAK6W,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,uCArIZ,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAAOK,iBACdyE,SAAU,SAACxO,GAAD,OAAWsY,EAAU,2BAAK5O,GAAN,IAAcK,iBAAkB/J,EAAO2J,QAAS,MAC9EsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KACnC,kBAAC,GAAD,CAAQtV,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCoI,GAAmB+M,KAAI,SAACrL,EAAQ/H,GAC7B,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO8J,EAAO5B,MAC7B4B,EAAO/J,YA+HpB,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAK6W,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,OAAQ7B,OAAQ,WAC5C,kBAAC,IAAD,CAAQvL,KAAK,UAAUiT,OAAK,EAAChT,MAAO,CAAEuL,aAAc,IAAMrL,QA/EjD,WACrB2S,EAAU,CACN3O,QAAS,EACTC,UAAW,GACXC,KAAM,kCACNC,OAAQ,kCACRtE,KAAM,kCACNyE,OAAQ,GACRD,cAAe,KACfD,iBAAkB,sCAsEV,aCoCLgP,GA5NE,WAAO,IAAD,EACWzX,oBAAS,GADpB,mBACZwN,EADY,KACHD,EADG,OAESvN,mBAAS,CAAEsI,UAAW,GAAID,QAAS,IAF5C,mBAEZD,EAFY,KAEJ4O,EAFI,OAGahX,mBAAS,IAHtB,mBAGZ6F,EAHY,KAGF6R,EAHE,OAIK1X,mBAAS,IAJd,mBAIZ2X,EAJY,KAINC,EAJM,OAKS5X,mBAAS,IALlB,mBAKZ+I,EALY,KAKJ8O,EALI,KAMbnS,EAAOoK,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKA,QAN5B,EAOK1F,mBAAS,IAPd,mBAOZwT,EAPY,KAONyC,EAPM,OAS2BjW,mBAAS,IATpC,mBASZkW,EATY,KASK4B,EATL,KAWbC,EAAgB,yCAAG,6BAAA5L,EAAA,sEvBiKlBpF,GACF6B,IAFE,yBAGF5F,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,QuBvKL,OACf0F,EADe,OAErBiP,EAAmBjP,EAAI8C,QAFF,2CAAH,qDAKtB1K,qBAAU,WACN8W,MACD,IAlBgB,MAoBe/X,mBAAS,IApBxB,mBAoBZmW,EApBY,KAoBD6B,EApBC,KAsBbC,EAAU,yCAAG,6BAAA9L,EAAA,sEACG/B,KADH,OACTvB,EADS,OAEfmP,EAAanP,EAAI8C,QAFF,2CAAH,qDAKhB1K,qBAAU,WACNgX,MACD,IAEH,IAAMjC,EAAgBpI,sBAAW,wBAAC,6BAAAzB,EAAA,sEACZhE,GAAaC,GADD,OAEX,gBADbS,EADwB,QAEtBL,QACJoP,EAAQ/O,EAAI8O,MACZD,EAAY7O,EAAI8C,UAEhBiM,EAAQ,CAAEtP,UAAW,GAAID,QAAS,IAClCqP,EAAY,IACZ3J,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YAAa6D,EAAI/G,SAA2B,KAAhB+G,EAAI/G,QAAiB+G,EAAI/G,QAAU,oDAVzC,2CAa/B,CAACsG,EAAQ1C,IAEZzE,qBAAU,WACN+U,MACD,CAACA,IAEJ/U,qBAAU,WACDuM,GACDqK,EAAU,MAEf,CAACrK,IAEJ,IAAM0K,EAAY,yCAAG,WAAOxS,GAAP,UAAAyG,EAAA,sDACjBgM,KAAMC,QAAQ,CACV7U,MAAO,oBACPxB,QAAS,mFACT+M,OAAQ,mBACRC,WAAY,WACZH,KALU,WAMN,IAAM/F,EAAM,IAAInB,SAAQ,SAAC2Q,EAAS1Q,GAC9B0Q,EAAQhP,GAAW3D,EAAKb,QACzBzB,OAAM,kBAAM9B,QAAQC,IAAI,mBAC3BmG,QAAQ2Q,QAAQxP,GAAK7F,MAAK,SAACoM,GACP,cAAZA,EAAE5G,QACFuF,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAa,oDAEjBgR,KAEAjI,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YAAaoK,EAAEtN,cAK/B+M,SAxBU,eADG,2CAAH,sDA6BZyJ,EAAU,CACZ,CACI/U,MAAO,IACPgV,OAAQ,SAACC,EAAMC,EAAQhY,GAAf,OAAyB,uBAAG4D,QAAS,kBAAMqU,EAAWD,KAAUhY,EAAQ,KAEpF,CACI8C,MAAO,SACPoV,UAAW,YACX3W,IAAK,YACLuW,OAAQ,SAACC,EAAMC,GAAP,OAAkB,uBAAGpU,QAAS,kBAAMqU,EAAWD,KAAUD,KAErE,CACIjV,MAAO,QACPoV,UAAW,QACX3W,IAAK,QACLuD,MAAO,MACPgT,OAAQ,SAACC,GAAD,OAAU,uBAAGrU,MAAO,CAAEyU,UAAW,eAAiBJ,KAE9D,CACIjV,MAAO,MACPoV,UAAW,QACX3W,IAAK,QACLuD,MAAO,MACPgT,OAAQ,SAACC,GAAD,OAAU,2BnBrHb,OADWlJ,EmBsHkBkJ,GnBpH/BlJ,EAEIuB,GAAiBvB,GAChBwB,QAAQ,wBAAyB,aAL1B,IAACxB,ImBwHpB,CACI/L,MAAO,yBACPoV,UAAW,UACX3W,IAAK,UACLuD,MAAO,MACPgT,OAAQ,SAACC,GAAD,OAAU,uBAAGrU,MAAO,CAAEyU,UAAW,eAAiBJ,KAE9D,CACIjV,MAAO,qBACPvB,IAAK,SACL2W,UAAW,SACXJ,OAAQ,SAAC/P,GAAD,OACJ,kBAAC,KAAD,CAAKpD,MAAiB,UAAVoD,EAAqB,UAAsB,WAAVA,EAAsB,WAAa,MAAOxG,IAAKwG,GACvFA,KAIb,CACIjF,MAAO,oBACPvB,IAAK,OACL2W,UAAW,OACXJ,OAAQ,SAAChQ,GAAD,OACJ,kBAAC,KAAD,CACInD,MACY,SAARmD,EACM,UACQ,cAARA,EACA,WACQ,WAARA,EACA,SACQ,eAARA,EACA,SACQ,kBAARA,EACA,OACA,UAEVvG,IAAKuG,GACJA,KAIb,CACIhF,MAAO,eACPvB,IAAK,aACL2W,UAAW,aACXJ,OAAQ,SAACjC,GAAD,OAAgB,6BAAMA,EAAaA,EAAW7X,KAAO,MAEpD,eAAbiH,EAAK6C,KACC,CACIhF,MAAO,gBACPvB,IAAK,OACL2W,UAAW,OACXpT,MAAO,MACPgT,OAAQ,SAACrU,GAAD,OACJ,kBAAC,KAAD,CAAKkB,MAAe,aAARlB,EAAsB,MAAgB,WAARA,EAAoB,OAAiB,aAARA,EAAsB,QAAkB,aAARA,EAAsB,aAAe,SAAUlC,IAAKkC,GACtJA,KAIb,GACN,CACIX,MAAO,yBACPvB,IAAK,SACLuW,OAAQ,SAACC,EAAMC,GAAP,OACJ,kBAAC,WAAD,KACI,kBAAC,KAAD,CAAOxU,KAAK,SAASE,MAAO,CAAE8K,YAAa,KACvC,uBAAG5K,QAAS,kBAAM+L,EAAWqI,KAA7B,aAEJ,kBAAC,KAAD,CAAOxU,KAAK,UACR,uBAAGI,QAAS,kBAAM6T,EAAaO,KAA/B,aAIZlT,MAAO,QAQT6K,EAAa,SAACqI,GAChBlL,GAAW,GACX0I,EAAQ,UACR4B,EAAUY,EAAO5T,KAGf6T,EAAa,SAACD,GAChBlL,GAAW,GACX0I,EAAQ,UACR4B,EAAUY,EAAO5T,KAGrB,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAQmS,UAAWA,EAAWzJ,WAAYA,EAAYnF,OAAQA,EAAQ6N,QAASA,EAASC,gBAAiBA,EAAiBC,UAAWA,IACrI,kBAAC,KAAD,CACI0C,OAAO,KACPP,QAASA,EACTQ,WAAY,CACR7Y,MAAO0X,EAAKoB,YACZC,SAAUrB,EAAKrP,UACf4E,SAzBS,SAACxO,EAAOsa,GAC7BhC,EAAU,2BAAK5O,GAAN,IAAcC,QAAS3J,EAAQ,EAAG4J,UAAW0Q,OA0B9CnV,WAAYgC,IAEhB,kBAAC,GAAD,CAAW2H,QAASA,EAASzE,OAAQA,EAAQwE,WAAYA,EAAYyI,cAAeA,EAAexC,KAAMA,EAAMyC,QAASA,EAASC,gBAAiBA,EAAiBC,UAAWA,M,sLChO1L,IAQe8C,GARajb,IAAOC,IAAV,MCIjB6X,GAAWC,KAAXD,OAiOOoD,GA/NS,SAAC,GAA+E,IAA7EpP,EAA4E,EAA5EA,aAAcyD,EAA8D,EAA9DA,WAAYC,EAAkD,EAAlDA,QAAS2L,EAAyC,EAAzCA,oBAAqB3F,EAAoB,EAApBA,KAAMyC,EAAc,EAAdA,QAAc,EAC/DjW,mBAAS,IADsD,mBAC5FsW,EAD4F,KAChF8C,EADgF,OAErEpZ,mBAAS,IAF4D,mBAE5F8B,EAF4F,KAEnF4L,EAFmF,KAG7F0I,EAAYtG,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKA,QAH+C,EAIzE1F,mBAAS,IAJgE,mBAI5FuD,EAJ4F,KAIrF8S,EAJqF,KAKnGpV,qBAAU,WACDuM,GACD4L,EAAc,CACVlV,KAAM,sCAGf,CAACsJ,IAEJvM,qBAAU,WAEFoV,EADQ,UAAR7C,EACS,gCACM,UAARA,EACE,kCAEA,+BAEd,CAACA,IAEJ,IAAM6F,EAAkBzL,sBAAW,wBAAC,6BAAAzB,EAAA,+EAEVtC,GAAcC,GAFJ,OAGT,gBADbjB,EAFsB,QAGpBL,QACJ4Q,EAAcvQ,EAAI8C,QAJM,uGAOjC,CAAC7B,IAEJ7I,qBAAU,WACF6I,EACAuP,IAEAD,EAAc,MAEnB,CAACC,EAAiBD,IAErB,IAAMvL,EAAU,yCAAG,mCAAA1B,EAAA,yDACXtD,EAAM,GACLiF,IAFU,oDAKTwL,EAAiBC,IACnBvU,EAAc,IACd8E,GAAgC,IAAhBA,EAPL,wBAQXwP,EAAezU,GAAKiF,EART,SzBmGUb,EyB1FQqQ,EzB2F9BvS,GACFmC,MADE,qBACkBD,EAAKpE,IAAMoE,GAC/BjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,QyB1GX,OASX0F,EATW,OAUX7D,EAAc,uCAVH,yCAYC+E,GAAiBuP,GAZlB,QAYXzQ,EAZW,OAaX7D,EAAc,sCAbH,QAeI,eAAf6D,EAAIL,QACJ2Q,IACApL,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAaA,IAEjBkJ,MAEIC,EAAe,GAEfA,EADAtF,EAAI/G,SAA0B,IAAf+G,EAAI/G,QACJ+G,EAAI/G,QAEJ+G,EAAI8C,OAEvBoC,KAAa1K,MAAM,CACfvB,QAAS,GACTkD,YAAamJ,KA/BN,kCzBmGS,IAAClF,IyBnGV,OAAH,qDAoCV6E,EAAeF,uBAAY,WAC7B,IAAIQ,GAAS,EACb,MAA+B,qBAApBkI,EAAW7X,MAA4C,KAApB6X,EAAW7X,MACrD2P,GAAS,EACTV,EAAW,CACPhP,MAAO,gCACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAE2B,qBAA3BkI,EAAWtR,aAA0D,KAA3BsR,EAAWtR,aAC5DoJ,GAAS,EACTV,EAAW,CACPhP,MAAO,uCACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEJA,KAGLmL,EAAsB,WACxB,IAAIpW,EAAO,GAQX,MAPc,CAAC,OAAQ,eACfjC,SAAQ,SAACsN,GACT8H,EAAW9H,IAAmC,IAAvB8H,EAAW9H,KAClCrL,EAAKqL,GAAW8H,EAAW9H,OAGnCrL,EAAKe,KAAOgM,aAAauG,QAAQ,gBAC1BtT,GAGL+K,EAAmB,WACrBkL,EAAc,IACdnD,EAAQ,IACR1I,GAAW,IA6Cf,OAvBAtM,qBAAU,WACFa,GAAsB,IAAXA,IACS,SAAhBA,EAAQoC,MACR6J,KAAa1K,MAAM,CACfvB,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAazL,QAAQ,CACjBR,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAa7L,QAAQ,CACjBJ,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,WAIlC,CAACoD,IAGA,kBAAC,KAAD,CAAO0L,QAASA,EAASjK,MAAOA,EAAOqL,KAAMf,EAAYgB,SAAUX,EAAkBY,OAAO,WAAMC,WAAW,YACzG,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACvD,2BAAOC,QAAQ,IAAf,kBACW,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEX,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVnO,UAAU,YACV8J,YAAY,SACZzQ,MAAK,OAAE4X,QAAF,IAAEA,OAAF,EAAEA,EAAY7X,KACnByO,SAAU,SAACkC,GAAD,OACNgK,EAAc,2BACP9C,GADM,IAET7X,KAAM2Q,EAAEC,OAAO3Q,aAK/B,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,WAAW0F,MAAO,CAAEoB,MAAO,QACvC,2BAAO2J,QAAQ,IAAf,iBACU,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEV,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVnO,UAAU,YACVnB,KAAK,OACLiL,YAAY,gBACZzQ,MAAK,OAAE4X,QAAF,IAAEA,OAAF,EAAEA,EAAYtR,YACnBkI,SAAU,SAACkC,GAAD,OACNgK,EAAc,2BACP9C,GADM,IAETtR,YAAaoK,EAAEC,OAAO3Q,cAM1C,kBAAC,IAAD,CAAKsQ,OAAQ,CAAC,GAAI,KACL,UAARwE,GACG,kBAAC,KAAKzP,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACvD,2BAAOC,QAAQ,IAAf,qBACA,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACV9U,MAAO4X,EAAWkD,WAAa9K,KAAM,OAAC4H,QAAD,IAACA,OAAD,EAACA,EAAYkD,WAAY,cAAgB,GAC9ErV,MAAO,CAAEoB,MAAO,QAChBoJ,OAAQ,gBAInByH,GAA+B,eAAlBA,EAAU7N,MACpB,kBAAC,KAAKxE,KAAN,CAAWtF,KAAK,QACZ,2BAAOyQ,QAAQ,IAAf,kBA/FpB,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACVnO,UAAU,aACV3G,MAAK,OAAE4X,QAAF,IAAEA,OAAF,EAAEA,EAAYpS,KACnBgJ,SAAU,SAACxO,GAAD,OAAW0a,EAAc,2BAAK9C,GAAN,IAAkBpS,KAAMxF,EAAO2J,QAAS,MAC1EsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,OAAQqR,SAAU,MAEjC/P,EAAMgN,KAAI,SAAC3P,EAAMzD,GACd,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOwF,EAAK0C,MAC3B1C,EAAKzF,e,WCnItBqX,GAAWC,KAAXD,OACAe,GAAWC,KAAXD,OAmGOE,GAjGA,SAAC,GAAgD,IAA9C3O,EAA6C,EAA7CA,OAAQ4O,EAAqC,EAArCA,UAAWzJ,EAA0B,EAA1BA,WAAY0I,EAAc,EAAdA,QACvCvQ,EAAOoK,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKA,QAuC/C,OACI,kBAAC,WAAD,KACI,kBAAC,IAAD,CAAKsJ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,IAAX,6BACA,kBAAC,KAAD,CAAK2B,KAAK,QAAQ3B,KAAM,EAAG4B,OAAQ,IAC/B,kBAAC,IAAD,CACIC,OAAK,EACLjT,KAAK,UACLG,QAAS,kBAZzB4R,EAAQ,eACR1I,GAAW,IAYKpJ,MAAO,CAAEoB,MAAO,IAAK6R,MAAO,UAE5B,kBAACqC,GAAA,EAAD,MANJ,0BAWR,kBAAC,IAAD,CAAKzK,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,GACP,kBAAC,GAAD,CACInG,YAAY,mBACZjC,SAAU,SAACkC,GAAD,OACN4H,EAAU,2BACH5O,GADE,IAELO,OAAQyG,EAAEC,OAAO3Q,MACjB2J,QAAS,SAKX,eAAb3C,EAAK6C,MACF,kBAAC,KAAD,CAAK+M,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,iBAnEhB,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAAOlE,KACdgJ,SAAU,SAACxO,GAAD,OACNsY,EAAU,2BAAK5O,GAAN,IAAclE,KAAMxF,EAAO2J,QAAS,MAEjDsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KAEnC,kBAAC,GAAD,CAAQtV,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCmI,EAAMgN,KAAI,SAAC3P,EAAMzD,GACd,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOwF,EAAK0C,MAC3B1C,EAAKzF,YA2DlB,kBAAC,IAAD,CAAKuQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,KAEf,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKA,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,OAAQ7B,OAAQ,WAC5C,kBAAC,IAAD,CACIvL,KAAK,UACLiT,OAAK,EACLhT,MAAO,CAAEuL,aAAc,IACvBrL,QA9DK,WACrB2S,EAAU,CACN3O,QAAS,EACTC,UAAW,GACXC,KAAM,kCACNC,OAAQ,kCACRG,OAAQ,OAoDA,aCuFL+Q,GA1KQ,WAAO,IAAD,EACK1Z,oBAAS,GADd,mBAClBwN,EADkB,KACTD,EADS,OAEGvN,mBAAS,CAAEsI,UAAW,GAAID,QAAS,IAFtC,mBAElBD,EAFkB,KAEV4O,EAFU,OAGmBhX,mBAAS,IAH5B,mBAGlB2Z,EAHkB,KAGFC,EAHE,OAID5Z,mBAAS,IAJR,mBAIlB2X,EAJkB,KAIZC,EAJY,OAKe5X,mBAAS,IALxB,mBAKlB8J,EALkB,KAKJ+P,EALI,KAMnBnU,EAAOoK,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKA,QANtB,EAOD1F,mBAAS,IAPR,mBAOlBwT,EAPkB,KAOZyC,EAPY,KASnBkD,EAAsBvL,sBAAW,wBAAC,6BAAAzB,EAAA,sEAClBvC,GAAmBxB,GADD,OAEjB,gBADbS,EAD8B,QAE5BL,QACJoP,EAAQ/O,EAAI8O,MACZiC,EAAkB/Q,EAAI8C,UAEtBiM,EAAQ,CAAEtP,UAAW,GAAID,QAAS,IAClCuR,EAAkB,IAClB7L,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YACI6D,EAAI/G,SAA2B,KAAhB+G,EAAI/G,QACb+G,EAAI/G,QACJ,oDAbkB,2CAgBrC,CAACsG,IAEJnH,qBAAU,WACNkY,MACD,CAACA,IAEJlY,qBAAU,WACDuM,GACDqM,EAAgB,MAErB,CAACrM,IAEJ,IAAM0K,EAAY,yCAAG,WAAO5B,GAAP,UAAAnK,EAAA,sDACjBgM,KAAMC,QAAQ,CACV7U,MAAO,oBACPxB,QAAS,wEACT+M,OAAQ,mBACRC,WAAY,WACZH,KALU,WAMN,IAAM/F,EAAM,IAAInB,SAAQ,SAAC2Q,EAAS1Q,GAC9B0Q,EAAQrO,GAAiBsM,EAAWzR,QACrCzB,OAAM,kBAAM9B,QAAQC,IAAI,mBAC3BmG,QAAQ2Q,QAAQxP,GAAK7F,MAAK,SAACoM,GACP,cAAZA,EAAE5G,QACFuF,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAa,yCAEjBmU,KAEApL,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YAAaoK,EAAEtN,cAK/B+M,SAxBU,eADG,2CAAH,sDA6BZyJ,EAAU,CACZ,CACI/U,MAAO,IACPgV,OAAQ,SAACC,EAAMC,EAAQhY,GAAf,OAAyB,uBAAG4D,QAAS,kBAAMqU,EAAWD,KAAUhY,EAAQ,KAEpF,CACI8C,MAAO,SACPoV,UAAW,OACX3W,IAAK,OACLuW,OAAQ,SAACC,EAAMC,GAAP,OAAkB,uBAAGpU,QAAS,kBAAMqU,EAAWD,KAAUD,KAErE,CAAEjV,MAAO,gBAASoV,UAAW,cAAe3W,IAAK,eACjD,CACIuB,MAAO,mBACPoV,UAAW,aACX3W,IAAK,aACLuW,OAAQ,SAACC,GAAD,OAAU,2BAAI9J,KAAO8J,GAAM7J,OAAO,uBAEjC,eAAbjJ,EAAK6C,KACC,CACIhF,MAAO,gBACPvB,IAAK,OACL2W,UAAW,OACXpT,MAAO,MACPgT,OAAQ,SAACrU,GAAD,OACJ,kBAAC,KAAD,CACIkB,MACY,aAARlB,EACM,MACQ,WAARA,EACA,OACQ,aAARA,EACA,QACA,SAEVlC,IAAKkC,GAEJA,KAIb,GACN,CACIX,MAAO,yBACPvB,IAAK,SACLuW,OAAQ,SAACC,EAAMC,GAAP,OACJ,kBAAC,WAAD,KACI,kBAAC,KAAD,CAAOxU,KAAK,SAASE,MAAO,CAAE8K,YAAa,KACvC,uBAAG5K,QAAS,kBAAM+L,EAAWqI,KAA7B,aAEJ,kBAAC,KAAD,CAAOxU,KAAK,UACR,uBAAGI,QAAS,kBAAM6T,EAAaO,KAA/B,aAIZlT,MAAO,QAQT6K,EAAa,SAACqI,GAChBlL,GAAW,GACX0I,EAAQ,UACR4D,EAAgBpB,EAAO5T,KAGrB6T,EAAa,SAACD,GAChBlL,GAAW,GACX0I,EAAQ,UACR4D,EAAgBpB,EAAO5T,KAG3B,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CACImS,UAAWA,EACXzJ,WAAYA,EACZnF,OAAQA,EACR6N,QAASA,IAEb,kBAAC,KAAD,CACI4C,OAAO,KACPP,QAASA,EACTQ,WAAY,CACR7Y,MAAO0X,EAAKoB,YACZC,SAAUrB,EAAKrP,UACf4E,SA9BS,SAACxO,EAAOsa,GAC7BhC,EAAU,2BAAK5O,GAAN,IAAcC,QAAS3J,EAAQ,EAAG4J,UAAW0Q,OA+B9CnV,WAAY8V,IAEhB,kBAAC,GAAD,CACInG,KAAMA,EACNyC,QAASA,EACTzI,QAASA,EACT1D,aAAcA,EACdyD,WAAYA,EACZ4L,oBAAqBA,M,sLC5KrC,IAQetD,GARO7X,IAAOC,IAAV,MCFN4I,GAAQ,CACjB,CACIpI,KAAM,oCACNmI,KAAM,aAEV,CACInI,KAAM,4CACNmI,KAAM,WAEV,CACInI,KAAM,oCACNmI,KAAM,aAEV,CACInI,KAAM,gDACNmI,KAAM,cAIDD,GAAW,CACpB,CACIlI,KAAM,gCACNmI,KAAM,SAEV,CACInI,KAAM,mBACNmI,KAAM,SAIDkT,GAAQ,CACjB,CACIrb,KAAM,QACNmI,KAAM,SAEV,CACInI,KAAM,kBACNmI,KAAM,aChCNkP,GAAWC,KAAXD,OACAe,GAAWC,KAAXD,OA2MOE,GAzMA,SAAC,GAAuC,IAArC3O,EAAoC,EAApCA,OAAQ4O,EAA4B,EAA5BA,UAChBtR,GAD4C,EAAjB6H,WACpBuC,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKA,SADG,EAEhB1F,mBAAS,IAFO,mBAE3C+Z,EAF2C,KAEhCC,EAFgC,KAI5CC,EAAU,yCAAG,6BAAA9N,EAAA,sE9BsLZpF,GACF6B,IAFE,mBAGF5F,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,Q8B5LX,OACT0F,EADS,OAEfmR,EAAanR,EAAI8C,QAFF,2CAAH,qDAKhB1K,qBAAU,WACNgZ,MACD,IAyHH,OACI,kBAAC,WAAD,KACI,kBAAC,IAAD,CAAKjL,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,IAAX,8CAEJ,kBAAC,IAAD,CAAKtG,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,GACP,kBAAC,GAAD,CACInG,YAAY,mBACZjC,SAAU,SAACkC,GAAD,OACN4H,EAAU,2BACH5O,GADE,IAELO,OAAQyG,EAAEC,OAAO3Q,MACjB2J,QAAS,SAKzB,kBAAC,KAAD,CAAKiN,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,sBAzIZ,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAAOI,OACd0E,SAAU,SAACxO,GAAD,OACNsY,EAAU,2BAAK5O,GAAN,IAAcI,OAAQ9J,EAAO2J,QAAS,MAEnDsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KAElC3Q,GAASkN,KAAI,SAACrL,EAAQ/H,GACnB,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO8J,EAAO5B,MAC7B4B,EAAO/J,WAkIhB,kBAAC,KAAD,CAAK6W,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,UA3HZ,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAAO3J,KACdyO,SAAU,SAACxO,GAAD,OACNsY,EAAU,2BAAK5O,GAAN,IAAc3J,KAAMC,EAAO2J,QAAS,MAEjDsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KAElCwC,GAAMjG,KAAI,SAACpV,EAAMgC,GACd,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOD,EAAKmI,MAC3BnI,EAAKA,YAqHlB,kBAAC,IAAD,CAAKuQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,4BA3FZ,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAAO+B,QAAU/B,EAAO+B,QAAU,kCACzCoN,YAAU,EACVC,iBAAiB,WACjBtK,SAAU,SAACxO,GAAD,OACNsY,EAAU,2BAAK5O,GAAN,IAAc+B,QAASzL,EAAO2J,QAAS,MAEpDsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KAElCyC,GACGA,EAAUlG,KAAI,SAACnO,EAAMjF,GACjB,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOgH,EAAKb,IAC3Ba,EAAK2I,gBAiFlB,kBAAC,KAAD,CAAKiH,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,uCA1EZ,kBAAC,KAAD,CACIgS,YAAU,EACVC,iBAAiB,WACjBnS,UAAU,aACV3G,MAAO0J,EAAO8B,UAAY9B,EAAO8B,UAAY,kCAC7CgD,SAAU,SAACxO,GAAD,OACNsY,EAAU,2BAAK5O,GAAN,IAAc8B,UAAWxL,EAAO2J,QAAS,MAEtDsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KAElCyC,GACGA,EAAUlG,KAAI,SAACnO,EAAMjF,GACjB,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOgH,EAAKb,IAC3Ba,EAAK2I,gBAgEJ,eAAb3I,EAAK6C,MACF,kBAAC,KAAD,CAAK+M,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,iBA5HhB,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAAOlE,KACdgJ,SAAU,SAACxO,GAAD,OACNsY,EAAU,2BAAK5O,GAAN,IAAclE,KAAMxF,EAAO2J,QAAS,MAEjDsO,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,KAElCzQ,GAAMgN,KAAI,SAAC3P,EAAMzD,GACd,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOwF,EAAK0C,MAC3B1C,EAAKzF,YAuHlB,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAK6W,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,OAAQ7B,OAAQ,WAC5C,kBAAC,IAAD,CACIvL,KAAK,UACLiT,OAAK,EACLhT,MAAO,CAAEuL,aAAc,IACvBrL,QAxEK,WACrB2S,EAAU,CACN3O,QAAS,EACTC,UAAW,GACX7J,KAAM,kCACN+J,OAAQ,kCACRtE,KAAM,kCACNyE,OAAQ,GACRwB,QAAS,KACTD,UAAW,SA2DH,aC/DLgQ,GA1HM,WAAO,IAAD,EACKla,mBAAS,CAAEsI,UAAW,GAAID,QAAS,IADxC,mBAChBD,EADgB,KACR4O,EADQ,OAEiBhX,mBAAS,IAF1B,mBAEhBma,EAFgB,KAEFC,EAFE,OAGCpa,mBAAS,IAHV,mBAGhB2X,EAHgB,KAGVC,EAHU,KAIjBlS,EAAOoK,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKA,QAEzC2U,EAAoBzM,sBAAW,wBAAC,6BAAAzB,EAAA,sEAChBlC,GAAiB7B,GADD,OAEf,gBADbS,EAD4B,QAE1BL,QACJoP,EAAQ/O,EAAI8O,MACZyC,EAAgBvR,EAAI8C,UAEpBiM,EAAQ,CAAEtP,UAAW,GAAID,QAAS,IAClC+R,EAAgB,IAChBrM,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YACI6D,EAAI/G,SAA2B,KAAhB+G,EAAI/G,QACb+G,EAAI/G,QACJ,oDAbgB,2CAgBnC,CAACsG,EAAQ1C,IAEZzE,qBAAU,WACNoZ,MACD,CAACA,IAEJ,IAAM/B,EAAU,CACZ,CACI/U,MAAO,IACPgV,OAAQ,SAACC,EAAMC,EAAQhY,GAAf,OAAyB,2BAAIA,EAAQ,KAEjD,CACI8C,MAAO,SACPoV,UAAW,OACX3W,IAAK,OACLuW,OAAQ,SAACC,GAAD,OAAU,2BAAIzH,GAAW+I,GAAO,OAAQtB,GAAM/Z,QAE1D,CACI8E,MAAO,gBACPoV,UAAW,cACX3W,IAAK,cACLuW,OAAQ,SAACC,GAAD,OAAU,uBAAGrU,MAAO,CAAEyU,UAAW,eAAiBJ,KAE9D,CACIjV,MAAO,2BACPoV,UAAW,OACX3W,IAAK,OACLuW,OAAQ,SAAC7S,GAAD,OAAU,2BAAIA,EAAOA,EAAK2I,UAAY,MAElD,CACI9K,MAAO,mCACPoV,UAAW,cACX3W,IAAK,cACLuW,OAAQ,SAAC7S,GAAD,OAAU,2BAAIA,EAAOA,EAAK2I,UAAY,MAElD,CACI9K,MAAO,mBACPoV,UAAW,aACX3W,IAAK,aACLuW,OAAQ,SAACC,GAAD,OAAU,2BAAI9J,KAAO8J,GAAM7J,OAAO,uBAEjC,eAAbjJ,EAAK6C,KACC,CACIhF,MAAO,gBACPvB,IAAK,OACL2W,UAAW,OACXpT,MAAO,MACPgT,OAAQ,SAACrU,GAAD,OACJ,kBAAC,KAAD,CACIkB,MACY,aAARlB,EACM,MACQ,WAARA,EACA,OACQ,aAARA,EACA,QACA,SAEVlC,IAAKkC,GAEJA,KAIb,GACN,CACIX,MAAO,qBACPvB,IAAK,SACL2W,UAAW,SACXJ,OAAQ,SAAC/P,GAAD,OACJ,kBAAC,KAAD,CACIpD,MAAiB,QAAVoD,EAAmB,UAAY,WACtCxG,IAAKwG,GAEJA,MAUjB,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAQwO,UAAWA,EAAW5O,OAAQA,IACtC,kBAAC,KAAD,CACIyQ,OAAO,KACPP,QAASA,EACTQ,WAAY,CACR7Y,MAAO0X,EAAKoB,YACZC,SAAUrB,EAAKrP,UACf4E,SAbS,SAACxO,EAAOsa,GAC7BhC,EAAU,2BAAK5O,GAAN,IAAcC,QAAS3J,EAAQ,EAAG4J,UAAW0Q,OAc9CnV,WAAYsW,M,sLC7H5B,IAQeG,GAROtc,IAAOC,IAAV,MCkQJsc,IAhQIxE,KAAXD,OAEU,SAAC,GAAmE,IAAjEvL,EAAgE,EAAhEA,OAAQgD,EAAwD,EAAxDA,WAAYC,EAA4C,EAA5CA,QAASgN,EAAmC,EAAnCA,cAAehH,EAAoB,EAApBA,KAAMyC,EAAc,EAAdA,QAAc,EACzDjW,mBAAS,IADgD,mBAC1EuI,EAD0E,KACpEkS,EADoE,OAEnDza,mBAAS,IAF0C,mBAE1E8B,EAF0E,KAEjE4L,EAFiE,OAGvD1N,mBAAS,IAH8C,mBAG1EuD,EAH0E,KAGnE8S,EAHmE,KAIjFpV,qBAAU,WACDuM,GACDiN,EAAQ,CACJvW,KAAM,sCAGf,CAACsJ,IAEJvM,qBAAU,WAEFoV,EADQ,UAAR7C,EACS,qCACM,UAARA,EACE,uCAEA,oCAEd,CAACA,IAEJ,IAAMkH,EAAY9M,sBAAW,wBAAC,6BAAAzB,EAAA,+EAEJ7B,GAAQC,GAFJ,OAGH,gBADb1B,EAFgB,QAGdL,QACJiS,EAAQ5R,EAAI8C,QAJM,uGAO3B,CAACpB,IAEJtJ,qBAAU,WACFsJ,EACAmQ,IAEAD,EAAQ,MAEb,CAACC,EAAWD,IAEf,IAAM5M,EAAU,yCAAG,mCAAA1B,EAAA,yDACXtD,EAAM,GACLiF,IAFU,oDAKT6M,EAAW1M,IACbjJ,EAAc,IACduF,GAAoB,IAAVA,EAPC,wBAQXoQ,EAAS9V,GAAK0F,EARH,SjC4OItB,EiCnOQ0R,EjCoOxB5T,GACFmC,MADE,eACYD,EAAKpE,IAAMoE,GACzBjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,QiCnPX,OASX0F,EATW,OAUX7D,EAAc,uCAVH,yCAYCwF,GAAWmQ,GAZZ,QAYX9R,EAZW,OAaX7D,EAAc,sCAbH,QAeI,eAAf6D,EAAIL,QACJgS,IACAzM,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAaA,IAEjBkJ,MAEIC,EAAe,GAEfA,EADAtF,EAAI/G,SAA0B,IAAf+G,EAAI/G,QACJ+G,EAAI/G,QAEJ+G,EAAI8C,OAEvBoC,KAAa1K,MAAM,CACfvB,QAAS,GACTkD,YAAamJ,KA/BN,kCjC4OG,IAAClF,IiC5OJ,OAAH,qDAoCV6E,EAAeF,uBAAY,WAC7B,IAAIQ,GAAS,EACb,MAAyB,qBAAd7F,EAAK9J,MAAsC,KAAd8J,EAAK9J,MACzC2P,GAAS,EACTV,EAAW,CACPhP,MAAO,gCACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEqB,qBAArB7F,EAAKvD,aAAoD,KAArBuD,EAAKvD,aAChDoJ,GAAS,EACTV,EAAW,CACPhP,MAAO,uCACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEc,qBAAd7F,EAAK3B,MAAsC,KAAd2B,EAAK3B,MACzCwH,GAAS,EACTV,EAAW,CACPhP,MAAO,iDACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEiB,qBAAjB7F,EAAKqS,SAA4C,KAAjBrS,EAAKqS,SAC5CxM,GAAS,EACTV,EAAW,CACPhP,MAAO,uEACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEP7F,EAAKqS,SAAW,GAChBxM,GAAS,EACTV,EAAW,CACPhP,MAAO,2EACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEJA,KAGLH,EAAgB,WAClB,IAAI9K,EAAO,GAOX,MANc,CAAC,OAAQ,cAAe,OAAQ,WACtCjC,SAAQ,SAACsN,GACTjG,EAAKiG,IAA6B,IAAjBjG,EAAKiG,KACtBrL,EAAKqL,GAAWjG,EAAKiG,OAGtBrL,GAGL+K,EAAmB,WACrBuM,EAAQ,IACRxE,EAAQ,IACR1I,GAAW,IA0Bf,OAvBAtM,qBAAU,WACFa,GAAsB,IAAXA,IACS,SAAhBA,EAAQoC,MACR6J,KAAa1K,MAAM,CACfvB,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAazL,QAAQ,CACjBR,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAa7L,QAAQ,CACjBJ,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,WAIlC,CAACoD,IAGA,kBAAC,KAAD,CAAO0L,QAASA,EAASjK,MAAOA,EAAOqL,KAAMf,EAAYgB,SAAUX,EAAkBY,OAAO,WAAMC,WAAW,YACzG,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACvD,2BAAOC,QAAQ,IAAf,kBACW,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEX,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVnO,UAAU,YACV8J,YAAY,SACZzQ,MAAK,OAAE6J,QAAF,IAAEA,OAAF,EAAEA,EAAM9J,KACbyO,SAAU,SAACkC,GAAD,OACNqL,EAAQ,2BACDlS,GADA,IAEH9J,KAAM2Q,EAAEC,OAAO3Q,aAK/B,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,WAAW0F,MAAO,CAAEoB,MAAO,QACvC,2BAAO2J,QAAQ,IAAf,iBACU,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEV,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVnO,UAAU,YACVnB,KAAK,OACLiL,YAAY,gBACZzQ,MAAK,OAAE6J,QAAF,IAAEA,OAAF,EAAEA,EAAMvD,YACbkI,SAAU,SAACkC,GAAD,OACNqL,EAAQ,2BACDlS,GADA,IAEHvD,YAAaoK,EAAEC,OAAO3Q,cAM1C,kBAAC,IAAD,CAAKsQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,WAAW0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KAC3D,2BAAOC,QAAQ,IAAf,sBACa,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEb,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVnO,UAAU,YACVnB,KAAK,OACLiL,YAAY,qBACZzQ,MAAK,OAAE6J,QAAF,IAAEA,OAAF,EAAEA,EAAMqS,QACb1N,SAAU,SAACkC,GAAD,OACNqL,EAAQ,2BACDlS,GADA,IAEHqS,QAASxL,EAAEC,OAAO3Q,aAKlC,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,QACnC,2BAAO2J,QAAQ,IAAf,4BACA,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACVnO,UAAU,YACVnB,KAAK,OACLiL,YAAY,0BACZzQ,MAAK,OAAE6J,QAAF,IAAEA,OAAF,EAAEA,EAAM3B,KACbsG,SAAU,SAACkC,GAAD,OACNqL,EAAQ,2BACDlS,GADA,IAEH3B,KAAMwI,EAAEC,OAAO3Q,cAMnC,kBAAC,IAAD,CAAKsQ,OAAQ,CAAC,GAAI,KACL,UAARwE,GACG,kBAAC,KAAKzP,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,QACnC,2BAAO2J,QAAQ,IAAf,qBACA,kBAAC,KAAD,CAAYwH,SAAkB,UAARlD,EAAkB9U,MAAO6J,EAAKiR,WAAa9K,KAAM,OAACnG,QAAD,IAACA,OAAD,EAACA,EAAMiR,WAAY,cAAgB,GAAIrV,MAAO,CAAEoB,MAAO,QAAUoJ,OAAQ,qBCtPpKkI,IADWd,KAAXD,OACWgB,KAAXD,QAkEOE,GAhEA,SAAC,GAAgD,IAA9C3O,EAA6C,EAA7CA,OAAQ4O,EAAqC,EAArCA,UAAWzJ,EAA0B,EAA1BA,WAAY0I,EAAc,EAAdA,QAe7C,OACI,kBAAC,WAAD,KACI,kBAAC,IAAD,CAAKjH,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,IAAX,kCACA,kBAAC,KAAD,CAAK2B,KAAK,QAAQ3B,KAAM,EAAG4B,OAAQ,IAC/B,kBAAC,IAAD,CACIC,OAAK,EACLjT,KAAK,UACLG,QAAS,kBAZzB4R,EAAQ,eACR1I,GAAW,IAYKpJ,MAAO,CAAEoB,MAAO,IAAK6R,MAAO,UAE5B,kBAACqC,GAAA,EAAD,MANJ,+BAWR,kBAAC,IAAD,CAAKzK,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,GACP,kBAAC,GAAD,CACInG,YAAY,mBACZjC,SAAU,SAACkC,GAAD,OACN4H,EAAU,2BACH5O,GADE,IAELO,OAAQyG,EAAEC,OAAO3Q,MACjB2J,QAAS,UAM7B,kBAAC,IAAD,CAAK2G,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,KAEf,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKA,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,OAAQ7B,OAAQ,WAC5C,kBAAC,IAAD,CACIvL,KAAK,UACLiT,OAAK,EACLhT,MAAO,CAAEuL,aAAc,IACvBrL,QApDK,WACrB2S,EAAU,CACN3O,QAAS,EACTC,UAAW,GACXK,OAAQ,OA4CA,aCkGLkS,GAnJE,WAAO,IAAD,EACW7a,oBAAS,GADpB,mBACZwN,EADY,KACHD,EADG,OAESvN,mBAAS,CAAEsI,UAAW,GAAID,QAAS,IAF5C,mBAEZD,EAFY,KAEJ4O,EAFI,OAGahX,mBAAS,IAHtB,mBAGZ8a,EAHY,KAGFC,EAHE,OAIK/a,mBAAS,IAJd,mBAIZ2X,EAJY,KAINC,EAJM,OAKS5X,mBAAS,IALlB,mBAKZuK,EALY,KAKJyQ,EALI,OAMKhb,mBAAS,IANd,mBAMZwT,EANY,KAMNyC,EANM,KAQbuE,EAAgB5M,sBAAW,wBAAC,6BAAAzB,EAAA,sEACZ9B,GAAajC,GADD,OAEX,gBADbS,EADwB,QAEtBL,QACJoP,EAAQ/O,EAAI8O,MACZoD,EAAYlS,EAAI8C,UAEhBiM,EAAQ,CAAEtP,UAAW,GAAID,QAAS,IAClC0S,EAAY,IACZhN,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YACI6D,EAAI/G,SAA2B,KAAhB+G,EAAI/G,QACb+G,EAAI/G,QACJ,oDAbY,2CAgB/B,CAACsG,IAEJnH,qBAAU,WACNuZ,MACD,CAACA,IAEJvZ,qBAAU,WACDuM,GACDwN,EAAU,MAEf,CAACxN,IAEJ,IAAM0K,EAAY,yCAAG,WAAO3P,GAAP,UAAA4D,EAAA,sDACjBgM,KAAMC,QAAQ,CACV7U,MAAO,oBACPxB,QAAS,6EACT+M,OAAQ,mBACRC,WAAY,WACZH,KALU,WAMN,IAAM/F,EAAM,IAAInB,SAAQ,SAAC2Q,EAAS1Q,GAC9B0Q,EAAQ5N,GAAWlC,EAAK1D,QACzBzB,OAAM,kBAAM9B,QAAQC,IAAI,mBAC3BmG,QAAQ2Q,QAAQxP,GAAK7F,MAAK,SAACoM,GACP,cAAZA,EAAE5G,QACFuF,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAa,8CAEjBwV,KAEAzM,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YAAaoK,EAAEtN,cAK/B+M,SAxBU,eADG,2CAAH,sDA6BZyJ,EAAU,CACZ,CACI/U,MAAO,IACPgV,OAAQ,SAACC,EAAMC,EAAQhY,GAAf,OAAyB,uBAAG4D,QAAS,kBAAMqU,EAAWD,KAAUhY,EAAQ,KAEpF,CACI8C,MAAO,SACPoV,UAAW,OACX3W,IAAK,OACLuW,OAAQ,SAACC,EAAMC,GAAP,OAAkB,uBAAGpU,QAAS,kBAAMqU,EAAWD,KAAUD,KAErE,CAAEjV,MAAO,gBAASoV,UAAW,cAAe3W,IAAK,eACjD,CAAEuB,MAAO,0BAAcoV,UAAW,OAAQ3W,IAAK,QAC/C,CAAEuB,MAAO,qBAAYoV,UAAW,UAAW3W,IAAK,WAChD,CACIuB,MAAO,mBACPoV,UAAW,aACX3W,IAAK,aACLuW,OAAQ,SAACC,GAAD,OAAU,2BAAI9J,KAAO8J,GAAM7J,OAAO,uBAE9C,CACIpL,MAAO,yBACPvB,IAAK,SACLuW,OAAQ,SAACC,EAAMC,GAAP,OACJ,kBAAC,WAAD,KACI,kBAAC,KAAD,CAAOxU,KAAK,SAASE,MAAO,CAAE8K,YAAa,KACvC,uBAAG5K,QAAS,kBAAM+L,EAAWqI,KAA7B,aAEJ,kBAAC,KAAD,CAAOxU,KAAK,UACR,uBAAGI,QAAS,kBAAM6T,EAAaO,KAA/B,aAIZlT,MAAO,QAQT6K,EAAa,SAACqI,GAChBlL,GAAW,GACX0I,EAAQ,UACR+E,EAAUvC,EAAO5T,KAGf6T,EAAa,SAACD,GAChBlL,GAAW,GACX0I,EAAQ,UACR+E,EAAUvC,EAAO5T,KAGrB,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CACImS,UAAWA,EACXzJ,WAAYA,EACZnF,OAAQA,EACR6N,QAASA,IAEb,kBAAC,KAAD,CACI4C,OAAO,KACPP,QAASA,EACTQ,WAAY,CACR7Y,MAAO0X,EAAKoB,YACZC,SAAUrB,EAAKrP,UACf4E,SA9BS,SAACxO,EAAOsa,GAC7BhC,EAAU,2BAAK5O,GAAN,IAAcC,QAAS3J,EAAQ,EAAG4J,UAAW0Q,OA+B9CnV,WAAYiX,IAEhB,kBAAC,GAAD,CACItH,KAAMA,EACNyC,QAASA,EACTzI,QAASA,EACTjD,OAAQA,EACRgD,WAAYA,EACZiN,cAAeA,M,sLCpJ/B,IAQeS,GARajd,IAAOC,IAAV,MC4NVid,IA1NInF,KAAXD,OAEgB,SAAC,GAA+E,IAA7ElL,EAA4E,EAA5EA,aAAc2C,EAA8D,EAA9DA,WAAYC,EAAkD,EAAlDA,QAAS2N,EAAyC,EAAzCA,oBAAqB3H,EAAoB,EAApBA,KAAMyC,EAAc,EAAdA,QAAc,EAC/DjW,mBAAS,IADsD,mBAC5Fob,EAD4F,KAChFC,EADgF,OAErErb,mBAAS,IAF4D,mBAE5F8B,EAF4F,KAEnF4L,EAFmF,OAGzE1N,mBAAS,IAHgE,mBAG5FuD,EAH4F,KAGrF8S,EAHqF,KAInGpV,qBAAU,WACDuM,GACD6N,EAAc,CACVnX,KAAM,sCAGf,CAACsJ,IAEJvM,qBAAU,WAEFoV,EADQ,UAAR7C,EACS,8BACM,UAARA,EACE,gCAEA,6BAEd,CAACA,IAEJ,IAAM8H,EAAkB1N,sBAAW,wBAAC,6BAAAzB,EAAA,+EAEVxB,GAAcC,GAFJ,OAGT,gBADb/B,EAFsB,QAGpBL,QACJ6S,EAAcxS,EAAI8C,QAJM,uGAOjC,CAACf,IAEJ3J,qBAAU,WACF2J,EACA0Q,IAEAD,EAAc,MAEnB,CAACC,EAAiBD,IAErB,IAAMxN,EAAU,yCAAG,mCAAA1B,EAAA,yDACXtD,EAAM,GACLiF,IAFU,oDAKT6M,EAAW1M,IACbjJ,EAAc,IACd4F,GAAgC,IAAhBA,EAPL,wBAQX+P,EAAS9V,GAAK+F,EARH,SrCuSU3B,EqC9RQ0R,ErC+R9B5T,GACFmC,MADE,qBACkBD,EAAKpE,IAAMoE,GAC/BjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,QqC9SX,OASX0F,EATW,OAUX7D,EAAc,uCAVH,yCAYC6F,GAAiB8P,GAZlB,QAYX9R,EAZW,OAaX7D,EAAc,sCAbH,QAeI,eAAf6D,EAAIL,QACJ2S,IACApN,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAaA,IAEjBkJ,MAEIC,EAAe,GAEfA,EADAtF,EAAI/G,SAA0B,IAAf+G,EAAI/G,QACJ+G,EAAI/G,QAEJ+G,EAAI8C,OAEvBoC,KAAa1K,MAAM,CACfvB,QAAS,GACTkD,YAAamJ,KA/BN,kCrCuSS,IAAClF,IqCvSV,OAAH,qDAoCV6E,EAAeF,uBAAY,WAC7B,IAAIQ,GAAS,EACb,MAA+B,qBAApBgN,EAAW3c,MAA4C,KAApB2c,EAAW3c,MACrD2P,GAAS,EACTV,EAAW,CACPhP,MAAO,gCACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAE2B,qBAA3BgN,EAAWpW,aAA0D,KAA3BoW,EAAWpW,aAC5DoJ,GAAS,EACTV,EAAW,CACPhP,MAAO,uCACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEwB,qBAAxBgN,EAAWpQ,UAAoD,KAAxBoQ,EAAWpQ,UACzDoD,GAAS,EACTV,EAAW,CACPhP,MAAO,0CACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEJA,KAGLH,EAAgB,WAClB,IAAI9K,EAAO,GAOX,MANc,CAAC,OAAQ,cAAe,YAC9BjC,SAAQ,SAACsN,GACT4M,EAAW5M,IAAmC,IAAvB4M,EAAW5M,KAClCrL,EAAKqL,GAAW4M,EAAW5M,OAG5BrL,GAGL+K,EAAmB,WACrBmN,EAAc,IACdpF,EAAQ,IACR1I,GAAW,IA0Bf,OAvBAtM,qBAAU,WACFa,GAAsB,IAAXA,IACS,SAAhBA,EAAQoC,MACR6J,KAAa1K,MAAM,CACfvB,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAazL,QAAQ,CACjBR,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAa7L,QAAQ,CACjBJ,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,WAIlC,CAACoD,IAGA,kBAAC,KAAD,CAAO0L,QAASA,EAASjK,MAAOA,EAAOqL,KAAMf,EAAYgB,SAAUX,EAAkBY,OAAO,WAAMC,WAAW,YACzG,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACvD,2BAAOC,QAAQ,IAAf,UACQ,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAER,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVnO,UAAU,YACV8J,YAAY,SACZzQ,MAAK,OAAE0c,QAAF,IAAEA,OAAF,EAAEA,EAAY3c,KACnByO,SAAU,SAACkC,GAAD,OACNiM,EAAc,2BACPD,GADM,IAET3c,KAAM2Q,EAAEC,OAAO3Q,aAK/B,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,WAAW0F,MAAO,CAAEoB,MAAO,QACvC,2BAAO2J,QAAQ,IAAf,iBACU,0BAAM/K,MAAO,CAAEiB,MAAO,QAAtB,MAEV,kBAAC,KAAD,CACIsR,SAAkB,UAARlD,EACVnO,UAAU,YACVnB,KAAK,OACLiL,YAAY,gBACZzQ,MAAK,OAAE0c,QAAF,IAAEA,OAAF,EAAEA,EAAYpW,YACnBkI,SAAU,SAACkC,GAAD,OACNiM,EAAc,2BACPD,GADM,IAETpW,YAAaoK,EAAEC,OAAO3Q,cAM1C,kBAAC,IAAD,CAAKsQ,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,aAAa0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KAC7D,2BAAOC,QAAQ,IAAf,qBACA,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACVnO,UAAU,YACVnB,KAAK,OACLiL,YAAY,mBACZzQ,MAAK,OAAE0c,QAAF,IAAEA,OAAF,EAAEA,EAAYpQ,SACnBkC,SAAU,SAACkC,GAAD,OACNiM,EAAc,2BACPD,GADM,IAETpQ,SAAUoE,EAAEC,OAAO3Q,aAK1B,UAAR8U,GACG,kBAAC,KAAKzP,KAAN,CAAWtF,KAAK,aAAa0F,MAAO,CAAEoB,MAAO,QACzC,2BAAO2J,QAAQ,IAAf,qBACA,kBAAC,KAAD,CAAYwH,SAAkB,UAARlD,EAAkB9U,MAAO0c,EAAW5B,WAAa9K,KAAM,OAAC0M,QAAD,IAACA,OAAD,EAACA,EAAY5B,WAAY,cAAgB,GAAIrV,MAAO,CAAEoB,MAAO,QAAUoJ,OAAQ,qBChNhLkI,IADWd,KAAXD,OACWgB,KAAXD,QAkEOE,GAhEA,SAAC,GAAgD,IAA9C3O,EAA6C,EAA7CA,OAAQ4O,EAAqC,EAArCA,UAAWzJ,EAA0B,EAA1BA,WAAY0I,EAAc,EAAdA,QAe7C,OACI,kBAAC,WAAD,KACI,kBAAC,IAAD,CAAKjH,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,IAAX,2BACA,kBAAC,KAAD,CAAK2B,KAAK,QAAQ3B,KAAM,EAAG4B,OAAQ,IAC/B,kBAAC,IAAD,CACIC,OAAK,EACLjT,KAAK,UACLG,QAAS,kBAZzB4R,EAAQ,eACR1I,GAAW,IAYKpJ,MAAO,CAAEoB,MAAO,IAAK6R,MAAO,UAE5B,kBAACqC,GAAA,EAAD,MANJ,wBAWR,kBAAC,IAAD,CAAKzK,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,GACP,kBAAC,GAAD,CACInG,YAAY,mBACZjC,SAAU,SAACkC,GAAD,OACN4H,EAAU,2BACH5O,GADE,IAELO,OAAQyG,EAAEC,OAAO3Q,MACjB2J,QAAS,UAM7B,kBAAC,IAAD,CAAK2G,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,KAEf,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKA,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,OAAQ7B,OAAQ,WAC5C,kBAAC,IAAD,CACIvL,KAAK,UACLiT,OAAK,EACLhT,MAAO,CAAEuL,aAAc,IACvBrL,QApDK,WACrB2S,EAAU,CACN3O,QAAS,EACTC,UAAW,GACXK,OAAQ,OA4CA,aCiGLkS,GAlJE,WAAO,IAAD,EACW7a,oBAAS,GADpB,mBACZwN,EADY,KACHD,EADG,OAESvN,mBAAS,CAAEsI,UAAW,GAAID,QAAS,IAF5C,mBAEZD,EAFY,KAEJ4O,EAFI,OAGyBhX,mBAAS,IAHlC,mBAGZub,EAHY,KAGIC,EAHJ,OAIKxb,mBAAS,IAJd,mBAIZ2X,EAJY,KAINC,EAJM,OAKqB5X,mBAAS,IAL9B,mBAKZ4K,EALY,KAKE6Q,EALF,OAMKzb,mBAAS,IANd,mBAMZwT,EANY,KAMNyC,EANM,KAQbkF,EAAsBvN,sBAAW,wBAAC,6BAAAzB,EAAA,sEAClBzB,GAAmBtC,GADD,OAEjB,gBADbS,EAD8B,QAE5BL,QACJoP,EAAQ/O,EAAI8O,MACZ6D,EAAkB3S,EAAI8C,UAEtBiM,EAAQ,CAAEtP,UAAW,GAAID,QAAS,IAClCmT,EAAkB,IAClBzN,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YACI6D,EAAI/G,SAA2B,KAAhB+G,EAAI/G,QACb+G,EAAI/G,QACJ,oDAbkB,2CAgBrC,CAACsG,IAEJnH,qBAAU,WACNka,MACD,CAACA,IAEJla,qBAAU,WACDuM,GACDiO,EAAgB,MAErB,CAACjO,IAEJ,IAAM0K,EAAY,yCAAG,WAAO3P,GAAP,UAAA4D,EAAA,sDACjBgM,KAAMC,QAAQ,CACV7U,MAAO,oBACPxB,QAAS,sEACT+M,OAAQ,mBACRC,WAAY,WACZH,KALU,WAMN,IAAM/F,EAAM,IAAInB,SAAQ,SAAC2Q,EAAS1Q,GAC9B0Q,EAAQvN,GAAiBvC,EAAK1D,QAC/BzB,OAAM,kBAAM9B,QAAQC,IAAI,mBAC3BmG,QAAQ2Q,QAAQxP,GAAK7F,MAAK,SAACoM,GACP,cAAZA,EAAE5G,QACFuF,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAa,uCAEjBmW,KAEApN,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YAAaoK,EAAEtN,cAK/B+M,SAxBU,eADG,2CAAH,sDA6BZyJ,EAAU,CACZ,CACI/U,MAAO,IACPgV,OAAQ,SAACC,EAAMC,EAAQhY,GAAf,OAAyB,uBAAG4D,QAAS,kBAAMqU,EAAWD,KAAUhY,EAAQ,KAEpF,CACI8C,MAAO,SACPoV,UAAW,OACX3W,IAAK,OACLuW,OAAQ,SAACC,EAAMC,GAAP,OAAkB,uBAAGpU,QAAS,kBAAMqU,EAAWD,KAAUD,KAErE,CAAEjV,MAAO,gBAASoV,UAAW,cAAe3W,IAAK,eACjD,CAAEuB,MAAO,mBAAcoV,UAAW,WAAY3W,IAAK,YACnD,CACIuB,MAAO,mBACPoV,UAAW,aACX3W,IAAK,aACLuW,OAAQ,SAACC,GAAD,OAAU,2BAAI9J,KAAO8J,GAAM7J,OAAO,uBAE9C,CACIpL,MAAO,yBACPvB,IAAK,SACLuW,OAAQ,SAACC,EAAMC,GAAP,OACJ,kBAAC,WAAD,KACI,kBAAC,KAAD,CAAOxU,KAAK,SAASE,MAAO,CAAE8K,YAAa,KACvC,uBAAG5K,QAAS,kBAAM+L,EAAWqI,KAA7B,aAEJ,kBAAC,KAAD,CAAOxU,KAAK,UACR,uBAAGI,QAAS,kBAAM6T,EAAaO,KAA/B,aAIZlT,MAAO,QAQT6K,EAAa,SAACqI,GAChBlL,GAAW,GACX0I,EAAQ,UACRwF,EAAgBhD,EAAO5T,KAGrB6T,EAAa,SAACD,GAChBlL,GAAW,GACX0I,EAAQ,UACRwF,EAAgBhD,EAAO5T,KAG3B,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CACImS,UAAWA,EACXzJ,WAAYA,EACZnF,OAAQA,EACR6N,QAASA,IAEb,kBAAC,KAAD,CACI4C,OAAO,KACPP,QAASA,EACTQ,WAAY,CACR7Y,MAAO0X,EAAKoB,YACZC,SAAUrB,EAAKrP,UACf4E,SA9BS,SAACxO,EAAOsa,GAC7BhC,EAAU,2BAAK5O,GAAN,IAAcC,QAAS3J,EAAQ,EAAG4J,UAAW0Q,OA+B9CnV,WAAY0X,IAEhB,kBAAC,GAAD,CACI/H,KAAMA,EACNyC,QAASA,EACTzI,QAASA,EACT5C,aAAcA,EACd2C,WAAYA,EACZ4N,oBAAqBA,M,sLCnJrC,IAQeF,GARajd,IAAOC,IAAV,MCEjB6X,GAAWC,KAAXD,OACK4F,GAAW,CACpB,CACIjd,KAAM,gBACNmI,KAAM,UAEV,CACInI,KAAM,yBACNmI,KAAM,aA4NC+U,GAxNa,SAAC,GAAmH,IAAjHtQ,EAAgH,EAAhHA,iBAAkBkC,EAA8F,EAA9FA,WAAYC,EAAkF,EAAlFA,QAASoO,EAAyE,EAAzEA,wBAAyBpI,EAAgD,EAAhDA,KAAMyC,EAA0C,EAA1CA,QAAS4F,EAAiC,EAAjCA,gBAAiB1F,EAAgB,EAAhBA,UAAgB,EAC/FnW,mBAAS,IADsF,mBACpI8b,EADoI,KACpHC,EADoH,OAE7G/b,mBAAS,IAFoG,mBAEpI8B,EAFoI,KAE3H4L,EAF2H,OAGjH1N,mBAAS,IAHwG,mBAGpIuD,EAHoI,KAG7H8S,EAH6H,KAI3IpV,qBAAU,WACDuM,GACDuO,EAAkB,CACd7X,KAAM,sCAGf,CAACsJ,IAEJvM,qBAAU,WAEFoV,EADQ,UAAR7C,EACS,qBAEA,gCAEd,CAACA,IAEJ,IAAMwI,EAAsBpO,sBAAW,wBAAC,6BAAAzB,EAAA,+EAEdf,GAAkBC,GAFJ,OAGb,gBADbxC,EAF0B,QAGxBL,QACJuT,EAAkBlT,EAAI8C,QAJM,uGAOrC,CAACN,IAEJpK,qBAAU,WACFoK,EACA2Q,IAEAD,EAAkB,MAEvB,CAACC,EAAqBD,IAEzB,IAAMlO,EAAU,yCAAG,mCAAA1B,EAAA,yDACXtD,EAAM,GACLiF,IAFU,oDAKTmO,EAAqBhO,IACvBjJ,EAAc,IACdqG,GAAwC,IAApBA,EAPT,wBAQX4Q,EAAmBpX,GAAKwG,EARb,SzCwWcpC,EyC/VQgT,EzCgWlClV,GACFmC,MADE,yBACsBD,EAAKpE,IAAMoE,GACnCjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,QyC/WX,OASX0F,EATW,OAUX7D,EAAc,uCAVH,QAYI,eAAf6D,EAAIL,QACJoT,IACA7N,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAaA,IAEjBkJ,MAEIC,EAAe,GAEfA,EADAtF,EAAI/G,SAA0B,IAAf+G,EAAI/G,QACJ+G,EAAI/G,QAEJ+G,EAAI8C,OAEvBoC,KAAa1K,MAAM,CACfvB,QAAS,GACTkD,YAAamJ,KA5BN,kCzCwWa,IAAClF,IyCxWd,OAAH,qDAiCV6E,EAAeF,uBAAY,WAC7B,IAAIQ,GAAS,EACb,MAAqC,qBAA1B0N,EAAeI,QAAoD,KAA1BJ,EAAeI,QAC/D9N,GAAS,EACTV,EAAW,CACPhP,MAAO,0DACPwF,KAAM,QACNX,MAAO,aAEJ6K,GAEJA,KA+DLH,EAAgB,WAClB,IAAI9K,EAAO,GAIX,OAHI2Y,EAAeI,SACf/Y,EAAI,OAAa2Y,EAAeI,QAE7B/Y,GAGL+K,EAAmB,WACrB6N,EAAkB,IAClB9F,EAAQ,IACR1I,GAAW,IA0Bf,OAvBAtM,qBAAU,WACFa,GAAsB,IAAXA,IACS,SAAhBA,EAAQoC,MACR6J,KAAa1K,MAAM,CACfvB,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAazL,QAAQ,CACjBR,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,QAGT,WAAhBoD,EAAQoC,MACR6J,KAAa7L,QAAQ,CACjBJ,QAASA,EAAQyB,MACjByB,YAAalD,EAAQpD,WAIlC,CAACoD,IAGA,kBAAC,KAAD,CAAO0L,QAASA,EAASjK,MAAOA,EAAOqL,KAAMf,EAAYgB,SAAUX,EAAkBY,OAAO,WAAMC,WAAW,YACzG,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,OAAO0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACvD,2BAAOC,QAAQ,IAAf,sBAnFhB,kBAAC,KAAD,CACIwH,UAAU,EACVrR,UAAU,aACV3G,MAAOod,EAAiBA,EAAe5Q,QAAU,kCACjDgC,SAAU,SAACxO,GAAD,OAAWqd,EAAkB,2BAAKD,GAAN,IAAsBvT,KAAM7J,MAClEiY,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,SAChB,kBAAC,GAAD,CAAQvD,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCyX,GAAaA,EAAUtC,KAAI,SAACtL,EAAM9H,GAC/B,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO6J,EAAK1D,IAC3B0D,EAAK3B,WAyEV,kBAAC,KAAK7C,KAAN,CAAWtF,KAAK,aAAa0F,MAAO,CAAEoB,MAAO,QACzC,2BAAO2J,QAAQ,IAAf,eAlEhB,kBAAC,KAAD,CACIwH,UAAU,EACVrR,UAAU,aACV3G,MAAOod,EAAiBA,EAAe3Q,cAAgB,kCACvD+B,SAAU,SAACxO,GAAD,OAAWqd,EAAkB,2BAAKD,GAAN,IAAsBV,WAAY1c,MACxEiY,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,SAChB,kBAAC,GAAD,CAAQvD,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCmd,GAAmBA,EAAgBhI,KAAI,SAACuH,EAAY3a,GACjD,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO0c,EAAWvW,IACjCuW,EAAWpQ,gBAyDpB,kBAAC,IAAD,CAAKgE,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAKjL,KAAN,CAAWtF,KAAK,SAAS0F,MAAO,CAAEoB,MAAO,MAAO0J,YAAa,KACzD,2BAAOC,QAAQ,IAAf,qCA/GhB,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACVnO,UAAU,aACV3G,MAAK,OAAEod,QAAF,IAAEA,OAAF,EAAEA,EAAgBI,OACvBhP,SAAU,SAACxO,GAAD,OAAWqd,EAAkB,2BAAKD,GAAN,IAAsBI,OAAQxd,MACpEiY,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,SACfmW,GAAS7H,KAAI,SAACqI,EAAQzb,GACnB,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAOwd,EAAOtV,MAC7BsV,EAAOzd,WAwGH,UAAR+U,GACG,kBAAC,KAAKzP,KAAN,CAAWtF,KAAK,iBAAiB0F,MAAO,CAAEoB,MAAO,QAC7C,2BAAO2J,QAAQ,IAAf,qBACA,kBAAC,KAAD,CACIwH,SAAkB,UAARlD,EACV9U,MAAOod,EAAetC,WAAa9K,KAAM,OAACoN,QAAD,IAACA,OAAD,EAACA,EAAgBtC,WAAY,cAAgB,GACtFrV,MAAO,CAAEoB,MAAO,QAChBoJ,OAAQ,oBC3NhCmH,GAAWC,KAAXD,OA+FOiB,IA9FID,KAAXD,OAEO,SAAC,GAAuD,IAArDzO,EAAoD,EAApDA,OAAQ4O,EAA4C,EAA5CA,UAAW6E,EAAiC,EAAjCA,gBAAiB1F,EAAgB,EAAhBA,UAoDlD,OACI,kBAAC,WAAD,KACI,kBAAC,IAAD,CAAKnH,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,IAAX,oDACA,kBAAC,KAAD,CAAK2B,KAAK,QAAQ3B,KAAM,EAAG4B,OAAQ,MAGvC,kBAAC,IAAD,CAAKlI,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,qBAhDZ,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAASA,EAAO8C,QAAU,kCACjCgC,SAAU,SAACxO,GAAD,OAAWsY,EAAU,2BAAK5O,GAAN,IAAc8C,QAASxM,MACrDiY,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,SAChB,kBAAC,GAAD,CAAQvD,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCyX,GAAaA,EAAUtC,KAAI,SAACtL,EAAM9H,GAC/B,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO6J,EAAK1D,IAC3B0D,EAAK3B,WAyCd,kBAAC,KAAD,CAAK0O,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,SAC5B,2BAAOpC,QAAQ,GAAG/K,MAAO,CAAEoB,MAAO,QAAlC,cAlCZ,kBAAC,KAAD,CACIF,UAAU,aACV3G,MAAO0J,EAASA,EAAO+C,cAAgB,kCACvC+B,SAAU,SAACxO,GAAD,OAAWsY,EAAU,2BAAK5O,GAAN,IAAc+C,cAAezM,MAC3DiY,aAAa,kCACbxS,MAAO,CAAEoB,MAAO,SAChB,kBAAC,GAAD,CAAQvD,KAAM,EAAGtD,MAAM,mCAAvB,mCAGCmd,GAAmBA,EAAgBhI,KAAI,SAACuH,EAAY3a,GACjD,OACI,kBAAC,GAAD,CAAQuB,IAAKvB,EAAO/B,MAAO0c,EAAWvW,IACjCuW,EAAWpQ,gBA4BxB,kBAAC,IAAD,CAAKgE,OAAQ,CAAC,GAAI,KACd,kBAAC,KAAD,CAAKsG,KAAM,KAEf,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKA,KAAM,EAAGnR,MAAO,CAAEmN,QAAS,OAAQ7B,OAAQ,WAC5C,kBAAC,IAAD,CACIvL,KAAK,UACLiT,OAAK,EACLhT,MAAO,CAAEuL,aAAc,IACvBrL,QAhFK,WACrB2S,EAAU,CACN3O,QAAS,EACTC,UAAW,GACXK,OAAQ,GACRuC,QAAS,kCACTC,cAAe,sCAsEP,cCkEL0P,GA9IE,WAAO,IAAD,EACW7a,oBAAS,GADpB,mBACZwN,EADY,KACHD,EADG,OAESvN,mBAAS,CAAEsI,UAAW,GAAID,QAAS,IAF5C,mBAEZD,EAFY,KAEJ4O,EAFI,OAGiChX,mBAAS,IAH1C,mBAGZmc,EAHY,KAGQC,EAHR,OAIKpc,mBAAS,IAJd,mBAIZ2X,EAJY,KAINC,EAJM,OAK6B5X,mBAAS,IALtC,mBAKZqL,EALY,KAKMgR,EALN,OAMKrc,mBAAS,IANd,mBAMZwT,EANY,KAMNyC,EANM,OAOejW,mBAAS,IAPxB,mBAOZmW,EAPY,KAOD6B,EAPC,OAQ2BhY,mBAAS,IARpC,mBAQZ6b,EARY,KAQKS,EARL,KAUbrE,EAAU,yCAAG,6BAAA9L,EAAA,sEACG/B,KADH,OACTvB,EADS,OAEfmP,EAAanP,EAAI8C,QAFF,2CAAH,qDAKhB1K,qBAAU,WACNgX,MACD,IAEH,IAAMsE,EAAgB,yCAAG,6BAAApQ,EAAA,sE3C0NlBpF,GACF6B,IAFE,yBAGF5F,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,Q2ChOL,OACf0F,EADe,OAErByT,EAAmBzT,EAAI8C,QAFF,2CAAH,qDAKtB1K,qBAAU,WACNsb,MACD,IAEH,IAAMX,EAA0BhO,sBAAW,wBAAC,6BAAAzB,EAAA,sEACtBlB,GAAuB7C,GADD,OAErB,gBADbS,EADkC,QAEhCL,QACJoP,EAAQ/O,EAAI8O,MACZyE,EAAsBvT,EAAI8C,UAE1BiM,EAAQ,CAAEtP,UAAW,GAAID,QAAS,IAClC+T,EAAsB,IACtBrO,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YAAa6D,EAAI/G,SAA2B,KAAhB+G,EAAI/G,QAAiB+G,EAAI/G,QAAU,oDAV/B,2CAazC,CAACsG,IAEJnH,qBAAU,WACN2a,MACD,CAACA,IAEJ3a,qBAAU,WACDuM,GACD6O,EAAoB,MAEzB,CAAC7O,IAEJ,IAAM8K,EAAU,CACZ,CACI/U,MAAO,IACPgV,OAAQ,SAACC,EAAMC,EAAQhY,GAAf,OAAyB,uBAAG4D,QAAS,kBAAMqU,EAAWD,KAAUhY,EAAQ,KAEpF,CACI8C,MAAO,oBACPoV,UAAW,OACX3W,IAAK,OACLuW,OAAQ,SAAChQ,GAAD,OAAU,6BAAMA,EAAOA,EAAK3B,KAAO,MAE/C,CACIrD,MAAO,aACPoV,UAAW,aACX3W,IAAK,aACLuW,OAAQ,SAAC6C,GAAD,OAAgB,6BAAMA,EAAaA,EAAWpQ,SAAW,MAErE,CACIzH,MAAO,gBACPoV,UAAW,SACX3W,IAAK,SACLuW,OAAQ,SAACrU,GAAD,OACJ,kBAAC,KAAD,CAAKkB,MAAe,UAARlB,EAAmB,QAAU,SAAUlC,IAAKkC,GACnDA,KAIb,CACIX,MAAO,mBACPoV,UAAW,aACX3W,IAAK,aACLuW,OAAQ,SAACC,GAAD,OAAU,2BAAI9J,KAAO8J,GAAM7J,OAAO,uBAE9C,CACIpL,MAAO,yBACPvB,IAAK,SACLuW,OAAQ,SAACC,EAAMC,GAAP,OACJ,kBAAC,WAAD,KACI,kBAAC,KAAD,CAAOxU,KAAK,SAASE,MAAO,CAAE8K,YAAa,KACvC,uBAAG5K,QAAS,kBAAM+L,EAAWqI,KAA7B,eAIZlT,MAAO,QAQT6K,EAAa,SAACqI,GAChBlL,GAAW,GACX0I,EAAQ,UACRoG,EAAoB5D,EAAO5T,KAGzB6T,EAAa,SAACD,GAChBlL,GAAW,GACX0I,EAAQ,UACRoG,EAAoB5D,EAAO5T,KAG/B,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAQmS,UAAWA,EAAWzJ,WAAYA,EAAYnF,OAAQA,EAAQ6N,QAASA,EAAS4F,gBAAiBA,EAAiB1F,UAAWA,IACrI,kBAAC,KAAD,CACI0C,OAAO,KACPP,QAASA,EACTQ,WAAY,CACR7Y,MAAO0X,EAAKoB,YACZC,SAAUrB,EAAKrP,UACf4E,SAzBS,SAACxO,EAAOsa,GAC7BhC,EAAU,2BAAK5O,GAAN,IAAcC,QAAS3J,EAAQ,EAAG4J,UAAW0Q,OA0B9CnV,WAAYsY,IAEhB,kBAAC,GAAD,CACI3I,KAAMA,EACNyC,QAASA,EACTzI,QAASA,EACTnC,iBAAkBA,EAClBkC,WAAYA,EACZqO,wBAAyBA,EACzBzF,UAAWA,EACX0F,gBAAiBA,M,2TC/IlB7d,WAAOC,IAAtB,MAEaue,GAAqBxe,IAAOC,IAAV,M,qoBCFxB,IAAMwe,GAAaze,IAAOC,IAAV,MAOVye,GAAiB1e,IAAOC,IAAV,MACf,SAACuO,GAAD,OAAWA,EAAMiJ,QAAU,MAG1BkH,GAAa3e,IAAOC,IAAV,MAMV2e,GAAkB5e,IAAOC,IAAV,MChBf4e,GAAqB,SAACC,GACjC,OAAO,IAAIC,KAAKrO,KAAOoO,GAAYE,YAiBxBC,GAAkC,SAAC9Z,GAAU,IAEhD+Z,EAAwD/Z,EAAxD+Z,UAAWC,EAA6Cha,EAA7Cga,QAASC,EAAoCja,EAApCia,cAAeC,EAAqBla,EAArBka,iBAC3C,GAAIH,GAAaC,EAAS,CACxB,IAAMG,EAX4B,SAAC,GAA4B,IAA1BJ,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,QAClD,MAAO,CACLzO,KAAOwO,ErDdc,uBqDerBxO,KAAOyO,ErDfc,wBqDuBHI,CAAuB,CAAEL,YAAWC,YACtDha,EAAKma,UAAYA,SACVna,EAAK+Z,iBACL/Z,EAAKga,QAad,OAVIC,IACFja,EAAKia,cAAgBja,EAAKia,cAAc7Y,KAGtC8Y,IACFla,EAAKka,iBAAmBla,EAAKka,iBAAiBxJ,KAAI,SAACrF,GACjD,OAAOA,EAAQzM,QAAQwC,QAIpBpB,GAGIqa,GAAiC,SAACC,GAC7C,IAAIC,EAAU,eAAQD,GAEdH,EAAcI,EAAdJ,UACR,GAAIA,EAAW,CACb,IAAMK,EA1C4B,SAACL,GACrC,MAAO,CACLJ,UAAWL,GAAmBS,EAAU,IACxCH,QAASN,GAAmBS,EAAU,KAuChBM,CAAuBN,UAC7CI,EAAU,2BAAQA,GAAeC,IACfL,UAEpB,OAAOI,GAGIG,GAAmC,SAACC,GAC/C,OAAOpP,KAAOoP,GAAYnP,OrDvDH,wBsDCnB/G,GAAWjI,KAAMuH,OAAO,CAC5BF,QtDDiB,wCsDEjB+W,aAAc,OACdlc,QtDFsB,OsDKxB+F,GAASL,aAAaC,QAAQC,IAA9B,yCAAkC,WAAO1E,GAAP,kBAAAoJ,EAAA,6DAC1B6R,EAAQ9N,aAAauG,QAAQ,SAC7B3Q,EAAcoK,aAAauG,QAAQ,gBAGzC1T,EAAOH,QAAQqb,cAAf,iBAAyCD,GACzCjb,EAAOH,QAAQkD,YAAcA,EANG,kBAOzB/C,GAPyB,2CAAlC,uDAUe6E,UC2BA,IACbsW,sBA7CyB,yCAAG,WAAO/a,GAAP,gBAAAgJ,EAAA,sEACPlF,GAAc,CACjCvE,OAAQ,OACRC,IAAI,yBACJQ,SAJ0B,cACtBwI,EADsB,yBAMrBA,GANqB,2CAAH,sDA8CzBwS,wBArC2B,yCAAG,WAAOtb,GAAP,gBAAAsJ,EAAA,sEACTlF,GAAc,CACjCvE,OAAQ,MACRC,IAAI,yBACJE,WAJ4B,cACxB8I,EADwB,yBAMvBA,GANuB,2CAAH,sDAsC3ByS,mBA7BsB,yCAAG,WAAOC,GAAP,gBAAAlS,EAAA,sEACJlF,GAAc,CACjCvE,OAAQ,MACRC,IAAI,0BAAD,OAA4B0b,KAHR,cACnB1S,EADmB,yBAMlBA,GANkB,2CAAH,sDA8BtB2S,sBArByB,yCAAG,WAAOnb,GAAP,gBAAAgJ,EAAA,sEACPlF,GAAc,CACjCvE,OAAQ,QACRC,IAAI,yBACJQ,SAJ0B,cACtBwI,EADsB,yBAMrBA,GANqB,2CAAH,sDAsBzB4S,sBAdyB,yCAAG,WAAOF,GAAP,gBAAAlS,EAAA,sEACPlF,GAAc,CACjCvE,OAAQ,SACRC,IAAI,yBACJQ,KAAM,CAAEoB,IAAK8Z,KAJa,cACtB1S,EADsB,yBAMrBA,GANqB,2CAAH,uDCnCd6S,GAAW,yCAAG,WAAOrb,GAAP,gBAAAgJ,EAAA,sEACJlF,GAAc,CACjCvE,OAAQ,OACRC,IAAK,cACLQ,SAJuB,cACnBwI,EADmB,yBAOlB,CACLnD,OAAQmD,EAAOxI,KAAKqF,OACpBmD,OAAQA,EAAOxI,KAAKwI,OAAO8S,aATJ,2CAAH,sDAyBXC,GAAgB,yCAAG,6BAAAvS,EAAA,sEACTlF,GAAc,CACjCvE,OAAQ,MACRC,IAAK,gBAHuB,cACxBgJ,EADwB,yBAMvB,CACLnD,OAAQmD,EAAOxI,KAAKqF,OACpBmD,OAAQA,EAAOxI,KAAKwI,OAAOgT,SARC,2CAAH,qDAyChBC,GAAc,yCAAG,WAAOzb,GAAP,gBAAAgJ,EAAA,sEAOPlF,GAAc,CACjCvE,OAAQ,QACRC,IAAI,cACJQ,SAV0B,cAOtBwI,EAPsB,yBAarB,CACLnD,OAAQmD,EAAOxI,KAAKqF,OACpBmD,OAAQA,EAAOxI,KAAKwI,OAAO8S,aAfD,2CAAH,sDAgCdI,GAAc,yCAAG,WAAOta,GAAP,gBAAA4H,EAAA,sEAMPlF,GAAc,CACjCvE,OAAQ,SACRC,IAAI,cACJQ,KAAM,CAAEoB,SATkB,cAMtBoH,EANsB,yBAYrB,CACLnD,OAAQmD,EAAOxI,KAAKqF,SAbM,2CAAH,sDCjFZ,IAAEsW,kBAjBM,yCAAG,WAAOjc,GAAP,gBAAAsJ,EAAA,sEACHxM,KAAM,CACzB+C,OAAQ,MACRC,IAAI,yDACJE,WAJsB,cAClB8I,EADkB,yBAMjBA,GANiB,2CAAH,sDAiBaoT,WATpB,yCAAG,WAAOlc,GAAP,gBAAAsJ,EAAA,sEACIxM,KAAM,CACzB+C,OAAQ,MACRC,IAAI,+CACJE,WAJe,cACX8I,EADW,yBAMVA,GANU,2CAAH,uDCED,IAAEqT,cAVE,yCAAG,WAAOnc,GAAP,gBAAAsJ,EAAA,sEACCxM,KAAM,CACzB+C,OAAQ,MACRC,IAAK,8CACLE,WAJkB,cACd8I,EADc,yBAObA,GAPa,2CAAH,uDCsCXmK,GAAWC,KAAXD,OACAmJ,GAAgBC,KAAhBD,YA2UOE,GAzUa,WAAO,IAAD,EACgCnf,mBAAS,IADzC,mBACzBof,EADyB,KACCC,EADD,OAEFrf,oBAAS,GAFP,mBAEzBa,EAFyB,KAEhBC,EAFgB,OAGjBwe,KAAKC,UAAbC,EAHyB,oBAI1B1f,EAAUC,cACVgQ,EAAWC,cAEXyP,EAA6B,yCAAG,WAAO5c,GAAP,gBAAAsJ,EAAA,sEAElCrL,GAAW,GAFuB,SAGf4e,GAAmBvB,wBAAwBtb,GAH5B,OAG5B8c,EAH4B,OAIlCN,EAA4BM,EAAKxc,KAAKwI,OAAOiU,kBAC7C9e,GAAW,GALuB,oDAO9B,KAAMmC,UAAsC,MAA1B,KAAMA,SAASuF,OAPH,mDAQlCuF,KAAa1K,MAAM,CACjBvB,QAAS,sDATuB,yDAAH,sDAanCb,qBAAU,WACRwe,MACC,CAAC1P,IAEJ,IAmBM8P,EAA8B,SAAC1e,EAAMV,GAAP,+BAAiB,6BAAA0L,EAAA,+EAE3CuT,GAAmBnB,sBAAsBpd,EAAKoD,KAFH,QAG3Cub,EAH2C,aAGTV,IACZW,OAAOtf,EAAO,GAC1C4e,EAA4BS,GAC5B/R,KAAa7B,KAAK,CAChBpK,QAAS,6BAPsC,gDAUjDiM,KAAa1K,MAAM,CACjBvB,QAAS,sDAXsC,0DAgB/Cke,EAAgB,SAAC7e,EAAMV,GAAP,OAAiB,WAAO,IACpChC,EAAS0C,EAAT1C,KACR0Z,KAAMC,QAAQ,CACZ7U,MAAO,mBACP2O,KAAM,kBAAC+N,GAAA,EAAD,MACNle,QACE,8FAC+B,gCAAStD,GADxC,cAIFqQ,OAAQ,sBACRC,WAAY,WACZH,KAAMiR,EAA4B1e,EAAMV,OAItC6X,EAAU,CACd,CACEK,UAAW,MACXpV,MAAO,qCACPgC,MAAO,OACPkL,MAAO,SACPyP,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEtH,GAAGub,cAAcD,EAAEtb,MAEzC,CACE8T,UAAW,OACXpV,MAAO,sCACPgC,MAAO,MACP2a,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE1N,KAAK2hB,cAAcD,EAAE1hB,QAE3C,CACEka,UAAW,OACXpV,MAAO,4BACPgC,MAAO,MACP2a,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE1N,KAAK2hB,cAAcD,EAAE1hB,QAE3C,CACEka,UAAW,YACXpT,MAAO,QACPhC,MAAO,wCACPkN,MAAO,SACPyP,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUzR,KAAOvC,EAAE+Q,WAAW3c,KAAKmO,KAAOyR,EAAEjD,aACpD3E,OAAQsF,IAEV,CACElF,UAAW,UACXpT,MAAO,QACPhC,MAAO,kCACPkN,MAAO,SACPyP,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUzR,KAAOvC,EAAE+Q,WAAW3c,KAAKmO,KAAOyR,EAAEjD,aACpD3E,OAAQsF,IAEV,CACElF,UAAW,mBACXpV,MAAO,+CACPgC,MAAO,QACP2a,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,GAClB5H,OAAQ,WAAgB,IAAfpV,EAAc,uDAAP,GACd,OAAOA,EAAK0Q,KAAI,SAACwM,GAAU,IAAD,EACIA,EAAKte,QAAzBtD,EADgB,EAChBA,KAAM6hB,EADU,EACVA,UACd,OAAO,yBAAKte,IAAKse,EAAUC,YAAa9hB,QAI9C,CACEka,UAAW,gBACXpV,MAAO,2BACPgC,MAAO,QACP2a,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE1N,KAAK2hB,cAAcD,EAAE1hB,OACzC8Z,OAAQ,SAACpV,GAAD,OAAUA,GAAQ,8BAAOA,EAAK1E,QAExC,CACEka,UAAW,YACXpV,MAAO,kDACPgC,MAAO,OACPkL,MAAO,SACPyP,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEqU,UAAUJ,cAAcD,EAAEK,YAC9CjI,OAAQ,SAACpV,GAAD,OAAU,8BAAgB,SAATA,EAAkB,yBAAY,sBAEzD,CACEwV,UAAW,eACXpV,MAAO,8BACPgC,MAAO,OACPkL,MAAO,SACPyP,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEsU,aAAaL,cAAcD,EAAEM,eACjDlI,OAAQ,SAACpV,GAAD,OACN,8BAAOA,IAAS4R,GAAeE,MAAQ,QAAU,cAGrD,CACE0D,UAAW,aACXpV,MAAO,iCACPgC,MAAO,OACPkL,MAAO,SACPyP,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEuU,WAAWN,cAAcD,EAAEO,cAEjD,CACE1e,IAAK,UACLuB,MAAO,yBACPgC,MAAO,MACPkL,MAAO,SACP8H,OAAQ,SAACpV,EAAMsV,EAAQhY,GACrB,OACE,kBAAC,KAAD,CAAOwD,KAAM,GACX,kBAAC,IAAD,CACEiO,KAAM,kBAACyO,GAAA,EAAD,MACN1c,KAAK,QACLI,SApIuBlD,EAoIYsX,EApIH,WAAO,IACzClU,EAAQpD,EAARoD,IACRzE,EAAQgF,KAAR,wCAA8CP,OA+HtC,YAOA,kBAAC,IAAD,CACE2N,KAAM,kBAAC0O,GAAA,EAAD,MACN1c,KAAK,SACLD,KAAK,QACLI,QAAS2b,EAAcvH,EAAQhY,IAJjC,WAxIwB,IAACU,KAsJnC,OACE,kBAAC,GAAD,KACE,kBAACsb,GAAD,kDAEA,kBAAC,IAAD,CAAKvY,KAAK,OAAOsM,QAAQ,MAAMC,MAAM,UACnC,kBAAC,IAAD,CACEyB,KAAM,kBAACrF,GAAA,EAAD,MACN3I,KAAK,UACLD,KAAK,SACLI,QA1JW,WACjBvE,EAAQgF,KAAR,0CAqJI,0CAUF,kBAAC4X,GAAD,MAEA,kBAACE,GAAD,KACE,kBAAC,KAAD,CACE4C,KAAMA,EACNqB,OAAO,aACPC,SAAU,CAAExL,KAAM,IAClByL,WAAY,CAAEzL,KAAM,IACpB0L,WAAW,OACXC,eAxLa,WACnB,IAAMC,EAAiB1B,EAAK2B,iBACtBte,EAAS2a,GAA+B0D,GAC9CzB,EAA8B5c,IAsLxBoB,KAAK,SAGL,kBAAC,IAAD,KACE,kBAAC,KAAD,CAAKqR,KAAM,GACT,kBAAC,KAAKvR,KAAN,CACEtF,KAAK,KACL2iB,MAAM,qCACNC,MAAO,CAAC,CAAEnd,KAAM,YAEhB,kBAAC,KAAD,CAAOiL,YAAY,eAGvB,kBAAC,KAAD,CAAKmG,KAAM,GACT,kBAAC,KAAKvR,KAAN,CACEtF,KAAK,OACL2iB,MAAM,sCACNC,MAAO,CAAC,CAAEnd,KAAM,YAEhB,kBAAC,KAAD,CAAOiL,YAAY,oDA4BvB,kBAAC,KAAD,CAAKmG,KAAM,GACT,kBAAC,KAAKvR,KAAN,CAAWtF,KAAK,YAAY2iB,MAAM,mDAChC,kBAAC,KAAD,CAAQE,YAAU,EAACnS,YAAY,2CAC7B,kBAAC,GAAD,CAAQzQ,MAAOkW,GAAUC,MAAzB,0BACA,kBAAC,GAAD,CAAQnW,MAAOkW,GAAUE,UAAzB,uBAKN,kBAAC,KAAD,CAAKQ,KAAM,GACT,kBAAC,KAAKvR,KAAN,CAAWtF,KAAK,eAAe2iB,MAAM,+BACnC,kBAAC,KAAD,CAAQE,YAAU,EAACnS,YAAY,kBAC7B,kBAAC,GAAD,CAAQzQ,MAAOqW,GAAeE,OAA9B,SACA,kBAAC,GAAD,CAAQvW,MAAOqW,GAAeC,OAA9B,eAIN,kBAAC,KAAD,CAAKM,KAAM,GACT,kBAAC,KAAKvR,KAAN,CAAWtF,KAAK,aAAa2iB,MAAM,kCACjC,kBAAC,KAAD,CAAQE,YAAU,EAACnS,YAAY,4CAC7B,kBAAC,GAAD,CAAQzQ,MAAOwW,GAAW,SAA1B,QACA,kBAAC,GAAD,CAAQxW,MAAOwW,GAAW,SAA1B,QACA,kBAAC,GAAD,CAAQxW,MAAOwW,GAAW,UAA1B,YAKN,kBAAC,KAAD,CAAKI,KAAM,IACT,kBAAC,KAAKvR,KAAN,CACEtF,KAAK,YACL2iB,MAAM,iBACNN,SAAU,CAAExL,KAAM,GAClB+L,MAAO,CAAC,CAAEnd,KAAM,WAEhB,kBAAC+a,GAAD,CAAasC,UAAQ,EAAC5S,O3D3Ub,2B2D+Uf,kBAAC,KAAD,CAAK2G,KAAM,EAAG4B,OAAQ,IACpB,kBAAC,KAAD,CAAK5B,KAAM,GAAI4B,OAAQ,IACrB,kBAAC,IAAD,CAAKhT,KAAK,OAAOsM,QAAQ,OACvB,kBAAC,IAAD,CACEvM,KAAK,SACLiO,KAAM,kBAACsP,GAAA,EAAD,MACNnd,QA9QW,WACzBmb,EAAKiC,gBA0QO,+BAaV,kBAAC/E,GAAD,MACC7b,EACC,kBAAC2b,GAAD,KACE,kBAAC,IAAD,OAGF,kBAACG,GAAD,KACE,kBAAC,KAAD,CACE9D,OAAO,MACPP,QAASA,EACTzU,WAAYub,EACZsC,OAAQ,CAAEC,EAAG,WCrWVC,GAJiB,WAC9B,OAAO,kBAAC,GAAD,O,+eCFM5jB,WAAOC,IAAtB,MAMa4jB,GAAe7jB,IAAOC,IAAV,MASZ6jB,GAAgB9jB,IAAOC,IAAV,M,uECfXD,WAAOC,IAAtB,M,WCMQghB,GAAgBC,KAAhBD,YA6DO8C,GA3DD,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,SAAU7e,EAA6B,EAA7BA,KAAM8e,EAAuB,EAAvBA,iBAAuB,EACvC3C,KAAKC,UAAbC,EAD+C,oBAGtDve,qBAAU,WACRue,EAAK0C,eAAe/e,KACnB,CAACA,EAAMqc,IAOV,OACE,kBAAC,GAAD,KACE,kBAAC,KAAD,iBACM2C,GADN,CAEE3C,KAAMA,EACN/gB,KAAK,kBACL2jB,SAXW,SAACC,GAChBJ,EAAiBI,GACjBL,KAUIM,iBAAkBC,GAClBC,cAAerf,IAEf,kBAAC,KAAKY,KAAN,CACEtF,KAAK,OACL2iB,MAAM,sCACNC,MAAO,CAAC,CAAEnd,KAAM,SAAUue,UAAU,KAEpC,kBAAC,KAAD,CAAOtT,YAAY,0EAGrB,kBAAC,KAAKpL,KAAN,CACEtF,KAAK,YACL2iB,MAAM,iBACNC,MAAO,CACL,CACEnd,KAAM,QACNue,UAAU,KAId,kBAAC,GAAD,CAAalB,UAAQ,EAAC5S,O/DhDP,yB+DmDjB,kBAAC,KAAD,CAAKuI,OAAQ,GACX,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEhF,KAAM,kBAACwQ,GAAA,EAAD,MACNxe,KAAK,UACLye,SAAS,UAHX,uB,sQCrDG3kB,WAAOC,IAAtB,MAEaue,GAAqBxe,IAAOC,IAAV,M,WCJlB2kB,GAAoB,WAAkB,IAAjBC,EAAgB,uDAAP,GACzC,OAAOA,EAAOhP,KAAI,SAACU,GAEjB,MAAO,CAAE1P,GAD6B0P,EAA9B1P,GACKie,YADyBvO,EAA1BuO,YACcC,SADYxO,EAAbwO,cCsQdC,GA7PD,SAAC,GAAoD,IAAlDhB,EAAiD,EAAjDA,SAAUiB,EAAuC,EAAvCA,SAAUhB,EAA6B,EAA7BA,iBAAkB9e,EAAW,EAAXA,KAAW,EAClBnD,mBAAS,IADS,mBACzDkjB,EADyD,KACxCC,EADwC,OAExBnjB,mBAAS,IAFe,mBAEzDojB,EAFyD,KAE3CC,EAF2C,OAG5BrjB,mBAAS,IAHmB,mBAGzDsjB,EAHyD,KAG7CC,EAH6C,OAKxBvjB,mBAAS,IALe,mBAKzDwjB,EALyD,KAK3CC,EAL2C,OAMlBzjB,mBAAS,IANS,mBAMzD0jB,EANyD,KAMxCC,EANwC,OAQlC3jB,oBAAS,GARyB,mBAQzDa,EARyD,KAQhDC,EARgD,KASxDwc,EAAcna,EAAdma,UAEFsG,EAAe,yCAAG,WAAO/gB,GAAP,gBAAAsJ,EAAA,6DACtBrL,GAAW,GADW,kBAGD+iB,GAAS/E,kBAAkBjc,GAH1B,OAGd8c,EAHc,OAIpB4D,EAAc5D,EAAKxc,MAEnBrC,GAAW,GANS,gDAQpBiN,KAAa1K,MAAM,CACjBvB,QAAS,uDATS,yDAAH,sDAcfgiB,EAAiB,yCAAG,WAAOjhB,GAAP,gBAAAsJ,EAAA,6DACxBrL,GAAW,GADa,kBAGHijB,GAAW/E,cAAcnc,GAHtB,OAGhB8c,EAHgB,OAItB8D,EAAgB9D,EAAKxc,MAErBrC,GAAW,GANW,gDAQtBiN,KAAa1K,MAAM,CACjBvB,QAAS,uDATW,yDAAH,sDAcjBkiB,EAAoB,yCAAG,WAAOnhB,GAAP,gBAAAsJ,EAAA,6DAC3BrL,GAAW,GADgB,kBAGN+iB,GAAS9E,WAAWlc,GAHd,OAGnB8c,EAHmB,OAIzBgE,EAAmBhE,EAAKxc,MAExBrC,GAAW,GANc,gDAQzBiN,KAAa1K,MAAM,CACjBvB,QAAS,uDATc,yDAAH,sDAc1Bb,qBAAU,WACR,IAAMgjB,EAAYpG,GAAiCP,EAAU,IACvD4G,EAAUrG,GAAiCP,EAAU,IAE3DsG,EADe,CAAEK,YAAWC,YAE5BJ,IACAE,MACC,CAAC1G,IAEJ,IAAM6G,EAAyB,SAAC1L,EAAQhY,GAAT,OAAmB,SAAC4hB,GACjD,IAAM+B,EAAS,aAAOd,GACtBc,EAAU3jB,GAAOqiB,YAAcT,EAC/BkB,EAAca,GAEd,IAAMC,EAAgBnB,EAAgBoB,WACpC,SAACnjB,GAAD,OAAUsX,EAAO5T,KAAO1D,KAE1B,GAAIkjB,GAAiB,EAAG,CACtB,IAAME,EAAe,aAAOnB,GAC5BmB,EAAgBF,GAAevB,YAAcT,EAC7CgB,EAAgBkB,MAIdC,EAAuB,SAAC/L,EAAQhY,GAAT,OAAmB,SAAC4hB,GAC/C,IAAM+B,EAAS,aAAOd,GACtBc,EAAU3jB,GAAOsiB,SAAWV,EAC5BkB,EAAca,GAEd,IAAMC,EAAgBnB,EAAgBoB,WACpC,SAACnjB,GAAD,OAAUsX,EAAO5T,KAAO1D,KAE1B,GAAIkjB,GAAiB,EAAG,CACtB,IAAME,EAAe,aAAOnB,GAC5BmB,EAAgBF,GAAetB,SAAWV,EAC1CgB,EAAgBkB,MAIpBtjB,qBAAU,WAAO,IAAD,EACUkC,EAAhB0f,cADM,MACG,GADH,EAGd,GAAIS,EAAWjhB,OAAQ,CACrB,IAAMoiB,EAAa,aAAOnB,GAC1BT,EAAO3hB,SAAQ,SAACwjB,GACd,IAAML,EAAgBI,EAAcH,WAClC,SAAC/P,GAAD,OAAWA,EAAM1P,KAAO6f,EAAc7f,OAEjB,IAAnBwf,IACFI,EAAcJ,GAAetB,SAAW2B,EAAc3B,SACtD0B,EAAcJ,GAAevB,YAAc4B,EAAc5B,gBAG7DxhB,QAAQC,IAAI,QAASkjB,GACrBlB,EAAckB,GAGhB,IAAME,EAAU9B,EAAOhP,KAAI,SAACU,GAAD,OAAWA,EAAM1P,MAC5Cwe,EAAgBR,GAChBM,EAAmBwB,KAClB,CAACxhB,EAAMmgB,EAAWjhB,SAErB,IAAMiW,EAAU,CACd,CAAEK,UAAW,OAAQpV,MAAO,eAAagC,MAAO,QAChD,CAAEoT,UAAW,aAAcpV,MAAO,4BAAcgC,MAAO,OACvD,CAAEoT,UAAW,QAASpV,MAAO,SAAOgC,MAAO,OAC3C,CACEoT,UAAW,QACXpV,MAAO,4BACPgC,MAAO,OAGT,CACEoT,UAAW,WACXpV,MAAO,UACPgC,MAAO,MACPkL,MAAO,SACPmU,UAAU,EACVrM,OAAQ,SAACpV,EAAMsV,EAAQhY,GACrB,OACE,kBAAC,KAAD,CACE0D,MAAO,CAAEoB,MAAO,KAChBiO,KAAK,WACL9U,MAAOyE,EACP+J,SAAUsX,EAAqB/L,EAAQhY,GACvC0O,YAAY,sBAEXqU,EAAa3P,KAAI,gBAAGtP,EAAH,EAAGA,IAAK9F,EAAR,EAAQA,KAAR,OAChB,kBAAC,KAAOqX,OAAR,CAAe9T,IAAKuC,EAAIgc,WAAY7hB,MAAO6F,GACxC9F,SAOb,CACEka,UAAW,cACXpV,MAAO,2BACPgC,MAAO,MACPkL,MAAO,SACPmU,UAAU,EACVrM,OAAQ,SAACpV,EAAMsV,EAAQhY,GACrB,OACE,kBAAC,KAAD,CACE0D,MAAO,CAAEoB,MAAO,KAChB7G,MAAOyE,EACPqQ,KAAK,WACLtG,SAAUiX,EAAuB1L,EAAQhY,GACzC0O,YAAY,sCAEXuU,EAAgB7P,KAAI,gBAAGhP,EAAH,EAAGA,GAAIpG,EAAP,EAAOA,KAAP,OACnB,kBAAC,KAAOqX,OAAR,CAAe9T,IAAK6C,EAAInG,MAAOmG,GAC5BpG,UAqCf,OACE,kBAAC,GAAD,KACE,kBAACge,GAAD,KACG,+CACC/N,KAAO4O,EAAU,IAAI3O,OlExNN,uBkEyNf,kBACAD,KAAO4O,EAAU,IAAI3O,OlE1NN,wBkE4NnB,kBAAC+N,GAAD,MACC7b,EACC,kBAAC,GAAD,KACE,kBAAC,IAAD,OAGF,kBAAC,KAAD,CACEgY,OAAO,KACPgM,aAAc,CACZ3gB,KAAM,WACNgJ,SAAU,SAACgW,EAAiBE,GAC1BC,EAAgBD,GAChBD,EAAmBD,IAErBA,gBAAiBA,GAGnB5K,QAASA,EACTzU,WAAYyf,IAGhB,kBAAC,IAAD,CAAKpf,KAAK,QACR,kBAAC,IAAD,CACEA,KAAK,UACLgO,KAAM,kBAAC4S,GAAA,EAAD,MACNzgB,QAAS4e,GAHX,iBADF,SASE,kBAAC,IAAD,CACE/e,KAAK,UACLgO,KAAM,kBAACwQ,GAAA,EAAD,MACNre,QArEe,WACrB,IAAMwe,EAAM,aAAOO,GAInB,GAFA9hB,QAAQC,IAAI,CAACshB,WAERA,EAAOxgB,OAAZ,CAL2B,qBAUPwgB,GAVO,IAU3B,2BAA4B,CAAC,IAAlBtO,EAAiB,QAC1BjT,QAAQC,IAAI,YAAcgT,GADA,IAElBwO,EAA0BxO,EAA1BwO,SAAUD,EAAgBvO,EAAhBuO,YAClB,IAAKC,IAAaA,EAAS1gB,OAEzB,YADFP,IAAQQ,QAAQ,oEAGhB,IAAKwgB,IAAgBA,EAAYzgB,OAE/B,YADFP,IAAQQ,QAAQ,qEAlBS,8BAuB3B2f,EAAiB,CAAEY,OAAQD,GAAkBC,KAC7Cb,SAlBElgB,IAAQQ,QAAQ,mFA4Dd,qB,uEC1POtE,WAAOC,IAAtB,M,SCAa8mB,GAAwB,SAACC,GA8BpC,OADAA,GANAA,GAHAA,GADAA,GADAA,GAHAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAMA,EAAIC,eACAnU,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,MACdA,QAAQ,kHAAsC,MAC9CA,QAAQ,0EAA0B,MAClCA,QAAQ,kCAAc,MACtBA,QAAQ,kHAAsC,MAC9CA,QAAQ,4EAA0B,MAClCA,QAAQ,oCAAc,MACtBA,QAAQ,UAAM,MAGdA,QAAQ,sCAAuC,KAC/CA,QAAQ,wBAAyB,KACjCoU,QAGApU,QACR,yFACA,MAIQA,QAAQ,OAAQ,M,WCnBtBnR,GAAQC,EAAQ,IACdiX,GAAWC,KAAXD,OAgPOsO,GADIC,wBAAaC,0BA7OpB,SAAC,GAIP,EAHJC,iBAGK,IAFLC,EAEI,EAFJA,sBACAC,EACI,EADJA,kBACI,EACwDxlB,mBAAS,MADjE,mBACGylB,EADH,KAC2BC,EAD3B,OAEgD1lB,mBAAS,MAFzD,mBAEG2lB,EAFH,KAEuBC,EAFvB,OAGoD5lB,mBAAS,MAH7D,mBAGG6lB,EAHH,KAGyBC,EAHzB,OAIsD9lB,mBAAS,MAJ/D,mBAIG+lB,EAJH,KAI0BC,EAJ1B,OAKsChmB,mBAAS,MAL/C,mBAKGimB,EALH,KAKkBC,EALlB,OAMkClmB,mBAAS,IAN3C,mBAMGmmB,EANH,KAMeC,EANf,OAOoCpmB,mBAAS,CAC/CqmB,IAAK,UACLC,IAAK,aATH,mBAOGC,EAPH,KAOiBC,EAPjB,KAYJvlB,qBAAU,WACRwlB,MAEC,IAEH,IAAMA,EAAgB,yCAAG,iCAAAta,EAAA,6DACjB6R,EAAQ9N,aAAauG,QAAQ,SAC7B3Q,EAAcoK,aAAauG,QAAQ,gBACnC7T,EAAU,CACdqb,cAAc,UAAD,OAAYD,GACzBlY,YAAaA,GALQ,SAQjBnG,GAAM,CACV+C,OAAQ,MACRC,IAAI,mEACJE,OAAQ,CACNqB,KAAM4B,GAERlD,YAECI,MAAK,SAAC6F,GACL,GAAIA,EAAI1F,OACNyiB,EAAsB/c,EAAI1F,KAAKpB,QAAQ2kB,MACvChB,EAA0B7c,EAAI1F,KAAKpB,QAAQ2kB,MAGvC7d,EAAI1F,KAAKpB,QAAQ2kB,MACnBF,EAAgB,CACdH,IAAKM,WAAW9d,EAAI1F,KAAKpB,QAAQ2kB,KAAK,GAAGE,WAAWC,UACpDP,IAAKK,WAAW9d,EAAI1F,KAAKpB,QAAQ2kB,KAAK,GAAGE,WAAWE,aAKpDtB,GAAmB,CACrB,IAAIkB,EAAO7d,EAAI1F,KAAKpB,QAAQ2kB,KAAKK,MAC/B,SAACvY,GAAD,OAAaA,EAAQjK,MAAQihB,KAE3BkB,IACFR,EAAiB,CACfG,KAAMK,EAAKE,WAAWC,SAAWH,EAAKM,SAASH,UAAY,EAC3DP,KAAMI,EAAKE,WAAWE,UAAYJ,EAAKM,SAASF,WAAa,IAE/DhB,EAAwBY,IAE1BV,EAAyBR,OAI9BpiB,OAAM,SAAC6jB,OA7Ca,2CAAH,qDA0EhBC,EAA4B,SAAC9J,EAAehO,GAChDA,EAAE+X,iBACE/J,GACFmI,EAAsBnI,EAAc7Y,KACpC6hB,EAAgBhJ,EAAcxW,KAAO,MAAQwW,EAAc3e,MAC3DunB,EAAyB5I,EAAc7Y,OAEvCghB,OAAsB6B,GACtBhB,EAAgB,IAChBJ,OAAyBoB,KAI7B,OACE,kBAAC,aAAD,CACEC,YAAa,GACbC,cAAef,GAEf,kBAAC,GAAD,CACEpX,YAAY,4CACZjC,SA9CiB,SAACkC,GACtBgX,EAAgBhX,EAAEC,OAAO3Q,QA8CrB6oB,SA3Ce,SAAC7oB,GACpB,IAAIyE,EAAOsiB,EAAuBrd,QAAO,SAACoG,GACxC,IAAIgZ,EAAczC,GAAsBvW,EAAQ/P,MAC5CgpB,EAAY1C,GAAsBrmB,GACtC,QAAI8oB,EAAYE,SAASD,IAChBjZ,KAIXoX,EAAsBziB,IAmClBwkB,aAAW,EACXxjB,MAAO,CAAEyjB,SAAU,WAAYC,IAAK,OAAQC,KAAM,OAAQviB,MAAO,KACjE7G,MAAOynB,IAoBRR,GACCA,EAAmB9R,KAAI,SAAC6S,GAAD,OACrB,kBAAC,aAAD,CACE1kB,IAAK0kB,EAAKniB,IACVwjB,cACE,IAAIC,OAAOC,OAAOC,KAAKC,aACrB,IAAIH,OAAOC,OAAOC,KAAKE,OACrB1B,EAAKE,WAAWC,SAChBH,EAAKE,WAAWE,WAElB,IAAIkB,OAAOC,OAAOC,KAAKE,OACrB1B,EAAKM,SAASH,SACdH,EAAKM,SAASF,YAIpBziB,QAAS,SAAC+K,GAAD,OAtEe,SAACsX,EAAMtX,GACvC8W,EAAiB,CAAEG,IAAKjX,EAAEiZ,OAAOhC,MAAOC,IAAKlX,EAAEiZ,OAAO/B,QAEtDR,EAAwBY,GAmEA4B,CAA0B5B,EAAMtX,IAChDmZ,QACExC,IAA0BW,EAAKniB,IAC3B,CACEikB,YAAa,UACbC,UAAW,UACXC,cAAe,MACfC,aAAc,KAEhB,CACEH,YAAa,UACbC,UAAW,UACXC,cAAe,MACfC,aAAc,UAM3B9C,GACC,kBAAC,cAAD,CACE+B,SAAU,CACRvB,IAAKJ,EAAcI,IACnBC,IAAKL,EAAcK,KAErBsC,aAAc,WAxFpB9C,EAAwB,QA4FlB,6BACE,4BAAKD,EAAqBpnB,MAC1B,qDAAmBonB,EAAqBjf,MACxC,mEAEE,0BAAMzC,MAAO,CAAEiB,MAAO,QACnBygB,EAAqBgD,WAH1B,IAME,0BAAM1kB,MAAO,CAAEiB,MAAO,QACnBygB,EAAqBiD,WAP1B,OAWA,yBACE3kB,MAAO,CACL2I,UAAW,OACXvH,MAAO,OACP+L,QAAS,OACTC,eAAgB,WAGjBsU,EAAqBthB,MAAQwhB,EAC5B,4BAAQ1hB,QAAS,SAAC+K,GAAD,OAAO8X,EAA0B,GAAI9X,KACpD,kBAAC2Z,GAAA,EAAD,MADF,UAEE,sEAGF,4BACE1kB,QAAS,SAAC+K,GAAD,OACP8X,EAA0BrB,EAAsBzW,KAGlD,kBAAC2Z,GAAA,EAAD,MALF,UAME,sE,WCnOZppB,GAAQC,EAAQ,IAEdkW,GAAWC,KAAXD,OAiIOkT,GA/HD,SAAC,GAMR,IALLhH,EAKI,EALJA,SACAiB,EAII,EAJJA,SACA9f,EAGI,EAHJA,KACA8e,EAEI,EAFJA,iBACA5E,EACI,EADJA,iBACI,EACWiC,KAAKC,UAAbC,EADH,sBAEgCxf,mBAAS,IAFzC,mBAEGipB,EAFH,KAEeC,EAFf,KAIJjoB,qBAAU,WACJkC,GAAQA,EAAKia,eAAe+L,EAAchmB,EAAKia,iBAClD,CAACja,IAEJ,IAAMgmB,EAAgB,SAAC/L,GACrB,IAAMY,EAAQ9N,aAAauG,QAAQ,SAC7B3Q,EAAcoK,aAAauG,QAAQ,gBACnC7T,EAAU,CACdqb,cAAc,UAAD,OAAYD,GACzBlY,YAAaA,GAGfnG,GAAM,CACJ+C,OAAQ,MACRC,IAAI,mFACJE,OAAQ,CAAEua,iBACVxa,YAECI,MAAK,SAAC6F,GACDA,EAAI1F,MACN+lB,EAAcrgB,EAAI1F,KAAKpB,YAG1BqB,OAAM,SAAC6jB,QAKZhmB,qBAAU,WACRue,EAAK0C,eAAe/e,KACnB,CAACA,EAAMqc,IA2BV,OACE,kBAAC,GAAD,KACE,kBAAC,KAAD,iBACM2C,GADN,CAEE3C,KAAMA,EACN/gB,KAAK,oBACL2jB,SApBW,SAACC,GAChBJ,EAAiBI,GACjBL,KAmBIM,iBAAkBC,GAClBC,cAAerf,IAEf,kBAAC,KAAKY,KAAN,CACEtF,KAAK,gBACL2iB,MAAM,2BACNC,MAAO,CAAC,CAAEnd,KAAM,SAAUue,UAAU,KAEpC,kBAAC,GAAD,CACEpF,iBAAkBA,EAClB+L,aAAa,gIACbC,eAAgB,yBAAKllB,MAAO,CAAEsR,OAAO,UACrC6T,iBAAkB,yBAAKnlB,MAAO,CAAEsR,OAAO,WACvC8T,WAAY,yBAAKplB,MAAO,CAAEsR,OAAO,UACjC8P,sBA9BoB,SAACiE,GAC7B,IAAI/f,EAAWtG,GAAc,GAC7BsG,EAAS2T,cAAgBoM,EACzB/f,EAASggB,gBAAkB,GAC3BjK,EAAK0C,eAAezY,GAEpB0f,EAAc,CAACK,KAyBPhE,kBAAmBriB,EAAOA,EAAKia,mBAAgBgK,KAInD,kBAAC,KAAKrjB,KAAN,CACEtF,KAAK,mBACL2iB,MAAM,+CACNC,MAAO,CAAC,CAAEnd,KAAM,QAASue,UAAU,KAEnC,kBAAC,KAAD,CACEjP,KAAK,WACL+D,YAAU,EACVpI,YAAY,0DA1DJ8Z,EAAWpV,KAAI,SAAC1S,GAC9B,OACE,kBAAC,GAAD,CAAQa,IAAKb,EAAKoD,IAAK7F,MAAOyC,EAAKoD,KAChCpD,EAAK1C,WA6DR,kBAAC,KAAD,CAAKyY,OAAQ,GACX,kBAAC,IAAD,CAAKhT,KAAK,QACR,kBAAC,IAAD,CACEA,KAAK,UACLgO,KAAM,kBAAC4S,GAAA,EAAD,MACNzgB,QAAS4e,GAHX,iBADF,SASE,kBAAC,IAAD,CAAQ/e,KAAK,UAAUgO,KAAM,kBAACwX,GAAA,EAAD,MAAkB/G,SAAS,UAAxD,uB,uEC7HG3kB,WAAOC,IAAtB,MCMQ6X,GAAWC,KAAXD,OA+EO6T,GA7ED,SAAC,GAAoD,IAAlD1G,EAAiD,EAAjDA,SAAUjB,EAAuC,EAAvCA,SAAU7e,EAA6B,EAA7BA,KAAM8e,EAAuB,EAAvBA,iBAAuB,EACjD3C,KAAKC,UAAbC,EADyD,oBAGhEve,qBAAU,WACRue,EAAK0C,eAAe/e,KACnB,CAACA,EAAMqc,IAOV,OACE,kBAAC,GAAD,KACE,kBAAC,KAAD,iBACM2C,GADN,CAEE3C,KAAMA,EACN/gB,KAAK,qBACL2jB,SAXW,SAACC,GAChBJ,EAAiBI,GACjBL,KAUIM,iBAAkBC,KAElB,kBAAC,KAAKxe,KAAN,CACEtF,KAAK,YACL2iB,MAAM,iCACNC,MAAO,CAAC,CAAEnd,KAAM,SAAUue,UAAU,KAEpC,kBAAC,KAAD,CAAQlL,YAAU,EAACpI,YAAY,4CAC7B,kBAAC,GAAD,CAAQzQ,MAAOkW,GAAUC,MAAzB,0BACA,kBAAC,GAAD,CAAQnW,MAAOkW,GAAUE,UAAzB,sBAGJ,kBAAC,KAAK/Q,KAAN,CACEtF,KAAK,eACL2iB,MAAM,8BACNC,MAAO,CAAC,CAAEnd,KAAM,SAAUue,UAAU,KAEpC,kBAAC,KAAD,CAAQlL,YAAU,EAAC+J,YAAU,EAACnS,YAAY,kBACxC,kBAAC,GAAD,CAAQzQ,MAAOqW,GAAeE,OAA9B,SACA,kBAAC,GAAD,CAAQvW,MAAOqW,GAAeC,OAA9B,cAGJ,kBAAC,KAAKjR,KAAN,CACEtF,KAAK,aACL2iB,MAAM,iCACNC,MAAO,CAAC,CAAEnd,KAAM,SAAUue,UAAU,KAEpC,kBAAC,KAAD,CAAQlL,YAAU,EAACpI,YAAY,4CAC7B,kBAAC,GAAD,CAAQzQ,MAAOwW,GAAW,SAA1B,QACA,kBAAC,GAAD,CAAQxW,MAAOwW,GAAW,SAA1B,QACA,kBAAC,GAAD,CAAQxW,MAAOwW,GAAW,UAA1B,WAIJ,kBAAC,KAAD,CAAKgC,OAAQ,GACX,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEhT,KAAK,UACLgO,KAAM,kBAAC4S,GAAA,EAAD,MACNzgB,QAAS4e,GAHX,iBADF,SASE,kBAAC,IAAD,CACE/e,KAAK,UACLgO,KAAM,kBAACwQ,GAAA,EAAD,MACNC,SAAS,UAHX,uB,uECvEG3kB,WAAOC,IAAtB,MCoBQ2rB,GAAa9S,KAAb8S,SChBKC,GAAQ,CACnB,CAAEtmB,MAAO,mBAAUyB,YAAa,sCAAoBjD,QAASggB,IAC7D,CACExe,MAAO,mBACPyB,YAAa,6CACbjD,QAASihB,IAEX,CACEzf,MAAO,mBACPyB,YAAa,yEACbjD,QAASinB,IAEX,CAAEzlB,MAAO,mBAAUyB,YAAa,qCAAoBjD,QAAS4nB,IAC7D,CAAEpmB,MAAO,mBAAUyB,YAAa,wCAAsBjD,QDK1C,SAAC,GAAwD,IAAtDkhB,EAAqD,EAArDA,SAAU9f,EAA2C,EAA3CA,KAAM8e,EAAqC,EAArCA,iBAAkB6H,EAAmB,EAAnBA,aAAmB,EAChC9pB,mBAAS,IADuB,mBAC7D+pB,EAD6D,KACjDC,EADiD,OAGrD1K,KAAKC,UAAbC,EAH6D,oBAKpEve,qBAAU,WACRue,EAAK0C,eAAe/e,KACnB,CAACA,EAAMqc,IAEVve,qBAAU,YACiB,yCAAG,6BAAAkL,EAAA,+EAELuS,KAFK,WAElBiB,EAFkB,SAKrBA,EAAKnX,QACLmX,EAAKhU,QACLse,MAAMC,QAAQvK,EAAKhU,QAPE,sBAShB,IAAIwe,MAAM,4BATM,OAWxBH,EAAcrK,EAAKhU,QAXK,gDAaxBoC,KAAa1K,MAAM,CACjBvB,QAAS,gEAda,yDAAH,qDAkBzBsoB,KACC,IAEH,IAAMC,EAAe,SAAC3M,GAAD,+BAAgB,uBAAAvR,EAAA,sEAC7B2d,EAAapM,GADgB,4CA4BrC,OACE,kBAAC,GAAD,KACE,kBAAC,KAAD,iBACMyE,GADN,CAEE3C,KAAMA,EACN/gB,KAAK,oBACL2jB,SAbW,SAACC,GAChBJ,EAAiBI,GACjB,IAAM5E,EAAW,2BAAQta,GAASkf,IAnBd,SAAC3E,GAAgB,IAC7Bjf,EAASif,EAATjf,KACR0Z,KAAMC,QAAQ,CACZ7U,MAAO,mBACP2O,KAAM,kBAAC+N,GAAA,EAAD,MACNle,QACE,0DACeoB,EAAK6B,YAAc,WAAQ,WAD1C,gCAC8D,IAC5D,gCAASvG,GAFX,KAKFqQ,OAAQ,sBACRC,WAAY,WACZH,KAAMyb,EAAa3M,KAQrB4M,CADmB9M,GAA+BC,KAW9C6E,iBAAkBC,KAElB,kBAAC,KAAKxe,KAAN,CACEtF,KAAK,SACL2iB,MAAM,8BACNC,MAAO,CAAC,CAAEnd,KAAM,QAASue,UAAU,KAEnC,kBAAC,KAAD,CAAQjP,KAAK,WAAW8N,YAAU,EAACnS,YAAY,yCAC5C4a,EAAWlW,KAAI,YAAoB,IAAjBtP,EAAgB,EAAhBA,IAAK9F,EAAW,EAAXA,KACtB,OACE,kBAAC,KAAOqX,OAAR,CAAe9T,IAAKuC,EAAK7F,MAAO6F,GAC7B9F,QAMX,kBAAC,KAAKsF,KAAN,CACEtF,KAAK,cACL2iB,MAAM,aACNC,MAAO,CAAC,CAAEnd,KAAM,SAAUue,UAAU,KAEpC,kBAAC,GAAD,CACEtT,YAAY,8CACZob,SAAU,CAAEC,QAAS,EAAGC,QAAS,MAGrC,kBAAC,KAAD,CAAKvT,OAAQ,GACX,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEhT,KAAK,UACLgO,KAAM,kBAAC4S,GAAA,EAAD,MACNzgB,QAAS4e,GAHX,iBADF,SASE,kBAAC,IAAD,CAAQ/e,KAAK,UAAUgO,KAAM,kBAACwX,GAAA,EAAD,MAAkB/G,SAAS,UAAxD,mBCzGCR,GAAS,CACpBtB,OAAQ,aACRC,SAAU,CAAE5J,OAAQ,EAAG5B,KAAM,GAC7ByL,WAAY,CAAEzL,KAAM,IACpB0L,WAAY,QAGDuB,GAAoB,CAC/BE,SAAS,oE,WCnBHiI,GAASC,KAATD,KA2DOE,GAzDa,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,YAAatnB,EAA0B,EAA1BA,MAAOumB,EAAmB,EAAnBA,aAC3ChqB,EAAUC,cADoD,EAEtCqN,IAAMpN,SAAS,GAFuB,mBAE7D8qB,EAF6D,KAEpDC,EAFoD,OAG5C/qB,mBAAS,IAHmC,mBAG7DmD,EAH6D,KAGvD6nB,EAHuD,KAKpE/pB,qBAAU,WACR+pB,EAAQH,KACP,CAACA,IAEJ,IAAM7I,EAAW,WACX8I,IAAYG,OAAOC,KAAKrB,IAAOxnB,OAAS,GAC5C0oB,EAAWD,EAAU,IAGjB7H,EAAW,WACC,IAAZ6H,GACJC,EAAWD,EAAU,IAGjB7I,EAAmB,SAACI,GACxB2I,EAAQ,2BAAK7nB,GAASkf,KAmBxB,OACE,kBAAC,GAAD,KACE,kBAAC,IAAD,CAAKne,KAAK,OAAOuM,MAAM,UACrB,kBAACqR,GAAD,KACE,kBAACqJ,GAAA,EAAD,CAAmBlnB,KAAM,GAAII,QAPtB,WACbvE,EAAQsrB,aAQJ,kBAAC3O,GAAD,KAAalZ,IAEf,kBAAC,KAAD,CAAOunB,QAASA,GACbjB,GAAMhW,KAAI,gBAAGtQ,EAAH,EAAGA,MAAOyB,EAAV,EAAUA,YAAV,OACT,kBAAC0lB,GAAD,CAAM1oB,IAAKuB,EAAOA,MAAOA,EAAOyB,YAAaA,QAGjD,kBAAC6c,GAAD,KA7BkB,WACpB,IAAMxU,EAAYwc,GAAMiB,GAAS/oB,QACjC,OACE,kBAACsL,EAAD,CACE2U,SAAUA,EACViB,SAAUA,EACV9f,KAAMA,EACN2mB,aAAcA,EACd7H,iBAAkBA,IAqBLoJ,MC9BNC,GA7Be,WAC5B,IAAMxrB,EAAUC,cAKVme,EAAqB,yCAAG,WAAO/a,GAAP,UAAAgJ,EAAA,+EAEpBuT,GAAmBxB,sBAAsB/a,GAFrB,OAI1B4K,KAAa7L,QAAQ,CACnBJ,QAAS,+BARbhC,EAAQsrB,SAGoB,gDAS1Brd,KAAa1K,MAAM,CACjBvB,QAAS,sDAVe,yDAAH,sDAe3B,OACE,kBAAC,GAAD,CACEyB,MAAM,wCACNumB,aAAc5L,KCvBLqN,GAJmB,WAChC,OAAO,kBAAC,GAAD,OCqDMC,GAlDe,WAAO,IAAD,EACoBxrB,mBAAS,IAD7B,mBAC3ByrB,EAD2B,KACNC,EADM,KAE5B7oB,EAAS8oB,cACT7rB,EAAUC,cAKhBkB,qBAAU,WAAO,IACP4D,EAAOhC,EAAPgC,IACsB,yCAAG,6BAAAsH,EAAA,+EAEVuT,GAAmBtB,mBAAmBvZ,GAF5B,OAEvB8a,EAFuB,OAG7Bre,QAAQC,IAAI,QAASoe,GACrB+L,EAAuB/L,EAAKxc,KAAKwI,OAAOigB,iBAJX,gDAM7B7d,KAAa1K,MAAM,CACjBvB,QAAS,sDAPkB,yDAAH,qDAW9B+pB,KACC,CAAChpB,IAEJ,IAAMyb,EAAqB,yCAAG,WAAO+D,GAAP,kBAAAlW,EAAA,sEAElBtH,EAAOhC,EAAPgC,GACF6Y,EAHoB,aAGLnZ,IAAKM,GAAOwd,GAHP,SAIpB3C,GAAmBpB,sBAAsBZ,GAJrB,OAM1B3P,KAAa7L,QAAQ,CACnBJ,QAAS,yCA1BbhC,EAAQsrB,SAmBoB,gDAW1Brd,KAAa1K,MAAM,CACjBvB,QAAS,sDAZe,yDAAH,sDAiB3B,OACE,kBAAC,GAAD,CACE+oB,YAAa5N,GAAgCwO,GAC7CloB,MAAM,wCACNumB,aAAcxL,KC7CLwN,GAJmB,WAChC,OAAO,kBAAC,GAAD,O,yXCFM9tB,WAAOC,IAAtB,MAIa8tB,GAAc/tB,IAAOC,IAAV,MAKXue,GAAqBxe,IAAOC,IAAV,MCPzB4iB,GAAS,CACbC,SAAU,CACRxL,KAAM,GAERyL,WAAY,CACVzL,KAAM,IAERuL,OAAQ,cAGJyB,GAAmB,CACvBG,SAAU,mEACV5b,MAAO,CACL0H,MAAO,6DACPyd,OAAQ,uCAEVA,OAAQ,CACNC,MAAO,mFAILC,GAAgB,GA6FPC,GA3FG,SAAC,GASZ,IARL3e,EAQI,EARJA,QACAqB,EAOI,EAPJA,SACAtL,EAMI,EANJA,MACAqL,EAKI,EALJA,KAKI,IAJJE,cAII,MAJK,KAIL,MAHJC,kBAGI,MAHS,WAGT,MAFJyT,qBAEI,MAFY0J,GAEZ,MADJE,iBACI,WACW9M,KAAKC,UAAbC,EADH,oBAEJve,qBAAU,WACRue,EAAKiC,cACLjC,EAAK0C,eAAeM,KACnB,CAACA,EAAehD,IAqBnB,OACE,kBAAC,KAAD,CACEja,MAAM,OACNhC,MAAOA,EACPiK,QAASA,EACTqB,SAAUA,EACVwd,QAAQ,GAER,kBAAC,KAAD,iBACMxL,GADN,CAEErB,KAAMA,EACN/gB,KAAK,YACL6jB,iBAAkBA,GAClBF,SAhCW,SAACC,GAChBzT,EAAKyT,GACL7C,EAAKiC,eA+BDe,cAAeA,EACf8J,oBAAkB,EAClBjnB,UAAU,eAEV,kBAAC,KAAKtB,KAAN,CACEtF,KAAK,OACL2iB,MAAM,iBACNC,MAAO,CAAC,CAAEnd,KAAM,SAAUue,UAAW2J,KAErC,kBAAC,KAAD,CAAO1V,SAAU0V,EAAWjd,YAAY,8BAW1C,kBAAC,KAAKpL,KAAN,CAAWtF,KAAK,cAAc2iB,MAAM,iBAClC,kBAAC,KAAD,CAAO1K,SAAU0V,EAAWjd,YAAY,qCAGzCid,GAlDH,oCACE,kBAAC,KAAKroB,KAAN,CAAWtF,KAAK,YAAY2iB,MAAM,oBAChC,kBAAC,KAAD,CAAO1K,UAAQ,KAGjB,kBAAC,KAAK3S,KAAN,CAAWtF,KAAK,YAAY2iB,MAAM,8BAChC,kBAAC,KAAD,CAAO1K,UAAQ,MA8CjB,kBAAC,IAAD,CAAKxS,KAAK,OAAOsM,QAAQ,MAAMC,MAAM,WACjC2b,GACA,kBAAC,IAAD,CAAQzJ,SAAS,SAASte,QAASwK,GAChCE,GAHP,SAOE,kBAAC,IAAD,CAAQ4T,SAAS,SAASze,KAAK,WAC5B4K,O,UC9DEyd,GAzCE,SAAC,GAAsC,IAApC/e,EAAmC,EAAnCA,QAASgf,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,SAChCC,EAAU,yCAAG,sCAAAvgB,EAAA,6DAAS1N,EAAT,EAASA,KAAMuG,EAAf,EAAeA,YAAf,EAA4B2nB,SACzCC,EAAYC,qBACd,CACEpuB,OAEAuG,cACA8nB,WAAW,GAEb,CAAEC,MAAM,IARO,kBAWIvO,GAAYoO,GAXhB,WAWTjN,EAXS,SAaDA,EAAKnX,QAAWmX,EAAKhU,OAbpB,sBAakC,IAAIwe,MAAM,4BAb5C,OAeC6C,EAAarN,EAArBhU,OACR8gB,EAASO,GAETjf,KAAa7L,QAAQ,CACnBJ,QAAS,qCAnBI,kDAsBfiM,KAAa1K,MAAM,CACjBvB,QAAS,gEAvBI,0DAAH,sDA4BhB,OACE,kBAAC,GAAD,CACEyB,MAAM,kBACNuL,OAAO,UACPC,WAAW,WACXH,KAAM8d,EACN7d,SAAU2d,EACVhf,QAASA,KCMAyf,GA1CK,SAAC,GAAuD,IAArDzf,EAAoD,EAApDA,QAASgf,EAA2C,EAA3CA,UAAWU,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,YACjDC,EAAa,yCAAG,wCAAAjhB,EAAA,6DAAS1N,EAAT,EAASA,KAAMuG,EAAf,EAAeA,YAAa2nB,EAA5B,EAA4BA,SAC1CC,EAAYC,qBAChB,CACEtoB,IAAK2oB,EAAa3oB,KAAO,GACzB9F,OACAuG,cACA2nB,YAEF,CAAEI,MAAM,IARU,kBAWCnO,GAAegO,GAXhB,WAWZjN,EAXY,SAaJA,EAAKnX,QAAWmX,EAAKhU,OAbjB,sBAa+B,IAAIwe,MAAM,4BAbzC,OAeFkD,EAAiB1N,EAAzBhU,OACRwhB,EAAYE,GAEZtf,KAAa7L,QAAQ,CACnBJ,QAAS,gDAnBO,kDAsBlBiM,KAAa1K,MAAM,CACjBvB,QAAS,gEAvBO,0DAAH,sDA4BnB,OACE,kBAAC,GAAD,CACEyB,MAAM,6BACNuL,OAAO,qBACPC,WAAW,WACXH,KAAMwe,EACNve,SAAU2d,EACVhf,QAASA,EACTgV,cAAe0K,KCdbrW,GAAWC,KAAXD,OA8OOyW,GA5OI,WAAO,IAAD,EAC6BttB,oBAAS,GADtC,mBAChButB,EADgB,KACIC,EADJ,OAE6BxtB,oBAAS,GAFtC,mBAEhBytB,EAFgB,KAEIC,EAFJ,OAGuB1tB,qBAHvB,mBAGhB2tB,EAHgB,KAGCC,EAHD,OAIa5tB,qBAJb,mBAIhB6tB,EAJgB,KAIJC,EAJI,OAKqB9tB,qBALrB,mBAKhB+tB,EALgB,KAKAC,EALA,OAMOhuB,oBAAS,GANhB,mBAMhBa,EANgB,KAMPC,EANO,KAQvBG,qBAAU,WACJ4sB,GACiB,yCAAG,6BAAA1hB,EAAA,sEAEpBrL,GAAW,GAFS,SAGD4d,KAHC,WAGdiB,EAHc,SAMjBA,EAAKnX,QACLmX,EAAKhU,QACLse,MAAMC,QAAQvK,EAAKhU,QARF,sBAUZ,IAAIwe,MAAM,4BAVE,OAapB2D,EAAcnO,EAAKhU,QACnBqiB,EAAkBrO,EAAKhU,QACvB7K,GAAW,GAfS,kDAiBpBiN,KAAa1K,MAAM,CACjBvB,QAAS,gEAlBS,0DAAH,oDAsBrBmsB,KACC,CAACJ,IAEJ,IAsBMK,EAAkB,WACtBV,GAAsB,IAGlBW,EAAkB,SAAC1V,GAAD,OAAY,WAClCmV,EAAmBnV,GACnBiV,GAAsB,KAGlBU,EAAkB,WACtBV,GAAsB,IA0DlBpV,EAAU,CACd,CACEtW,IAAK,OACL2W,UAAW,OACXpV,MAAO,iBACPgC,MAAO,MACP2a,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE1N,KAAK2hB,cAAcD,EAAE1hB,QAG3C,CACEuD,IAAK,cACL2W,UAAW,cACXpV,MAAO,gBACPgC,MAAO,MACP2a,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEnH,YAAYob,cAAcD,EAAEnb,eAElD,CACEhD,IAAK,YACL2W,UAAW,YACXpV,MAAO,mBACPgC,MAAO,MACPgT,OAAQsF,GACRqC,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUzR,KAAOvC,EAAE+Q,WAAW3c,KAAKmO,KAAOyR,EAAEjD,cAEtD,CACElb,IAAK,YACL2W,UAAW,YACXpV,MAAO,6BACPgC,MAAO,MACPgT,OAAQsF,GACRqC,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUzR,KAAOvC,EAAE+Q,WAAW3c,KAAKmO,KAAOyR,EAAEjD,cAEtD,CACElb,IAAK,UACLuB,MAAO,yBACPgC,MAAO,OACPkL,MAAO,SACP8H,OAAQ,SAACpV,EAAMsV,GACb,OACE,kBAAC,IAAD,CAAKvU,KAAK,OAAO8K,OAAQ,CAAC,EAAG,GAAIwB,QAAQ,SAASC,MAAM,UACtD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEyB,KAAM,kBAACyO,GAAA,EAAD,MACN1c,KAAK,QACLI,QAAS8pB,EAAgB1V,IAH3B,uBAQF,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEvG,KAAM,kBAAC0O,GAAA,EAAD,MACNtc,QAAM,EACNL,KAAK,QACLI,QAAS,kBAvED,SAAClD,GAAU,IAvBNktB,EAwBjB9pB,EAAcpD,EAAdoD,IAAK9F,EAAS0C,EAAT1C,KAEb0Z,KAAMC,QAAQ,CACZ7U,MAAO,mBACP2O,KAAM,kBAAC+N,GAAA,EAAD,MACNle,QACE,yEACuB,gCAAStD,GADhC,cAIFqQ,OAAQ,SACRC,WAAY,WACZH,MApCuByf,EAoCC9pB,EApCF,wBAAa,+BAAA4H,EAAA,+EAEhB0S,GAAewP,GAFC,WAE7B1O,EAF6B,SAIrBA,EAAKnX,OAJgB,sBAIF,IAAI2hB,MAAM,4BAJR,OAM7BmE,EAAgBT,EAAWzlB,QAAO,SAACgZ,GAAW,IAAD,EAC7BA,EAAZvc,GACR,OAAOwpB,UAF0C,MACpC,GADoC,MAKnDP,EAAcQ,GAEdvgB,KAAa7L,QAAQ,CACnBJ,QAAS,oCAdwB,kDAiBnCiM,KAAa1K,MAAM,CACjBvB,QAAS,gEAlBwB,6DA8FVke,CAAcvH,KAJ/B,eAeZ,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEjL,QAAS+f,EACTf,UAAW0B,EACXzB,SA7HW,SAACrL,GAChB0M,EAAc,CAAC1M,GAAF,oBAAYyM,KACzBK,OA8HE,kBAAC,GAAD,CACE1gB,QAASigB,EACTjB,UAAW4B,EACXlB,aAAcS,EACdR,YA/Hc,SAAC/L,GAAW,IACtB7c,EAAQ6c,EAAR7c,IACFgqB,EAAoBV,EAAWha,KAAI,SAACrF,GAAD,OACvCA,EAAQjK,MAAQA,EAAM6c,EAAQ5S,KAGhCsf,EAAcS,GACdH,OA2HE,oDAEA,kBAAC,IAAD,CAAKlqB,KAAK,OAAOsM,QAAQ,gBAAgBC,MAAM,UAC7C,kBAAC,KAAD,CAAK6E,KAAM,GACT,kBAAC,GAAD,CACEnG,YAAY,0CACZoY,SAhLW,SAAC7oB,GACpB,IAAI8vB,EAAmBT,EAAe3lB,QAAO,SAACgZ,GAC5C,IAAIqN,EAAmB1J,GAAsB3D,EAAM3iB,MAC/CiwB,EAA0B3J,GAAsB3D,EAAMpc,aACtD2pB,EAAe5J,GAAsBrmB,GAEzC,OACE+vB,EAAiB/G,SAASiH,IAC1BD,EAAwBhH,SAASiH,GAE1BvN,EAEF,QAGT0M,EAAcU,IAkKN7G,aAAW,KAGf,kBAAC,IAAD,CACEzjB,KAAK,UACLgO,KAAM,kBAACrF,GAAA,EAAD,MACNxI,QArKgB,WACtBmpB,GAAsB,KAiKlB,oBAQD3sB,EACC,kBAAC,GAAD,KACE,kBAAC,IAAD,OAGF,kBAACkrB,GAAD,KACE,kBAAC,KAAD,CAAOzT,QAASA,EAASzU,WAAYgqB,OC9PhCe,GAJQ,WACrB,OAAO,kBAAC,GAAD,O,4BCOFC,GAAWC,KAAXD,QACU9Y,KAAVD,OAEP,SAASvK,GAASvJ,GACdV,QAAQC,IAAIS,GAGhB,IAAM+sB,GAAiBC,mBACnBC,qBAAU,CACN7F,aAAc,gIACdC,eAAgB,yBAAKllB,MAAO,CAACsR,OAAO,UACpC6T,iBAAkB,yBAAKnlB,MAAO,CAACsR,OAAO,WACtC8T,WAAY,yBAAKplB,MAAO,CAACsR,OAAO,YAEpC2P,gBACAC,iBARmB2J,EASrB,SAACxiB,GAAD,OACE,kBAAC,aAAD,CACI6a,YAAa,GACbC,cAAe,CAACjB,IAAK,QAASC,IAAK,WACnCjiB,QAASmI,EAAM0iB,eAGd1iB,EAAM2iB,WAAWtb,KAAI,SAACub,EAAQ3uB,GAC3B,OACI,kBAAC,WAAD,CACI4uB,KAAMD,EACNptB,IAAKvB,EACLmkB,UAAU,EACVvgB,QAASmI,EAAM0iB,cACf3G,QAAS,CACLC,YAAa,UACbG,aAAc,SAM9B,kBAAC,WAAD,CACI0G,KAAM7iB,EAAM8iB,eACZttB,IAAK,EACL4iB,UAAU,EACV2D,QAAS,CACLC,YAAa,UACbG,aAAc,SAQxB4G,G,2KAGE,OACI,yBAAKprB,MAAS,CAACqrB,WAAY9iB,KAAKF,MAAMijB,KAAMlqB,MAAO,SAC/C,wBAAIpB,MAAO,CAACyN,WAAW,QAAvB,yCACA,2BAAOvM,UAAU,uDACjB,4BACI,wBAAIlB,MAAQ,CAACoB,MAAM,SAAnB,mCACA,wBAAIpB,MAAQ,CAACoB,MAAM,SAAUmH,KAAKF,MAAMkjB,eAAe9oB,OAE3D,4BACI,wBAAIzC,MAAQ,CAACoB,MAAM,SAAnB,oCACA,wBAAIpB,MAAQ,CAACoB,MAAM,SAAUmH,KAAKF,MAAMkjB,eAAejxB,OAE3D,4BACI,wBAAI0F,MAAQ,CAACoB,MAAM,SAAnB,oCACA,wBAAIpB,MAAQ,CAACoB,MAAM,SAAUmH,KAAKF,MAAMkjB,eAAe5G,YAE3D,4BACI,wBAAI3kB,MAAQ,CAACoB,MAAM,SAAnB,uCACA,wBAAIpB,MAAQ,CAACoB,MAAM,SAAUmH,KAAKF,MAAMkjB,eAAe7G,YAE3D,4BACI,wBAAI1kB,MAAQ,CAACoB,MAAM,SAAnB,kBACA,wBAAIpB,MAAQ,CAACoB,MAAM,SAAUmH,KAAKF,MAAMkjB,eAAe1qB,cAE3D,4BACI,wBAAIb,MAAQ,CAACoB,MAAM,SAAnB,iCACA,wBAAIpB,MAAQ,CAACoB,MAAM,SAAUmH,KAAKF,MAAMkjB,eAAeC,WAE3D,4BACI,wBAAIxrB,MAAQ,CAACoB,MAAM,SAAnB,4DACA,wBAAIpB,MAAQ,CAACoB,MAAM,SAAUmH,KAAKF,MAAMkjB,eAAeE,QAE3D,4BACI,wBAAIzrB,MAAQ,CAACoB,MAAM,SAAnB,yCACA,wBAAIpB,MAAQ,CAACoB,MAAM,SAAUmH,KAAKF,MAAMkjB,eAAexqB,c,GArChDkI,IAAMC,WA4C3BwiB,G,oDACF,WAAYrjB,GAAQ,IAAD,+BACf,cAAMA,IA8DVsjB,kBAAoB,SAAC1gB,GACjB,IAAIiX,EAAMjX,EAAEiZ,OAAOhC,MACf0J,EAAO3gB,EAAEiZ,OAAO/B,MAChBoJ,EAAiB,GACrB,GAAI,EAAKxpB,MAAM8pB,WAAW3tB,OAAS,EAAG,CAClC,IAAI4tB,EAAG,EACP,IAAKA,EAAI,EAAGA,EAAI,EAAK/pB,MAAM8pB,WAAW3tB,OAAQ4tB,IAC1C,IAAM5J,EAAM,EAAKngB,MAAM8pB,WAAWC,GAAGrJ,WAAWC,WAAWR,EAAM,EAAKngB,MAAM8pB,WAAWC,GAAGjJ,SAASH,UAAW,IACxGkJ,EAAO,EAAK7pB,MAAM8pB,WAAWC,GAAGrJ,WAAWE,YAAYiJ,EAAO,EAAK7pB,MAAM8pB,WAAWC,GAAGjJ,SAASF,WAAY,EAChH,CACE4I,EAAiBzE,OAAOiF,OAAO,GAAI,EAAKhqB,MAAM8pB,WAAWC,IAAK,OAI1E,EAAK7jB,SAAS,CAACsjB,mBACf,EAAKtjB,SAAS,CACV+jB,WAAY,YAEhB7uB,QAAQC,IAAI,EAAK2E,MAAMwpB,eAAejxB,OAjFvB,EAoFnB2xB,kBAAoB,WAEhB,EAAKhkB,SAAS,CAAEikB,qBADU,IAE1B,EAAKjkB,SAAS,CACV+jB,WAAY,YAxFD,EA2FnBG,gBAAkB,WAEd,EAAKlkB,SAAS,CAAEikB,qBADU,KA1F1B,EAAKnqB,MAAQ,CACTopB,eAAgB,GAChBiB,QAAS,GACT1rB,GAAI,EAAK2H,MAAMuD,SAAS7J,MAAMrB,GAC9B2rB,QAAS,CACL,WAAc,CACV,UAAa,mBACb,SAAY,oBAEhB,SAAY,CACR,SAAY,mBACZ,UAAa,oBAEjB,cAAiB,CACb,2BACA,4BAEJ,IAAO,2BACP,KAAQ,4CACR,KAAQ,WACR,UAAa,IACb,UAAa,GACb,SAAY,EACZ,MAAS,EACT,MAAS,EACT,YAAe,+BAEnBL,WAAY,SACZT,eAAgB,GAChBM,WAAY,GACZS,iBAAkB,GAClBC,eAAe,EACfL,qBAAqB,EACrBM,cAAc,EACdC,iBAAiB,EACjBC,gBAAiB,IAGrB,EAAKC,cAAgB,EAAKA,cAAcC,KAAnB,iBAxCN,E,iEA4CfrkB,KAAKskB,QAAQtkB,KAAKxG,MAAMrB,IACxB5C,WAAW,KACXyK,KAAKukB,cAAcvkB,KAAKxG,MAAMrB,M,2BAG7BqsB,EAAMC,GAEP,OAA6B,IADZlG,OAAOC,KAAKgG,GAAM9oB,QAAO,SAAAgpB,GAAC,OAAIF,EAAKE,KAAOD,EAAKC,MAC9C/uB,S,oCAGR+M,GACV,IAAIpN,EAAMoN,EAAEC,OAAO5Q,KACfC,EAAQ0Q,EAAEC,OAAO3Q,MACrBgO,KAAKN,UAAS,SAAAilB,GACV,IAAIb,EAAUvF,OAAOiF,OAAO,GAAImB,EAAUb,SAE1C,OADAA,EAAQxuB,GAAOtD,EACR,CAAE8xB,gB,wCAoCCG,GACdjkB,KAAKN,SAAS,CAACukB,mB,2CAGEC,GACjBlkB,KAAKN,SAAS,CAACwkB,sB,mCAGf,GAAIlkB,KAAKxG,MAAMsqB,QAAQ5J,WAAWC,UAAYna,KAAKxG,MAAMsqB,QAAQxJ,SAASH,SAAU,CAChF,IAAIyI,EAAiB,CACjB,CAACjJ,IAAK3Z,KAAKxG,MAAMsqB,QAAQ5J,WAAWC,SAAUP,IAAK5Z,KAAKxG,MAAMsqB,QAAQ5J,WAAWE,WACjF,CAACT,IAAK3Z,KAAKxG,MAAMsqB,QAAQ5J,WAAWC,SAAUP,IAAK5Z,KAAKxG,MAAMsqB,QAAQxJ,SAASF,WAC/E,CAACT,IAAK3Z,KAAKxG,MAAMsqB,QAAQxJ,SAASH,SAAUP,IAAK5Z,KAAKxG,MAAMsqB,QAAQxJ,SAASF,WAC7E,CAACT,IAAK3Z,KAAKxG,MAAMsqB,QAAQxJ,SAASH,SAAUP,IAAK5Z,KAAKxG,MAAMsqB,QAAQ5J,WAAWE,YAEnFpa,KAAKN,SAAS,CAACkjB,sB,8BAGfzqB,GAAK,IAAD,OACRlF,KAAMiJ,IAAN,kEAAqE/D,IAChE7B,MAAK,SAAA6F,GACE,IACI2nB,EADEc,EAAOzoB,EAAI1F,KAAKpB,QAAQuvB,KAE9Bd,EAAUvF,OAAOiF,OAAO,GAAIoB,GAC5B,EAAKllB,SAAS,CAACokB,eAGtBptB,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,oCAEtBwB,GAAK,IAAD,OACV4rB,EAAmB,GACnBc,EAAO7kB,KAAKxG,MAAMsqB,QAClBc,EAAO,CACP,CAACjL,IAAKkL,EAAK3K,WAAWC,SAAUP,IAAKiL,EAAK3K,WAAWE,WACrD,CAACT,IAAKkL,EAAK3K,WAAWC,SAAUP,IAAKiL,EAAKvK,SAASF,WACnD,CAACT,IAAKkL,EAAKvK,SAASH,SAAUP,IAAKiL,EAAKvK,SAASF,WACjD,CAACT,IAAKkL,EAAKvK,SAASH,SAAUP,IAAKiL,EAAK3K,WAAWE,YAEvD2J,EAAiB3rB,KAAKwsB,GACtB3xB,KAAMiJ,IAAN,uEAA0E/D,IACrE7B,MAAK,SAAA6F,GACF,IAAMmI,EAAOnI,EAAI1F,KAAKpB,QAAQ2kB,KAC1BsJ,EAAY,GACZC,EAAI,EACR,IAAMA,EAAI,EAAGA,EAAIjf,EAAK3O,OAAQ4tB,IAAI,CAC9B,IAAIuB,EAAIvG,OAAOiF,OAAO,GAAIlf,EAAKif,IAC/BD,EAAWlrB,KAAK0sB,GAChB,IAAIpC,EAAS,CACT,CAAC/I,IAAKmL,EAAE5K,WAAWC,SAAUP,IAAKkL,EAAE5K,WAAWE,WAC/C,CAACT,IAAKmL,EAAE5K,WAAWC,SAAUP,IAAKkL,EAAExK,SAASF,WAC7C,CAACT,IAAKmL,EAAExK,SAASH,SAAUP,IAAKkL,EAAExK,SAASF,WAC3C,CAACT,IAAKmL,EAAExK,SAASH,SAAUP,IAAKkL,EAAE5K,WAAWE,YAEjD2J,EAAiB3rB,KAAKsqB,GAE1B,EAAKhjB,SAAS,CAAC4jB,eACf,EAAK5jB,SAAS,CAACqkB,wBAElBrtB,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,+BAKhC,OACI,yBAAKgC,UAAU,QACX,kBAAC,KAAD,CAAMosB,iBAAiB,IAAIvkB,SAAU3B,IACjC,kBAACsjB,GAAD,CAAS6C,IAAI,2CAA6B1vB,IAAI,KAC1C,yBAAKqD,UAAU,WACX,2BAAOA,UAAU,uDACb,4BACI,wBAAIlB,MAAQ,CAACoB,MAAM,QAAnB,sCACA,wBAAIpB,MAAQ,CAACoB,MAAM,QACdmH,KAAKxG,MAAMsqB,QAAQ5pB,MAExB,wBAAIzC,MAAQ,CAACoB,MAAM,MAAOqM,WAAY,QAAtC,uCAGA,wBAAIzN,MAAQ,CAACoB,MAAM,QACnB,kBAAI,KAAJ,CAAU9G,KAAK,OAAO0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YAC5CzQ,MAAOgO,KAAKxG,MAAMsqB,QAAQ/xB,KAAMyO,SAAUR,KAAKokB,kBAG9D,4BACI,wBAAI3sB,MAAQ,CAACoB,MAAM,QAAnB,oCACA,wBAAIpB,MAAQ,CAACoB,MAAM,QACf,kBAAC,KAAD,CAAO9G,KAAK,OAAO0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YAC7CzQ,MAAOgO,KAAKxG,MAAMsqB,QAAQ1H,UAAW5b,SAAUR,KAAKokB,iBAE/D,wBAAI3sB,MAAQ,CAACoB,MAAM,MAAOqM,WAAY,QAAtC,uCACA,wBAAIzN,MAAQ,CAACoB,MAAM,QACf,kBAAC,KAAD,CAAO9G,KAAK,OAAO0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YAC7CzQ,MAAOgO,KAAKxG,MAAMsqB,QAAQ3H,UAAW3b,SAAUR,KAAKokB,kBAGnE,4BACI,wBAAI3sB,MAAQ,CAACoB,MAAM,QAAnB,kBACA,wBAAIosB,QAAS,KACb,kBAAI,KAAJ,CAAUlzB,KAAK,cAAc0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YACnDzQ,MAAOgO,KAAKxG,MAAMsqB,QAAQxrB,YAAakI,SAAUR,KAAKokB,kBAGrE,4BACI,wBAAI3sB,MAAQ,CAACoB,MAAM,MAAOqM,WAAY,QAAtC,iCACA,wBAAIzN,MAAQ,CAACoB,MAAM,QACf,kBAAC,KAAD,CAAO9G,KAAK,WAAW0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YACjDzQ,MAAOgO,KAAKxG,MAAMsqB,QAAQb,SAAUziB,SAAUR,KAAKokB,iBAE9D,wBAAI3sB,MAAQ,CAACoB,MAAM,MAAOqM,WAAY,QAAtC,4DACA,wBAAIzN,MAAQ,CAACoB,MAAM,QACdmH,KAAKxG,MAAMsqB,QAAQZ,QAG5B,4BACI,qEACA,wBAAI+B,QAAU,KACV,kBAAC,KAAD,CAAOlzB,KAAK,QAAQ0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YAC9CzQ,MAAOgO,KAAKxG,MAAMsqB,QAAQtrB,MAAOgI,SAAUR,KAAKokB,oBAKvE,6BACA,6BACA,0BAAM3sB,MAAO,CAACoB,MAAO,OAAQ6R,MAAO,SAChC,kBAAC2X,GAAD,CACIG,cAAexiB,KAAKojB,kBACpBM,kBAAmB1jB,KAAK0jB,kBACxBE,gBAAiB5jB,KAAK4jB,gBACtBhB,eAAgB5iB,KAAKxG,MAAMopB,eAC3BH,WAAYziB,KAAKxG,MAAMuqB,iBACvBJ,oBAAqB3jB,KAAKxG,MAAMmqB,uBAGxC,0BAAMhrB,UAAU,SAASlB,MAAO,CAACiT,MAAO,OAAQwa,YAAa,OACzD,kBAAC,GAAD,CACIlC,eAAiBhjB,KAAKxG,MAAMwpB,eAC5BD,KAAQ/iB,KAAKxG,MAAMiqB,eAI3B,yBAAK9qB,UAAU,gBAAgBlB,MAAO,CAAC0tB,MAAO,SAC1C,6BACA,yBAAKxsB,UAAU,SAENqH,KAAKnM,KAAKmM,KAAKxG,MAAMqqB,QAAS7jB,KAAKxG,MAAMsqB,UAAY,kBAAC,IAAD,CAAQtsB,KAAK,WAAb,YAGrDwI,KAAKnM,KAAKmM,KAAKxG,MAAMqqB,QAAS7jB,KAAKxG,MAAMsqB,UAAa,kBAAC,IAAD,CAAQ9Z,UAAQ,GAAhB,eAMvE,kBAACmY,GAAD,CAAS6C,IAAI,IAAI1vB,IAAI,Y,GA1PhBoL,IAAM0kB,eAkQhB/d,eAAW8b,I,WCnWpBd,GAAiBC,mBACnBC,qBAAU,CACN7F,aAAc,gIACdC,eAAgB,yBAAKllB,MAAO,CAACsR,OAAO,UACpC6T,iBAAkB,yBAAKnlB,MAAO,CAACsR,OAAO,WACtC8T,WAAY,yBAAKplB,MAAO,CAACsR,OAAO,YAEpC2P,gBACAC,iBARmB2J,EASrB,SAACxiB,GAAD,OACE,kBAAC,aAAD,CACI6a,YAAa,EACbC,cAAe,CAACjB,IAAK,QAASC,IAAK,WACnCjiB,QAASmI,EAAM0iB,eAEd1iB,EAAMulB,WAAWle,KAAI,SAACyd,EAAM7wB,GACzB,OACI,kBAAC,WAAD,CACI4uB,KAAMiC,EACNtvB,IAAKvB,EACLmkB,UAAU,EACVvgB,QAASmI,EAAM0iB,cACf3G,QAAS,CACLC,YAAa,UACbG,aAAc,QAM9B,kBAAC,WAAD,CACI0G,KAAM7iB,EAAM8iB,eACZjrB,QAASmI,EAAM0iB,cACfltB,IAAK,EACL4iB,UAAU,EACV2D,QAAS,CACLC,YAAa,UACbG,aAAc,SAMxBqJ,G,oDACF,WAAYxlB,GAAQ,IAAD,+BACf,cAAMA,IA0EVylB,kBAAoB,WAChBhwB,YAAW,WACP,EAAKmK,SAAS,CAAC8lB,eAAe,MAC/B,MA9EY,EAiFnBpC,kBAAoB,SAAC1gB,GACjB,IAAIiX,EAAMjX,EAAEiZ,OAAOhC,MACfC,EAAMlX,EAAEiZ,OAAO/B,MACf6L,EAAgB,EAAKjsB,MAAMgB,OAAO0f,WAAWC,SAC7CuL,EAAc,EAAKlsB,MAAMgB,OAAO8f,SAASH,SAyB7C,GAxBKsL,EAOOC,EAQR,EAAKhmB,UAAS,SAAAilB,GACV,IAAInqB,EAAS+jB,OAAOiF,OAAO,GAAImB,EAAUnqB,QAKzC,OAJAA,EAAO0f,WAAWC,SAAWR,EAC7Bnf,EAAO0f,WAAWE,UAAYR,EAC9Bpf,EAAO8f,SAASH,SAAW,GAC3B3f,EAAO8f,SAASF,UAAY,GACrB,CAAC5f,aAbZ,EAAKkF,UAAS,SAAAilB,GACV,IAAInqB,EAAS+jB,OAAOiF,OAAO,GAAImB,EAAUnqB,QAGzC,OAFAA,EAAO8f,SAASH,SAAWR,EAC3Bnf,EAAO8f,SAASF,UAAYR,EACrB,CAACpf,aAXZ,EAAKkF,UAAS,SAAAilB,GACV,IAAInqB,EAAS+jB,OAAOiF,OAAO,GAAImB,EAAUnqB,QAGzC,OAFAA,EAAO0f,WAAWC,SAAWR,EAC7Bnf,EAAO0f,WAAWE,UAAYR,EACvB,CAACpf,aAmBZ,EAAKhB,MAAMgB,OAAO0f,WAAWC,UAAY,EAAK3gB,MAAMgB,OAAO8f,SAASH,SAAU,CAC9E,IAAIyI,EAAiB,CACjB,CAACjJ,IAAK,EAAKngB,MAAMgB,OAAO0f,WAAWC,SAAUP,IAAK,EAAKpgB,MAAMgB,OAAO0f,WAAWE,WAC/E,CAACT,IAAK,EAAKngB,MAAMgB,OAAO0f,WAAWC,SAAUP,IAAK,EAAKpgB,MAAMgB,OAAO8f,SAASF,WAC7E,CAACT,IAAK,EAAKngB,MAAMgB,OAAO8f,SAASH,SAAUP,IAAK,EAAKpgB,MAAMgB,OAAO8f,SAASF,WAC3E,CAACT,IAAK,EAAKngB,MAAMgB,OAAO8f,SAASH,SAAUP,IAAK,EAAKpgB,MAAMgB,OAAO0f,WAAWE,YAEjF,EAAK1a,SAAS,CAACkjB,mBAEnB,EAAKljB,SAAS,CAAC8lB,eAAe,IAC9B,EAAKD,qBAtHL,EAAK/rB,MAAQ,CACTopB,eAAgB,GAChB4C,eAAe,EACfG,YAAa,GACbC,SAAU,GAEV3B,cAAc,EACdrY,QAAS,CACL,CACI/U,MAAO,qBACPoV,UAAW,OACX3W,IAAK,MACLuW,OAAQ,SAAAC,GAAI,OAAI,uBAAGnU,QAAS,WACxB,EAAKkuB,SAAS/Z,KACdA,KAER,CACIjV,MAAO,sBACPoV,UAAW,OACX3W,IAAK,QAET,CACIuB,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eAET,CACIuB,MAAO,uCACPvB,IAAK,QACL2W,UAAW,SAEf,CACIpV,MAAO,0DACPoV,UAAW,QACX3W,IAAK,SAET,CACIuB,MAAO,GACPgV,OAAQ,SAAArQ,GAAG,OACP,kBAAC,IAAD,CAAQhE,KAAK,UAAUI,QAAM,EAAC4N,KAAM,kBAAC0O,GAAA,EAAD,MAAmBzc,MAAO,CAAC8K,YAAa,IACpE5K,QAAS,kBAAM,EAAKmuB,WAAWtqB,KADvC,aAOZhB,OAAQ,CACJ0f,WAAY,CACRC,SAAU,GACVC,UAAW,IAEfE,SAAU,CACNH,SAAU,GACVC,UAAW,IAEfroB,KAAM,YACNmI,KAAM,QACNkiB,UAAW,IACXD,UAAW,GACX8G,SAAU,EACVzqB,MAAO,EACP0qB,MAAO,EACP5qB,YAAa,IAEjBnE,SAAS,EACTkxB,WAAY,GACZU,WAAY,IAEhB,EAAKvlB,SAAW,EAAKA,SAAS6jB,KAAd,iBAChB,EAAKwB,SAAW,EAAKA,SAASxB,KAAd,iBAChB,EAAKD,cAAgB,EAAKA,cAAcC,KAAnB,iBAxEN,E,2DA2HL3hB,GACV,IAAIpN,EAAMoN,EAAEC,OAAO5Q,KACfC,EAAQ0Q,EAAEC,OAAO3Q,MACrBgO,KAAKN,UAAS,SAAAilB,GACV,IAAInqB,EAAS+jB,OAAOiF,OAAO,GAAImB,EAAUnqB,QAEzC,OADAA,EAAOlF,GAAOtD,EACP,CAAEwI,e,wCAGCypB,GACbjkB,KAAKN,SAAS,CAACukB,mB,mCAEN,IAAD,OACThxB,KAAMiJ,IAAN,gEACG5F,MAAK,SAAA6F,GAEJ,EAAKuD,SAAS,CAACvL,SADD,IAEd,IAAMmQ,EAAOnI,EAAI1F,KAAKpB,QAAQ2wB,cAC1BJ,EAAW,GACXrC,EAAI,EACR,IAAMA,EAAI,EAAGA,EAAIjf,EAAK3O,OAAQ4tB,IAAI,CAChC,IAAIhF,EAAS,CACTrkB,KAAM,GACNnI,KAAM,GACNwB,MAAO,EACPsE,IAAK,GACLS,YAAa,GACb4qB,MAAO,GAEX3E,EAAOrkB,KAAOoK,EAAKif,GAAGrpB,KACtBqkB,EAAOxsB,KAAOuS,EAAKif,GAAGxxB,KACtBwsB,EAAO1mB,IAAMyM,EAAKif,GAAG1rB,IACrB0mB,EAAOhrB,MAAQ+Q,EAAKif,GAAG7S,cAAc/a,OACrC4oB,EAAOjmB,YAAcgM,EAAKif,GAAGjrB,YAC7BimB,EAAO2E,MAAQ5e,EAAKif,GAAGL,MACvB0C,EAASxtB,KAAKmmB,GAEhB,EAAK7e,SAAS,CACVkmB,SAAWA,OAGhBlvB,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,mCAEpB,IAAD,OACTqJ,KAAKimB,mBAAkB,GACvB,IAAIxvB,EAAOuJ,KAAKxG,MAAMgB,OACtBvH,KAAMyJ,KAAN,iDAA6DjG,EAAM,CAC3DP,QAAS,CACL,eAAgB,sBAGvBI,MAAK,SAAA6F,GACEA,EAAI1F,KAAKjB,SACT,EAAK0wB,aAETtxB,QAAQC,IAAI,SAEf6B,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,iCAEzBiuB,GAAO,IAAD,OACTzsB,EAAKysB,EAAK/sB,IACXyjB,OAAO5P,QAAP,uCAAoCkZ,EAAK7yB,KAAzC,QACCkB,KAAM2J,OAAN,yDAA+DzE,IAC1D7B,MAAK,SAAA6F,GACEA,EAAI1F,KAAKjB,UACT,EAAK0wB,aACLtxB,QAAQC,IAAI,cAGnB6B,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,2CAQnButB,GACjBlkB,KAAKN,SAAS,CAACwkB,sB,+BAGVxhB,GACL,IAAIlH,EAAMkH,EAAEC,OAAO,YACf7G,EAAS4G,EAAEC,OAAOwjB,QAClBR,EAAW,aAAO3lB,KAAKxG,MAAMmsB,aACjC,GAAI7pB,EAAQ,EAEO,IADH6pB,EAAY/N,WAAU,SAAAwO,GAAG,OAAIA,IAAQ5qB,OAE7CmqB,EAAYvtB,KAAKoD,GACjBwE,KAAKN,SAAS,CAACimB,YAAaA,SAE7B,CACH,IAAI5xB,EAAQ4xB,EAAY/N,WAAU,SAAAwO,GAAG,OAAIA,IAAQ5qB,MAClC,IAAXzH,IACA4xB,EAAYtS,OAAOtf,EAAO,GAC1BiM,KAAKN,SAAS,CAACimB,YAAaA,Q,+BAK/BnqB,GACL,IAAIopB,EAAO5kB,KAAKxG,MAAMosB,SAASvL,MAAK,SAAAuK,GAAI,OAAIA,EAAK1qB,OAASsB,KAC1D5G,QAAQC,WAAW+vB,GACnB5kB,KAAKF,MAAM1M,QAAQgF,KAAK,CACpBwL,SAAU,4BACVpK,MAAO,CACHorB,KAAMA,EACNzsB,GAAIysB,EAAK/sB,S,0CAMjBmI,KAAKkmB,aACLlmB,KAAKulB,sB,+BAGC,IAAD,OACL,OACI,yBAAK5sB,UAAU,QACX,yBAAKA,UAAU,UACX,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKiQ,KAAM,GACP,kBAAC,KAAD,CAAOnR,MAAO,CAACoB,MAAO,KAAM4J,YAAY,mBAAW4jB,OAAQ,kBAACC,GAAA,EAAD,SAE/D,kBAAC,KAAD,CAAK1d,KAAM,GACP,kBAAC,IAAD,CAAQpR,KAAK,UAAUgO,KAAM,kBAACuH,GAAA,EAAD,MACrBpV,QAAS,kBAAM,EAAKsuB,mBAAkB,KAD9C,oBAIA,kBAAC,KAAD,CACIpvB,MAAM,+CACNiK,QAASd,KAAKxG,MAAMyqB,aACpB/hB,KAAM,kBAAM,EAAKqkB,cACjBpkB,SAAU,kBAAM,EAAK8jB,mBAAkB,IACvC7jB,OAAO,WACPC,WAAW,WACXmkB,UAAQ,GAER,2BAAO7tB,UAAU,uDACb,4BACI,wBAAIlB,MAAO,CAACoB,MAAO,QAAnB,qCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAO,OAAO0F,MAAO,CAACoB,MAAO,KAAM2H,SAAUR,KAAKokB,cAAe3hB,YAAY,gBAG5F,4BACI,wBAAIhL,MAAO,CAACoB,MAAO,QAAnB,sCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAO,OAAO0F,MAAO,CAACoB,MAAO,KAAM2H,SAAUR,KAAKokB,cAAe3hB,YAAY,gBAI5F,4BACI,wBAAIhL,MAAO,CAACoB,MAAO,QAAnB,mCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAO,YAAY0F,MAAO,CAACoB,MAAO,KAAM2H,SAAUR,KAAKokB,cAAgB3hB,YAAY,gBAGlG,4BACI,wBAAIhL,MAAO,CAACoB,MAAO,QAAnB,sCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAO,YAAY0F,MAAO,CAACoB,MAAO,KAAM2H,SAAUR,KAAKokB,cAAe3hB,YAAY,gBAGjG,4BACI,wBAAIhL,MAAO,CAACoB,MAAO,QAAnB,gCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAO,WAAW0F,MAAO,CAACoB,MAAO,KAAM2H,SAAUR,KAAKokB,cAAe3hB,YAAY,gBAGhG,4BACI,wBAAIhL,MAAO,CAACoB,MAAO,QAAnB,iBACA,4BACI,kBAAC,KAAD,CAAO9G,KAAO,cAAc0F,MAAO,CAACoB,MAAO,KAAM2H,SAAUR,KAAKokB,cAAe3hB,YAAY,iBAIvG,6BACA,6BACI,kBAAC,GAAD,CACI+f,cAAexiB,KAAKojB,kBACpBR,eAAgB5iB,KAAKxG,MAAMopB,eAC3ByC,WAAYrlB,KAAKxG,MAAM6rB,kBAO/C,6BACA,yBAAK1sB,UAAU,WAEPqH,KAAKxG,MAAMrF,QACP,yBAAKsD,MAAO,CAAC,aAAc,SAAU,WAAc,OAC/C,kBAAC,KAAD,CAAOF,KAAK,UACR,kBAAC,IAAD,CAAMkvB,IAAI,aAAalvB,KAAK,YAIpC,kBAAC,KAAD,CAAOqU,QAAS5L,KAAKxG,MAAMoS,QAASzU,WAAY6I,KAAKxG,MAAMosB,SAAUzZ,OAAO,c,GApU/EzL,IAAMC,WA6UhB0G,eAAWie,ICnXnBlc,GAAUC,KAAVD,OAEDiZ,GAAiBC,mBACnBC,qBAAU,CACN7F,aAAc,gIACdC,eAAgB,yBAAKllB,MAAO,CAACsR,OAAO,UACpC6T,iBAAkB,yBAAKnlB,MAAO,CAACsR,OAAO,WACtC8T,WAAY,yBAAKplB,MAAO,CAACsR,OAAO,YAEpC2P,gBACAC,iBARmB2J,EASrB,SAACxiB,GAAD,OACE,kBAAC,aAAD,CACI6a,YAAa,GACbC,cAAe,CAACjB,IAAK,QAASC,IAAK,WACnCjiB,QAASmI,EAAM0iB,eAGd1iB,EAAMulB,WAAWle,KAAI,SAACyd,EAAM7wB,GACzB,OACI,kBAAC,WAAD,CACI4uB,KAAMiC,EACNtvB,IAAKvB,EACLmkB,UAAU,EACVvgB,QAASmI,EAAM0iB,cACf3G,QAAS,CACLC,YAAa,UACbG,aAAc,QAM9B,kBAAC,WAAD,CACI0G,KAAM7iB,EAAM8iB,eACZjrB,QAASmI,EAAM0iB,cACfltB,IAAK,EACL4iB,UAAU,EACV2D,QAAS,CACLC,YAAa,UACbG,aAAc,SAMxByK,G,oDACF,WAAY5mB,GAAQ,IAAD,+BACf,cAAMA,IAiFVylB,kBAAoB,WAChBhwB,YAAW,WACP,EAAKmK,SAAS,CAAC8lB,eAAe,MAC/B,MArFY,EAwFnBpC,kBAAoB,SAAC1gB,GAEjB,IAAIiX,EAAMjX,EAAEiZ,OAAOhC,MACfC,EAAMlX,EAAEiZ,OAAO/B,MAEf6L,EAAgB,EAAKjsB,MAAMgB,OAAO/D,KAAKyjB,WAAWC,SAClDuL,EAAc,EAAKlsB,MAAMgB,OAAO/D,KAAK6jB,SAASH,SA0BlD,GAxBKsL,EAOOC,EAQR,EAAKhmB,UAAS,SAAAilB,GACV,IAAInqB,EAAS+jB,OAAOiF,OAAO,GAAImB,EAAUnqB,QAKzC,OAJAA,EAAO/D,KAAKyjB,WAAWC,SAAWR,EAClCnf,EAAO/D,KAAKyjB,WAAWE,UAAYR,EACnCpf,EAAO/D,KAAK6jB,SAASH,SAAW,GAChC3f,EAAO/D,KAAK6jB,SAASF,UAAY,GAC1B,CAAC5f,aAbZ,EAAKkF,UAAS,SAAAilB,GACV,IAAInqB,EAAS+jB,OAAOiF,OAAO,GAAImB,EAAUnqB,QAGzC,OAFAA,EAAO/D,KAAK6jB,SAASH,SAAWR,EAChCnf,EAAO/D,KAAK6jB,SAASF,UAAYR,EAC1B,CAACpf,aAXZ,EAAKkF,UAAS,SAAAilB,GACV,IAAInqB,EAAS+jB,OAAOiF,OAAO,GAAImB,EAAUnqB,QAGzC,OAFAA,EAAO/D,KAAKyjB,WAAWC,SAAWR,EAClCnf,EAAO/D,KAAKyjB,WAAWE,UAAYR,EAC5B,CAACpf,aAmBZ,EAAKhB,MAAMgB,OAAO/D,KAAKyjB,WAAWC,UAAY,EAAK3gB,MAAMgB,OAAO/D,KAAK6jB,SAASH,SAAU,CACxF,IAAIyI,EAAiB,CACjB,CAACjJ,IAAK,EAAKngB,MAAMgB,OAAO/D,KAAKyjB,WAAWC,SAAUP,IAAK,EAAKpgB,MAAMgB,OAAO/D,KAAKyjB,WAAWE,WACzF,CAACT,IAAK,EAAKngB,MAAMgB,OAAO/D,KAAKyjB,WAAWC,SAAUP,IAAK,EAAKpgB,MAAMgB,OAAO/D,KAAK6jB,SAASF,WACvF,CAACT,IAAK,EAAKngB,MAAMgB,OAAO/D,KAAK6jB,SAASH,SAAUP,IAAK,EAAKpgB,MAAMgB,OAAO/D,KAAK6jB,SAASF,WACrF,CAACT,IAAK,EAAKngB,MAAMgB,OAAO/D,KAAK6jB,SAASH,SAAUP,IAAK,EAAKpgB,MAAMgB,OAAO/D,KAAKyjB,WAAWE,YAE3F,EAAK1a,SAAS,CAACkjB,mBAEnB,EAAKljB,SAAS,CAAC8lB,eAAe,IAC9B,EAAKD,qBAlIU,EAsRnBoB,aAAe,SAAA50B,GAAI,gDAAI,WAAOC,GAAP,8BAAAyN,EAAA,6DACf4lB,EAAa,GACjB,EAAK3lB,UAAS,SAAAilB,GACV,IAAInqB,EAAS+jB,OAAOiF,OAAO,GAAImB,EAAUnqB,QAEzC,OADAA,EAAO3C,IAAM7F,EACN,CAACwI,aALO,SAQI,EAAKosB,cAAc50B,GARvB,OAmBnB,GAXI+zB,EARe,QASfnB,EAAO,EAAKprB,MAAMosB,SAASvL,MAAK,SAAAuK,GAAI,OAAIA,EAAK/sB,MAAQ7F,QAEjD60B,EAAe,CACf,CAAClN,IAAKiL,EAAK1K,WAAWC,SAAUP,IAAKgL,EAAK1K,WAAWE,WACrD,CAACT,IAAKiL,EAAK1K,WAAWC,SAAUP,IAAKgL,EAAKtK,SAASF,WACnD,CAACT,IAAKiL,EAAKtK,SAASH,SAAUP,IAAKgL,EAAKtK,SAASF,WACjD,CAACT,IAAKiL,EAAKtK,SAASH,SAAUP,IAAKgL,EAAK1K,WAAWE,YAEvDiL,EAAWjtB,KAAKyuB,IAEjBd,EAAWpwB,OAAS,EAAG,CAAC,EAAD,aACHowB,GADG,IACtB,2BAAW/L,EAAoB,QACvB8M,EAAW,CACX,CAACnN,IAAKK,EAAKE,WAAWC,SAAUP,IAAKI,EAAKE,WAAWE,WACrD,CAACT,IAAKK,EAAKE,WAAWC,SAAUP,IAAKI,EAAKM,SAASF,WACnD,CAACT,IAAKK,EAAKM,SAASH,SAAUP,IAAKI,EAAKM,SAASF,WACjD,CAACT,IAAKK,EAAKM,SAASH,SAAUP,IAAKI,EAAKE,WAAWE,YAEvDiL,EAAWjtB,KAAK0uB,GARE,+BAW1B,EAAKpnB,SAAS,CAAC2lB,eA9BI,2CAAJ,uDApRf,EAAK7rB,MAAQ,CACTopB,eAAgB,GAChB4C,eAAe,EACfG,YAAa,GACbrC,WAAY,GACZW,cAAc,EACdC,iBAAiB,EACjBtY,QAAS,CACL,CACI/U,MAAO,kBACPgV,OAAQ,SAAArQ,GAAG,OAAI,uBAAG7D,QAAS,WACvB,EAAKovB,WAAWvrB,EAAI3D,OACpB2D,EAAItB,QAGZ,CACIrD,MAAO,mBACPgV,OAAQ,SAAArQ,GAAG,OAAI,2BAAIA,EAAIzJ,QAE3B,CACI8E,MAAO,qCACPgV,OAAQ,SAAArQ,GAAG,OAAI,2BAAIA,EAAI2gB,aAG3B,CACItlB,MAAO,kCACPgV,OAAQ,SAAArQ,GAAG,OAAI,2BAAIA,EAAI4gB,aAE3B,CACIvlB,MAAO,gBACPgV,OAAQ,SAAArQ,GAAG,OAAI,2BAAIA,EAAIlD,eAE3B,CACIzB,MAAO,oCACPgV,OAAQ,SAAArQ,GAAG,OAAI,2BAAIA,EAAIwrB,aAE3B,CACInwB,MAAO,eACPgV,OAAQ,SAAArQ,GAAG,OAAI,2BAAI,EAAKyrB,YAAYzrB,EAAIopB,SAE5C,CACI/tB,MAAO,GACPgV,OAAQ,SAAArQ,GAAG,OACP,kBAAC,IAAD,CAAQhE,KAAK,UAAUI,QAAM,EAAC4N,KAAM,kBAAC0O,GAAA,EAAD,MAAmBzc,MAAO,CAAC8K,YAAa,IACpE5K,QAAS,kBAAM,EAAKuvB,WAAW1rB,KADvC,aAOZoqB,SAAU,GACVprB,OAAQ,CACJ3C,IAAK,GACLpB,KAAM,CACF,KAAQ,GACR,WAAc,CACV,UAAa,GACb,SAAY,IAEhB,SAAY,CACR,UAAa,GACb,SAAY,IAEhB,SAAY,GACZ,YAAe,GACf,KAAQ,OAAS0wB,KAAKC,MAAM,IAAAD,KAAKE,UAAgC,KACjE,MAAS,EACT,UAAa,GACb,UAAa,KAGrBlzB,SAAS,EACTkxB,WAAY,GACZU,WAAY,IAEhB,EAAKvlB,SAAW,EAAKA,SAAS6jB,KAAd,iBAChB,EAAK0C,WAAa,EAAKA,WAAW1C,KAAhB,iBAClB,EAAKD,cAAgB,EAAKA,cAAcC,KAAnB,iBA/EN,E,2DAqIL3hB,GACV,IAAIpN,EAAMoN,EAAEC,OAAO5Q,KACfC,EAAQ0Q,EAAEC,OAAO3Q,MACrBgO,KAAKN,UAAS,SAAAilB,GACV,IAAInqB,EAAS+jB,OAAOiF,OAAO,GAAImB,EAAUnqB,QAEzC,OADAA,EAAO/D,KAAKnB,GAAOtD,EACZ,CAACwI,e,wCAIEypB,GACdjkB,KAAKN,SAAS,CAACukB,mB,qCAGH,IAAD,OACXjkB,KAAKimB,mBAAkB,GACvB,IAAIqB,EAAatnB,KAAKxG,MAAMgB,OAC5BvH,KAAMyJ,KAAN,+DAA2E4qB,EAAY,CAC/EpxB,QAAS,CACL,eAAgB,sBAGvBI,MAAK,SAAA6F,GACEA,EAAI1F,KAAKjB,SACT,EAAK+xB,aAET3yB,QAAQC,IAAI,QAEf6B,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,mCAGtB,IAAD,OACT1D,KAAMiJ,IAAN,yEACK5F,MAAK,SAAA6F,GAEF,EAAKuD,SAAS,CAACvL,SADD,IAEd,IAAMmvB,EAAannB,EAAI1F,KAAKpB,QAAQ2kB,KACpC,EAAKta,SAAS,CAAC4jB,kBAElB5sB,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,iCAIzBqjB,GAAO,IAAD,OACT7hB,EAAK6hB,EAAKniB,IACXyjB,OAAO5P,QAAP,gDAAsCsO,EAAKjoB,KAA3C,QACCkB,KAAM2J,OAAN,kEAAwEzE,IACnE7B,MAAK,SAAA6F,GACEA,EAAI1F,KAAKjB,SACT,EAAK+xB,gBAGZ7wB,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,gCAM7B,IAAD,OACN1D,KAAMiJ,IAAN,gEACK5F,MAAK,SAAA6F,GACF,IAAMypB,EAAWzpB,EAAI1F,KAAKpB,QAAQ2wB,cAClC,EAAKtmB,SAAS,CAACkmB,gBAElBlvB,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,kCAGxBwB,GACR,IAAIysB,EAAO5kB,KAAKxG,MAAMosB,SAASvL,MAAK,SAAAuK,GAAI,OAAIA,EAAK/sB,MAAQM,KACzD,OAAIysB,EACOA,EAAK7yB,KAELoG,I,0CAKX6H,KAAKulB,oBACLvlB,KAAKwnB,UACLxnB,KAAKunB,e,+BAIA7kB,GACL,IAAIlH,EAAMkH,EAAEC,OAAO,YACf7G,EAAS4G,EAAEC,OAAOwjB,QAClBR,EAAW,aAAO3lB,KAAKxG,MAAMmsB,aACjC,GAAI7pB,EAAQ,EAEO,IADH6pB,EAAY/N,WAAU,SAAAwO,GAAG,OAAIA,IAAQ5qB,OAE7CmqB,EAAYvtB,KAAKoD,GACjBwE,KAAKN,SAAS,CAACimB,YAAaA,SAE7B,CACH,IAAI5xB,EAAQ4xB,EAAY/N,WAAU,SAAAwO,GAAG,OAAIA,IAAQ5qB,MAClC,IAAXzH,IACA4xB,EAAYtS,OAAOtf,EAAO,GAC1BiM,KAAKN,SAAS,CAACimB,YAAaA,Q,4EAKvBxtB,G,mFACTuqB,EAAS1iB,KAAKxG,MAAM8pB,WAAWjJ,MAAK,SAAAqI,GAAM,OAAIA,EAAO7qB,MAAQM,MAC1DsvB,SAAWznB,KAAKinB,YAAYvE,EAAOkC,MAC1ClC,EAAOpqB,YAAcoqB,EAAOpqB,YAAcoqB,EAAOpqB,YAAc,G,SAC1B0H,KAAK0nB,yBAAyBvvB,G,OAA/DuvB,E,OACAC,EAAeD,EAAyBhsB,QAAO,SAAA0qB,GAC/C,GAAGA,EAAIzM,KAAOyM,EAAIxM,IACd,OAAOwM,KAIfpmB,KAAKF,MAAM1M,QAAQgF,KAAK,CACpBwL,SAAU,mCACVpK,MAAO,CACHkpB,OAAQA,EACRiF,aAAcA,EACdxvB,GAAIA,K,iMAKe2kB,G,2FACpB,IAAI9hB,SAAQ,SAAC2Q,EAAS1Q,GACzBhI,KAAMiJ,IAAN,yGAA4G4gB,IACvGxmB,MAAK,SAAA6F,GACF,IAAMwrB,EAAexrB,EAAI1F,KAAKpB,QAC9BsW,EAAQgc,MAEXjxB,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,U,iLAIpBixB,G,2FACT,IAAI5sB,SAAQ,SAAC2Q,EAAS1Q,GACzBhI,KAAMiJ,IAAN,uEAA0E0rB,IACrEtxB,MAAK,SAAA6F,GACF,IAAM4pB,EAAa5pB,EAAI1F,KAAKpB,QAAQ2kB,KACpCrO,EAAQoa,MAEXrvB,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,U,iIAqC9B,IAAD,OACL,OACI,yBAAKgC,UAAU,QACX,yBAAKA,UAAU,UACX,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKiQ,KAAM,GACP,kBAAC,KAAD,CAAOnR,MAAO,CAACoB,MAAO,KAAM4J,YAAY,SAAS4jB,OAAQ,kBAACC,GAAA,EAAD,SAE7D,kBAAC,KAAD,CAAK1d,KAAM,GACP,kBAAC,KAAD,CAAQnG,YAAY,+BAAahL,MAAO,CAACoB,MAAO,MAC5C,kBAAC,GAAD,CAAQ7G,MAAM,KAAd,QACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,aACA,kBAAC,GAAD,CAAQA,MAAM,KAAd,mBAGR,kBAAC,KAAD,CAAK4W,KAAM,GAMP,kBAAC,KAAD,CAAQ7W,KAAK,MAAM0Q,YAAY,eAAUhL,MAAO,CAACoB,MAAO,KAChC2H,SAAUR,KAAK2mB,aAAa,YAC/B3mB,KAAKxG,MAAMosB,SAASze,KAAI,SAAAyd,GACrB,OAAO,kBAAC,GAAD,CAAQ5yB,MAAO4yB,EAAK/sB,KAAM+sB,EAAK7yB,WAIlE,kBAAC,KAAD,CAAK6W,KAAM,GACP,kBAAC,IAAD,CAAQpR,KAAK,UAAUgO,KAAM,kBAACuH,GAAA,EAAD,MACrBpV,QAAS,kBAAM,EAAKsuB,mBAAkB,KAD9C,oBAIA,kBAAC,KAAD,CACIpvB,MAAM,4CACNiK,QAASd,KAAKxG,MAAMyqB,aACpB/hB,KAAM,kBAAM,EAAK2lB,gBACjB1lB,SAAU,kBAAM,EAAK8jB,mBAAkB,IACvC7jB,OAAO,WACPC,WAAW,WACXmkB,UAAQ,GAER,2BAAO7tB,UAAU,uDACb,4BACI,wBAAIlB,MAAO,CAACoB,MAAO,QAAnB,+BACA,4BACI,kBAAC,KAAD,CAAQ9G,KAAK,MAAM0Q,YAAY,eAAUhL,MAAO,CAACoB,MAAO,KAChD2H,SAAUR,KAAK2mB,aAAa,YAC/B3mB,KAAKxG,MAAMosB,SAASze,KAAI,SAAAyd,GACrB,OAAO,kBAAC,GAAD,CAAQ5yB,MAAO4yB,EAAK/sB,KAAM+sB,EAAK7yB,YAKtD,4BACI,wBAAI0F,MAAO,CAACoB,MAAO,QAAnB,mCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,OAAO0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,4CAC7CjC,SAAUR,KAAKokB,kBAG9B,4BACI,wBAAI3sB,MAAO,CAACoB,MAAO,QAAnB,kCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,OAAO0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,2CAAwBzQ,MAAOgO,KAAKxG,MAAMgB,OAAO/D,KAAKyD,SAIlH,4BACI,wBAAIzC,MAAO,CAACoB,MAAO,QAAnB,gCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,WAAW0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,yCACjDjC,SAAUR,KAAKokB,kBAG9B,4BACI,wBAAI3sB,MAAO,CAACoB,MAAO,QAAnB,sCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,YAAY0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,+CAClDjC,SAAUR,KAAKokB,kBAG9B,4BACI,wBAAI3sB,MAAO,CAACoB,MAAO,QAAnB,mCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,YAAY0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,4CAClDjC,SAAUR,KAAKokB,kBAG9B,4BACI,wBAAI3sB,MAAO,CAACoB,MAAO,QAAnB,iBACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,cAAc0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,0BACpDjC,SAAUR,KAAKokB,mBAIlC,6BACA,6BACI,kBAAC,GAAD,CACI5B,cAAexiB,KAAKojB,kBACpBR,eAAgB5iB,KAAKxG,MAAMopB,eAC3ByC,WAAYrlB,KAAKxG,MAAM6rB,kBAO/C,6BACA,yBAAK1sB,UAAU,WAEPqH,KAAKxG,MAAMrF,QACP,yBAAKsD,MAAO,CAAC,aAAc,SAAU,WAAc,OAC/C,kBAAC,KAAD,CAAOF,KAAK,UACR,kBAAC,IAAD,CAAMkvB,IAAI,aAAalvB,KAAK,YAIpC,kBAAC,KAAD,CAAOqU,QAAS5L,KAAKxG,MAAMoS,QAASzU,WAAY6I,KAAKxG,MAAM8pB,WAAYnX,OAAO,c,GA/arFzL,IAAMC,WAwbZ0G,eAAWqf,I,SC5enBvE,ICPoBxhB,YDOTyhB,KAAXD,SACU9Y,KAAVD,OAEP,SAASvK,GAASvJ,GACdV,QAAQC,IAAIS,GAGhB,IAAM+sB,GAAiBC,mBACnBC,qBAAU,CACN7F,aAAc,gIACdC,eAAgB,yBAAKllB,MAAO,CAACsR,OAAO,UACpC6T,iBAAkB,yBAAKnlB,MAAO,CAACsR,OAAO,WACtC8T,WAAY,yBAAKplB,MAAO,CAACsR,OAAO,YAEpC2P,gBACAC,iBARmB2J,EASrB,SAACxiB,GAAD,OACE,kBAAC,aAAD,CACI6a,YAAa,GACbC,cAAe,CAACjB,IAAK,QAASC,IAAK,WACnCjiB,QAASmI,EAAM0iB,eAEf,kBAAC,WAAD,CACIG,KAAM7iB,EAAM8iB,eACZttB,IAAK,EACL4iB,UAAU,EACV2D,QAAS,CACLC,YAAa,UACbG,aAAc,KAGrBnc,EAAM6nB,aAAaxgB,KAAI,SAAA2gB,GACpB,OACI,kBAAC,UAAD,CAAQnwB,QAASmI,EAAMioB,gBACfrT,MAAOoT,EAAO/1B,KACdmpB,SAAU,CAACvB,IAAKM,WAAW6N,EAAOnO,KAAMC,IAAKK,WAAW6N,EAAOlO,eAOjFoO,GAAkB1F,mBACpBC,qBAAU,CACN7F,aAAc,gIACdC,eAAgB,yBAAKllB,MAAO,CAACsR,OAAO,UACpC6T,iBAAkB,yBAAKnlB,MAAO,CAACsR,OAAO,WACtC8T,WAAY,yBAAKplB,MAAO,CAACsR,OAAO,YAEpC2P,gBACAC,iBARoB2J,EAStB,SAACxiB,GAAD,aAEE,kBAAC,aAAD,CACIxK,IAAKwK,EAAMmoB,YACXtN,YAAa,EACbC,cAAe,CAACjB,IAAK,QAASC,IAAK,YAEnC,kBAAC,YAAD,GACItkB,IAAKwK,EAAMmoB,YACXtF,KAAM7iB,EAAM8iB,gBAFhB,qBAGS,GAHT,2BAIc,GAJd,yBAKa,CACL9G,YAAa,UACbG,aAAc,IAPtB,IAWA,kBAAC,YAAD,CACI0G,KAAM7iB,EAAMqkB,gBACZ+D,UAAU,EACV5yB,IAAKwK,EAAMmoB,YACXpM,QAAS,CACLC,YAAa,UACbE,cAAe,IACfC,aAAc,EACdkM,MAAO,CACH,CACI3d,OAAQ,IACR4d,OAAQ,YAKxB,kBAAC,UAAD,CAAQlN,SAAU,CAACvB,IAAKM,WAAWna,EAAMqkB,gBAAgB,GAAGxK,KAAMC,IAAKK,WAAWna,EAAMqkB,gBAAgB,GAAGvK,YAK7GyO,G,oDACF,WAAYvoB,GAAQ,IAAD,+BACf,cAAMA,IAmHVioB,gBAAkB,SAACrlB,GACf,IAAIiX,EAAMjX,EAAEiZ,OAAOhC,MACfC,EAAMlX,EAAEiZ,OAAO/B,MACf0O,EAAM,EAAK9uB,MAAMmuB,aAAatN,MAAK,SAAAiO,GACpC,OAAOA,EAAI3O,KAAOA,GAAO2O,EAAI1O,KAAOA,KAEnC2O,EAAcD,GAAY,GAC9B,EAAK5oB,SAAS,CAAC6oB,iBA3HA,EA8HnBC,WAAa,WAET,EAAK9oB,SAAS,CAAC6oB,YADG,MA/HH,EAmInBnF,kBAAoB,SAAC1gB,GACjB,IAAIiX,EAAMjX,EAAEiZ,OAAOhC,MACfC,EAAMlX,EAAEiZ,OAAO/B,MACf6L,EAAgB,EAAKjsB,MAAMivB,UAAUvO,WAAWC,SAChDuL,EAAc,EAAKlsB,MAAMivB,UAAUnO,SAASH,SAyBhD,GAxBKsL,EAOOC,EAQR,EAAKhmB,UAAS,SAAAilB,GACV,IAAI8D,EAAYlK,OAAOiF,OAAO,GAAImB,EAAU8D,WAK5C,OAJAA,EAAUvO,WAAWC,SAAWR,EAChC8O,EAAUvO,WAAWE,UAAYR,EACjC6O,EAAUnO,SAASH,SAAW,GAC9BsO,EAAUnO,SAASF,UAAY,GACxB,CAACqO,gBAbZ,EAAK/oB,UAAS,SAAAilB,GACV,IAAI8D,EAAYlK,OAAOiF,OAAO,GAAImB,EAAU8D,WAG5C,OAFAA,EAAUnO,SAASH,SAAWR,EAC9B8O,EAAUnO,SAASF,UAAYR,EACxB,CAAC6O,gBAXZ,EAAK/oB,UAAS,SAAAilB,GACV,IAAI8D,EAAYlK,OAAOiF,OAAO,GAAImB,EAAU8D,WAG5C,OAFAA,EAAUvO,WAAWC,SAAWR,EAChC8O,EAAUvO,WAAWE,UAAYR,EAC1B,CAAC6O,gBAmBZ,EAAKjvB,MAAMivB,UAAUvO,WAAWC,UAAY,EAAK3gB,MAAMivB,UAAUnO,SAASH,SAAU,CACpF,IAAIyI,EAAiB,CACjB,CAACjJ,IAAK,EAAKngB,MAAMivB,UAAUvO,WAAWC,SAAUP,IAAK,EAAKpgB,MAAMivB,UAAUvO,WAAWE,WACrF,CAACT,IAAK,EAAKngB,MAAMivB,UAAUvO,WAAWC,SAAUP,IAAK,EAAKpgB,MAAMivB,UAAUnO,SAASF,WACnF,CAACT,IAAK,EAAKngB,MAAMivB,UAAUnO,SAASH,SAAUP,IAAK,EAAKpgB,MAAMivB,UAAUnO,SAASF,WACjF,CAACT,IAAK,EAAKngB,MAAMivB,UAAUnO,SAASH,SAAUP,IAAK,EAAKpgB,MAAMivB,UAAUvO,WAAWE,YAEvF,EAAK1a,SAAS,CAACkjB,uBACZ,CAEH,EAAKljB,SAAS,CAACkjB,eADM,OAvKzB,EAAKppB,MAAQ,CACTopB,eAAgB,GAChB8F,UAAU,eACH,EAAK5oB,MAAMuD,SAAS7J,MAAMkpB,QAEjC+F,UAAU,eACH,EAAK3oB,MAAMuD,SAAS7J,MAAMkpB,QAEjCvqB,GAAI,EAAK2H,MAAMuD,SAAS7J,MAAMrB,GAC9BwvB,aAAc,EAAK7nB,MAAMuD,SAAS7J,MAAMmuB,aACxCgB,aAAc,CACV,CACI9xB,MAAO,kCACPoV,UAAW,OACX3W,IAAK,QAGT,CACIuB,MAAO,wCACPgV,OAAQ,SAAArQ,GAAG,OAAI,2BAAKwG,KAAO4mB,KAAKptB,EAAI+b,UAAY,KAAMtV,OAAO,YAEjE,CACIpL,MAAO,kCACPgV,OAAQ,SAAArQ,GAAG,OAAI,2BAAKwG,KAAO4mB,KAAKptB,EAAIgc,QAAU,KAAMvV,OAAO,YAE/D,CACIpL,MAAO,iBACPvB,IAAK,eACL2W,UAAW,gBAEf,CACIpV,MAAO,GACPgV,OAAQ,SAAArQ,GAAG,OACP,kBAAC,IAAD,CAAQhE,KAAK,UAAUC,MAAO,CAAC8K,YAAa,IACpC5K,QAAS,kBAAM,EAAK8rB,WAAWjoB,KADvC,oBAOZ+sB,YAAa,GACbvE,eAAe,EACf6E,UAAW,GACX5E,cAAc,EACdC,iBAAiB,EACjBC,gBAAiB,GACjB8D,YAAa,GAEjB,EAAKa,MAAQpoB,IAAMqoB,YACnB,EAAK3E,cAAgB,EAAKA,cAAcC,KAAnB,iBAnDN,E,iEAuDf,GAAIrkB,KAAKxG,MAAMivB,UAAUvO,WAAWC,UAAYna,KAAKxG,MAAMivB,UAAUnO,SAASH,SAAU,CACpF,IAAIyI,EAAiB,CACjB,CAACjJ,IAAK3Z,KAAKxG,MAAMivB,UAAUvO,WAAWC,SAAUP,IAAK5Z,KAAKxG,MAAMivB,UAAUvO,WAAWE,WACrF,CAACT,IAAK3Z,KAAKxG,MAAMivB,UAAUvO,WAAWC,SAAUP,IAAK5Z,KAAKxG,MAAMivB,UAAUnO,SAASF,WACnF,CAACT,IAAK3Z,KAAKxG,MAAMivB,UAAUnO,SAASH,SAAUP,IAAK5Z,KAAKxG,MAAMivB,UAAUnO,SAASF,WACjF,CAACT,IAAK3Z,KAAKxG,MAAMivB,UAAUnO,SAASH,SAAUP,IAAK5Z,KAAKxG,MAAMivB,UAAUvO,WAAWE,YAEvFpa,KAAKN,SAAS,CAACkjB,mBAEnB5iB,KAAKgpB,uBAAuBhpB,KAAKxG,MAAMrB,M,iCAGhCqD,GACPwE,KAAKipB,cAAa,GAClB,IAAI9E,EAAkB,GACtB,GAAI3oB,EAAI0tB,aAAavzB,OAAS,EAAG,CAAC,IAAD,iBACT6F,EAAI0tB,cADK,IAC7B,2BAAsC,CAAC,IAA5BC,EAA2B,QAC9BC,EAAM,CACNzP,IAAKwP,EAAME,YACXzP,IAAKuP,EAAMG,aAEfnF,EAAgB/rB,KAAKgxB,IANI,8BAQ7BppB,KAAKN,SAAS,CAACykB,oBAGnB,IAAI8D,EAAcjoB,KAAKxG,MAAMyuB,YAAc,EAC3CjoB,KAAKN,SAAS,CAACuoB,kB,mCAINjE,GACThkB,KAAKN,SAAS,CAACskB,kBACXA,GACA1I,OAAOjY,SAASkmB,W,2BAInB/E,EAAMC,GAEP,OAA6B,IADZlG,OAAOC,KAAKgG,GAAM9oB,QAAO,SAAAgpB,GAAC,OAAIF,EAAKE,KAAOD,EAAKC,MAC9C/uB,S,oCAGR+M,GACV,IAAIpN,EAAMoN,EAAEC,OAAO5Q,KACfC,EAAQ0Q,EAAEC,OAAO3Q,MACrBgO,KAAKN,UAAS,SAAAilB,GACV,IAAI8D,EAAYlK,OAAOiF,OAAO,GAAImB,EAAU8D,WAE5C,OADAA,EAAUnzB,GAAOtD,EACV,CAACy2B,kB,wCAIExE,GACdjkB,KAAKN,SAAS,CAACukB,mB,2CAGEC,GACjBlkB,KAAKN,SAAS,CAACwkB,sB,6BA8DX,IAAD,OACCsF,EAAW,CACX,KAAQ,CACJ,WAAcxpB,KAAKxG,MAAMivB,UAAUvO,WACnC,SAAYla,KAAKxG,MAAMivB,UAAUnO,SACjC,SAAYta,KAAKxG,MAAMivB,UAAUxF,SACjC,YAAejjB,KAAKxG,MAAMivB,UAAUnwB,YACpC,KAAQ0H,KAAKxG,MAAMivB,UAAUvuB,OAGjCuvB,EAASzpB,KAAKxG,MAAMivB,UAAU5wB,IAClC5E,KAAMy2B,IAAN,kEAAqED,GAAUD,EAAU,CACjFtzB,QAAS,CACL,eAAgB,sBAGvBI,MAAK,SAAA6F,GACF,EAAK2D,MAAM1M,QAAQgF,KAAK,CACpBwL,SAAU,mCAGjBlN,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,6CAGb8yB,GAAS,IAAD,OAC3Bx2B,KAAMiJ,IAAN,mEAAsEutB,IACjEnzB,MAAK,SAAA6F,GACF,IAAM0sB,EAAY1sB,EAAI1F,KACtB,EAAKiJ,SAAS,CAACmpB,iBAElBnyB,OAAM,SAAAC,GAAK,OAAI/B,QAAQC,IAAI8B,Q,+BAG1B,IAAD,OACL,OACI,yBAAKgC,UAAU,QACX,kBAAC,KAAD,CAAMosB,iBAAiB,IAAIvkB,SAAU3B,IACjC,kBAAC,GAAD,CAASmmB,IAAI,4CAAyB1vB,IAAI,KACtC,yBAAKqD,UAAU,WACX,2BAAOA,UAAU,uDACb,4BACI,wBAAIlB,MAAO,CAACoB,MAAO,QAAnB,+BACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,MAAM0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YAC5CzQ,MAAOgO,KAAKxG,MAAMivB,UAAUhB,SAC5Bzd,UAAQ,MAIvB,4BACI,wBAAIvS,MAAO,CAACoB,MAAO,QAAnB,mCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,MAAM0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YAC5CzQ,MAAOgO,KAAKxG,MAAMivB,UAAU12B,KAC5BiY,UAAQ,MAIvB,4BACI,wBAAIvS,MAAO,CAACoB,MAAO,QAAnB,kCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,OAAO0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YAC7CzQ,MAAOgO,KAAKxG,MAAMivB,UAAUvuB,KAC5BsG,SAAUR,KAAKokB,kBAI9B,4BACI,wBAAI3sB,MAAO,CAACoB,MAAO,QAAnB,mCACA,4BACKmH,KAAKxG,MAAMivB,UAAUrM,UAD1B,cAIJ,4BACI,wBAAI3kB,MAAO,CAACoB,MAAO,QAAnB,sCACA,4BACKmH,KAAKxG,MAAMivB,UAAUtM,UAD1B,cAIJ,4BACI,wBAAI1kB,MAAO,CAACoB,MAAO,QAAnB,gDACA,4BAEQmH,KAAKxG,MAAMivB,UAAUvF,QAIjC,4BACI,wBAAIzrB,MAAO,CAACoB,MAAO,QAAnB,qCACA,4BAEQmH,KAAKxG,MAAMivB,UAAUzB,YAIjC,4BACI,wBAAIvvB,MAAO,CAACoB,MAAO,QAAnB,gCACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,WAAW0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YACjDzQ,MAAOgO,KAAKxG,MAAMivB,UAAUxF,SAAUziB,SAAUR,KAAKokB,kBAGpE,4BACI,wBAAI3sB,MAAO,CAACoB,MAAO,QAAnB,iBACA,4BACI,kBAAC,KAAD,CAAO9G,KAAK,cAAc0F,MAAO,CAACoB,MAAO,KAAM4J,YAAY,YACpDzQ,MAAOgO,KAAKxG,MAAMivB,UAAUnwB,YAAakI,SAAUR,KAAKokB,oBAK/E,6BACA,yBAAK3sB,MAAO,CAACoB,MAAO,SAChB,kBAAC,GAAD,CACI2pB,cAAexiB,KAAKojB,kBACpBQ,gBAAiB5jB,KAAK4jB,gBACtBhB,eAAgB5iB,KAAKxG,MAAMopB,eAC3B+E,aAAc3nB,KAAKxG,MAAMmuB,aACzBI,gBAAiB/nB,KAAK+nB,mBAG9B,6BACA,yBAAKpvB,UAAU,iBACX,yBAAKA,UAAU,SAENqH,KAAKnM,KAAKmM,KAAKxG,MAAMkvB,UAAW1oB,KAAKxG,MAAMivB,YAC5C,kBAAC,IAAD,CAAQjxB,KAAK,UAAUG,QAAS,kBAAM,EAAKgyB,SAA3C,YAGC3pB,KAAKnM,KAAKmM,KAAKxG,MAAMkvB,UAAW1oB,KAAKxG,MAAMivB,YAC5C,kBAAC,IAAD,CAAQze,UAAQ,GAAhB,eAMhB,kBAAC,GAAD,CAASgb,IAAI,oCAA2B1vB,IAAI,IAAI6C,GAAG,QAC/C,yBAAKQ,UAAU,WACX,kBAAC,KAAD,CAAOiT,QAAS5L,KAAKxG,MAAMmvB,aAAcxxB,WAAY6I,KAAKxG,MAAMqvB,UAAW1c,OAAO,WAI9F,kBAAC,KAAD,CAEItV,MAAM,8CACNiK,QAASd,KAAKxG,MAAMwqB,cACpB9hB,KAAM,kBAAM,EAAK+mB,cAAa,IAC9B9mB,SAAU,kBAAM,EAAK8mB,cAAa,KAElC,6BACI,kBAACjB,GAAD,CACI1yB,IAAK0K,KAAKxG,MAAMyuB,YAChBrF,eAAgB5iB,KAAKxG,MAAMopB,eAC3BuB,gBAAiBnkB,KAAKxG,MAAM2qB,gBAC5B8D,YAAajoB,KAAKxG,MAAMyuB,eAGhC,6BACA,8CACA,uBAAGtvB,UAAU,QAET,iGAER,kBAAC,KAAD,CACI9B,MAAM,gBACNiK,QAASyd,OAAOC,KAAKxe,KAAKxG,MAAM+uB,aAAa5yB,OAAS,EACtDuM,KAAM,kBAAM,EAAKsmB,cACjBrmB,SAAU,kBAAM,EAAKqmB,eAErB,2BAAO7vB,UAAU,uDACb,4BACI,wBAAIlB,MAAO,CAACoB,MAAO,QAAnB,wCACA,4BACKmH,KAAKxG,MAAM+uB,YAAYx2B,OAGhC,4BACI,wBAAI0F,MAAO,CAACoB,MAAO,QAAnB,uCACA,4BACKmH,KAAKxG,MAAM+uB,YAAYruB,OAGhC,4BACI,wBAAIzC,MAAO,CAACoB,MAAO,QAAnB,sBACA,4BACsC,GAAjCmH,KAAKxG,MAAM+uB,YAAYzsB,OAAc,qCAAmB,sCAGjE,4BACI,wBAAIrE,MAAO,CAACoB,MAAO,QAAnB,8BACA,4BACKmH,KAAKxG,MAAM+uB,YAAYvB,YAIhC,4BACI,wBAAIvvB,MAAO,CAACoB,MAAO,QAAnB,iBACA,4BACKmH,KAAKxG,MAAM+uB,YAAYjwB,cAGhC,4BACI,wBAAIb,MAAO,CAACoB,MAAO,QAAnB,qBACA,4BACKmH,KAAKxG,MAAM+uB,YAAY3O,MAGhC,4BACI,wBAAIniB,MAAO,CAACoB,MAAO,QAAnB,wBACA,4BACKmH,KAAKxG,MAAM+uB,YAAY5O,a,GAlY/BjZ,IAAM0kB,eA4YhB/d,eAAWghB,I,QE5e1B,SAASuB,KAAkB,IAAD,EACFt2B,mBAAS,QADP,6BAGxB,OACC,2C,uECNYu2B,GADC,8CCuqBDC,IA1oBZ,KACE,KAAKzyB,KACL,KAAKA,KAIY,WAAO,IAAD,EACgB/D,mBAAS,IADzB,mBACnBy2B,EADmB,KACJC,EADI,OAEY12B,mBAAS,MAFrB,mBAEnB22B,EAFmB,KAENC,EAFM,OAGc52B,mBAAS,MAHvB,gCAIkBA,mBAAS,OAJ3B,gCAKcA,oBAAS,IALvB,mBAKnB62B,EALmB,KAKLC,EALK,OAMc92B,oBAAS,GANvB,mBAMnB+2B,EANmB,KAMLC,EANK,OAOwBh3B,oBAAS,GAPjC,mBAOAi3B,GAPA,aAQcj3B,oBAAS,GARvB,mBAQnBk3B,EARmB,KAQLC,EARK,OAS4Bn3B,mBAAS,IATrC,gCAUgBA,mBAAS,KAVzB,mBAUnBo3B,EAVmB,KAUJC,EAVI,OAWcr3B,mBAAS,IAXvB,mBAWnBs3B,EAXmB,KAWLC,EAXK,OAYYv3B,mBAAS,MAZrB,mBAYNw3B,GAZM,aAasBx3B,mBAAS,IAb/B,mBAaDy3B,GAbC,aAcQz3B,mBAAS,IAdjB,mBAcnB03B,EAdmB,KAcRC,GAdQ,QAeoB33B,mBAAS,MAf7B,qBAenB43B,GAfmB,MAeFC,GAfE,SAgB0C73B,oBAClE,GAjBwB,qBAgBnB83B,GAhBmB,MAgBSC,GAhBT,MA2BpBC,IAPehoB,cAAbM,SAOU,oCA3BQ,GA+BUtQ,qBA/BV,qCAgCkBA,sBAhClB,qBAiClB8V,IAjCkB,YAiCPC,KAAXD,QACR7U,qBAAU,WACRg3B,KACAC,KACAC,OACC,IAEH,IAAMA,GAAmB,WACvBnB,GAAgB,GAChBr3B,KAAM,CACJ+C,OAAQ,MACRC,IAAK4zB,GAAU,yBAEf3zB,QAAS,CACP,YAAao1B,GACb,eApBe,eAuBhBh1B,MAAK,SAAUC,GAId,IAAIE,EAAO,GACXF,EAASE,KAAK0Q,KAAI,SAAC1S,GACjB,IAAIi3B,EAAc,CAChBvzB,GAAI1D,EAAKoD,IACT9F,KAAM0C,EAAK1C,KACXyF,KAAM/C,EAAK+C,KAAKzF,KAChB+J,OAAQrH,EAAKqH,OAAO/J,KACpB45B,WAAYl3B,EAAKqH,OAAO5B,KACxB1B,MAAO/D,EAAK+D,MAAMzG,KAClBsR,SAAU5O,EAAK4O,SACfuoB,UAAWn3B,EAAK+D,MAAM0B,KACtB2xB,OAAQp3B,EAAKo3B,OACbC,OAAQr3B,EAAKq3B,OACbxzB,YAAa7D,EAAK6D,aAEpB7B,EAAK2B,KAAKszB,MAEZ1B,EAAiBvzB,GACjB6zB,GAAgB,MAEjB5zB,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,GACZ+P,GAAgB,OAShB1e,GAAU,CACd,CACE/U,MAAO,yBACPoV,UAAW,QAEb,CACEpV,MAAO,qBACPoV,UAAW,SACX8f,QAAS,CACP,CACEjgB,KAAM,cACN9Z,MAAO,eAET,CACE8Z,KAAM,OACN9Z,MAAO,SAGXg6B,gBAAgB,EAChBC,SAAU,SAACj6B,EAAO+Z,GAAR,OAAoD,IAAjCA,EAAOjQ,OAAOowB,QAAQl6B,IACnD6Z,OAAQ,SAAC7Z,EAAOm6B,GACd,OACE,6BAC4B,GAAzBA,EAAWR,WACV,kBAAC,IAAD,CAAO7vB,OAAO,UAAUgQ,KAAMqgB,EAAWrwB,SACd,GAAzBqwB,EAAWR,WACb,kBAAC,IAAD,CAAO7vB,OAAO,aAAagQ,KAAMqgB,EAAWrwB,SAE5C,kBAAC,IAAD,CAAOA,OAAO,UAAUgQ,KAAMqgB,EAAWrwB,YAMnD,CACEjF,MAAO,wBACPoV,UAAW,QACX8f,QAAS,CACP,CACEjgB,KAAM,SACN9Z,MAAO,UAET,CACE8Z,KAAM,UACN9Z,MAAO,YAGXg6B,gBAAgB,EAChBC,SAAU,SAACj6B,EAAO+Z,GAAR,OAAmD,IAAhCA,EAAOvT,MAAM0zB,QAAQl6B,KAEpD,CACE6E,MAAO,+BACPoV,UAAW,WACXpT,MAAO,OAET,CACEhC,MAAO,YACPoV,UAAW,OACX8f,QAAS,CACP,CACEjgB,KAAM,oCACN9Z,MAAO,qCAET,CACE8Z,KAAM,4CACN9Z,MAAO,6CAET,CACE8Z,KAAM,oCACN9Z,MAAO,qCAET,CACE8Z,KAAM,6DACN9Z,MAAO,+DAGXg6B,gBAAgB,EAChBC,SAAU,SAACj6B,EAAO+Z,GAAR,OAAkD,IAA/BA,EAAOvU,KAAK00B,QAAQl6B,KAEnD,CACE6E,MAAO,gBACPoV,UAAW,cACXpT,MAAO,OAET,CACEhC,MAAO,iBACPvB,IAAK,YACLuD,MAAO,MACPgT,OAAQ,SAACE,GAAD,OACN,yBAAKtU,MAAO,CAAE20B,UAAW,WACvB,2BACE,kBAACC,GAAA,EAAD,CACEC,cAAY,UACZC,iBAAe,MACf11B,MAAM,oBACNc,QAAS,SAAC3F,GACRo4B,GAAgB,GAChBiB,IAA8B,GAC9BJ,GAAa,IACbuB,GAAiBzgB,EAAO5T,IACrB7B,MAAK,SAACm2B,GACL,IAAIC,EAAkB,GACtBD,EAAatlB,KAAI,SAAC1Q,GAChB,IAAIk2B,EAAgB,GACpB,GAAIl2B,EAAKm2B,UAAW,CAClBn2B,EAAKo2B,UAAU1lB,KAAI,SAAC2lB,EAAQ/4B,GAExB44B,GADW,GAAT54B,EACe+4B,EAAOnrB,UAEP,KAAOmrB,EAAOnrB,aAGnC,IAAIorB,EAAkB,CACpBh7B,KAAM0E,EAAKm2B,UAAU76B,KACrB86B,UAAWF,EACXr0B,YAAa7B,EAAKm2B,UAAUt0B,aAE9Bo0B,EAAgBt0B,KAAK20B,OAGzB9B,GAAayB,GACbtC,GAAgB,MAEjB1zB,OAAM,SAAC6jB,GACN6P,GAAgB,OAGtB3yB,MAAO,CAAEiB,MAAO,OAAQkS,WAAY,MAIxC,uBAAGnT,MAA4B,GAArBsU,EAAO4f,WAAkB,GAAK,CAAE/mB,QAAS,SACjD,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,WACP8yB,GAAgB,GAChBK,EAAe,MACfC,EAAoB,IACpBI,GAAmBpf,EAAO5T,MAN9B,wCAiBJq0B,GAAmB,SAACQ,GACxB,OAAO,IAAIhyB,SAAQ,SAAC2Q,EAAS1Q,GAC3BhI,KAAM,CACJ+C,OAAQ,MACRC,IAAK4zB,GAAU,eACf3zB,QAAS,CACP,YAAao1B,GACb,eAvNa,aAyNfn1B,OAAQ,CAAE82B,YAAaD,KAEtB12B,MAAK,SAAUC,GACdg0B,GAAqB,GACrB5e,EAAQpV,EAASE,SAElBC,OAAM,SAAU6jB,GAGfgQ,GAAqB,GACrBn1B,IAAQuB,MAAM4jB,EAAIhkB,SAASE,KAAKE,MAAMvB,SACtC6F,EAAOsf,UAKTgR,GAAmB,WACvBt4B,KAAM,CACJ+C,OAAQ,MACRC,IAAK4zB,GAAU,yBACf3zB,QAAS,CACP,YAAao1B,GACb,eA/Oe,eAkPhBh1B,MAAK,SAAUC,GACd,IAAM+Q,EAAW,GACjB/Q,EAASE,KAAK0Q,KAAI,SAAC1S,GACjB6S,EAASlP,KAAK,kBAACgR,GAAD,CAAQ9T,IAAKb,EAAK0D,IAAK1D,EAAKkN,eAE5CgpB,EAAiBrjB,MAElB5Q,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,OAIZiR,GAAc,WAClBv4B,KAAM,CACJ+C,OAAQ,MACRC,IAAK4zB,GAAU,qBACf3zB,QAAS,CACP,YAAao1B,GACb,eArQe,eAwQhBh1B,MAAK,SAAUC,GACd,IAAM+Q,EAAW,GACjB/Q,EAASE,KAAK0Q,KAAI,SAAC1S,GACjB6S,EAASlP,KAAK,kBAACgR,GAAD,CAAQ9T,IAAKb,EAAK0D,IAAK1D,EAAK1C,UAE5C84B,EAAgBvjB,MAEjB5Q,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,OAgEZ2S,IAFkBxsB,IAAMysB,gBAET,CACnB,CACEt2B,MAAO,4CACPoV,UAAW,QAEb,CACEpV,MAAO,sCACPoV,UAAW,aAEb,CACEpV,MAAO,kCACPoV,UAAW,eAEb,CACEpV,MAAO,GACPoV,UAAW,YACXJ,OAAQ,SAACC,EAAMC,GAAP,OACNA,EAAOqhB,SACL,kBAAC,KAAD,CACEv2B,MAAM,mBAGN,sCAEA,SAgBV,OACE,6BACE,yBAAK8B,UAAU,SAAShB,QAAS,cAAjC,gEAGA,6BACE,kBAAC,KAAMwS,OAAP,CACE1S,MAAO,CAAEsL,OAAQ,cACjBN,YAAY,eACZwY,aAAW,EACXJ,SAvGO,SAAC7oB,GAEd,IAAMi4B,EAAcF,EAAcruB,QAAO,SAAC2xB,GAAD,OACvC9O,OAAOC,KAAK6O,GAAGC,MAAK,SAAC5I,GAEnB,MACQ,gBAANA,GACA6I,OAAOF,EAAE3I,IAAI8I,YAAYjV,cAAcyC,SAAShpB,EAAMumB,qBAI5D2R,EAAeD,MA8FX,kBAAC,IAAD,CAAMwD,SAAUpD,EAAc5D,IAAI,cAChC,kBAAC,KAAD,CACEta,OAAQ,SAACJ,GAAD,OAAYA,EAAO5T,IAC3ByT,QAASA,GACTQ,WAAY,CAAEshB,gBAAiB,GAC/Bv2B,WAA2B,MAAf8yB,EAAsBF,EAAgBE,EAClD1yB,KAAK,aAyFX,kBAAC,KAAD,CACEV,MAAO,0CACPiK,QAAS0pB,EACTtoB,KAlNW,WACfuoB,GAAgB,IAkNZtoB,SAhNe,WACnBsoB,GAAgB,IAgNZ9K,OAAQ,MAER,kBAAC,IAAD,CAAM8N,SAAUtD,EAAc1D,IAAI,cA6BhC,kBAAC,KAAD,CACE10B,KAAK,yBACL2jB,SAhOuB,SAAC1jB,GAChCo4B,GAAgB,GAChB,IAAI9lB,EAAO,GACXtS,EAAM27B,aAAaxmB,KAAI,SAACymB,EAAW75B,GACpB,GAATA,EACFuQ,EAAOspB,EAAUC,SAAW,IAAMD,EAAUE,aAAaja,WAEzDvP,GACE,IAAMspB,EAAUC,SAAW,IAAMD,EAAUE,aAAaja,cAG9D5gB,KAAM,CACJ+C,OAAQ,OACRC,IAAK4zB,GAAU,gBAEf3zB,QAAS,CACP,YAAao1B,GACb,eA3Te,aA6TjB70B,KAAM,CACJw2B,YAAa/B,GACb5mB,KAAMA,KAGPhO,MAAK,SAAUC,GACd6zB,GAAgB,GAChBK,GAAgB,GAChBgB,QAED/0B,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,GACZnlB,IAAQuB,MAAM4jB,EAAIhkB,SAASE,KAAKE,MAAMvB,SACtCg1B,GAAgB,OAgMZ2D,aAAa,OAEb,kBAAC,KAAKC,KAAN,CAAWj8B,KAAK,iBACb,SAACk8B,EAAD,OAAWC,EAAX,EAAWA,IAAKC,EAAhB,EAAgBA,OAAhB,OACC,oCACGF,EAAO9mB,KAAI,SAACinB,GAAD,OACV,kBAAC,KAAD,CACE94B,IAAK84B,EAAM94B,IACXmC,MAAO,CAAEmN,QAAS,OAAQ5B,aAAc,GACxCe,MAAM,YAEN,kBAAC,KAAK1M,KAAN,iBACM+2B,EADN,CAEEr8B,KAAM,CAACq8B,EAAMr8B,KAAM,YACnBs8B,SAAU,CAACD,EAAMC,SAAU,YAC3B1Z,MAAO,CACL,CAAEoB,UAAU,EAAM3gB,QAAS,6CAG7B,kBAAC,KAAD,CACEqC,MAAO,CAAEyS,SAAU,KACnBzH,YAAY,8BACZjC,SAAU,SAACxO,GACT84B,EAAe94B,KAGhB44B,IAGL,kBAAC,KAAKvzB,KAAN,iBACM+2B,EADN,CAEEr8B,KAAM,CAACq8B,EAAMr8B,KAAM,gBACnBs8B,SAAU,CAACD,EAAMC,SAAU,gBAC3B1Z,MAAO,CACL,CAAEoB,UAAU,EAAM3gB,QAAS,wCAG7B,kBAAC,KAAD,CACEqC,MAAO,CAAEyS,SAAU,KACnBpD,KAAK,WACLrE,YAAY,yBACZjC,SAAU,SAACxO,GACT+4B,EAAoB/4B,KAGrB04B,IAGL,kBAAC4D,GAAA,EAAD,CAAqB32B,QAAS,kBAAMw2B,EAAOC,EAAMr8B,aAGrD,kBAAC,KAAKsF,KAAN,KACE,kBAAC,IAAD,CACEG,KAAK,SACLG,QAAS,kBAAMu2B,KACfzjB,OAAK,EACLjF,KAAM,kBAACrF,GAAA,EAAD,OAJR,yDAYR,kBAAC,KAAK9I,KAAN,KACE,kBAAC,IAAD,CAAQG,KAAK,UAAUye,SAAS,UAAhC,cAOR,kBAAC,KAAD,CACEpf,MAAO,gEACPiK,QAASsqB,GACTjpB,SAAU,WACRkpB,IAA8B,IAEhCxyB,MAAO,MACP8mB,OAAQ,MAER,kBAAC,IAAD,CAAM8N,SAAUtD,EAAc1D,IAAI,cAChC,kBAAC,KAAD,CACEta,OAAQ,SAACJ,GAAD,OAAYA,EAAO5T,IAC3ByT,QAASshB,GACT/1B,WAAY6zB,S,8DCnNTuD,GA3bI,WAAO,IAAD,EACaj7B,mBAAS,IADtB,mBAChBk7B,EADgB,KACJC,EADI,OAEiBn7B,mBAAS,MAF1B,gCAGiBA,oBAAS,IAH1B,mBAGhBk3B,EAHgB,KAGFC,EAHE,OAIiBn3B,oBAAS,GAJ1B,mBAIhB+2B,EAJgB,KAIFC,EAJE,OAKeh3B,mBAAS,MALxB,mBAKhB22B,EALgB,KAKHC,EALG,KAOjBwE,GADeprB,cAAbM,SACc,CACpB+qB,UAAW,CAAEx2B,GAAI,SAAUpG,KAAM,sCACjC68B,QAAS,CAAEz2B,GAAI,SAAUpG,KAAM,8CAC/B88B,UAAW,CAAE12B,GAAI,SAAUpG,KAAM,sCACjC+8B,UAAW,CAAE32B,GAAI,SAAUpG,KAAM,+DAE7Bu5B,EAAY,mCAbK,EAiBah4B,qBAjBb,gCAkBqBA,sBAlBrB,gCAoBaA,sBApBb,mBAoBhBy7B,EApBgB,KAoBJC,EApBI,KAsBvBz6B,qBAAU,WACR06B,MACC,IAEH,IAAMA,EAAc,WAClBh8B,KAAM,CACJ+C,OAAQ,MACRC,IAAK4zB,GAAU,kBAEf3zB,QAAS,CACP,YAAao1B,EACb,eAnBe,eAsBhBh1B,MAAK,SAAUC,GAEd3B,QAAQC,IAAI0B,GACZk4B,EAAcl4B,EAASE,KAAK6N,MAC5BgmB,GAAgB,MAEjB5zB,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,OAiGZ3O,EAAU,CACd,CACE/U,MAAO,2BACPoV,UAAW,SAGb,CACEpV,MAAO,0BACPoV,UAAW,UACXuH,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUA,EAAEyb,QAAUzvB,EAAEyvB,SAChCC,eAAgB,CAAC,YAGnB,CACEt4B,MAAO,8CACPoV,UAAW,WAGb,CACEpV,MAAO,qBACPoV,UAAW,SACXuH,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUA,EAAE3X,OAAOszB,WAAW,GAAK3vB,EAAE3D,OAAOszB,WAAW,IAC/DD,eAAgB,CAAC,WACjBtjB,OAAQ,SAACC,EAAMC,GAAP,MACW,WAAjBA,EAAOjQ,OACL,yBACErE,MAAO,CACL43B,cAAe,MACfzqB,QAAS,OACTK,WAAY,WAGd,yBACExN,MAAO,CACLoB,MAAO,GACPkQ,OAAQ,GACRumB,gBAAiB,SACjBC,aAAc,KAGlB,uBAAG93B,MAAO,CAAEmT,WAAY,GAAI7R,SAAU,GAAIqH,UAAW,KAClD,IACA2L,EAAOjQ,SAGO,UAAjBiQ,EAAOjQ,OACT,yBACErE,MAAO,CACL43B,cAAe,MACfzqB,QAAS,OACTK,WAAY,WAGd,yBACExN,MAAO,CACLoB,MAAO,GACPkQ,OAAQ,GACRumB,gBAAiB,QACjBC,aAAc,KAGlB,uBAAG93B,MAAO,CAAEmT,WAAY,GAAI7R,SAAU,GAAIqH,UAAW,KAClD,IACA,mCAIL,yBACE3I,MAAO,CACL43B,cAAe,MACfzqB,QAAS,OACTK,WAAY,WAGd,yBACExN,MAAO,CACLoB,MAAO,GACPkQ,OAAQ,GACRumB,gBAAiB,MACjBC,aAAc,KAGlB,uBAAG93B,MAAO,CAAEmT,WAAY,GAAI7R,SAAU,GAAIqH,UAAW,KAClD,IACA,mCAKX,CACEvJ,MAAO,4BACPoV,UAAW,OACXJ,OAAQ,SAACC,EAAMC,GAAP,OAAkB,2BAAI2iB,EAAc3iB,EAAOvU,MAAMzF,OACzDg6B,QAAS,CACP,CACEjgB,KAAM,oCACN9Z,MAAO,aAET,CACE8Z,KAAM,4CACN9Z,MAAO,6CAET,CACE8Z,KAAM,oCACN9Z,MAAO,aAET,CACE8Z,KAAM,4DACN9Z,MAAO,cAGXg6B,gBAAgB,EAChBC,SAAU,SAACj6B,EAAO+Z,GAAR,OAAkD,IAA/BA,EAAOvU,KAAK00B,QAAQl6B,KAgBnD,CACE6E,MAAO,iBACPvB,IAAK,YACLuW,OAAQ,SAACC,EAAMC,GAAP,MACW,WAAjBA,EAAOjQ,OACL,6BACE,kBAACuwB,GAAA,EAAD,CACEC,cAAY,UACZC,iBAAe,MACf11B,MAAM,oBACNc,QAAS,SAAC3F,GACRw9B,EAAezjB,EAAO0jB,QAExBh4B,MAAO,CAAEiB,MAAO,OAAQkS,WAAY,EAAG7R,SAAU,MAEnD,kBAAC22B,GAAA,EAAD,CACEpD,cAAY,UACZC,iBAAe,MACf11B,MAAM,oCACNc,QAAS,SAAC3F,GACR29B,EAAa5jB,IAEftU,MAAO,CAAEiB,MAAO,QAASkS,WAAY,GAAI7R,SAAU,MAErD,kBAAC62B,GAAA,EAAD,CACEtD,cAAY,UACZC,iBAAe,MACf11B,MAAM,kCACNc,QAAS,SAAC3F,GACR69B,EAAa9jB,IAEftU,MAAO,CAAEiB,MAAO,MAAOkS,WAAY,GAAI7R,SAAU,OAIrD,6BACE,kBAACszB,GAAA,EAAD,CACEC,cAAY,UACZC,iBAAe,MACf11B,MAAM,oBACNc,QAAS,SAAC3F,GACRw9B,EAAezjB,EAAO0jB,QAExBh4B,MAAO,CAAEiB,MAAO,OAAQkS,WAAY,EAAG7R,SAAU,UAOvDy2B,EAAiB,SAACzjB,GACtBijB,EAAcjjB,GACd0e,GAAgB,IAYZkF,EAAe,SAAC5jB,GACpB+jB,wBAAa,CACXj5B,MAAO,oCACPzB,QAAS,4EACT26B,QAAS,CACP,CACErb,MAAO,MACP/c,QAAS,WACP1E,KAAM,CACJ+C,OAAQ,OACRC,IAAK4zB,GAAO,4BAAwB9d,EAAO5T,IAE3CjC,QAAS,CACP,YAAao1B,EACb,eA7UO,eAgVRh1B,MAAK,SAAUC,GAEd3B,QAAQC,IAAI0B,GACZ+zB,GAAgB,GAChB2E,OAEDv4B,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI,cAAY0lB,QAIhC,CACE7F,MAAO,KACP/c,QAAS,kBAMXk4B,EAAe,SAAC9jB,GACpB+jB,wBAAa,CACXj5B,MAAO,kCACPzB,QAAS,0EACT26B,QAAS,CACP,CACErb,MAAO,MACP/c,QAAS,WACP1E,KAAM,CACJ+C,OAAQ,OACRC,IAAK4zB,GAAO,4BAAwB9d,EAAO5T,IAE3CjC,QAAS,CACP,YAAao1B,EACb,eAlXO,eAqXRh1B,MAAK,SAAUC,GAEd3B,QAAQC,IAAI0B,GACZ+zB,GAAgB,GAChB2E,OAEDv4B,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI,cAAY0lB,QAIhC,CACE7F,MAAO,KACP/c,QAAS,kBAMjB,OACE,6BACE,yBAAKgB,UAAU,SAAShB,QAAS,cAAjC,8EAGA,kBAAC,KAAMwS,OAAP,CACE1S,MAAO,CAAEsL,OAAQ,cACjBN,YAAY,eACZwY,aAAW,EACXJ,SAjSS,SAAC7oB,GAEd,IAAMi4B,EAAcuE,EAAW9yB,QAAO,SAAC2xB,GAAD,OACpC9O,OAAOC,KAAK6O,GAAGC,MAAK,SAAC5I,GAEnB,MACQ,gBAANA,GACA6I,OAAOF,EAAE3I,IAAI8I,YAAYjV,cAAcyC,SAAShpB,EAAMumB,qBAI5D2R,EAAeD,MAwRb,6BACE,kBAAC,IAAD,CAAMwD,SAAUpD,EAAc5D,IAAI,cAChC,kBAAC,KAAD,CACEta,OAAQ,SAACJ,GAAD,OAAYA,EAAO5T,IAC3ByT,QAASA,EACTzU,WAA2B,MAAf8yB,EAAsBuE,EAAavE,EAC/C1yB,KAAK,aAIX,kBAAC,KAAD,CACEV,MAAO,KACPiK,QAAS0pB,EACTtoB,KA3GW,WACf8sB,EAAc,IACdvE,GAAgB,IA0GZtoB,SAxGe,WACnB6sB,EAAc,IACdvE,GAAgB,IAuGZ9K,OAAQ,KACR9mB,MAAO,eAEP,yBAAKA,MAAM,OAAOkQ,OAAO,OAAO9Q,IAAK82B,IACrC,kBAAC,KAAD,CAAa94B,IAAK84B,OC5JXiB,I,qBA5RG,WAAO,IAAD,EACkB18B,mBAAS,IAD3B,gCAEkBA,mBAAS,OAF3B,gCAGkBA,oBAAS,IAH3B,mBAGf62B,EAHe,aAIkB72B,oBAAS,IAJ3B,mBAIfk3B,EAJe,KAIDC,EAJC,OAKsBn3B,mBAAS,MAL/B,mBAKf28B,EALe,KAKCC,EALD,OAMkB58B,oBAAS,GAN3B,mBAMf+2B,EANe,KAMDC,EANC,QAODhnB,cAAbM,SACsBtQ,mBAAS,KARjB,mBAQf68B,EARe,KAQNC,EARM,OAmBc98B,qBAnBd,gCAoBsBA,sBApBtB,6BAsBtBiB,qBAAU,WACRtB,KAAM,CACJ+C,OAAQ,MACRC,IAAK4zB,GAAU,oBAEf3zB,QAAS,CACP,YAbY,mCAcZ,eAbe,eAgBhBI,MAAK,SAAUC,GAEd3B,QAAQC,IAAI0B,GACZ+zB,GAAgB,GAChB11B,QAAQC,IAAI0B,EAASE,KAAK6N,MAC1B8rB,EAAW75B,EAASE,KAAK6N,SAS1B5N,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,QAEf,IAEH,IAAM3O,EAAU,CACd,CACE/U,MAAO,wBACPoV,UAAW,KACXJ,OAAQ,SAACC,EAAMC,GAAP,OAAkB,2BAAIA,EAAOskB,SAASl4B,KAC9Cqb,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUA,EAAE4c,SAASl4B,GAAKsH,EAAE4wB,SAASl4B,IAC7Cg3B,eAAgB,CAAC,YAEnB,CACEt4B,MAAO,yBACPoV,UAAW,YACXJ,OAAQ,SAACC,EAAMC,GAAP,OAAkB,2BAAIA,EAAOskB,SAAS1uB,YAC9C6R,OAAQ,SAAC/T,EAAGgU,GAAJ,OACNA,EAAE4c,SAAS1uB,UAAUytB,WAAW,GAAK3vB,EAAE4wB,SAAS1uB,UAAUytB,WAAW,IACvED,eAAgB,CAAC,YAEnB,CACEt4B,MAAO,oCACPoV,UAAW,QACXJ,OAAQ,SAACC,EAAMC,GAAP,OAAkB,2BAAIA,EAAOskB,SAASztB,SAEhD,CACE/L,MAAO,QACPoV,UAAW,QACXJ,OAAQ,SAACC,EAAMC,GAAP,OAAkB,2BAAIA,EAAOskB,SAASxuB,SAEhD,CACEhL,MAAO,yBACPoV,UAAW,UACXJ,OAAQ,SAACC,EAAMC,GAAP,OAAkB,2BAAIA,EAAOskB,SAASxtB,WAEhD,CACEhM,MAAO,aACPoV,UAAW,OACXJ,OAAQ,SAACC,EAAMC,GAAP,OAAkB,2BAAIA,EAAOskB,SAASx0B,OAG9CkwB,QAAS,CACP,CACEjgB,KAAM,QACN9Z,MAAO,SAET,CACE8Z,KAAM,iBACN9Z,MAAO,kBAET,CACE8Z,KAAM,UACN9Z,MAAO,WAET,CACE8Z,KAAM,aACN9Z,MAAO,cAET,CACE8Z,KAAM,cACN9Z,MAAO,gBAGXg6B,gBAAgB,EAChBC,SAAU,SAACj6B,EAAO+Z,GAAR,OAA2D,IAAxCA,EAAOskB,SAASx0B,KAAKqwB,QAAQl6B,KAE5D,CACE6E,MAAO,4BACPoV,UAAW,OACXJ,OAAQ,SAACC,EAAMC,GAAP,OACN,2BAC2B,aAAxBA,EAAOskB,SAAS74B,KACb,oCACwB,WAAxBuU,EAAOskB,SAAS74B,KAChB,4CACwB,aAAxBuU,EAAOskB,SAAS74B,KAChB,oCACA,+DAKRu0B,QAAS,CACP,CACEjgB,KAAM,oCACN9Z,MAAO,aAET,CACE8Z,KAAM,4CACN9Z,MAAO,WAET,CACE8Z,KAAM,oCACN9Z,MAAO,aAET,CACE8Z,KAAM,6DACN9Z,MAAO,cAGXg6B,gBAAgB,EAChBC,SAAU,SAACj6B,EAAO+Z,GAAR,OAA2D,IAAxCA,EAAOskB,SAAS74B,KAAK00B,QAAQl6B,KAE5D,CACE6E,MAAO,wCACPoV,UAAW,oBACXJ,OAAQ,SAACC,EAAMC,GAAP,OAAkB,2BAAIA,EAAOskB,SAASC,oBAC9CvE,QAAS,CACP,CACEjgB,KAAM,OACN9Z,MAAO,QAET,CACE8Z,KAAM,OACN9Z,MAAO,SAGXg6B,gBAAgB,EAChBC,SAAU,SAACj6B,EAAO+Z,GAAR,OAC6C,IAArDA,EAAOskB,SAASC,kBAAkBpE,QAAQl6B,KAE9C,CACE6E,MAAO,GACPvB,IAAK,YACLuW,OAAQ,SAACC,EAAMC,GAAP,OACN,6BACE,kBAACsgB,GAAA,EAAD,CACEC,cAAY,UACZC,iBAAe,MACf11B,MAAM,oBACNc,QAAS,SAAC3F,GACRu+B,EAAiBxkB,IAEnBtU,MAAO,CAAEiB,MAAO,OAAQkS,WAAY,SAOxC2lB,EAAmB,SAACxkB,GACxBmkB,EAAkBnkB,GAClB0e,GAAgB,IAUlB,OACE,6BACE,yBAAK9xB,UAAU,SAAShB,QAAS,cAAjC,gCAGA,6BACE,kBAAC,IAAD,CAAM81B,SAAUpD,EAAc5D,IAAI,cAChC,kBAAC,KAAD,CACEta,OAAQ,SAACJ,GAAD,OAAYA,EAAOskB,SAASl4B,IACpCyT,QAASA,EACTzU,WAAYg5B,EACZ54B,KAAK,aAIX,kBAAC,KAAD,CACEV,MAAK,mEACHo5B,EAAiBA,EAAeI,SAAS1uB,UAAY,IAEvDb,QAAS0pB,EACTtoB,KA3BW,WACfuoB,GAAgB,IA2BZtoB,SAzBe,WACnBsoB,GAAgB,IAyBZ9K,OAAQ,MAER,kBAAC,IAAD,CAAM8N,SAAUtD,EAAc1D,IAAI,cAC/BwJ,EACC,yBAAKx4B,MAAO,CAAE+4B,SAAU,OAAQC,SAAU,SACxC,yBAAKh5B,MAAO,CAAE8S,KAAM,QAClB,6BACE,qDAAkB0lB,EAAeI,SAASl4B,IAC1C,0CAAa83B,EAAeI,SAASx0B,MACrC,wDACc,IACZ,2BACmC,aAAhCo0B,EAAeI,SAAS74B,KACrB,oCACgC,WAAhCy4B,EAAeI,SAAS74B,KACxB,4CACgC,aAAhCy4B,EAAeI,SAAS74B,KACxB,oCACA,gEAITy4B,EAAeS,kBACd,yBAAKj5B,MAAO,CAAE2I,UAAW,KACvB,yEACA,wDACkB6vB,EAAeS,kBAAkB3+B,MAEnD,6CAAWk+B,EAAeS,kBAAkBp4B,aAC5C,wDACc,IACZ,2BACmC,aAAhC23B,EAAeI,SAAS74B,KACrB,oCACgC,WAAhCy4B,EAAeI,SAAS74B,KACxB,4CACgC,aAAhCy4B,EAAeI,SAAS74B,KACxB,oCACA,gEAKV,+GAGF,yBAAKC,MAAO,CAAE8S,KAAM,QAClB,yBACEtS,IAAKg4B,EAAeI,SAASt4B,OAC7Bc,MAAO,OACPkQ,OAAQ,YAKd,U,UClRNK,I,OAAWC,KAAXD,QAsdOunB,GArdS,WAgBtB,IAhB6B,IAAD,EAC0Br9B,mBAAS,IADnC,mBACrBs9B,EADqB,KACAC,EADA,OAEYv9B,mBAAS,MAFrB,mBAErBw9B,EAFqB,KAEPC,EAFO,OAGYz9B,oBAAS,GAHrB,mBAGrB+2B,EAHqB,KAGPC,EAHO,OAIkBh3B,oBAAS,GAJ3B,mBAIrB09B,EAJqB,KAIJC,EAJI,OAKY39B,oBAAS,GALrB,gCAMcA,mBAAS,OANvB,mBAMrB49B,EANqB,KAMNC,EANM,OAQc79B,mBAAS,MARvB,mBAQrB89B,EARqB,KAQNC,EARM,OAS4B/9B,oBAAS,GATrC,mBASrBg+B,EATqB,KASCC,EATD,OAUwBj+B,oBAAS,GAVjC,mBAUrBk+B,EAVqB,KAUDC,EAVC,OAWgBn+B,mBAAS,IAXzB,mBAWrBo+B,EAXqB,KAWLC,EAXK,KAatBrG,EAAY,mCAEZsG,EAAc,GACXrO,EAAI,EAAGA,GAAK,GAAIA,IACvBqO,EAAYx5B,KAAK,kBAAC,GAAD,CAAQ9C,IAAKiuB,GAAIA,IAEpC,IAAMsO,EAAe,SAAC7/B,GACpB,MAAM,YAAN,OAAgBA,EAAMiQ,OAAO,aAEzB6vB,EAAiB,WACrB7+B,KAAM,CACJ+C,OAAQ,MACRC,IAAK4zB,GAAU,4BAEf3zB,QAAS,CACP,YAAao1B,EACb,eAfe,eAkBhBh1B,MAAK,SAAUC,GAIdA,EAASE,KAAK0Q,KAAI,SAAC1S,GACjB,GAAIA,EAAKs9B,SAAU,CACjB,IAAIC,EAAcv9B,EAAKs9B,SAAS7rB,MAAM,KACtCzR,EAAKs9B,SAAWC,MAGpBnB,EAAuB,IACvBt7B,YAAW,WACTs7B,EAAuBt6B,EAASE,QAC/B,KACH6zB,GAAgB,MAEjB5zB,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,GACZ+P,GAAgB,OAqFtB/1B,qBAAU,WACRu9B,MACC,IACH,IAAMG,EAAoBvxB,IAAMqoB,YAC1BmJ,EAAsBxxB,IAAMqoB,YAC5BoJ,EAAoBzxB,IAAMqoB,YAC1BqJ,EAAkB1xB,IAAMqoB,YAuExBsJ,EAAkB,SAACC,GACvBnB,EAAiB,MACjBJ,EAAgB,MAEhB,IAnKsBt8B,EAmKlB89B,EAAa,CACfp6B,GAAIm6B,EACJE,aAAclB,EAAuB,EAAI,EACzCmB,WAAYjB,EAAqB,EAAI,EACrCO,SAAUL,EAAe7d,YAE3ByW,GAAgB,GAzKM71B,EA0KP89B,EAzKft/B,KAAM,CACJ+C,OAAQ,MACRC,IAAK4zB,GAAU,2BAEf3zB,QAAS,CACP,YAAao1B,EACb,eA/Ce,aAiDjBn1B,OAAQ,CACNgC,GAAI1D,EAAK0D,GACTq6B,aAAc/9B,EAAK+9B,aACnBC,WAAYh+B,EAAKg+B,WACjBV,SAAUt9B,EAAKs9B,YAGhBz7B,MAAK,SAAUC,GACdu7B,OAEDp7B,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,GACZ+P,GAAgB,OAuJhB1e,GAAU,CACd,CACE/U,MAAO,KACPoV,UAAW,OACXJ,OAAQ,SAAC6mB,EAAUj+B,GACjB,OAAOA,EAAK0D,IAAwB,GAAlB1D,EAAKk+B,UAvFzB,yBAAKh6B,UAAU,uBACb,yBAAKlB,MAAO,CAAEmN,QAAS,SAAvB,mCACA,8BACE,kBAAC,KAAD,CACEhT,IAAKqgC,EACLhoB,aAAcjI,KAAOovB,EAAe,WACpC5wB,SAAU,SAACsC,EAAM8vB,GACfvB,EAAiBrvB,KAAOc,GAAMb,OAAO,aAEvC4wB,OAAO,QACP5wB,OAAQ4vB,KAGZ,0BAAMp6B,MAAO,CAAEmT,WAAY,KACzB,kBAAC,KAAD,CACEhZ,IAAKsgC,EACL/L,QAASmL,EACT9wB,SAAU,WACR+wB,GAAyBD,KAJ7B,wBASA,kBAAC,KAAD,CACE1/B,IAAKugC,EACLhM,QAASqL,EACThxB,SAAU,WACRixB,GAAuBD,KAJ3B,iCAUF,0BAAM/5B,MAAO,CAAEmT,WAAY,KACzB,kBAAC,KAAD,CACEhZ,IAAKwgC,EACL76B,KAAK,QACLuP,KAAK,WACLtG,SAAU,SAACxO,GACT2/B,EAAkB3/B,IAEpByF,MAAO,CAAEoB,MAAO,KAChB4J,YAAa,oCACbwH,aAAcynB,GAAkC,MAE/CE,KA4CDn9B,EAAK0D,GACP,yBACEQ,UAAU,cACVhB,QAAS,WACPo5B,EAAgBt8B,EAAK0D,MAGvB,8BACE,kBAAC,KAAD,CACE8R,aAAcjI,KAAOvN,EAAKq+B,MAAQ,IAAMr+B,EAAKs+B,KAAM,WACnDvyB,SAAU,KACVqyB,OAAO,QACP5wB,OAAQ4vB,EACR7nB,UAAQ,KAGZ,0BAAMvS,MAAO,CAAEmT,WAAY,KACzB,kBAAC,KAAD,CAAUub,QAAS1xB,EAAKg+B,WAAYjyB,SAAU,KAAMwJ,UAAQ,GAA5D,wBAGA,kBAAC,KAAD,CAAUmc,QAAS1xB,EAAK+9B,aAAchyB,SAAU,KAAMwJ,UAAQ,GAA9D,iCAIF,0BAAMvS,MAAO,CAAEmT,WAAY,KACzB,kBAAC,KAAD,CACErT,KAAK,QACLuP,KAAK,WAELrP,MAAO,CAAEoB,MAAO,KAChB4J,YAAa,oCACbwH,aAAcxV,EAAKs9B,SAAWt9B,EAAKs9B,SAAW,KAC9C/nB,UAAQ,GAEP4nB,IAGL,0BACEj5B,UAAU,mBACVlB,MACmB,GAAjBhD,EAAKu+B,SACD,CAAEtoB,MAAO,QAASnI,YAAa,GAC/B,CAAEqC,QAAS,QAEjBjN,QAAS,cAPX,UAaA,0BAAMF,MAAwB,GAAjBhD,EAAKu+B,SAAmB,GAAK,CAAEpuB,QAAS,SACnD,0BAAMnN,MAAO,CAAEiT,MAAO,QAASnI,YAAa,IAA5C,OACA,0BACE5J,UAAU,mBACVlB,MAAO,CAAEiT,MAAO,QAASnI,YAAa,GACtC5K,QAAS,YA7FE,SAAC26B,GACxB,IAAMW,EAAUrC,EACVjuB,EAASiuB,EAAoBvW,MAAK,SAAC5lB,GAAD,OAAU69B,IAAW79B,EAAK0D,MAC5D+6B,EAAYD,EAAQ5Y,MAAK,SAAC5lB,GAAD,OAAUy8B,IAAkBz8B,EAAK0D,MAC5D+6B,IACFA,EAAUP,WAAY,GAEpBhwB,IACFA,EAAOgwB,WAAY,EACnBxB,EAAiBmB,GACjBzB,EAAuBoC,GACvB5B,EAAiB1uB,EAAOmwB,MAAQ,IAAMnwB,EAAOowB,MAC7CxB,EAAwB5uB,EAAO6vB,cAC/Bf,EAAsB9uB,EAAO8vB,YAC7Bd,EAAkBhvB,EAAOovB,WAgFboB,CAAiB1+B,EAAK0D,MAJ1B,cAaJ,yBAAKQ,UAAU,eACb,8BACE,kBAAC,KAAD,CACE6H,SAAU,SAACsC,EAAM8vB,GACfvB,EAAiBrvB,KAAOc,GAAMb,OAAO,aAEvC4wB,OAAO,QACP5wB,OAAQ4vB,KAGZ,0BAAMp6B,MAAO,CAAEmT,WAAY,KACzB,kBAAC,KAAD,CACEub,QAASmL,EACT9wB,SAAU,WACR+wB,GAAyBD,KAH7B,wBAQA,kBAAC,KAAD,CACEnL,QAASqL,EACThxB,SAAU,WACRixB,GAAuBD,KAH3B,iCASF,0BAAM/5B,MAAO,CAAEmT,WAAY,KACzB,kBAAC,KAAD,CACErT,KAAK,QACLuP,KAAK,WACLtG,SAAU,SAACxO,GACT2/B,EAAkB3/B,IAEpByF,MAAO,CAAEoB,MAAO,KAChB4J,YAAa,qCAEZmvB,QASf,OACE,6BACE,wBAAIn6B,MAAO,CAAE20B,UAAW,WAAxB,+CACA,yBAAKzzB,UAAU,uBACb,kBAAC,IAAD,CAAM80B,SAAUpD,EAAc5D,IAAI,cAChC,kBAAC,KAAD,CACEta,OAAQ,SAACJ,GAAD,OAAYA,EAAO5T,IAC3BhB,WAAYy5B,EACZxkB,YAAY,EACZgnB,MAAO,SAAC3+B,GACN,MAAO,CACL0X,OAAQ1X,EAAK0D,KAOjBk7B,aAAc,SAAC5+B,GACb,OAAIA,EAAK0D,IAAM24B,GACbr8B,EAAKu+B,UAAW,EACT,gBAEPv+B,EAAKu+B,UAAW,EACT,OAGXpnB,QAASA,KAIX,yBAAKjT,UAAU,eACb,kBAAC,IAAD,CACEnB,KAAK,UACLC,MAAO,CAAEiT,MAAO,QAAS4oB,MAAO,GAAIz6B,MAAO,KAC3CmR,UAAUgnB,IAAmBE,EAC7Bv5B,QAAS,WACHu5B,EACFmB,EAAgBnB,GAvRV,WACpB,IAAI4B,EAAQ1B,EAAclrB,MAAM,KAAK,GACjC6sB,EAAO3B,EAAclrB,MAAM,KAAK,GACpCokB,GAAgB,GAChBr3B,KAAM,CACJ+C,OAAQ,OACRC,IAAK4zB,GAAU,wBAEf3zB,QAAS,CACP,YAAao1B,EACb,eArGe,aAuGjB70B,KAAM,CACJq8B,MAAOA,EACPC,KAAMA,EACNP,aAAclB,EAAuB,EAAI,EACzCmB,WAAYjB,EAAqB,EAAI,EACrCO,SAAUL,EAAe7d,cAG1Bvd,MAAK,SAAUC,GACdu7B,IACAb,GAAmB,MAEpBv6B,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,GACZnlB,IAAQuB,MAAM4jB,EAAIhkB,SAASE,KAAKE,MAAMvB,SACtCk1B,GAAgB,MA6PNiJ,KARN,YAcCvC,GAAmBE,EAClB,kBAAC,IAAD,CACE15B,KAAK,UACLC,MAAO,CAAEiT,MAAO,QAAS4oB,MAAO,GAAIz6B,MAAO,KAC3CmR,UAAUgnB,IAAmBE,EAC7Bv5B,QAAS,WAoBPi5B,EAAoBzpB,KAAI,SAAC1S,GACvBA,EAAKk+B,WAAY,KAEnBxB,EAAiB,MACjBJ,EAAgB,MACK,MAAjBG,GACF5G,GAAgB,GAChBwH,KAEAjB,EAAuBD,KAjC7B,YAwCA,kBAAC,IAAD,CACEp5B,KAAK,UACLC,MAAO,CAAEiT,MAAO,QAAS4oB,MAAO,GAAIz6B,MAAO,KAC3CmR,YAAUgnB,IAAmBE,GAC7Bv5B,QAAS,WACPi5B,EAAoBzpB,KAAI,SAAC1S,GACvBA,EAAKk+B,WAAY,KAEnBxB,EAAiB,MACjBJ,EAAgB,MAChBF,EAAuBD,GACvBK,GAAmB,GAInBJ,EAAuB,GAAD,oBAAKD,GAAL,CAHR,CACZz4B,GAAI,WAbV,gBCvbNiR,I,OAAWC,KAAXD,QAuZOoqB,GArZE,WAAO,IAAD,EACWlgC,mBAAS,IADpB,mBACdmgC,EADc,KACJC,EADI,OAEmBpgC,mBAAS,MAF5B,gCAGmBA,oBAAS,IAH5B,mBAGdk3B,EAHc,KAGAC,EAHA,OAIqBn3B,oBAAS,GAJ9B,mBAIdqgC,EAJc,KAICC,EAJD,OAKmBtgC,oBAAS,GAL5B,mBAKd+2B,EALc,KAKAC,EALA,OAMiBh3B,mBAAS,MAN1B,mBAMd22B,EANc,KAMDC,EANC,OAOW52B,mBAAS,CACvCvB,KAAM,GACNuG,YAAa,GACbu7B,gBAAiB,EACjBC,WAAY,IAXO,mBAOdtK,EAPc,KAOJuK,EAPI,KAcfrF,GADeprB,cAAbM,SACc,CACpB+qB,UAAW,CAAEx2B,GAAI,SAAUpG,KAAM,sCACjC68B,QAAS,CAAEz2B,GAAI,SAAUpG,KAAM,8CAC/B88B,UAAW,CAAE12B,GAAI,SAAUpG,KAAM,sCACjC+8B,UAAW,CAAE32B,GAAI,SAAUpG,KAAM,+DAE7Bu5B,EAAY,mCAGlB/2B,qBAAU,WACRy/B,MACC,IAEH,IAAMA,EAAU,WACd/gC,KAAM,CACJ+C,OAAQ,MACRC,IAAK4zB,GAAU,qBAEf3zB,QAAS,CACP,YAAao1B,EACb,eAbe,eAgBhBh1B,MAAK,SAAUC,GAEd3B,QAAQC,IAAI0B,GACZ+zB,GAAgB,GAChBoJ,EAAYn9B,EAASE,SAEtBC,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,OAkBZ3O,EAAU,CACd,CACE/U,MAAO,2BACPoV,UAAW,QAUb,CACEpV,MAAO,kCACPoV,UAAW,eAGb,CACEpV,MAAO,0CACPoV,UAAW,kBACXuH,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUA,EAAEogB,gBAAkBp0B,EAAEo0B,iBACxC1E,eAAgB,CAAC,YAEnB,CACEt4B,MAAO,4BACPoV,UAAW,eACXJ,OAAQ,SAACC,EAAMC,GAAP,OACN,2BAAI2iB,EAAc3iB,EAAOkoB,cAAcliC,OAEzCg6B,QAAS,CACP,CACEjgB,KAAM,oCACN9Z,MAAO,aAET,CACE8Z,KAAM,4CACN9Z,MAAO,6CAET,CACE8Z,KAAM,oCACN9Z,MAAO,aAET,CACE8Z,KAAM,4DACN9Z,MAAO,cAGXg6B,gBAAgB,EAChBC,SAAU,SAACj6B,EAAO+Z,GAAR,OAA0D,IAAvCA,EAAOkoB,aAAa/H,QAAQl6B,KAE3D,CACE6E,MAAO,qCACPoV,UAAW,aACXJ,OAAQ,SAAC7Z,EAAO+Z,GAAR,OACN,2BAAyB,GAArBA,EAAO+nB,WAAqB,OAAS,WAG7C,CACEj9B,MAAO,iBACPvB,IAAK,YACLuW,OAAQ,SAACE,GAAD,OACN,6BACE,kBAACkI,GAAA,EAAD,CACExc,MAAO,CAAEsB,SAAU,GAAIL,MAAO,UAC9Bf,QAAS,SAAC+K,GAAD,OAAOwxB,EAASnoB,IACzBugB,cAAY,UACZC,iBAAe,MACf11B,MAAM,+BAER,kBAACqd,GAAA,EAAD,CACEzc,MAAO,CAAEsB,SAAU,GAAIL,MAAO,MAAOkS,WAAY,IACjDjT,QAAS,SAAC+K,GAAD,OAAOyxB,EAAOpoB,IACvBugB,cAAY,UACZC,iBAAe,MACf11B,MAAM,iCAOVs9B,EAAS,SAACpoB,GACd+jB,wBAAa,CACXj5B,MAAO,2BACPzB,QAAS,mEAAsC2W,EAAOha,KAAO,IAC7Dg+B,QAAS,CACP,CACErb,MAAO,MACP/c,QAAS,WACP1E,KAAM,CACJ+C,OAAQ,SACRC,IAAK4zB,GAAU,wBAA0B9d,EAAO5T,GAEhDjC,QAAS,CACP,YAAao1B,EACb,eA1IO,eA6IRh1B,MAAK,SAAUC,GAEd3B,QAAQC,IAAI0B,GACZ+zB,GAAgB,GAChB0J,OAEDt9B,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,QAIpB,CACE7F,MAAO,KACP/c,QAAS,kBAMXu8B,EAAW,SAACnoB,GAChBgoB,EAAYhoB,GACZ0e,GAAgB,IAMZ2J,EAAe,WACnB3J,GAAgB,IAoBZ4J,EAAgB,SAAC/+B,EAAKtD,GAC1B+hC,EAAY,2BACPvK,GADM,mBAERl0B,EAAMtD,MAqEX,OACE,6BACE,yBAAK2G,UAAU,SAAShB,QAAS,cAAjC,oFAGA,kBAAC,KAAMwS,OAAP,CACE1S,MAAO,CAAEsL,OAAQ,cACjBN,YAAY,eACZwY,aAAW,EACXJ,SAnPS,SAAC7oB,GAEd,IAAMi4B,EAAcwJ,EAAS/3B,QAAO,SAAC2xB,GAAD,OAClC9O,OAAOC,KAAK6O,GAAGC,MAAK,SAAC5I,GAEnB,MACQ,gBAANA,GACA6I,OAAOF,EAAE3I,IAAI8I,YAAYjV,cAAcyC,SAAShpB,EAAMumB,qBAI5D2R,EAAeD,MA0Ob,6BACE,kBAAC,IAAD,CAAMwD,SAAUpD,EAAc5D,IAAI,cAChC,kBAAC,KAAD,CACEta,OAAQ,SAACJ,GAAD,OAAYA,EAAO5T,IAC3ByT,QAASA,EACTzU,WAA2B,MAAf8yB,EAAsBwJ,EAAWxJ,EAC7C1yB,KAAK,YAIT,kBAAC,IAAD,CAAQC,KAAK,UAAUG,QA9Gb,WACdo8B,EAAY,CACVhiC,KAAM,GACNuG,YAAa,GACbu7B,gBAAiB,EACjBC,WAAY,IAEdF,GAAiB,IAuG4Bn8B,MAAO,CAAE2I,UAAW,KAA7D,qBAIF,kBAAC,KAAD,CACEvJ,MAAO,2CACPiK,QAAS0pB,EACTtoB,KA5HW,WACfuoB,GAAgB,IA4HZtoB,SAAUiyB,EACVzU,OAAQ,KACR9mB,MAAO,KAEP,uDACA,kBAAC,KAAD,CACE7G,MAAOw3B,EAASz3B,KAChByO,SAAU,SAACkC,GAAD,OAAO2xB,EAAc,OAAQ3xB,EAAEC,OAAO3Q,UAGlD,uBAAGyF,MAAO,CAAE2I,UAAW,KAAvB,mCACA,kBAAC,KAAD,CACEpO,MAAOw3B,EAASlxB,YAChBkI,SAAU,SAACkC,GAAD,OAAO2xB,EAAc,cAAe3xB,EAAEC,OAAO3Q,UAGzD,uBAAGyF,MAAO,CAAE2I,UAAW,KAAvB,2CACA,kBAAC,KAAD,CACEpO,MAAOw3B,EAASqK,gBAChBr8B,KAAK,SACLgJ,SAAU,SAACkC,GAAD,OAAO2xB,EAAc,kBAAmB3xB,EAAEC,OAAO3Q,UAG7D,uBAAGyF,MAAO,CAAE2I,UAAW,KAAvB,sCAEA,kBAAC,KAAD,CACE6J,aAAcuf,EAASsK,WACvBtzB,SAAU,SAACkC,GAAD,OAAO2xB,EAAc,aAAc3xB,IAC7CjL,MAAO,CAAEoB,MAAO,SAEhB,kBAAC,GAAD,CAAQ7G,OAAO,GAAf,QACA,kBAAC,GAAD,CAAQA,OAAO,GAAf,UAGF,kBAAC,IAAD,CACEwF,KAAK,UACLG,QAlIe,WACrB/C,QAAQC,IAAI20B,GACZ,IAAIrxB,EAAKqxB,EAASrxB,GACdpG,EAAOy3B,EAASz3B,KAChBuG,EAAckxB,EAASlxB,YACvBu7B,EAAkBrK,EAASqK,gBAC3BC,EAAoC,GAAvBtK,EAASsK,WAAqB,EAAI,EACnD7gC,KAAM,CACJ+C,OAAQ,MACRC,IACE4zB,GAAO,+BACiB1xB,EADjB,iBAC4BpG,EAD5B,wBACgDuG,EADhD,4BAC+Eu7B,EAD/E,uBAC6GC,GAEtH59B,QAAS,CACP,YAAao1B,EACb,eApNe,eAuNhBh1B,MAAK,SAAUC,GAEd3B,QAAQC,IAAI0B,GACZ69B,IACA9J,GAAgB,GAChB0J,OAEDt9B,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,OAwGV9iB,MAAO,CAAE2I,UAAW,KAHtB,WASF,kBAAC,KAAD,CACEvJ,MAAO,0CACPiK,QAAS6yB,EACTzxB,KA1JY,WAChB0xB,GAAiB,IA0JbzxB,SAxJgB,WACpByxB,GAAiB,IAwJbjU,OAAQ,KACR9mB,MAAO,KAEP,uDACA,kBAAC,KAAD,CACE7G,MAAOw3B,EAASz3B,KAChByO,SAAU,SAACkC,GAAD,OAAO2xB,EAAc,OAAQ3xB,EAAEC,OAAO3Q,UAGlD,uBAAGyF,MAAO,CAAE2I,UAAW,KAAvB,mCACA,kBAAC,KAAD,CACEpO,MAAOw3B,EAASlxB,YAChBkI,SAAU,SAACkC,GAAD,OAAO2xB,EAAc,cAAe3xB,EAAEC,OAAO3Q,UAGzD,uBAAGyF,MAAO,CAAE2I,UAAW,KAAvB,2CACA,kBAAC,KAAD,CACEpO,MAAOw3B,EAASqK,gBAChBr8B,KAAK,SACLgJ,SAAU,SAACkC,GAAD,OAAO2xB,EAAc,kBAAmB3xB,EAAEC,OAAO3Q,UAG7D,uBAAGyF,MAAO,CAAE2I,UAAW,KAAvB,sCAEA,kBAAC,KAAD,CACE6J,aAAcuf,EAASsK,WACvBtzB,SAAU,SAACkC,GAAD,OAAO2xB,EAAc,aAAc3xB,IAC7CjL,MAAO,CAAEoB,MAAO,SAEhB,kBAAC,GAAD,CAAQ7G,OAAO,GAAf,QACA,kBAAC,GAAD,CAAQA,OAAO,GAAf,UAGF,kBAAC,IAAD,CACEwF,KAAK,UACLG,QAlJc,WACpB/C,QAAQC,IAAI20B,GACZ,IAAIz3B,EAAOy3B,EAASz3B,KAChBuG,EAAckxB,EAASlxB,YACvBu7B,EAAkBrK,EAASqK,gBAC3BC,EAAoC,GAAvBtK,EAASsK,WAAqB,EAAI,EACnD7gC,KAAM,CACJ+C,OAAQ,OACRC,IAAK4zB,GAAO,oBAEZ3zB,QAAS,CACP,YAAao1B,EACb,eAhPe,aAkPjB/uB,KAAM,CACJxK,KAAMA,EACNuG,YAAaA,EACbu7B,gBAAiBA,EACjBC,WAAYA,KAGbx9B,MAAK,SAAUC,GAEd3B,QAAQC,IAAI0B,GACZ69B,IACA9J,GAAgB,GAChB0J,OAEDt9B,OAAM,SAAU6jB,GAEf3lB,QAAQC,IAAI0lB,OAqHV9iB,MAAO,CAAE2I,UAAW,KAHtB,aCvYA+hB,GAAYC,KAAZD,QAiCOmS,GA/BE,WACf,OACE,6BACG,IACD,kBAAC,KAAD,CAAMvP,iBAAiB,KACrB,kBAAC,GAAD,CAASC,IAAK,gFAA0C1vB,IAAI,KAC1D,kBAAC,GAAD,OAEF,kBAAC,GAAD,CAAS0vB,IAAK,gFAA0C1vB,IAAI,KAC1D,kBAAC,GAAD,OAQF,kBAAC,GAAD,CAAS0vB,IAAK,8DAAkC1vB,IAAI,KAClD,kBAAC,GAAD,OAEF,kBAAC,GAAD,CAAS0vB,IAAK,6EAAqC1vB,IAAI,KACrD,kBAAC,GAAD,OAEF,kBAAC,GAAD,CAAS0vB,IAAK,2FAAyC1vB,IAAI,KACzD,kBAAC,GAAD,U,6GCzCGpD,mHAAYqiC,gB,eCOnBC,GAAYC,cAAW,SAAC5tB,GAAD,MAAY,CACvC6tB,aAAc,CACZ9vB,QAAS,OACT5B,aAAc,GAEhB2xB,OAAQ,CACNj8B,MAAO,WAuBIk8B,GAlBM,SAAC90B,GACpB,IAAM+0B,EAAUL,KACRh8B,EAAUsH,EAAVtH,MAER,OADA5D,QAAQC,IAAR,iBAAsB2D,IAEpB,kBAACs8B,GAAA,EAAD,CAAKC,UAAU,WAAWC,GAAI,EAAGC,YAAY,cAAct8B,UAAWk8B,EAAQH,cAC5E,kBAACQ,GAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVtxB,QAAQ,aACRmB,WAAW,UAEX,kBAAC1M,EAAA,EAAD,CAAQI,UAAWk8B,EAAQF,OAAQ5iC,KAAK,YAAYC,MAAOwG,EAAOC,UAAQ,O,wZC5BlF,IAAM48B,GAAgB/jC,YAAOgkC,KAAPhkC,CAAH,MASCA,YAAOikC,KAAPjkC,CAAH,MCSjB,SAASkkC,GAAT,GAA6B,IAAT1yB,EAAQ,EAARA,KAClB,OACE,kBAAC2yB,GAAA,EAAD,CAAc3yB,KAAMA,EAAM4yB,UAAU,eAAeC,OAAO,UAI9DC,KAAQC,iBAAiBC,IAGzB,IAAI7iC,GAAQC,EAAQ,IAGdshC,GAAYC,cAAW,SAAC5tB,GAAD,MAAY,CACvCkvB,QAAS,CACP7wB,WAAY,OACZC,cAAe,aAGjBtO,MAAO,CACLkC,SAAU,IAGZhB,OAAQ,CACNgL,OAAQ,OACRgG,OAAQ,IACRlQ,MAAO,KAETP,YAAa,CACXsS,WAAY,IAEdnW,KAAM,CACJsO,OAAQ,UACRgG,OAAQ,IACRmc,YAAa,GAEf8Q,MAAO,CACLC,QAASpvB,EAAMqvB,QAAQ,GACvB9J,UAAW,SACX1zB,MAAOmO,EAAMsvB,QAAQrqB,KAAKsqB,eAIxBC,GAAc,SAACv2B,GAAW,IACtB8T,EAAc9T,EAAd8T,UACR,OAAO,6BACL,kBAACshB,GAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVtxB,QAAQ,aACRmB,WAAW,UAEX,kBAACuwB,GAAD,CAAU1yB,KAAM8Q,OAKhB0iB,GAAU,SAACx2B,GACf,IAAM+0B,EAAUL,KACRn/B,EAAYyK,EAAZzK,QACR,OAAO,6BACL,yBAAKsD,UAAWk8B,EAAQkB,SAAU1gC,KAIhCkhC,GAAY,SAACz2B,GACD00B,KAChB,OAAO,6BACL,kBAACU,GAAA,EAAD,CACEC,WAAS,EACTC,UAAU,SACVtxB,QAAQ,aACRmB,WAAW,cAEX,kBAAC,GAAiBnF,GAClB,kBAAC,GAAgBA,MAqHR02B,GAhHA,WAAO,IAAD,EAEOljC,mBAAS,IAFhB,mBAEZmjC,EAFY,KAELC,EAFK,OAGKpjC,mBAAS,GAHd,mBAGZqjC,EAHY,KAGNC,EAHM,OAKOtjC,mBAAS,GALhB,mBAKZS,EALY,KAKLC,EALK,OAMOV,mBAAS,GANhB,mBAMZ8C,EANY,aAOO9C,mBAAS,IAPhB,mBAOZC,EAPY,KAOLC,EAPK,KAQbqhC,EAAUL,KACVphC,EAAUC,cAEhBkB,qBAAU,WAeRtB,GAda,CACX+C,OAAQ,MACRC,IAAK,kDACLC,QAAS,CACP,eAAgB,mBAChB,YAAa,mCACb,eAAgB,aAElBC,OAAQ,CACNpC,MAAOA,EACPqC,MAAOA,KAKRE,MAAK,SAAUC,GACdmgC,EAASD,EAAM9hC,OAAO4B,EAASE,KAAKA,KAAKxC,gBACzCT,EAAS+C,EAASE,KAAKA,KAAKlD,OAC5BqB,QAAQC,IAAI4hC,EAAM9gC,WAEnBe,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,QAGf,CAAC5C,EAAOqC,IA4CX,OAAO,6BAOL,yBAAKuC,UAAWk8B,EAAQh+B,OAAxB,iCACA,kBAAC,KAAD,KACG4/B,EAAM18B,MArFS,EAqFH48B,EArFG,EAqFiBA,EArFjB,GAqFmDxvB,KAAI,SAAA1Q,GAAI,OACzE,kBAAC4+B,GAAD,CAAe18B,UAAWk8B,EAAQpgC,KAAMkD,QAAS,kBA9ClCQ,EA8CoD1B,EAAKoB,IA7C5EjD,QAAQC,IAAR,0BAA+BsD,SAC/B/E,EAAQgF,KAAR,0BAAgCD,IAFd,IAACA,IA+Cb,kBAAC0+B,GAAA,EAAD,CAAgBl+B,UAAU,QACxB,kBAACm+B,GAAA,EAAD,CAAQ7+B,IAAKrG,EAAIC,KAAK4E,EAAK7E,IAAIsG,OAAOjG,IAAK0G,UAAWk8B,EAAQ98B,OAAQg/B,QAAQ,WAC3EtgC,EAAKg5B,QAGV,kBAACuH,GAAA,EAAD,CAAcr+B,UAAWk8B,EAAQv8B,YAAay9B,QAAS,kBAAC,GAAYt/B,GAAU2/B,UAAW,kBAAC,GAAc3/B,UAI9G,kBAACwgC,GAAA,EAAD,CACEC,mBAAoB,CAAC,EAAG,GAAI,IAC5BnC,UAAU,MACV3+B,MAAO7C,EACP4jC,YAAa,EACbR,KAAMA,EACNS,aApEqB,SAACC,EAAOC,GAC/BV,EAAQU,GACRtjC,EAASD,EAAQqC,GACjBxB,QAAQC,IAAR,iBAAsBd,EAAtB,sBAAyCqC,S,+DC9HzCnD,I,OAAQC,EAAQ,KAEdshC,GAAYC,cAAW,SAAC5tB,GAAD,MAAY,CACvC0wB,KAAM,CACJC,SAAU,GAEZxB,MAAO,CACLC,QAASpvB,EAAMqvB,QAAQ,GACvB91B,UAAW,EACXq3B,SAAU,MAEZhI,MAAO,CACL1sB,OAAQ,OACR6B,QAAS,QACT/L,MAAO,IACPkQ,OAAQ,KAEVlS,MAAO,CACLqO,WAAY,OACZC,cAAe,aAEjBuyB,OAAQ,CACN3+B,SAAU,IAEZ4+B,gBAAiB,CACfvC,UAAW,MACXtxB,QAAS,aACTmB,WAAY,cAKV2yB,GAAe,SAAC93B,GAAW,IACvBjJ,EAAyBiJ,EAAzBjJ,MAAOxB,EAAkByK,EAAlBzK,QAASwiC,EAAS/3B,EAAT+3B,KAClBhD,EAAUL,KAChB,OACE,kBAACU,GAAA,EAAD,CAAMC,WAAS,EAACe,QAAS,GACvB,kBAAChB,GAAA,EAAD,CAAMzgC,MAAI,EAACqjC,GAAI,EAAGC,GAAI,IACpB,kBAACrvB,GAAA,EAAD,CAAY/P,WAAWk8B,EAAQ8C,gBAAiB9C,EAAQh+B,QAAQA,IAElE,kBAACq+B,GAAA,EAAD,CAAMzgC,MAAI,EAACqjC,GAAI,EAAGC,GAAI,IACnBF,EACC,kBAACnvB,GAAA,EAAD,KAAY,kBAACsvB,GAAA,EAAD,CAAM3/B,KAAMhD,GAAUA,IAClC,kBAACqT,GAAA,EAAD,KAAarT,MAgGR4iC,GAzFc,WAAO,IAC1B9/B,EAAO8mB,cAAP9mB,GACF08B,EAAUL,KAFiB,EAGmBlhC,mBAAS,IAH5B,mBAG1B4kC,EAH0B,KAGNC,EAHM,OAIL7kC,oBAAS,GAJJ,mBAI1BwI,EAJ0B,KAIlBs8B,EAJkB,KAa3BC,EAA2B,SAAC7gC,EAAMpC,EAASkD,GAC/C+I,KAAa7J,GAAM,CACjBpC,QAASA,EACTkD,YAAaA,KA0BjB,OAtBA/D,qBAAU,WAWRtB,GAVa,CACX+C,OAAQ,MACRC,IAAK,6CACLC,QAAS,CACP,eAAgB,mBAChB,YAAa,mCACb,eAAgB,aAElBC,OAAQ,CAAE,MAASgC,KAEP7B,MAAK,SAAUC,GAC3B4hC,EAAsB5hC,EAASE,KAAKA,MACpC7B,QAAQC,IAAI0B,EAASE,SACpBC,OAAM,SAAUC,GACjB/B,QAAQC,IAAI8B,QAGb,IAEH/B,QAAQC,IAAR,8BAAmCqjC,IAGjC,yBAAKv/B,UAAWk8B,EAAQ0C,MACtB,yBAAK5+B,UAAWk8B,EAAQ6C,QAAxB,+CACA,kBAACY,GAAA,EAAD,CAAO3/B,UAAWk8B,EAAQmB,OACxB,kBAACd,GAAA,EAAD,CAAMC,WAAS,EAACe,QAAS,GACvB,kBAAChB,GAAA,EAAD,CAAMzgC,MAAI,GACR,kBAAC8jC,GAAA,EAAD,CAAY5/B,UAAWk8B,EAAQpF,OAC5ByI,EAAmBtmC,KAAO,yBAAK+G,UAAWk8B,EAAQpF,MAAOhvB,IAAI,UAAUxI,IAAKrG,EAAIC,KAAKqmC,EAAmBtmC,IAAIsG,OAAOjG,QAGxH,kBAACijC,GAAA,EAAD,CAAMzgC,MAAI,EAACsjC,GAAI,GAAID,IAAE,EAAC3C,WAAS,GAC7B,kBAACD,GAAA,EAAD,CAAMzgC,MAAI,EAACsjC,IAAE,EAAC5C,WAAS,EAACC,UAAU,SAASc,QAAS,GAClD,kBAAChB,GAAA,EAAD,CAAMzgC,MAAI,EAACsjC,IAAE,GACX,kBAAC7C,GAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVtxB,QAAQ,aACRmB,WAAW,UAEVizB,EAAmBjE,cAAgB,kBAACvrB,GAAA,EAAD,CAAY8vB,cAAY,EAACzB,QAAQ,KAAKp+B,UAAWk8B,EAAQh+B,OAAS9D,EAAuBmlC,EAAmBjE,eAChJ,kBAAC,KAAD,CAASp9B,MAAOiF,EAAS,WAAa,cACpC,kBAAC28B,GAAA,EAAD,CAAoBC,aAAc58B,EAAS,UAAY,UAAWrE,MAAO,CAAEsB,SAAU,GAAI6R,WAAY,EAAG5H,aAAc,GAAIiB,OAAQ,WAAatM,QAxDhJ,WACH0gC,EAAyB,UAAW,eAA5Cv8B,EAA4D,mCACP,kCACzDs8B,GAAWt8B,QAwDC,kBAAC,GAAD,CAAcjF,MAAO,sBAAaxB,QAAS6iC,EAAmBrgC,MAC9D,kBAACq9B,GAAA,EAAD,CAAMC,WAAS,EAACe,QAAS,GACvB,kBAAChB,GAAA,EAAD,CAAMzgC,MAAI,EAACqjC,GAAI,EAAGC,GAAI,IACpB,kBAACrvB,GAAA,EAAD,CAAY/P,WAAWk8B,EAAQ8C,gBAAiB9C,EAAQh+B,QAAxD,2BAEF,kBAACq+B,GAAA,EAAD,CAAMzgC,MAAI,EAACqjC,GAAI,EAAGC,GAAI,IACpB,kBAACx/B,EAAA,EAAD,CAAQxG,KAAK,YAAYC,MAAOkmC,EAAmB1/B,OAAS,EAAGC,UAAQ,EAAChB,MAAO,CAAEiB,MAAO,WAG5F,kBAAC,GAAD,CAAc7B,MAAO,iBAAUxB,QAAS6iC,EAAmB7iC,UAC1D6iC,EAAmBS,UAAY,kBAAC,GAAD,CAAc9hC,MAAO,aAAcxB,QAAS6iC,EAAmBS,SAAS9gC,MACxG,kBAAC,GAAD,CAAchB,MAAO,cAAexB,QAAS6iC,EAAmBtkB,YAC/DskB,EAAmBtmC,KAAO,kBAAC,GAAD,CAAciF,MAAO,YAAaxB,QAAS6iC,EAAmBtmC,IAAIgnC,MAAOf,MAAM,W,WC3ItH5kC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CACd,CACE/U,MAAO,6BACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE66B,SAAW7mB,EAAE6mB,WALrB,aASZzjC,MAAO,WACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,aAE/B,CACEziC,MAAO,wBACPoV,UAAW,aACX3W,IAAK,aACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE86B,WAAa9mB,EAAE8mB,aAGrC,CACE1jC,MAAO,6CACPoV,UAAW,mBACX3W,IAAK,mBACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE+6B,iBAAmB/mB,EAAE+mB,mBAzB7B,aA6BZ3jC,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAhCjB,aAoCZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA7C3D,aAgDZ5jC,MAAO,kBACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,aAnDjB,aAsDZziC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GApK9EmB,IAAMC,WA0K5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,wDAA0DD,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAEvH,4DAA8D4G,KAAKxG,MAAMJ,YAQjFnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,2GAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QCpSFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CACd,CACE/U,MAAO,KACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WALrB,aASZzkC,MAAO,eACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAZjB,aAeZziC,MAAO,oBACPoV,UAAW,YACX3W,IAAK,aACF0K,KAAKs5B,qBAAqB,cAlBjB,aAqBZziC,MAAO,uBACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,aAxBjB,aA2BZziC,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SA9BjB,aAkCZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA3C3D,aA+CZ5jC,MAAO,qCACPoV,UAAW,aACX3W,IAAK,cACF0K,KAAKs5B,qBAAqB,eAlDjB,aAqDZziC,MAAO,kBACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,aAxDjB,aA2DZziC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GAzK9EmB,IAAMC,WA+K5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,0DAA4DD,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAEzH,8DAAgE4G,KAAKxG,MAAMJ,YAQnFnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,yFAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QCzSFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CAAC,aAEb/U,MAAO,0BACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAG/B,CACEziC,MAAO,sBACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WAGnC,CACEzkC,MAAO,8BACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE87B,SAAW9nB,EAAE8nB,WAGnC,CACE1kC,MAAO,qBACPoV,UAAW,QACX3W,IAAK,QACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEjG,MAAQia,EAAEja,QA1BlB,aA6BZ3C,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAhCjB,aAoCZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA7C3D,aAgDZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GA9J9EmB,IAAMC,WAoK5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,2DAA6DD,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAE1H,+DAAiE4G,KAAKxG,MAAMJ,YAQpFnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,kEAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QC9RFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CAAC,aAEb/U,MAAO,kBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAG/B,CACEziC,MAAO,qBACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WAGnC,CACEzkC,MAAO,sBACPoV,UAAW,UACX3W,IAAK,UACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE+7B,QAAU/nB,EAAE+nB,UAGlC,CACE3kC,MAAO,WACPoV,UAAW,UACX3W,IAAK,UACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEg8B,QAAUhoB,EAAEgoB,UAGlC,CACE5kC,MAAO,8BACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE87B,SAAW9nB,EAAE8nB,WAGnC,CACE1kC,MAAO,qBACPoV,UAAW,QACX3W,IAAK,QACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEjG,MAAQia,EAAEja,QAxClB,aA2CZ3C,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SA9CjB,aAkDZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA3D3D,aA8DZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GA5K9EmB,IAAMC,WAkL5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,4DAA8DD,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAE3H,gEAAkE4G,KAAKxG,MAAMJ,YAQrFnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,iEAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QC5SFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CACd,CACE/U,MAAO,KACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WAGnC,CACEzkC,MAAO,YACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,WACPoV,UAAW,UACX3W,IAAK,UACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEi8B,QAAUjoB,EAAEioB,UAElC,CACE7kC,MAAO,qBACPoV,UAAW,QACX3W,IAAK,QACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEjG,MAAQia,EAAEja,QAvBlB,aA0BZ3C,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SA7BjB,aAiCZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA1C3D,aA6CZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GA3J9EmB,IAAMC,WAiK5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,yDAA2DD,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAExH,6DAA+D4G,KAAKxG,MAAMJ,YAQlFnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,yEAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QC3RFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDuyB,G,+MACJniC,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CACd,CACE/U,MAAO,KACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WALrB,aASZzkC,MAAO,iBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAZjB,aAeZziC,MAAO,6BACPoV,UAAW,QACX3W,IAAK,SACF0K,KAAKs5B,qBAAqB,UAlBjB,aAqBZziC,MAAO,6BACPoV,UAAW,UACX3W,IAAK,WACF0K,KAAKs5B,qBAAqB,YAxBjB,aA2BZziC,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SA9BjB,aAkCZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA3C3D,aA+CZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GA7J5EmB,IAAMC,WAmK9B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,2DAA6DD,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAE1H,+DAAiE4G,KAAKxG,MAAMJ,YAQpFnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,2FAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAiByE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GpEr6B,IAAMC,WA0HTi7B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QC7RF3oC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CACd,CACE/U,MAAO,KACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WAGnC,CACEzkC,MAAO,uBACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,WACPoV,UAAW,UACX3W,IAAK,UACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEi8B,QAAUjoB,EAAEioB,UAElC,CACE7kC,MAAO,qBACPoV,UAAW,QACX3W,IAAK,QACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEjG,MAAQia,EAAEja,QAvBlB,aA0BZ3C,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SA7BjB,aAiCZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA1C3D,aA6CZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GA3J9EmB,IAAMC,WAiK5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,yDAA2DD,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAExH,6DAA+D4G,KAAKxG,MAAMJ,YAQlFnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,oFAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QC3RFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CACd,CACE/U,MAAO,mCACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WAGnC,CACEzkC,MAAO,8BACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE87B,SAAW9nB,EAAE8nB,WAGnC,CACE1kC,MAAO,qBACPoV,UAAW,QACX3W,IAAK,QACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEjG,MAAQia,EAAEja,QAnBlB,aAsBZ3C,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAzBjB,aA6BZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IAtC3D,aAyCZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GAvJ9EmB,IAAMC,WA6J5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,mEAAqED,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAElI,uEAAyE4G,KAAKxG,MAAMJ,YAQ5FnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,+EAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QCvRFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CAAC,aAEb/U,MAAO,+CACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAG/B,CACEziC,MAAO,mCACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WAGnC,CACEzkC,MAAO,8BACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE87B,SAAW9nB,EAAE8nB,WAGnC,CACE1kC,MAAO,qBACPoV,UAAW,QACX3W,IAAK,QACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEjG,MAAQia,EAAEja,QA1BlB,aA6BZ3C,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAhCjB,aAoCZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA7C3D,aAgDZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GA9J9EmB,IAAMC,WAoK5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,kEAAoED,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAEjI,sEAAwE4G,KAAKxG,MAAMJ,YAQ3FnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,gIAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QC9RFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CAAC,aAEb/U,MAAO,kCACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAG/B,CACEziC,MAAO,8BACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WAGnC,CACEzkC,MAAO,qBACPoV,UAAW,QACX3W,IAAK,QACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEjG,MAAQia,EAAEja,QAnBlB,aAsBZ3C,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAzBjB,aA6BZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IAtC3D,aAyCZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GAvJ9EmB,IAAMC,WA6J5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,kEAAoED,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAEjI,sEAAwE4G,KAAKxG,MAAMJ,YAQ3FnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,4GAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QCvRFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CAAC,aAEb/U,MAAO,wCACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAG/B,CACEziC,MAAO,oCACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WAGnC,CACEzkC,MAAO,8BACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE87B,SAAW9nB,EAAE8nB,WAGnC,CACE1kC,MAAO,qBACPoV,UAAW,QACX3W,IAAK,QACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEjG,MAAQia,EAAEja,QA1BlB,aA6BZ3C,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAhCjB,aAoCZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA7C3D,aAgDZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GA9J9EmB,IAAMC,WAoK5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,uEAAyED,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAEtI,2EAA6E4G,KAAKxG,MAAMJ,YAQhGnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,gFAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,QC9RFpoC,GAAQC,EAAQ,IACZqf,GAAgBC,KAAhBD,YACDnJ,GAAUC,KAAVD,OAEDyvB,G,+MACJr/B,MAAQ,CACNigB,WAAY,GACZqf,eAAgB,GAChBC,aAAc,KACdC,WAAY,M,EAGdz5B,aAAe,SAAC6M,EAAY2f,EAASvY,GACnC5e,QAAQC,IAAI,qBAAsBuX,EAAY2f,EAASvY,GACvD,EAAK9T,SAAS,CACZq5B,aAAchN,EACdiN,WAAYxlB,K,EAIhBylB,aAAe,WACb,EAAKv5B,SAAS,CAAEq5B,aAAc,Q,EAGhCG,SAAW,WACT,EAAKx5B,SAAS,CACZq5B,aAAc,KACdC,WAAY,Q,EAIhBG,WAAa,WACX,EAAKz5B,SAAS,CACZs5B,WAAY,CACVI,MAAO,UACPC,UAAW,W,EAIjBC,qBAAuB,SAAArtB,GAAS,MAAK,CACnCstB,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBxyB,EAApB,EAAoBA,aAAc0E,EAAlC,EAAkCA,QAASutB,EAA3C,EAA2CA,aAA3C,OACd,yBAAKxhC,MAAO,CAAEw+B,QAAS,IACrB,kBAAC,KAAD,CACErkC,IAAK,SAAA6nC,GACH,EAAKC,YAAcD,GAErBh3B,YAAW,iBAAYwJ,GACvBja,MAAOgV,EAAa,GACpBxG,SAAU,SAAAkC,GAAC,OAAI82B,EAAgB92B,EAAEC,OAAO3Q,MAAQ,CAAC0Q,EAAEC,OAAO3Q,OAAS,KACnE2nC,aAAc,kBAAM,EAAKC,aAAa5yB,EAAc0E,EAASO,IAC7DxU,MAAO,CAAEoB,MAAO,IAAKmK,aAAc,EAAG4B,QAAS,WAEjD,kBAAC,KAAD,KACE,kBAAC,IAAD,CACEpN,KAAK,UACLG,QAAS,kBAAM,EAAKiiC,aAAa5yB,EAAc0E,EAASO,IACxDzG,KAAM,kBAAC8gB,GAAA,EAAD,MACN/uB,KAAK,QACLE,MAAO,CAAEoB,MAAO,KALlB,UASA,kBAAC,IAAD,CAAQlB,QAAS,kBAAM,EAAKkiC,YAAYZ,IAAe1hC,KAAK,QAAQE,MAAO,CAAEoB,MAAO,KAApF,YAMNihC,WAAY,SAAAC,GAAQ,OAAI,kBAACzT,GAAA,EAAD,CAAgB7uB,MAAO,CAAEiB,MAAOqhC,EAAW,eAAYrf,MAC/EuR,SAAU,SAACj6B,EAAO+Z,GAAR,OACRA,EAAOE,GACHF,EAAOE,GAAW4H,WAAW0E,cAAcyC,SAAShpB,EAAMumB,eAC1D,IACNyhB,8BAA+B,SAAAl5B,GACzBA,GACFvL,YAAW,kBAAM,EAAKmkC,YAAYO,WAAU,MAGhDpuB,OAAQ,SAAAC,GAAI,OACV,EAAKtS,MAAMs/B,iBAAmB7sB,EAC5B,kBAAC,KAAD,CACEiuB,eAAgB,CAAE5K,gBAAiB,UAAW2G,QAAS,GACvDkE,YAAa,CAAC,EAAK3gC,MAAMigB,YACzB2gB,YAAU,EACVC,gBAAiBvuB,EAAOA,EAAK+H,WAAa,KAG5C/H,K,EAIN8tB,aAAe,SAAC5yB,EAAc0E,EAASO,GACrCP,IACA,EAAKhM,SAAS,CACZ+Z,WAAYzS,EAAa,GACzB8xB,eAAgB7sB,K,EAIpB4tB,YAAc,SAAAZ,GACZA,IACA,EAAKv5B,SAAS,CAAE+Z,WAAY,M,wDAK5B,IAAM7N,EAAU,CAAC,aAEb/U,MAAO,+BACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAG/B,CACEziC,MAAO,2BACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE67B,SAAW7nB,EAAE6nB,WAGnC,CACEzkC,MAAO,8BACPoV,UAAW,WACX3W,IAAK,WACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAE87B,SAAW9nB,EAAE8nB,WAGnC,CACE1kC,MAAO,qBACPoV,UAAW,QACX3W,IAAK,QACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAUhU,EAAEjG,MAAQia,EAAEja,QA1BlB,aA6BZ3C,MAAO,yBACPoV,UAAW,OACX3W,IAAK,QACF0K,KAAKs5B,qBAAqB,SAhCjB,aAoCZziC,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eACF0K,KAAKs5B,qBAAqB,gBAE/B,CACEziC,MAAO,iBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OAAU,IAAIpD,KAAK5Q,EAAEg7B,YAAc,IAAIpqB,KAAKoD,EAAEgnB,WAAa,GAAI,IA7C3D,aAgDZ5jC,MAAO,yCACPoV,UAAW,WACX3W,IAAK,YACF0K,KAAKs5B,qBAAqB,cAGjC,OACE,oCACE,kBAAC,KAAD,CAAO1tB,QAASA,EAASzU,WAAY6I,KAAKF,MAAMrJ,KAAMtC,QAAS6L,KAAKF,MAAM3L,QAASqM,SAAUR,KAAKT,oB,GA9J9EmB,IAAMC,WAoK5B+5B,G,oDACJ,WAAY56B,GAAQ,IAAD,+BACjB,cAAMA,IAYR66B,oBAAsB,SAACvhC,GACrBxE,QAAQC,IAAI,WAAauE,GACzB,EAAKsG,SAAS,CAACtG,YAAaA,KAb5B,EAAKI,MAAQ,CACXJ,YAAa,UACbwhC,SAAU,GACVC,OAAQ,GACRC,gBAAiB,KACjBC,yBAAyB,GAE3B,EAAKC,oBAAsB,EAAKA,oBAAoB3W,KAAzB,iBAC3B,EAAK4W,mBAAqB,EAAKA,mBAAmB5W,KAAxB,iBAVT,E,kEAkBG,IAAD,OACfpuB,EAAM,KACN2kC,EAAW56B,KAAKxG,MAAMohC,SACtBC,EAAS76B,KAAKxG,MAAMqhC,OAEtB5kC,EADE2kC,GAAYC,EACR,+DAAiED,EAAU,YAAcC,EAAQ,gBAAkB76B,KAAKxG,MAAMJ,YAE9H,mEAAqE4G,KAAKxG,MAAMJ,YAQxFnG,GALa,CACX+C,OAAQ,MACRC,IAAKA,EACLC,QAAS,KAGRI,MAAK,SAACC,GACL,IAAIukC,EAAkBvkC,EAASE,KAAK0Q,KAAI,SAAC1Q,EAAM1C,GAAP,oBACtCuB,IAAKvB,GACF0C,MAELqkC,EAAgBtmC,SAAQ,SAAC0mC,GACvB,IAAI,IAAI5lC,KAAO4lC,EACO,MAAhBA,EAAQ5lC,KAAc4lC,EAAQ5lC,GAAM,OAG5C,EAAKoK,SAAS,CAAEo7B,gBAAiBA,EAAiBC,yBAAyB,OAE5ErkC,OAAM,SAAUC,GACf/B,QAAQC,IAAI8B,Q,0CAIEwkC,EAAOC,GACzBp7B,KAAKN,SAAS,CAACq7B,yBAAwB,IAInCI,IACSA,EAAM,GAAGl5B,OAAO,uBAClBk5B,EAAM,GAAGl5B,OAAO,wBAG3BjC,KAAKi7B,uB,0CAKLj7B,KAAKi7B,uB,+BAEG,IAAD,OACP,OACE,oCACE,kBAAC,KAAD,CAAKxjC,MAAO,CAAE8K,YAAa,KAAMnC,UAAW,KAC1C,kBAAC,KAAD,CACEyI,WAAS,EACTpR,MAAO,CAAEoB,MAAO,MAAO+R,WAAY,IACnC9B,MACE,yBACErR,MAAO,CAAEsR,OAAQ,KACjBtI,IAAI,UACJxI,IAAI,kFAIR,uEAGA,6BACA,kBAAC,KAAD,CAAMkc,OAAO,UACX,kBAAC,KAAK9c,KAAN,CACEqd,MAAM,wCAEN,kBAAC,GAAD,CAAazS,OAAO,aAAazB,SAAU,SAAC26B,EAAOC,GAAR,OAAwB,EAAKJ,oBAAoBG,EAAOC,OAErG,kBAAC,KAAK/jC,KAAN,CACEqd,MAAM,qCAEN,kBAAC,KAAD,CAAQzK,aAAa,UAAUxS,MAAO,CAAEoB,MAAO,KAAO2H,SAAU,SAACxO,GAAW,EAAK0N,SAAS,CAACq7B,yBAAwB,IAAQ,EAAKJ,oBAAoB3oC,GAAQ,EAAKipC,uBAC/J,kBAAC,GAAD,CAAQjpC,MAAM,WAAd,6BACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,iCACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,qBACA,kBAAC,GAAD,CAAQA,MAAM,aAAd,wBAIN,6BACE,kBAAC,GAAD,CAAeyE,KAAMuJ,KAAKxG,MAAMshC,gBAAiB3mC,SAAU6L,KAAKxG,MAAMuhC,iC,GA1GlEr6B,IAAMC,WA0HT06B,OARf,WACE,OACE,oCACE,kBAAC,GAAD,MACA,kBAAC,KAAD,Q,+MChSN,IAWeQ,GAXGvqC,IAAOC,IAAV,MC2rBAy8B,G,oDAjrBb,WAAYluB,GAAQ,IAAD,+BACjB,cAAMA,IA0BPg8B,uBAAyB,SAAC1mC,GACzBiM,KAAa7L,QAAQ,CACnBJ,QAASA,KA7BM,EAiCnB2mC,sBAAwB,SAAC3mC,GACvBiM,KAAa1K,MAAM,CACjBvB,QAASA,KAnCM,EA2DnB4mC,UAAY,SAACjwB,GACX,EAAKrM,SAAS,CAAEoB,SAAS,IAEzB,EAAKpB,SAAS,CAAEu8B,cAAelwB,IAC/B,EAAKrM,SAAS,CAAEw8B,UAAWnwB,EAAO5T,MA/DjB,EAmEnBgkC,SAAW,SAAAz5B,GACT,EAAKhD,SAAS,CAAEoB,SAAS,KApER,EAuEnBszB,aAAe,SAAA1xB,GACb,EAAKhD,SAAS,CAAEoB,SAAS,KAxER,EA4EnBs7B,gBAAkB,SAAA15B,GAChB,EAAKhD,SAAS,CAAE28B,YAAY,KA7EX,EAgFnBC,mBAAqB,SAAA55B,GACnB,EAAKhD,SAAS,CAAE68B,eAAe,KAjFd,EAmgBnBC,wBAA0B,SAAA95B,GACxB,EAAKhD,SAAS,CAAE+8B,oBAAoB,KAjgBpC,EAAKjjC,MAAQ,CACXsH,SAAS,EACT47B,aAAc,KACdC,OAAQ,GACRT,UAAW,KACXU,cAAc,EACdC,WAAY,GACZZ,cAAe,GACfpgB,QAAS,GACTpiB,QAAS,GACT4iC,YAAY,EACZE,eAAe,EACfE,oBAAoB,EACpBK,gBAAiB,KACjBhhC,OAAQ,CACN,CAAE9J,MAAO,UAAW0iB,MAAO,+BAC3B,CAAE1iB,MAAO,OAAQ0iB,MAAO,kBACxB,CAAE1iB,MAAO,SAAU0iB,MAAO,sBAC1B,CAAE1iB,MAAO,WAAY0iB,MAAO,uBAE9BqoB,aAAc,MAvBC,E,2DAwCH1pC,cACN+E,KAAK,mB,0CAIb4H,KAAKg9B,iBACLh9B,KAAKi9B,sB,uCAGW,IAAD,OACfhqC,KAAMiJ,IAAN,0CACG5F,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAEhB,EAAKiJ,SAAS,CAAEi9B,OAAQxgC,EAAI1F,Y,0CA8Bb,IAAD,OAClBxD,KAAMiJ,IAAN,+CACG5F,MAAK,SAAA6F,GACJ,IAAM0f,EAAU1f,EAAI1F,KAAK0Q,KAAI,SAAA1N,GAAO,MACjC,CACCib,MAAOjb,EAAQ1H,KACfC,MAAOyH,EAAQ5B,QAGnB,EAAK6H,SAAS,CAAEw9B,QAASrhB,S,2CAIVlG,GAAS,IAAD,OACrBlf,EAAO,CACXyD,KAAMyb,EAAOzb,KACbnI,KAAM4jB,EAAO5jB,KACbyF,KAAMme,EAAOne,KACb2lC,OAAQ,CACNC,aAAcznB,EAAOynB,aACrBC,OAAQ1nB,EAAO0nB,OACfC,YAAa3nB,EAAO2nB,YACpBC,YAAa5nB,EAAO4nB,YACpBC,QAAS,CACPC,IAAK9nB,EAAO+nB,WACZC,IAAKhoB,EAAOioB,YAEdC,QAAS,CACPJ,IAAK9nB,EAAOmoB,WACZH,IAAKhoB,EAAOooB,YAEdC,KAAM,CACJP,IAAK9nB,EAAOsoB,WACZN,IAAKhoB,EAAOuoB,YAEd3mC,KAAM,CACJsB,MAAO8c,EAAOwoB,UACdxoC,OAAQggB,EAAOyoB,WACfr1B,OAAQ4M,EAAO0oB,cAKrBprC,KAAMy2B,IAAI,2CAA6C1pB,KAAKxG,MAAM0iC,UAAWzlC,GAC1EH,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAChB,EAAKiJ,SAAS,CAAEoB,SAAS,IACzB,EAAKk8B,sB,oCAKI,IAAD,OAKZ,OAAO,kBAAC,KAAD,iBAJQ,CACb5oB,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAEf,CAAoB8M,SAAU,SAACC,GAAD,OAAY,EAAK2oB,qBAAqB3oB,MAEzE,kBAAC,IAAD,CAAKrT,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWknC,aAAcv+B,KAAKxG,MAAMyiC,cAAc/hC,KAChDwa,MAAM,QACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,6BAEnC,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAKuD,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWknC,aAAcv+B,KAAKxG,MAAMyiC,cAAclqC,KAChD2iB,MAAM,SACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,sCAEnC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKkN,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACEqd,MAAM,YAAO6pB,aAAcv+B,KAAKxG,MAAMyiC,cAAcuC,QACpDzsC,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,KAAD,CAAQymB,QAAS7b,KAAKxG,MAAM0jC,YAGhC,kBAAC,KAAD,CAAKvkC,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACEqd,MAAM,gBACN3iB,KAAK,cAGL,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKuQ,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,SAAS3iB,KAAK,SAASwsC,aAAcv+B,KAAKxG,MAAMyiC,cAAcoB,QAC7E,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK1kC,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,4BAAe3iB,KAAK,eAAewsC,aAAcv+B,KAAKxG,MAAMyiC,cAAcmB,cACzF,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAK96B,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,cAAcwsC,aAAcv+B,KAAKxG,MAAMyiC,cAAcqB,aACvF,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK3kC,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,cAAcwsC,aAAcv+B,KAAKxG,MAAMyiC,cAAcsB,aACvF,kBAAC,KAAD,SAKN,kBAAC,IAAD,CAAKj7B,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,aAAawsC,aAAcv+B,KAAKxG,MAAMyiC,cAAcyB,YACtF,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK/kC,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,aAAawsC,aAAcv+B,KAAKxG,MAAMyiC,cAAc2B,YACtF,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKt7B,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,aAAawsC,aAAcv+B,KAAKxG,MAAMyiC,cAAc6B,YACtF,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAKnlC,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,aAAawsC,aAAcv+B,KAAKxG,MAAMyiC,cAAc8B,YACtF,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKz7B,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,aAAawsC,aAAcv+B,KAAKxG,MAAMyiC,cAAcwC,SACtF,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK9lC,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,aAAawsC,aAAcv+B,KAAKxG,MAAMyiC,cAAcyC,SACtF,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKp8B,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,GAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,QAAQ3iB,KAAK,YAAYwsC,aAAcv+B,KAAKxG,MAAMyiC,cAAckC,WAC/E,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAKxlC,UAAU,aAAaiQ,KAAM,GAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,SAAS3iB,KAAK,aAAawsC,aAAcv+B,KAAKxG,MAAMyiC,cAAcoC,YACjF,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK1lC,UAAU,aAAaiQ,KAAM,GAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,SAAS3iB,KAAK,aAAawsC,aAAcv+B,KAAKxG,MAAMyiC,cAAcmC,YACjF,kBAAC,KAAD,SAKN,kBAAC,KAAK/mC,KAAN,KACE,kBAAC,IAAD,CAAQG,KAAK,UAAUye,SAAS,UAAhC,c,qCAWJjW,KAAKN,SAAS,CAAE28B,YAAY,M,uCAGb1mB,GAAS,IAAD,OACvB/gB,QAAQC,IAAI8gB,GACZ,IAAMlf,EAAO,CACXyD,KAAMyb,EAAOzb,KACbnI,KAAM4jB,EAAO5jB,KACbyF,KAAMme,EAAOne,KACb2lC,OAAQ,CACNC,aAAcznB,EAAOynB,aACrBC,OAAQ1nB,EAAO0nB,OACfC,YAAa3nB,EAAO2nB,YACpBC,YAAa5nB,EAAO4nB,YACpBC,QAAS,CACPC,IAAK9nB,EAAO+nB,WACZC,IAAKhoB,EAAOioB,YAEdC,QAAS,CACPJ,IAAK9nB,EAAOmoB,WACZH,IAAKhoB,EAAOooB,YAEdC,KAAM,CACJP,IAAK9nB,EAAOsoB,WACZN,IAAKhoB,EAAOuoB,YAEd3mC,KAAM,CACJsB,MAAO8c,EAAOwoB,UACdxoC,OAAQggB,EAAOyoB,WACfr1B,OAAQ4M,EAAO0oB,cAKrBprC,KAAMyJ,KAAN,0CAAsDjG,GACnDH,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAChB,EAAKqlC,uBAAuB,4BAC5B,EAAKp8B,SAAS,CAAE28B,YAAY,IAC5B,EAAKW,sB,uCAKO,IAAD,OAKf,OAAO,kBAAC,KAAD,iBAJQ,CACb5oB,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAEf,CAAoB8M,SAAU,SAACC,GAAD,OAAY,EAAKgpB,iBAAiBhpB,MAErE,kBAAC,IAAD,CAAKrT,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACEqd,MAAM,QACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,6BAEnC,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAKuD,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACEqd,MAAM,SACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,sCAEnC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKkN,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACEqd,MAAM,YACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,KAAD,CAAQymB,QAAS7b,KAAKxG,MAAM0jC,YAGhC,kBAAC,KAAD,CAAKvkC,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACEqd,MAAM,gBACN3iB,KAAK,aACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKkN,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,SAAS3iB,KAAK,UAC7B,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK4G,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,4BAAe3iB,KAAK,gBACnC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKuQ,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,eAClC,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK4G,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,eAClC,kBAAC,KAAD,SAKN,kBAAC,IAAD,CAAKuQ,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,cAClC,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK4G,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,cAClC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKuQ,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,cAClC,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK4G,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,cAClC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKuQ,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,cAClC,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK4G,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,cAAc3iB,KAAK,cAClC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKuQ,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,GAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,QAAQ3iB,KAAK,aAC5B,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK4G,UAAU,aAAaiQ,KAAM,GAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,SAAS3iB,KAAK,cAC7B,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAK4G,UAAU,aAAaiQ,KAAM,GAChC,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,SAAS3iB,KAAK,cAC7B,kBAAC,KAAD,SAKN,kBAAC,KAAKsF,KAAN,KACE,kBAAC,IAAD,CAAQG,KAAK,UAAUye,SAAS,UAAhC,c,sCAOUlK,GACd/L,KAAKN,SAAS,CAAE68B,eAAe,IAC/Bv8B,KAAKN,SAAS,CAAEo9B,gBAAiB/wB,EAAO5T,O,qCAG1B,IAAD,OACblF,KAAM2J,OAAO,2CAA6CoD,KAAKxG,MAAMsjC,iBAClExmC,MAAK,SAAA6F,GACJ,EAAK2/B,uBAAuB,2BAC5B,EAAKp8B,SAAS,CAAE68B,eAAe,IAC/B,EAAKS,sB,0CAIU,IAAD,OAClB,OAAO,6BACL,mFACA,kBAAC,IAAD,CAAQxlC,KAAK,UAAUI,QAAM,EAACD,QAAS,kBAAM,EAAKinC,iBAAlD,a,+CAKsB,IAAD,OACf1hB,EAAa9S,KAAb8S,SACR,OAAO,6BACL,kBAAC,KAAD,CAAMxH,SAAU,SAACC,GAAD,OAAY,EAAKkpB,wBAAwBlpB,KACvD,kBAAC,KAAKte,KAAN,CAAWqd,MAAM,WAAQ3iB,KAAK,UAC5B,kBAACmrB,EAAD,CAAU4hB,KAAM,KAElB,kBAAC,IAAD,CAAQtnC,KAAK,UAAUye,SAAS,UAAhC,gB,8CAOkBN,GAAS,IAAD,OAE9B1iB,KAAMyJ,KAAK,uDAAyDsD,KAAKxG,MAAMujC,aAAcpnB,EAAOopB,QACjGzoC,MAAK,SAAA6F,GACJ,EAAKuD,SAAS,CAAE+8B,oBAAoB,IACpC,EAAKX,uBAAuB,mDAC5B,EAAKkB,sB,oCAOGrnB,GAAS,IAAD,OACpB/gB,QAAQC,IAAI8gB,GACZ1iB,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAEqB,KAAMme,EAAOne,KAAMsE,OAAQ6Z,EAAO7Z,UAC/FxF,MAAK,SAAA6F,GAEJ,EAAKuD,SAAS,CAAEi9B,OAAQxgC,EAAI1F,Y,sCAIlB0B,GACd6H,KAAKN,SAAS,CAACq9B,aAAc5kC,IAC7B6H,KAAKN,SAAS,CAAE+8B,oBAAoB,M,mCAOzBtkC,GAAK,IAAD,OACflF,KAAMyJ,KAAK,0DAA4DvE,GACpE7B,MAAK,SAAA6F,GACJ,EAAK2/B,uBAAuB,4DAC5B,EAAKkB,sB,+BAMD,IAAD,OAED7lC,EAAa6I,KAAKxG,MAAMmjC,OAAOx1B,KAAI,SAAA1N,GAAO,MAC7C,CACCtB,GAAIsB,EAAQ5B,IACZqC,KAAMT,EAAQS,KACdnI,KAAM0H,EAAQ1H,KACd+J,OAAQrC,EAAQqC,OAChBshC,aAAc3jC,EAAQ0jC,OAAOC,aAC7B5lC,KAAMiC,EAAQjC,KAAKzF,KACnBitC,IAAKvlC,EAAQjC,KAAKc,YAClBkmC,QAAS/kC,EAAQjC,KAAKK,IACtBwlC,OAAQ5jC,EAAQ0jC,OAAOE,OACvBC,YAAa7jC,EAAQ0jC,OAAOG,YAC5BC,YAAa9jC,EAAQ0jC,OAAOI,YAC5BY,UAAW1kC,EAAQ0jC,OAAO5lC,KAAKsB,MAC/BwlC,WAAY5kC,EAAQ0jC,OAAO5lC,KAAKwR,OAChCq1B,WAAY3kC,EAAQ0jC,OAAO5lC,KAAK5B,OAChC+nC,WAAYjkC,EAAQ0jC,OAAOK,QAAQC,IACnCG,WAAYnkC,EAAQ0jC,OAAOK,QAAQG,IACnCG,WAAYrkC,EAAQ0jC,OAAOU,QAAQJ,IACnCM,WAAYtkC,EAAQ0jC,OAAOU,QAAQF,IACnCc,QAAShlC,EAAQ0jC,OAAOa,KAAKP,IAC7BiB,QAASjlC,EAAQ0jC,OAAOa,KAAKL,QAO3B/xB,EAAU,CACd,CACE/U,MAAO,SACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,SACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,4BACPoV,UAAW,eACX3W,IAAK,gBAEP,CACEuB,MAAO,YACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,gBACPoV,UAAW,MACX3W,IAAK,OAEP,CACEuB,MAAO,qBACPoV,UAAW,SACX3W,IAAK,UAEP,CACEuB,MAAO,SACPvB,IAAK,YACLuD,MAAO,IACPgT,OAAQ,SAACC,EAAMC,GAAP,OAEN,kBAAC,KAAD,CAAOxU,KAAK,SACV,kBAAC,IAAD,CAAQC,KAAK,OAAOG,QAAS,kBAAM,EAAKqkC,UAAUjwB,KAAlD,YACA,kBAAC,IAAD,CAAQnU,QAAM,EAACJ,KAAK,OAAOG,QAAS,kBAAM,EAAKsnC,gBAAgBlzB,KAA/D,UACA,kBAAC,IAAD,CAAQvU,KAAK,OAAOG,QAAS,kBAAM,EAAKunC,gBAAgBnzB,EAAO5T,MAA/D,4BACA,kBAAC,IAAD,CAAQX,KAAK,OAAOG,QAAS,kBAAM,EAAKwnC,aAAapzB,EAAO5T,MAA5D,gBAvED,EA6EoE6H,KAAKxG,MAAxEsH,EA7ED,EA6ECA,QAASu7B,EA7EV,EA6EUA,WAAYE,EA7EtB,EA6EsBA,cAAeE,EA7ErC,EA6EqCA,mBA7ErC,EA6EyDE,OAEhE,OACE,kBAAC,GAAD,KACE,6BACE,uDACA,6BACA,kBAAC,KAAD,CACExoB,OAAO,aACPxb,UAAU,aAAa+c,SAAU,SAACC,GAAD,OAAY,EAAKypB,cAAczpB,KAEhE,kBAAC,IAAD,CAAK7R,QAAQ,gBACX,kBAAC,KAAD,CAAK8E,KAAM,GACT,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,YAAO3iB,KAAK,QAC3B,kBAAC,KAAD,CAAQ8pB,QAAS7b,KAAKxG,MAAM0jC,YAIhC,kBAAC,KAAD,CAAKt0B,KAAM,GACT,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,qBAAa3iB,KAAK,UACjC,kBAAC,KAAD,CAAQ8pB,QAAS7b,KAAKxG,MAAMsC,WAGhC,kBAAC,KAAD,CAAK8M,KAAM,GACT,kBAAC,IAAD,CAAQpR,KAAK,UAAUye,SAAS,SAASzQ,KAAM,kBAAC8gB,GAAA,EAAD,OAA/C,uBAMN,kBAAC,IAAD,CAAQ9uB,KAAK,UAAUmB,UAAU,aAAahB,QAAS,kBAAM,EAAK0nC,iBAAlE,WACA,kBAAC,KAAD,CAAOloC,WAAYA,EAAYyU,QAASA,IA3B1C,KA6BA,kBAAC,KAAD,CACE/U,MAAM,gBACNiK,QAASA,EACToB,KAAMlC,KAAKm8B,SACXh6B,SAAUnC,KAAKo0B,aACfzU,OAAQ,KAAM9mB,MAAO,KAGnBmH,KAAKs/B,eAIT,kBAAC,KAAD,CACEzoC,MAAM,kBAAegC,MAAO,IAC5BiI,QAASu7B,EACTn6B,KAAMlC,KAAKu/B,YACXp9B,SAAUnC,KAAKo8B,gBACfzc,OAAQ,MAGN3f,KAAKw/B,kBAIT,kBAAC,KAAD,CACE3oC,MAAM,iBACNiK,QAASy7B,EACTr6B,KAAMlC,KAAKy/B,eACXt9B,SAAUnC,KAAKs8B,mBACf3c,OAAQ,MAGN3f,KAAK0/B,qBAGT,kBAAC,KAAD,CACE7oC,MAAM,gDACNiK,QAAS27B,EACTv6B,KAAMlC,KAAKy/B,eACXt9B,SAAUnC,KAAKw8B,wBACf7c,OAAQ,MAGN3f,KAAK2/B,+B,GA5qBEh/B,a,+MCRnB,IAWek7B,GAXGvqC,IAAOC,IAAV,MC8RAquC,G,oDApRb,WAAY9/B,GAAQ,IAAD,+BACjB,cAAMA,IAoCRk8B,UAAY,SAACjwB,GACX,EAAKrM,SAAS,CAAEoB,SAAS,IAEzB,EAAKpB,SAAS,CAAEmgC,kBAAmB9zB,IACnC,EAAKrM,SAAS,CAAEogC,cAAe/zB,EAAO5T,MAzCrB,EA4CnBgkC,SAAW,SAAAz5B,GACT,EAAKhD,SAAS,CAAEoB,SAAS,KA7CR,EAgDnBszB,aAAe,SAAA1xB,GACb,EAAKhD,SAAS,CAAEoB,SAAS,KAjDR,EAqDnBs7B,gBAAkB,SAAA15B,GAChB,EAAKhD,SAAS,CAAE28B,YAAY,KAtDX,EAyDnBC,mBAAqB,SAAA55B,GACnB,EAAKhD,SAAS,CAAE68B,eAAe,KAvD/B,EAAK/iC,MAAQ,CACXsH,SAAS,EACT47B,aAAc,KACdC,OAAQ,GACRmD,cAAe,KACflD,cAAc,EACdC,WAAY,GACZgD,kBAAmB,GACnBhkB,QAAS,GACTpiB,QAAS,GACT4iC,YAAY,EACZE,eAAe,EACfO,gBAAiB,MAfF,E,2DAoBHzpC,cACN+E,KAAK,uB,0CAIb4H,KAAK+/B,uB,2CAGe,IAAD,OACnB9sC,KAAMiJ,IAAN,+CACG5F,MAAK,SAAA6F,GAEJ,EAAKuD,SAAS,CAAEi9B,OAAQxgC,EAAI1F,Y,2CA6Bbkf,GAAS,IAAD,OACrBlf,EAAO,CACX1E,KAAM4jB,EAAO5jB,KACbuG,YAAaqd,EAAOrd,aAEtBrF,KAAMy2B,IAAI,2CAA6C1pB,KAAKxG,MAAMsmC,cAAerpC,GAC9EH,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAChB,EAAKiJ,SAAS,CAAEoB,SAAS,S,oCAKhB,IAAD,OAKZ,OAAO,kBAAC,KAAD,iBAJQ,CACbsT,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAEf,CAAoB8M,SAAU,SAACC,GAAD,OAAY,EAAK2oB,qBAAqB3oB,MAEzE,kBAAC,IAAD,CAAKrT,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWknC,aAAcv+B,KAAKxG,MAAMqmC,kBAAkB9tC,KACpD2iB,MAAM,SACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,gDAEnC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKkN,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWknC,aAAcv+B,KAAKxG,MAAMqmC,kBAAkBvnC,YAC3Coc,MAAM,gBACN3iB,KAAK,eACd,kBAAC,KAAD,SAIN,kBAAC,KAAKsF,KAAN,KACE,kBAAC,IAAD,CAAQG,KAAK,UAAUye,SAAS,UAAhC,gB,qCAWJjW,KAAKN,SAAS,CAAE28B,YAAY,M,uCAGb1mB,GAAS,IAAD,OACvB/gB,QAAQC,IAAI8gB,GACZ,IAAMlf,EAAO,CACX1E,KAAM4jB,EAAO5jB,KACbuG,YAAaqd,EAAOrd,aAEtBrF,KAAMyJ,KAAN,8CAA0DjG,GACvDH,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAChB,EAAKiJ,SAAS,CAAE28B,YAAY,IAC5B,EAAK0D,0B,uCAKO,IAAD,OAKf,OAAO,kBAAC,KAAD,iBAJQ,CACb3rB,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAEf,CAAoB8M,SAAU,SAACC,GAAD,OAAY,EAAKgpB,iBAAiBhpB,MAErE,kBAAC,IAAD,CAAKrT,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACEqd,MAAM,SACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,gDAEnC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKkN,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACIqd,MAAM,gBACN3iB,KAAK,eACP,kBAAC,KAAD,SAIN,kBAAC,KAAKsF,KAAN,KACE,kBAAC,IAAD,CAAQG,KAAK,UAAUye,SAAS,UAAhC,c,sCAOUlK,GACd/L,KAAKN,SAAS,CAAE68B,eAAe,IAC/Bv8B,KAAKN,SAAS,CAAEo9B,gBAAiB/wB,EAAO5T,O,qCAG1B,IAAD,OACblF,KAAM2J,OAAO,+CAAiDoD,KAAKxG,MAAMsjC,iBACtExmC,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAChB,EAAKiJ,SAAS,CAAE68B,eAAe,IAC/B,EAAKwD,0B,0CAIU,IAAD,OAClB,OAAO,6BACL,mFACA,kBAAC,IAAD,CAAQvoC,KAAK,UAAUI,QAAM,EAACD,QAAS,kBAAM,EAAKinC,iBAAlD,a,+BAKM,IAAD,OAEDznC,EAAa6I,KAAKxG,MAAMmjC,OAAOx1B,KAAI,SAAA64B,GAAW,MACjD,CACC7nC,GAAI6nC,EAAYnoC,IAChBS,YAAa0nC,EAAY1nC,YACzBvG,KAAMiuC,EAAYjuC,SAMhB6Z,EAAU,CACd,CACE/U,MAAO,2BACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eAGP,CACEuB,MAAO,SACPvB,IAAK,YACLuD,MAAO,IACPgT,OAAQ,SAACC,EAAMC,GAAP,OAEN,kBAAC,KAAD,CAAOxU,KAAK,SAEV,kBAAC,IAAD,CAAQC,KAAK,OAAOG,QAAS,kBAAM,EAAKqkC,UAAUjwB,KAAlD,YACA,kBAAC,IAAD,CAAQnU,QAAM,EAACJ,KAAK,OAAOG,QAAS,kBAAM,EAAKsnC,gBAAgBlzB,KAA/D,cAjCD,EAuC8D/L,KAAKxG,MAAlEsH,EAvCD,EAuCCA,QAASu7B,EAvCV,EAuCUA,WAAYE,EAvCtB,EAuCsBA,cAvCtB,EAuCqCG,aAvCrC,EAuCmDC,OAE1D,OACE,kBAAC,GAAD,KACE,6BACE,iEACA,6BACA,kBAAC,IAAD,CAAQnlC,KAAK,UAAUmB,UAAU,aAAahB,QAAS,kBAAM,EAAK0nC,iBAAlE,8BACA,kBAAC,KAAD,CAAOloC,WAAYA,EAAYyU,QAASA,KAE1C,kBAAC,KAAD,CACE/U,MAAM,gBACNiK,QAASA,EACToB,KAAMlC,KAAKm8B,SACXh6B,SAAUnC,KAAKo0B,aACfzU,OAAQ,KAAM9mB,MAAO,KAGnBmH,KAAKs/B,eAIT,kBAAC,KAAD,CACEzoC,MAAM,4BAAoBgC,MAAO,IACjCiI,QAASu7B,EACTn6B,KAAMlC,KAAKu/B,YACXp9B,SAAUnC,KAAKo8B,gBACfzc,OAAQ,MAGN3f,KAAKw/B,kBAIT,kBAAC,KAAD,CACE3oC,MAAM,2BACNiK,QAASy7B,EACTr6B,KAAMlC,KAAKy/B,eACXt9B,SAAUnC,KAAKs8B,mBACf3c,OAAQ,MAGN3f,KAAK0/B,0B,GA/Qa/+B,a,+MCRZrP,IAAOC,IAAV,MCSM6Y,KAAb8S,SCAa9S,KAAb8S,S,0HCTR,IAKe+iB,GALM3uC,IAAOC,IAAV,MCEZ4iB,GAAS,CACbC,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAEhBs3B,GAAa,CACjB7rB,WAAY,CAAE7J,OAAQ,EAAG5B,KAAM,KA+DlBu3B,GA5DQ,SAAC,GAAiB,IAAf/sC,EAAc,EAAdA,QASxB,OACE,kBAAC,GAAD,KACE,yBAAKuF,UAAU,cACb,uBAAIhB,QAAS,kBAAMvE,EAAQgF,KAAK,yBAAhC,2BADF,IAC8E,mCAD9E,IAC6F,uBAAIT,QAAS,kBAAMvE,EAAQgF,KAAK,4BAAhC,6BAG7F,kBAAC,KAAD,iBACM+b,GADN,CAEEpiB,KAAK,QACL+jB,cAAe,CAAEsqB,UAAU,GAC3B1qB,SAlBW,SAAAC,GACf/gB,QAAQC,IAAI,WAAY8gB,IAkBpB0qB,eAfiB,SAAAC,GACrB1rC,QAAQC,IAAI,UAAWyrC,MAgBnB,wBAAI3nC,UAAU,cAAd,iCACA,kBAAC,KAAKtB,KAAN,CACEqd,MAAM,UACN3iB,KAAK,WACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,KAAD,OAGF,kBAAC,KAAKiC,KAAN,CACEqd,MAAM,UACN3iB,KAAK,UACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,KAAD,OAEF,kBAAC,KAAKiC,KAAN,CACEqd,MAAM,UACN3iB,KAAK,UACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,KAAD,OAOF,kBAAC,KAAKiC,KAAS6oC,GACb,kBAAC,IAAD,CAAQ1oC,KAAK,UAAUye,SAAS,UAAhC,c,+MC7DV,IAWe4lB,GAXGvqC,IAAOC,IAAV,MC0CAgvC,GAtCU,SAAC,GAAiB,IAAfntC,EAAc,EAAdA,QAC1B,OACI,kBAAC,GAAD,KACE,6BACE,wDACA,6BACA,kBAAC,KAAD,KACE,kBAAC,IAAD,CAAK0Q,QAAQ,gBAOX,kBAAC,KAAD,CAAK8E,KAAM,GACT,kBAAC,IAAD,CAAQpR,KAAK,UAAUmB,UAAU,aAAahB,QAAS,kBAAMvE,EAAQgF,KAAK,6BAA1E,iFAEA,kBAAC,KAAD,CAAKwQ,KAAM,GACP,kBAAC,IAAD,CAAQpR,KAAK,UAAUmB,UAAU,aAAahB,QAAS,kBAAMvE,EAAQgF,KAAK,4BAA1E,4EAGR,6BACA,kBAAC,IAAD,CAAK0L,QAAQ,gBACX,kBAAC,KAAD,CAAK8E,KAAM,GACT,kBAAC,IAAD,CAAQpR,KAAK,UAAUmB,UAAU,aAAahB,QAAS,kBAAMvE,EAAQgF,KAAK,+BAA1E,qDAEA,kBAAC,KAAD,CAAKwQ,KAAM,GACP,kBAAC,IAAD,CAAQpR,KAAK,UAAUmB,UAAU,aAAahB,QAAS,kBAAMvE,EAAQgF,KAAK,6BAA1E,iD,+MC/BpB,IAWeyjC,GAXGvqC,IAAOC,IAAV,M,UC0RAy8B,G,oDA/Qb,WAAYluB,GAAQ,IAAD,+BACjB,cAAMA,IA4DRq8B,SAAW,SAAAz5B,GACT,EAAKhD,SAAS,CAAEoB,SAAS,KA9DR,EAiEnBszB,aAAe,SAAA1xB,GACb,EAAKhD,SAAS,CAAEoB,SAAS,KA/DzB,EAAKtH,MAAQ,CACXsH,SAAS,EACT47B,aAAc,KACdC,OAAQ,GACRT,UAAW,KACXU,cAAc,EACdC,WAAY,GACZZ,cAAe,GACfpgB,QAAS,GACTpiB,QAAS,GACT4iC,YAAY,EACZE,eAAe,EACfO,gBAAiB,KACjBhhC,OAAQ,CACN,CAAE9J,MAAO,UAAW0iB,MAAO,+BAC3B,CAAE1iB,MAAO,OAAQ0iB,MAAO,kBACxB,CAAE1iB,MAAO,SAAU0iB,MAAO,uBAE1B8rB,SAAU,CACN,CACIvrB,EAAG,0BACHwrB,EAAG,GAEP,CACIxrB,EAAG,oBACHwrB,EAAG,GAEP,CACIxrB,EAAG,8BACHwrB,EAAG,GAEP,CACIxrB,EAAG,6CACHwrB,EAAG,GAEP,CACIxrB,EAAG,wCACHwrB,EAAG,KAxCE,E,iEAgDjBzgC,KAAKg9B,iBACLh9B,KAAKi9B,sB,uCAGW,IAAD,OACfhqC,KAAMiJ,IAAN,0CACK5F,MAAK,SAAA6F,GAEJ,EAAKuD,SAAS,CAAEi9B,OAAQxgC,EAAI1F,Y,kLAexBxD,KAAMiJ,IAAN,+CACL5F,MAAK,SAAA6F,GACJ,IAAM0f,EAAU1f,EAAI1F,KAAK0Q,KAAI,SAAA1N,GAAO,MAC/B,CACCib,MAAOjb,EAAQ1H,KACfC,MAAOyH,EAAQ5B,QAGrB,EAAK6H,SAAS,CAAEw9B,QAASrhB,O,+QAMvB6kB,EAAO1gC,K,SACM/M,KAAMiJ,IAAI,+CACtB5F,MAAK,SAASC,GACX,OAAOA,EAASE,KAAK0Q,KAAI,SAAA1N,GAAO,MAC3B,CACGwb,EAAGxb,EAAQ1H,KACX0uC,EAAGhnC,EAAQ5B,WAItBnB,OAAM,SAASC,GACZ,MAAO,M,OAVXgqC,E,OAaA1tC,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAEqB,KAAMmpC,EAAK,GAAGF,KACzEnqC,MAAK,SAAA6F,GACF,IAAM1F,EAAO0F,EAAI1F,KACX+pC,EAAaE,EAAKlnC,MAAlBgnC,SACNA,EAAS,GAAGC,EAAIhqC,EAAKd,OACrB,EAAK+J,SAAS8gC,MAE1BvtC,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAEqB,KAAMmpC,EAAK,GAAGF,KACzEnqC,MAAK,SAAA6F,GACF,IAAM1F,EAAO0F,EAAI1F,KACX+pC,EAAaE,EAAKlnC,MAAlBgnC,SACNA,EAAS,GAAGC,EAAIhqC,EAAKd,OACrB,EAAK+J,SAAS8gC,MAEtBvtC,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAEqB,KAAMmpC,EAAK,GAAGF,KACzEnqC,MAAK,SAAA6F,GACF,IAAM1F,EAAO0F,EAAI1F,KACX+pC,EAAaE,EAAKlnC,MAAlBgnC,SACNA,EAAS,GAAGC,EAAIhqC,EAAKd,OACrB,EAAK+J,SAAS8gC,MAEtBvtC,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAEqB,KAAMmpC,EAAK,GAAGF,KACzEnqC,MAAK,SAAA6F,GACF,IAAM1F,EAAO0F,EAAI1F,KACX+pC,EAAaE,EAAKlnC,MAAlBgnC,SACNA,EAAS,GAAGC,EAAIhqC,EAAKd,OACrB,EAAK+J,SAAS8gC,MAEtBvtC,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAEqB,KAAMmpC,EAAK,GAAGF,KACzEnqC,MAAK,SAAA6F,GACF,IAAM1F,EAAO0F,EAAI1F,KACX+pC,EAAaE,EAAKlnC,MAAlBgnC,SACNA,EAAS,GAAGC,EAAIhqC,EAAKd,OACrB,EAAK+J,SAAS8gC,M,0IAMd7qB,GAAS,IAAD,OACpB1iB,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAEqB,KAAMme,EAAOne,KAAMsE,OAAQ6Z,EAAO7Z,UAC7FxF,MAAK,SAAA6F,GAEJ,EAAKuD,SAAS,CAAEi9B,OAAQxgC,EAAI1F,Y,+BAO1B,IAAD,OAEDU,EAAa6I,KAAKxG,MAAMmjC,OAAOx1B,KAAI,SAAA1N,GAAO,MAC3C,CACCtB,GAAIsB,EAAQ5B,IACZqC,KAAMT,EAAQS,KACdnI,KAAM0H,EAAQ1H,KACd+J,OAAQrC,EAAQqC,OAChBshC,aAAc3jC,EAAQ0jC,OAAOC,aAC7B5lC,KAAMiC,EAAQjC,KAAKzF,KACnBitC,IAAKvlC,EAAQjC,KAAKc,YAClBkmC,QAAS/kC,EAAQjC,KAAKK,IACtBwlC,OAAQ5jC,EAAQ0jC,OAAOE,OACvBC,YAAa7jC,EAAQ0jC,OAAOG,YAC5BC,YAAa9jC,EAAQ0jC,OAAOI,YAC5BY,UAAW1kC,EAAQ0jC,OAAO5lC,KAAKsB,MAC/BwlC,WAAY5kC,EAAQ0jC,OAAO5lC,KAAKwR,OAChCq1B,WAAY3kC,EAAQ0jC,OAAO5lC,KAAK5B,OAChC+nC,WAAYjkC,EAAQ0jC,OAAOK,QAAQC,IACnCG,WAAYnkC,EAAQ0jC,OAAOK,QAAQG,IACnCG,WAAYrkC,EAAQ0jC,OAAOU,QAAQJ,IACnCM,WAAYtkC,EAAQ0jC,OAAOU,QAAQF,IACnCc,QAAShlC,EAAQ0jC,OAAOa,KAAKP,IAC7BiB,QAASjlC,EAAQ0jC,OAAOa,KAAKL,QAvB5B,EA+DwE39B,KAAKxG,MAAlBgnC,GA/D3D,EA+DC1/B,QA/DD,EA+DUu7B,WA/DV,EA+DsBE,cA/DtB,EA+DqCG,aA/DrC,EA+DmDC,OA/DnD,EA+D2D6D,UAElE,OACI,kBAAC,GAAD,KACE,6BACE,uEACA,yBAAK7nC,UAAU,cACb,uBAAGhB,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,wBAA1C,4BADF,IACwF,mCACtF,uBAAGT,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,6BAA1C,2BAEF,kBAAC,KAAD,CACI+b,OAAO,aACPxb,UAAU,aAAa+c,SAAU,SAACC,GAAD,OAAY,EAAKypB,cAAczpB,KAEhE,kBAAC,IAAD,CAAK7R,QAAQ,gBACT,kBAAC,KAAD,CAAK8E,KAAM,IACP,kBAAC,OAAD,CACIg4B,WAAS,EACT/pC,MAAM,iBACNgqC,SAAS,iBACTttC,MAAO,kBACH,0BACIutC,wBAAyB,CACrBC,OAASP,EAASQ,QAAO,SAACC,EAAKC,GAAN,OAAcA,EAAIT,EAAIQ,IAAK,GAAK,eAIrExqC,KAAM+pC,EAAS9kC,QAAO,SAAAjH,GAAI,OAAIA,EAAKgsC,EAAI,KACvCU,YAAa,SAAA3lC,GAAG,OAAI,0BAAMslC,wBAAyB,CAAEC,OAASvlC,MAC9DuN,OAAQ,QAKtB,kBAAC,IAAD,CAAKjF,QAAQ,gBACX,kBAAC,KAAD,CAAK8E,KAAM,GACP,6BACF,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,8BAAoB3iB,KAAK,QACxC,kBAAC,KAAD,CAAQ8pB,QAAS7b,KAAKxG,MAAM0jC,YAGhC,kBAAC,KAAD,CAAKt0B,KAAM,IACP,6BACF,kBAAC,IAAD,CAAQpR,KAAK,UAAUye,SAAS,SAASzQ,KAAM,kBAAC8gB,GAAA,EAAD,OAA/C,eAMN,kBAAC,KAAD,CAAOnvB,WAAYA,EAAYyU,QAlFvB,CACd,CACE/U,MAAO,SACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,SACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,4BACPoV,UAAW,eACX3W,IAAK,gBAEP,CACEuB,MAAO,YACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,gBACPoV,UAAW,MACX3W,IAAK,OAEP,CACEuB,MAAO,qBACPoV,UAAW,SACX3W,IAAK,aAQH,U,GA1NSqL,aCkIJygC,GAxIc,SAAC,GAAiB,IAAfhuC,EAAc,EAAdA,QA6F9B,OACE,kBAAC,GAAD,KACE,6BACE,kGACA,yBAAKuF,UAAU,cACb,uBAAGhB,QAAS,kBAAMvE,EAAQgF,KAAK,wBAA/B,4BADF,IAC6E,mCAD7E,IAC4F,uBAAGT,QAAS,kBAAMvE,EAAQgF,KAAK,6BAA/B,gCAG5F,kBAAC,KAAD,KAME,kBAAC,IAAD,CAAK0L,QAAQ,gBACX,kBAAC,KAAD,CAAK8E,KAAM,GACT,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,4BACf,kBAAC,KAAD,KACE,kBAAC,KAAOtL,OAAR,CAAepX,MAAM,QAArB,aAQV,kBAAC,KAAD,CAAOmF,WAtHM,CACjB,CACEkqC,IAAK,IACLnnC,KAAM,UACNnI,KAAM,WACNyF,KAAM,SACN8pC,WAAY,KACZC,aAAc,KAEhB,CACEF,IAAK,IACLnnC,KAAM,UACNnI,KAAM,uCACNyF,KAAM,SACN8pC,WAAY,IACZC,aAAc,KAEhB,CACEF,IAAK,IACLnnC,KAAM,UACNnI,KAAM,WACNyF,KAAM,SACN8pC,WAAY,IACZC,aAAc,KAEhB,CACEF,IAAK,IACLnnC,KAAM,UACNnI,KAAM,oBACNyF,KAAM,SACN8pC,WAAY,IACZC,aAAc,KAEhB,CACEF,IAAK,IACLnnC,KAAM,UACNnI,KAAM,WACNyF,KAAM,SACN8pC,WAAY,IACZC,aAAc,KAEhB,CACEF,IAAK,IACLnnC,KAAM,UACNnI,KAAM,oBACNyF,KAAM,SACN8pC,WAAY,IACZC,aAAc,MAuEmB31B,QA/DrB,CACd,CACE/U,MAAO,MACPoV,UAAW,MACX3W,IAAK,OAEP,CACEuB,MAAO,gBACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,iBACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,oBACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,2CACPoV,UAAW,aACX3W,IAAK,cAEP,CACEuB,MAAO,6CACPoV,UAAW,eACX3W,IAAK,mBAUL,KA2BE,kBAAC,KAAD,CACEuB,MAAM,cACNiK,SAvEM,GA2EN,+CACA,+CACA,kD,sNCrIV,IAWe+6B,GAXGvqC,IAAOC,IAAV,MC2PAy8B,G,oDA/Ob,WAAYluB,GAAQ,IAAD,+BACjB,cAAMA,IAqDRq8B,SAAW,SAAAz5B,GACT,EAAKhD,SAAS,CAAEoB,SAAS,KAvDR,EA0DnBszB,aAAe,SAAA1xB,GACb,EAAKhD,SAAS,CAAEoB,SAAS,KAxDzB,EAAKtH,MAAQ,CACXsH,SAAS,EACT47B,aAAc,KACdC,OAAQ,GACRT,UAAW,KACXU,cAAc,EACdC,WAAY,GACZZ,cAAe,GACfpgB,QAAS,GACTpiB,QAAS,GACT4iC,YAAY,EACZE,eAAe,EACfO,gBAAiB,KACjBhhC,OAAQ,CACN,CAAE9J,MAAO,UAAW0iB,MAAO,+BAC3B,CAAE1iB,MAAO,OAAQ0iB,MAAO,kBACxB,CAAE1iB,MAAO,SAAU0iB,MAAO,uBAG1B8sB,aAAc,CACV,CACIvsB,EAAG,qCACHwrB,EAAG,GAEP,CACIxrB,EAAG,iBACHwrB,EAAG,GAEP,CACIxrB,EAAG,qBACHwrB,EAAG,KAjCE,E,iEAyCjBzgC,KAAKg9B,iBACLh9B,KAAKi9B,sB,uCAGW,IAAD,OACfhqC,KAAMiJ,IAAN,0CACK5F,MAAK,SAAA6F,GAEJ,EAAKuD,SAAS,CAAEi9B,OAAQxgC,EAAI1F,Y,0CAcf,IAAD,OAClBxD,KAAMiJ,IAAN,+CACK5F,MAAK,SAAA6F,GACJ,IAAM0f,EAAU1f,EAAI1F,KAAK0Q,KAAI,SAAA1N,GAAO,MAC/B,CACCib,MAAOjb,EAAQ1H,KACfC,MAAOyH,EAAQ5B,QAKrB,EAAK6H,SAAS,CAAEw9B,QAASrhB,S,oCAQnBlG,GAAS,IAAD,OACpB1iB,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAEqB,KAAMme,EAAOne,KAAMsE,OAAQ6Z,EAAO7Z,UAC7FxF,MAAK,SAAA6F,GAEJ,EAAKuD,SAAS,CAAEi9B,OAAQxgC,EAAI1F,Y,2CAKd,IAAD,OACbiqC,EAAO1gC,KACX/M,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAE2F,OAAQ,aACnExF,MAAK,SAAA6F,GACF,IAAM1F,EAAO0F,EAAI1F,KACX+qC,EAAiBd,EAAKlnC,MAAtBgoC,aACNA,EAAa,GAAGf,EAAIhqC,EAAKd,OACzB,EAAK+J,SAAS8hC,MAEtBvuC,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAE2F,OAAQ,UACnExF,MAAK,SAAA6F,GACF,IAAM1F,EAAO0F,EAAI1F,KACX+qC,EAAiBd,EAAKlnC,MAAtBgoC,aACNA,EAAa,GAAGf,EAAIhqC,EAAKd,OACzB,EAAK+J,SAAS8hC,MAEtBvuC,KAAMiJ,IAAN,yCAAoD,CAAE/F,OAAQ,CAAE2F,OAAQ,YACnExF,MAAK,SAAA6F,GACF,IAAM1F,EAAO0F,EAAI1F,KACX+qC,EAAiBd,EAAKlnC,MAAtBgoC,aACNA,EAAa,GAAGf,EAAIhqC,EAAKd,OACzB,EAAK+J,SAAS8hC,Q,+BAKd,IAAD,OAEHrqC,EAAa6I,KAAKxG,MAAMmjC,OAAOx1B,KAAI,SAAA1N,GAAO,MAC3C,CACCtB,GAAIsB,EAAQ5B,IACZqC,KAAMT,EAAQS,KACdnI,KAAM0H,EAAQ1H,KACd+J,OAAQrC,EAAQqC,OAChBshC,aAAc3jC,EAAQ0jC,OAAOC,aAC7B5lC,KAAMiC,EAAQjC,KAAKzF,KACnBitC,IAAKvlC,EAAQjC,KAAKc,YAClBkmC,QAAS/kC,EAAQjC,KAAKK,IACtBwlC,OAAQ5jC,EAAQ0jC,OAAOE,OACvBC,YAAa7jC,EAAQ0jC,OAAOG,YAC5BC,YAAa9jC,EAAQ0jC,OAAOI,YAC5BY,UAAW1kC,EAAQ0jC,OAAO5lC,KAAKsB,MAC/BwlC,WAAY5kC,EAAQ0jC,OAAO5lC,KAAKwR,OAChCq1B,WAAY3kC,EAAQ0jC,OAAO5lC,KAAK5B,OAChC+nC,WAAYjkC,EAAQ0jC,OAAOK,QAAQC,IACnCG,WAAYnkC,EAAQ0jC,OAAOK,QAAQG,IACnCG,WAAYrkC,EAAQ0jC,OAAOU,QAAQJ,IACnCM,WAAYtkC,EAAQ0jC,OAAOU,QAAQF,IACnCc,QAAShlC,EAAQ0jC,OAAOa,KAAKP,IAC7BiB,QAASjlC,EAAQ0jC,OAAOa,KAAKL,QAvB1B,EA+D0E39B,KAAKxG,MAAtBgoC,GA/DzD,EA+DD1gC,QA/DC,EA+DQu7B,WA/DR,EA+DoBE,cA/DpB,EA+DmCG,aA/DnC,EA+DiDC,OA/DjD,EA+DyD6E,cAElE,OACI,kBAAC,GAAD,KACE,6BACE,yGACE,yBAAK7oC,UAAU,cACX,uBAAGhB,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,wBAA1C,4BADJ,IAC0F,mCACtF,uBAAGT,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,+BAA1C,qDAEN,kBAAC,KAAD,CACI+b,OAAO,aACPxb,UAAU,aAAa+c,SAAU,SAACC,GAAD,OAAY,EAAKypB,cAAczpB,KAEhE,kBAAC,IAAD,CAAK7R,QAAQ,gBACT,kBAAC,KAAD,CAAK8E,KAAM,IACP,kBAAC,OAAD,CACIg4B,WAAS,EACT/pC,MAAM,0BACNgqC,SAAS,0BACTttC,MAAO,kBACH,0BACIutC,wBAAyB,CACrBC,OAASS,EAAaR,QAAO,SAACC,EAAKC,GAAN,OAAcA,EAAIT,EAAIQ,IAAK,GAAK,eAIzExqC,KAAM+qC,EAAa9lC,QAAO,SAAAjH,GAAI,OAAIA,EAAKgsC,EAAI,KAC3CU,YAAa,SAAA3lC,GAAG,OAAI,0BAAMslC,wBAAyB,CAAEC,OAASvlC,MAC9DuN,OAAQ,OAIhB,8BAEN,kBAAC,IAAD,CAAKjF,QAAQ,gBACT,6BACF,kBAAC,KAAD,CAAK8E,KAAM,GACT,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,qBAAa3iB,KAAK,UACjC,kBAAC,KAAD,CAAQ8pB,QAAS7b,KAAKxG,MAAMsC,WAGhC,kBAAC,KAAD,CAAK8M,KAAM,IACT,kBAAC,IAAD,CAAQpR,KAAK,UAAUye,SAAS,SAASzQ,KAAM,kBAAC8gB,GAAA,EAAD,OAA/C,eAMN,kBAAC,KAAD,CAAOnvB,WAAYA,EAAYyU,QAlFvB,CACd,CACE/U,MAAO,SACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,SACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,4BACPoV,UAAW,eACX3W,IAAK,gBAEP,CACEuB,MAAO,YACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,gBACPoV,UAAW,MACX3W,IAAK,OAEP,CACEuB,MAAO,qBACPoV,UAAW,SACX3W,IAAK,aAQH,U,GA1LSqL,aC6KJ8gC,G,oDA5Kb,WAAY3hC,GAAQ,IAAD,+BACjB,cAAMA,IACDtG,MAAQ,CACXkoC,mBAAmB,GACjBC,SAAS,CACL,CACI1sB,EAAG,aACHwrB,EAAG,GAEP,CACIxrB,EAAG,aACHwrB,EAAG,GAEP,CACIxrB,EAAG,aACHwrB,EAAG,GAEP,CACIxrB,EAAG,aACHwrB,EAAG,GAEP,CACIxrB,EAAG,aACHwrB,EAAG,GAEP,CACIxrB,EAAG,aACHwrB,EAAG,GAEP,CACIxrB,EAAG,aACHwrB,EAAG,GAEP,CACIxrB,EAAG,aACHwrB,EAAG,GAEP,CACIxrB,EAAG,aACHwrB,EAAG,GAEP,CACIxrB,EAAG,aACHwrB,EAAG,KA3CE,E,iEAkDE,IAAD,OACjBxtC,KAAMiJ,IAAI,0DACR5F,MAAK,SAAA6F,GACJ,IAAIulC,EAAqBvlC,EAAI1F,KAC7BirC,EAAqBA,EAAmBhmC,QAAQ,SAAAuZ,GAAC,OAAiB,MAAbA,EAAExb,WAC/C,IAAK,IAAI8pB,EAAI,EAAGA,EAAIme,EAAmB/rC,OAAQ4tB,IACrDme,EAAmBne,GAAGqe,UAAYF,EAAmBne,GAAGqe,UAAUx9B,QAAQ,gCAAiC,OAAOA,QAAQ,IAAK,KACxF,MAApCs9B,EAAmBne,GAAGse,aACvBH,EAAmBne,GAAGse,WAAaH,EAAmBne,GAAGse,WAAWz9B,QAAQ,gCAAiC,OAAOA,QAAQ,IAAK,MAGrI,EAAK1E,SAAS,CAAEgiC,4B,2CAIE,IAAD,OACbhB,EAAO1gC,KACX/M,KAAMiJ,IAAN,0DACK5F,MAAK,SAAA6F,GACF,IAAIulC,EAAqBvlC,EAAI1F,KACvBkrC,EAAajB,EAAKlnC,MAAlBmoC,SACND,EAAqBA,EAAmBhmC,QAAQ,SAAAuZ,GAAC,OAAiB,MAAbA,EAAExb,WACvD,IAAK,IAAI8pB,EAAI,EAAGA,EAAIme,EAAmB/rC,OAAQ4tB,IAAI,CAC/Cme,EAAmBne,GAAGqe,UAAYF,EAAmBne,GAAGqe,UAAU17B,MAAM,KAAK,GAC7E,IAAK,IAAI47B,EAAI,EAAGA,EAAIH,EAAShsC,OAAQmsC,IAC9BJ,EAAmBne,GAAGqe,WAAaD,EAASG,GAAG7sB,IAC9C0sB,EAASG,GAAGrB,EAAIkB,EAASG,GAAGrB,EAAI,GAI5C,EAAK/gC,SAASiiC,Q,+BAIlB,IAAD,OA6CDxqC,EACJ6I,KAAKxG,MAAMkoC,mBAAmBv6B,KAAI,SAAA46B,GAAc,MAC7C,CACC5pC,GAAI4pC,EAAelqC,IACnBmqC,YAAaD,EAAetoC,QAAQS,KACpC+nC,YAAaF,EAAetoC,QAAQ1H,KACpCyF,KAAMuqC,EAAevqC,KACrBunC,OAAQgD,EAAehD,OACvBrD,QAASqG,EAAerG,QACxBwG,IAAKH,EAAeG,IACpBN,UAAWG,EAAeH,UAC1BC,WAAYE,EAAeF,eAGtBF,EAAa3hC,KAAKxG,MAAlBmoC,SAEX,OACA,kBAAC,GAAD,KACE,6BACE,oGACA,yBAAKhpC,UAAU,cACb,uBAAGhB,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,wBAA1C,4BADF,IACwF,mCACtF,uBAAGT,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,8BAA1C,+CAGF,kBAAC,KAAD,KACE,kBAAC,IAAD,CAAK0L,QAAQ,gBACP,kBAAC,KAAD,CAAK8E,KAAM,IACP,kBAAC,OAAD,CAAKG,OAAQ,IAAKlS,MAAM,0DAA8BJ,KAAMkrC,EAASjmC,QAAQ,SAAAjH,GAAI,OAAIA,EAAKgsC,GAAK,OAC/F,8BAEN,+BAMN,kBAAC,KAAD,CAAOtpC,WAAYA,EAAYyU,QAhFnB,CAChB,CACE/U,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eAEP,CACEuB,MAAO,iBACPoV,UAAW,cACX3W,IAAK,eAEP,CACEuB,MAAO,oBACPoV,UAAW,OACX3W,IAAK,QAYP,CACEuB,MAAO,aACPoV,UAAW,MACX3W,IAAK,OAEP,CACEuB,MAAO,wCACPoV,UAAW,YACX3W,IAAK,aAEP,CACEuB,MAAO,kCACPoV,UAAW,aACX3W,IAAK,uB,GA9H2BqL,aC8GvBwhC,G,oDA9Gb,WAAYriC,GAAQ,IAAD,+BACjB,cAAMA,IACDtG,MAAQ,CACX4oC,kBAAkB,IAHH,E,iEASE,IAAD,OAClBnvC,KAAMiJ,IAAI,yDACP5F,MAAK,SAAA6F,GACJ,IAAIimC,EAAoBjmC,EAAI1F,KAC5B2rC,EAAoBA,EAAkB1mC,QAAQ,SAAAuZ,GAAC,OAAiB,MAAbA,EAAExb,WACrD,IAAK,IAAI8pB,EAAI,EAAGA,EAAI6e,EAAkBzsC,OAAQ4tB,IAC5C6e,EAAkB7e,GAAGqe,UAAYQ,EAAkB7e,GAAGqe,UAAUx9B,QAAQ,gCAAiC,OAAOA,QAAQ,IAAK,KAE/H,EAAK1E,SAAS,CAAE0iC,2B,+BAKZ,IAAD,OAyCDjrC,EACJ6I,KAAKxG,MAAM4oC,kBAAkBj7B,KAAI,SAAAk7B,GAAa,MAC3C,CAECL,YAAaK,EAAc5oC,QAAQS,KACnC+nC,YAAaI,EAAc5oC,QAAQ1H,KACnCyF,KAAM6qC,EAAc7qC,KACpBunC,OAAQsD,EAActD,OACtBmD,IAAKG,EAAcH,IACnBN,UAAWS,EAAcT,UACzBC,WAAYQ,EAAcR,eAKhC,OACA,kBAAC,GAAD,KACE,6BACE,6FACA,yBAAKlpC,UAAU,cACb,uBAAGhB,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,wBAA1C,4BADF,IACwF,mCACtF,uBAAGT,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,+BAA1C,yCAGF,kBAAC,KAAD,KACE,kBAAC,IAAD,CAAK0L,QAAQ,gBACX,kBAAC,KAAD,CAAK8E,KAAM,IACT,gCAMN,kBAAC,KAAD,CAAOzR,WAAYA,EAAYyU,QAxEnB,CAChB,CACE/U,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eAEP,CACEuB,MAAO,iBACPoV,UAAW,cACX3W,IAAK,eAEP,CACEuB,MAAO,oBACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,WACPoV,UAAW,SACX3W,IAAK,UAEP,CACEuB,MAAO,aACPoV,UAAW,MACX3W,IAAK,OAEP,CACEuB,MAAO,wCACPoV,UAAW,YACX3W,IAAK,aAEP,CACEuB,MAAO,kCACPoV,UAAW,aACX3W,IAAK,kBAyCH,kBAAC,KAAD,CACEuB,MAAM,eAEN,+CACA,+CACA,qD,GAzG0B8J,a,+MCTpC,IAWek7B,GAXGvqC,IAAOC,IAAV,MCuXA+wC,G,oDA1Wb,WAAYxiC,GAAQ,IAAD,+BACjB,cAAMA,IA0GRyiC,0BAA4B,SAAA7/B,GAC1B,EAAKhD,SAAS,CAAE8iC,oBAAoB,KA1GpC,EAAKhpC,MAAQ,CACXipC,wBAAwB,GACxBC,UAAW,GACXC,eAAgB,GAChBC,mBAAoB,GACpBC,gBAAiB,KACjBL,oBAAoB,EAEpBR,YAAa,GACbC,YAAa,GACbnmC,OAAQ,GACR8lC,UAAW,GACXpqC,KAAM,GAENsrC,UAAW,GACXC,wBAAwB,EACxBC,iBAAkB,IAlBH,E,iEAyBjBhjC,KAAKN,SAAS,CAACqjC,wBAAwB,IACvC/iC,KAAKsS,gBACLtS,KAAKi9B,oBACLj9B,KAAKijC,oB,wCAGa,IAAD,OACjBhwC,KAAMiJ,IAAI,gEACT5F,MAAK,SAAA6F,GACJ,IAAI+mC,EAA6B/mC,EAAI1F,KACjC0sC,EAA8B,GAC9BC,EAA0B,GAE9BF,EAA2B/7B,KAAI,SAAA/T,GACN,MAAnBA,EAAQqG,SAAuC,MAApBrG,EAAQiwC,UAAwC,IAApBjwC,EAAQiwC,SACjEF,EAA4B/qC,KAAKhF,GAEjCgwC,EAAwBhrC,KAAKhF,MAIjC,EAAKsM,SAAS,CAACsjC,iBAAkBI,S,sCAIpB,IAAD,OACdnwC,KAAMiJ,IAAI,2CACT5F,MAAK,SAAA6F,GACJ,IAAM0f,EAAU1f,EAAI1F,KAAK0Q,KAAI,SAAA1N,GAAO,MACjC,CACCib,MAAOjb,EAAQ1H,KACfC,MAAOyH,EAAQ5B,QAGnB,EAAK6H,SAAS,CAACijC,eAAgB9mB,S,0CAId,IAAD,OAClB5oB,KAAMiJ,IAAN,+CACG5F,MAAK,SAAA6F,GACJ,IAAM0f,EAAU1f,EAAI1F,KAAK0Q,KAAI,SAAA1N,GAAO,MACjC,CACCib,MAAOjb,EAAQ1H,KACfC,MAAOyH,EAAQ5B,QAGnB,EAAK6H,SAAS,CAAEkjC,mBAAoB/mB,S,+CAKjBlG,GAAQ,IAAD,OAE9B3V,KAAKN,SAAS,CAACqjC,wBAAwB,IACvC9vC,KAAMiJ,IAAI,6DAA+DyZ,EAAO+sB,WAC7EpsC,MAAK,SAAA6F,GACJ,IAAMmnC,EAAoCnnC,EAAI1F,KAC9C7B,QAAQC,IAAI8gB,EAAO+sB,WACnBY,EAAkCn8B,KAAI,SAAAo8B,GACpC,IAAM7H,EAAU6H,EAAe7H,QAE/B,EAAK8H,cAAc9H,MAGrB,EAAKh8B,SAAS,CAAE+iC,wBAAyBa,S,oCAMjC5H,GAAU,IAAD,OAClBzoC,KAAMiJ,IAAI,wCAA0Cw/B,GACtDplC,MAAK,SAAA6F,GACJ,IAAM0L,EAAQ1L,EAAI1F,KAClB7B,QAAQC,IAAIgT,GACZ,EAAKnI,SAAS,CACZojC,UAAWj7B,EAAM9V,Y,6CASAga,GACrBnX,QAAQC,IAAIkX,GACZ/L,KAAKN,SAAS,CAAE8iC,oBAAoB,IAEpCxiC,KAAKN,SAAS,CAAEmjC,gBAAiB92B,EAAO22B,c,oCAG5Be,GAAwB,IAAD,OAC7BvB,EAAMuB,EAAsBvB,IAC5BxnC,EAAKxH,EAAQ,KACnBD,KAAMyJ,KAAK,0DAA4DsD,KAAKxG,MAAMqpC,gBAAiBnoC,EAAGC,UAAU,CAAC,IAAOunC,KACvH5rC,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MACd,EAAKiJ,SAAS,CAAE8iC,oBAAoB,IAEpCjtC,YAAW,WACT+lB,OAAOjY,SAASkmB,QAAO,KACtB,U,iDAImB,IAAD,OACzB,OAAO,6BACL,kBAAC,KAAD,CAAM7T,SAAW,SAAC+tB,GAAD,OAA2B,EAAKC,cAAcD,KAC/D,yFACA,kBAAC,KAAKpsC,KAAN,CAAWqd,MAAM,aAAU3iB,KAAK,MAAM4iB,MAAO,CAAC,CAACoB,UAAU,EAAM3gB,QAAS,uCACtE,kBAAC,KAAD,OAEF,kBAAC,IAAD,CAAQoC,KAAK,UAAUye,SAAS,SAASre,QAAM,GAA/C,wB,+BAMM,IAAD,OAQDgU,EAAU,CAMd,CACE/U,MAAO,gBACPoV,UAAW,cACX3W,IAAK,eAEP,CACEuB,MAAO,iBACPoV,UAAW,cACX3W,IAAK,eAEP,CACEuB,MAAO,qBACPoV,UAAW,SACX3W,IAAK,UAEP,CACEuB,MAAO,eACPoV,UAAW,YACX3W,IAAK,aAEP,CACEuB,MAAO,oBACPoV,UAAW,SACX3W,IAAK,UAEP,CACEuB,MAAO,2BACPoV,UAAW,MACX3W,IAAK,OAEP,CACEuB,MAAQ,WACRoV,UAAW,SACX3W,IAAK,UAYP,CACEuB,MAAO,wCACPoV,UAAW,YACX3W,IAAK,aAEP,CACEuB,MAAO,kCACPoV,UAAW,aACX3W,IAAK,cAEP,CACEuB,MAAO,qCACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,yBACPvB,IAAK,YACLuD,MAAO,IAEPgT,OAAQ,SAACC,EAAMC,GAAP,OACN,kBAAC,KAAD,CAAOxU,KAAK,SAGV,kBAAC,IAAD,CAAQE,MAAO,CAAC63B,gBAAiB,MAAO52B,MAAM,SAAUd,QAAM,EAACJ,KAAK,OAAOG,QAAS,kBAAM,EAAKgsC,uBAAuB53B,KAAtH,wBAKJ5U,EAAa,CAAC,IAEhBA,GADwC,IAAtC6I,KAAKxG,MAAMupC,uBAEb/iC,KAAKxG,MAAMwpC,iBAAiB77B,KAAI,SAAAy8B,GAAmB,MAChD,CAEGd,UAAW,EAAKtpC,MAAMspC,UACtBJ,UAAWkB,EAAoBnqC,QAAQ5B,IACvCmqC,YAAa4B,EAAoBnqC,QAAQS,KACzC+nC,YAAa2B,EAAoBnqC,QAAQ1H,KACzC6vC,UAAWiC,KAAOD,EAAoBhC,WAAW3/B,OAAO,uBACxD4/B,WAAYgC,KAAOD,EAAoB/B,YAAY5/B,OAAO,uBAC1DzK,KAAMosC,EAAoBpsC,KAC1B0qC,IAAK0B,EAAoB1B,IACzBpmC,OAAQ8nC,EAAoBnqC,QAAQqC,OACpCgoC,OAAQF,EAAoBP,SAAStxC,KAAO6xC,EAAoBP,SAASU,OACzEhF,OAAQ6E,EAAoB7E,WAKlC/+B,KAAKxG,MAAMipC,wBAAwBt7B,KAAI,SAAAy8B,GAAmB,MACvD,CAEGd,UAAW,EAAKtpC,MAAMspC,UACtBJ,UAAWkB,EAAoBnqC,QAAQ5B,IACvCmqC,YAAa4B,EAAoBnqC,QAAQS,KACzC+nC,YAAa2B,EAAoBnqC,QAAQ1H,KACzC6vC,UAAWiC,KAAOD,EAAoBhC,WAAW3/B,OAAO,uBACxD4/B,WAAYgC,KAAOD,EAAoB/B,YAAY5/B,OAAO,uBAC1DzK,KAAMosC,EAAoBpsC,KAC1B0qC,IAAK0B,EAAoB1B,IACzBpmC,OAAQ8nC,EAAoBnqC,QAAQqC,OACpCgoC,OAAQF,EAAoBP,SAAStxC,KAAO6xC,EAAoBP,SAASU,OACzEhF,OAAQ6E,EAAoB7E,WA1H7B,MAgJmE/+B,KAAKxG,MAAlDgpC,GAhJtB,EAgJC1hC,QAhJD,EAgJUu7B,WAhJV,EAgJsBmG,oBAhJtB,EAgJ0C9F,aAhJ1C,EAgJwDC,OAG/D,OACA,kBAAC,GAAD,KACE,6BACA,wBAAIllC,MAAO,CAACyN,WAAW,OAAQnM,SAAS,KAAxC,qEACE,kBAAC,KAAD,CACEob,OAAO,aACNxb,UAAU,aACV+c,SAAU,SAACC,GAAD,OAAY,EAAKquB,yBAAyBruB,KAIrD,kBAAC,IAAD,CAAK7R,QAAQ,gBAgBX,kBAAC,KAAD,CAAK8E,KAAM,GACT,kBAAC,KAAKvR,KAAN,CAAWqd,MAAM,UAAU3iB,KAAK,aAC9B,kBAAC,KAAD,CAAQ8pB,QAAS7b,KAAKxG,MAAMmpC,mBAIhC,kBAAC,KAAD,CAAK/5B,KAAM,GACT,kBAAC,IAAD,CAAQpR,KAAK,UAAUye,SAAS,SAASzQ,KAAM,kBAAC8gB,GAAA,EAAD,OAA/C,uBAMN,kBAAC,IAAD,CAAQ9uB,KAAK,UAAUmB,UAAU,aAAahB,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,+BAArF,iCACA,kBAAC,KAAD,CAAOjB,WAAYA,EAAYyU,QAASA,IAvC1C,KA0CE,kBAAC,KAAD,CACE/U,MAAM,eAKN,+CACA,+CACA,gDAGF,kBAAC,KAAD,CACEA,MAAM,iBACNiK,QAAS0hC,EAETrgC,SAAUnC,KAAKuiC,0BACf5iB,OAAQ,MAGN3f,KAAKikC,iC,GApWiBtjC,aCX5BwT,GAAS,CACbC,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAEhBs3B,GAAa,CACjB7rB,WAAY,CAAE7J,OAAQ,EAAG5B,KAAM,KAGzBsU,GAAa9S,KAAb8S,SAqFOgnB,GAnFgB,SAAC,GAAiB,IAAf9wC,EAAc,EAAdA,QAShC,OACE,kBAAC,GAAD,KACE,yBAAKuF,UAAU,cACb,uBAAGhB,QAAS,kBAAMvE,EAAQgF,KAAK,oBAA/B,mDADF,IACwF,mCADxF,IACuG,uBAAGT,QAAS,kBAAMvE,EAAQgF,KAAK,gCAA/B,6CAGvG,kBAAC,KAAD,iBACM+b,GADN,CAEEpiB,KAAK,QACL+jB,cAAe,CAAEsqB,UAAU,GAC3B1qB,SAlBW,SAAAC,GACf/gB,QAAQC,IAAI,WAAY8gB,IAkBpB0qB,eAfiB,SAAAC,GACrB1rC,QAAQC,IAAI,UAAWyrC,MAgBnB,wBAAI3nC,UAAU,cAAd,qCACA,kBAAC,KAAKtB,KAAN,CACEqd,MAAM,iBACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,KAAD,OAEF,kBAAC,KAAKiC,KAAN,CACIqd,MAAM,+BACN3iB,KAAK,YACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,KAAD,KACI,4BAAQpD,MAAM,UAAd,UACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,UAAd,YAKR,kBAAC,KAAKqF,KAAN,CACEqd,MAAM,UACN3iB,KAAK,YACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEjC,kBAAC,KAAD,KACI,6CACA,6CACA,+CAKR,kBAAC,KAAKiC,KAAN,CACEqd,MAAM,qBACN3iB,KAAK,SACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,KAAD,KACI,4DACA,uEAGN,kBAAC,KAAKiC,KAAN,CACEqd,MAAM,gBACN3iB,KAAK,SACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,iCAEnC,kBAAC,GAAD,OAGF,kBAAC,KAAKiC,KAAS6oC,GACb,kBAAC,IAAD,CAAQ1oC,KAAK,UAAUye,SAAS,UAAhC,0B,sBC/EJ9B,GAAS,CACbC,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAEhBs3B,GAAa,CACjB7rB,WAAY,CAAE7J,OAAQ,EAAG5B,KAAM,KAoTlBu7B,IAjTM/5B,KAAb8S,S,oDAIN,WAAYpd,GAAQ,IAAD,+BACjB,cAAMA,IA6CJP,aAAe,SAAA83B,GACT,EAAK33B,SAAS,CAEZ89B,QAASnG,EAAM10B,OAAO3Q,MACtB6rC,QAASxG,EAAM10B,OAAO3Q,MAEtBgsC,KAAM3G,EAAM10B,OAAO3Q,MAEnBoyC,aAAc/M,EAAM10B,OAAO3Q,MAE3BqyC,cAAehN,EAAM10B,OAAO3Q,MAC5B+sC,OAAQ1H,EAAM10B,OAAO3Q,MACrB0pC,QAASrE,EAAM10B,OAAO3Q,MACtBsyC,gBAAiBjN,EAAM10B,OAAO3Q,SA3DvB,EAuJXuyC,2BAA6B,SAAC7hC,GAC5B,IAAM8hC,EAAgB9hC,EACtB,EAAKhD,SAAS,CAAE+kC,aAAeD,KAtJvC,EAAKhrC,MAAQ,CACXqiB,QAAS,GACT6oB,aAAc,GACdC,cAAe,GACfC,SAAS,EACTC,YAAY,EACZC,KAAM,GACNC,YAAa,GACbrC,UAAW,GACXlF,QAAS,GACTwH,QAAS,GACThH,KAAM,GACNZ,aAAc,GACdE,YAAa,GACbC,YAAa,GACb0H,SAAU,CACR,CAACjzC,MAAO,KAAM0iB,MAAO,OACrB,CAAC1iB,MAAO,KAAM0iB,MAAO,OACrB,CAAC1iB,MAAO,KAAM0iB,MAAO,QAGvBwwB,SAAU,CACR,CAAElzC,MAAO,OAAQ0iB,MAAO,+CACxB,CAAE1iB,MAAO,QAAS0iB,MAAO,gDAG3B4vB,gBAAiB,CACd,CAACtyC,MAAO,IAAK0iB,MAAO,KACpB,CAAC1iB,MAAO,IAAK0iB,MAAO,KAAK,CAAC1iB,MAAO,IAAK0iB,MAAO,MAEhD+vB,aAAc,GACdU,QAAS,GACTC,kBAAkB,EAClBC,eAAe,GApCA,E,iEAyCbrlC,KAAKsS,gBACLtS,KAAKslC,cACLtlC,KAAKulC,iB,uCAoBU5vB,GAGf,IAHwB,IAAD,OACjB6vB,EAAiB,GAEdjiB,EAAI,EAAGA,EAAI5N,EAAO2uB,gBAAiB/gB,IAAM,CAChD,IAAIkiB,EAAgB,mBAAqBliB,EACrCmiB,EAAc,iBAAmBniB,EACjCoiB,EAAa,gBAAkBpiB,EAC/BqiB,EAAU,aAAeriB,EACzBsiB,EAAW,cAAgBtiB,EAC3BuiB,EAAW,cAAgBviB,EAC3BwiB,EAAe,kBAAoBxiB,EACnCyiB,EAAY,eAAiBziB,EAEjCiiB,EAAeptC,KAAK,CACZoY,UAAWmF,EAAO8vB,GAAexjC,OAAO,YACxCwO,QAASkF,EAAO+vB,GAAazjC,OAAO,YACpCgkC,OAAQtwB,EAAOgwB,GACftvC,OAAQ,CACNmnC,QAAS7nB,EAAOiwB,GAChB/H,QAASloB,EAAOkwB,GAChB7H,KAAMroB,EAAOmwB,GACb1B,aAAczuB,EAAOowB,GACrB1B,cAAe1uB,EAAOqwB,MAM9B,IAAME,EAAiB,CACrBf,QAASK,EACT9J,QAAS/lB,EAAO+lB,QAChBgH,UAAW/sB,EAAO+sB,UAClB3D,OAAQppB,EAAOopB,OACfsE,SAAU1tB,EAAO0tB,UAEnBzuC,QAAQC,IAAIqxC,EAAexK,SAE3BzoC,KAAMyJ,KAAK,2DAA6DwpC,EAAexD,UAAWwD,GAC7F5vC,MAAK,SAAA6F,GACNvH,QAAQC,IAAIsH,EAAI1F,MAChB,EAAKiJ,SAAS,CAAC0lC,kBAAkB,IACjC,EAAKtlC,MAAM1M,QAAQgF,KAAK,uB,sCAOb,IAAD,OACdnF,KAAMiJ,IAAI,uDACT5F,MAAK,SAAA6F,GACJ,IAAM0f,EAAU1f,EAAI1F,KAAK0Q,KAAI,SAAA1N,GAAO,MACjC,CACCib,MAAOjb,EAAQ1H,KACfC,MAAOyH,EAAQ5B,QAGnB,EAAK6H,SAAS,CAACw9B,QAASrhB,S,oCAIb,IAAD,OACZ5oB,KAAMiJ,IAAI,uCACT5F,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAChB,IAAMolB,EAAU1f,EAAI1F,KAAK0Q,KAAI,SAAAU,GAAK,MAC/B,CACC6M,MAAO7M,EAAM3N,KACblI,MAAO6V,EAAM1P,OAGjB,EAAKuH,SAAS,CAACymC,aAActqB,S,qCAIjB,IAAD,OACb5oB,KAAMiJ,IAAI,0CACT5F,MAAK,SAAA6F,GACJ,IAAMiqC,EAAejqC,EAAI1F,KAAK0Q,KAAI,SAAAk/B,GAAI,MACnC,CACG3xB,MAAO2xB,EAAKt0C,KAAOs0C,EAAKtC,OACxB/xC,MAAOq0C,EAAKxuC,QAGlB,EAAK6H,SAAS,CAACilC,cAAeyB,S,sCAUlC,OAAO,aAAI7oB,MAAM+oB,SAAStmC,KAAKxG,MAAMirC,cAAgB,IAAIjmB,U,+BAGrD,IAAD,SAC6Dxe,KAAKxG,MADlE,EACCsH,QADD,EACUu7B,WADV,EACsBE,cADtB,EACqCG,aADrC,EACmDC,OAE1D,OACA,kBAAC,GAAD,KACA,yBAAKhkC,UAAU,cAEb,uBAAGhB,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,oBAA1C,mDAFF,IAEmG,mCACjG,uBAAGT,QAAS,kBAAM,EAAKmI,MAAM1M,QAAQgF,KAAK,+BAA1C,kCAIF,kBAAC,KAAD,iBACM+b,GADN,CACcuB,SAAW,SAACC,GAAD,OAAa,EAAKgpB,iBAAiBhpB,MAKxD3V,KAAKxG,MAAM4rC,kBAAoB,kBAAC,KAAD,CAAO5tC,KAAM,UAAWf,KAAM,uBAC/D,wBAAIkC,UAAU,cAAd,qCAQA,kBAAC,KAAKtB,KAAN,CAAWqd,MAAM,2CAAoB3iB,KAAK,mBACtC,kBAAC,KAAD,CAAQ8pB,QAAS7b,KAAKxG,MAAM8qC,gBAAiB9jC,SAAWR,KAAKukC,8BAGjE,kBAAC,KAAKltC,KAAN,CAAWqd,MAAM,QAAQ3iB,KAAM,UAAU4iB,MAAO,CAAC,CAAEoB,UAAU,KAC3D,kBAAC,KAAD,CAAQ8F,QAAS7b,KAAKxG,MAAM2sC,gBAU9B,kBAAC,KAAK9uC,KAAN,CAAWqd,MAAM,WAAQ3iB,KAAK,UAC5B,kBAAC,KAAD,CAAO0Q,YAAY,cAIrB,kBAAC,KAAKpL,KAAN,CACIqd,MAAM,qBACN3iB,KAAK,YACL4iB,MAAO,CAAC,CAACoB,UAAU,KAEnB,kBAAC,KAAD,CAAQ8F,QAAW7b,KAAKxG,MAAM0jC,WAIlC,kBAAC,KAAK7lC,KAAN,CACIqd,MAAM,8BACN3iB,KAAK,WACL4iB,MAAO,CAAC,CAACoB,UAAU,KAEnB,kBAAC,KAAD,CAAQ8F,QAAW7b,KAAKxG,MAAMmrC,iBAmCjC3kC,KAAKumC,gBAAgBp/B,KAAI,SAAAoc,GAAC,OACvB,kBAAC,KAAKlsB,KAAN,eAAW/B,IAAKiuB,EAAGxxB,KAAK,WAAcoiB,GAAtC,CAA8C1c,MAAO,CAACmT,WAAY,WAC/D,gDAAc2Y,EAAE,GACjB,kBAAC,KAAKlsB,KAAN,CAAWqd,MAAM,sCAAoB3iB,KAAI,0BAAqBwxB,GAAK5O,MAAO,CAAC,CAACoB,UAAU,EAAM3gB,QAAS,yBACnG,kBAAC,KAAD,OAEF,kBAAC,KAAKiC,KAAN,CAAWqd,MAAM,kCAAqB3iB,KAAI,wBAAmBwxB,GAAK5O,MAAO,CAAC,CAACoB,UAAU,EAAM3gB,QAAS,yBAClG,kBAAC,KAAD,OAEF,kBAAC,KAAKiC,KAAN,CAAWqd,MAAM,gCAAY3iB,KAAI,uBAAkBwxB,IACjD,kBAAC,KAAD,OAEF,kBAAC,KAAKlsB,KAAN,CAAWqd,MAAM,yCAA4B3iB,KAAI,oBAAgBwxB,GAAK5O,MAAO,CAAC,CAAGvf,QAAS,2BACxF,kBAAC,KAAD,CAAOqN,YAAY,uCAErB,kBAAC,KAAKpL,KAAN,CAAWqd,MAAM,qDAA8B3iB,KAAI,qBAAiBwxB,GAAK5O,MAAO,CAAC,CAAGvf,QAAS,2BAC3F,kBAAC,KAAD,CAAOqN,YAAY,uCAErB,kBAAC,KAAKpL,KAAN,CAAWqd,MAAM,UAAU3iB,KAAI,qBAAiBwxB,GAAK5O,MAAO,CAAC,CAAGvf,QAAS,2BACvE,kBAAC,KAAD,CAAOqN,YAAY,mCAErB,kBAAC,KAAKpL,KAAN,CAAWqd,MAAM,gBAAgB3iB,KAAI,yBAAqBwxB,GAAK5O,MAAO,CAAC,KACrE,kBAAC,KAAD,CAAQkH,QAAS,EAAKriB,MAAM0rC,YAG9B,kBAAC,KAAK7tC,KAAN,CAAWqd,MAAM,iBAAiB3iB,KAAI,sBAAkBwxB,GAAK5O,MAAO,CAAC,KACnE,kBAAC,KAAD,CAAQkH,QAAS,EAAKriB,MAAMyrC,gBAOpC,kBAAC,KAAK5tC,KAAS6oC,GACb,kBAAC,IAAD,CAAQ1oC,KAAK,UAAUye,SAAS,UAAhC,+B,GApS0BtV,c,+MCjBpC,IAWek7B,GAXGvqC,IAAOC,IAAV,MCsRAquC,G,oDA5Qb,WAAY9/B,GAAQ,IAAD,+BACjB,cAAMA,IAoCRk8B,UAAY,SAACjwB,GACX,EAAKrM,SAAS,CAAEoB,SAAS,IACzB,EAAKpB,SAAS,CAAEmgC,kBAAmB9zB,IACnC,EAAKrM,SAAS,CAAEogC,cAAe/zB,EAAO5T,MAxCrB,EA2CnBgkC,SAAW,SAAAz5B,GACT,EAAKhD,SAAS,CAAEoB,SAAS,KA5CR,EA+CnBszB,aAAe,SAAA1xB,GACb,EAAKhD,SAAS,CAAEoB,SAAS,KAhDR,EAoDnBs7B,gBAAkB,SAAA15B,GAChB,EAAKhD,SAAS,CAAE28B,YAAY,KArDX,EAwDnBC,mBAAqB,SAAA55B,GACnB,EAAKhD,SAAS,CAAE68B,eAAe,KAtD/B,EAAK/iC,MAAQ,CACXsH,SAAS,EACT47B,aAAc,KACdC,OAAQ,GACRmD,cAAe,KACflD,cAAc,EACdC,WAAY,GACZgD,kBAAmB,GACnBhkB,QAAS,GACTpiB,QAAS,GACT4iC,YAAY,EACZE,eAAe,EACfO,gBAAiB,MAfF,E,2DAoBHzpC,cACN+E,KAAK,uB,0CAIb4H,KAAKwmC,yB,6CAGiB,IAAD,OACrBvzC,KAAMiJ,IAAN,0CACG5F,MAAK,SAAA6F,GAEJ,EAAKuD,SAAS,CAAEi9B,OAAQxgC,EAAI1F,Y,2CA4Bbkf,GAAS,IAAD,OACrBlf,EAAO,CACX1E,KAAM4jB,EAAO5jB,MAGfkB,KAAMy2B,IAAI,0CAA4C1pB,KAAKxG,MAAMsmC,cAAerpC,GAC7EH,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAChB,EAAKiJ,SAAS,CAAEoB,SAAS,IACzB,EAAK0lC,4B,oCAMI,IAAD,OAKZ,OAAO,kBAAC,KAAD,iBAJQ,CACbpyB,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAEf,CAAoB8M,SAAU,SAACC,GAAD,OAAY,EAAK2oB,qBAAqB3oB,MAEzE,kBAAC,IAAD,CAAKrT,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CAAWknC,aAAcv+B,KAAKxG,MAAMqmC,kBAAkB9tC,KACpD2iB,MAAM,SACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,gDAEnC,kBAAC,KAAD,SAIN,kBAAC,KAAKiC,KAAN,KACE,kBAAC,IAAD,CAAQG,KAAK,UAAUye,SAAS,UAAhC,gB,qCAWJjW,KAAKN,SAAS,CAAE28B,YAAY,M,uCAGb1mB,GAAS,IAAD,OACvB/gB,QAAQC,IAAI8gB,GACZ,IAAMlf,EAAO,CACX1E,KAAM4jB,EAAO5jB,KACbgyC,OAAQpuB,EAAOouB,QAEjB9wC,KAAMyJ,KAAN,yCAAqDjG,GAClDH,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAChB,EAAKiJ,SAAS,CAAE28B,YAAY,IAC5B,EAAKmK,4B,uCAKO,IAAD,OAKf,OAAO,kBAAC,KAAD,iBAJQ,CACbpyB,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAEf,CAAoB8M,SAAU,SAACC,GAAD,OAAY,EAAKgpB,iBAAiBhpB,MAErE,kBAAC,IAAD,CAAKrT,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACEqd,MAAM,SACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,0DAEnC,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAKkN,OAAQ,IACX,kBAAC,KAAD,CAAK3J,UAAU,aAAaiQ,KAAM,IAChC,kBAAC,KAAKvR,KAAN,CACIqd,MAAM,uBACN3iB,KAAK,SACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,8DAErC,kBAAC,KAAD,SAIN,kBAAC,KAAKiC,KAAN,KACE,kBAAC,IAAD,CAAQG,KAAK,UAAUye,SAAS,UAAhC,c,sCAOUlK,GACd/L,KAAKN,SAAS,CAAE68B,eAAe,IAC/Bv8B,KAAKN,SAAS,CAAEo9B,gBAAiB/wB,EAAO5T,O,qCAG1B,IAAD,OACblF,KAAM2J,OAAO,0CAA4CoD,KAAKxG,MAAMsjC,iBACjExmC,MAAK,SAAA6F,GACJvH,QAAQC,IAAIsH,EAAI1F,MAChB,EAAKiJ,SAAS,CAAE68B,eAAe,IAC/B,EAAKiK,4B,0CAIU,IAAD,OAClB,OAAO,6BACL,mFACA,kBAAC,IAAD,CAAQhvC,KAAK,UAAUI,QAAM,EAACD,QAAS,kBAAM,EAAKinC,iBAAlD,a,+BAKM,IAAD,OAEDznC,EAAa6I,KAAKxG,MAAMmjC,OAAOx1B,KAAI,SAAA64B,GAAW,MACjD,CACC7nC,GAAI6nC,EAAYnoC,IAChBksC,OAAQ/D,EAAY+D,OACpBhyC,KAAMiuC,EAAYjuC,SAIhB6Z,EAAU,CACd,CACE/U,MAAO,2BACPoV,UAAW,OACX3W,IAAK,QAEP,CACEuB,MAAO,uBACPoV,UAAW,SACX3W,IAAK,UAGP,CACEuB,MAAO,SACPvB,IAAK,YACLuD,MAAO,IACPgT,OAAQ,SAACC,EAAMC,GAAP,OAEN,kBAAC,KAAD,CAAOxU,KAAK,SAEV,kBAAC,IAAD,CAAQC,KAAK,OAAOG,QAAS,kBAAM,EAAKqkC,UAAUjwB,KAAlD,YACA,kBAAC,IAAD,CAAQnU,QAAM,EAACJ,KAAK,OAAOG,QAAS,kBAAM,EAAKsnC,gBAAgBlzB,KAA/D,cA/BD,EAqC8D/L,KAAKxG,MAAlEsH,EArCD,EAqCCA,QAASu7B,EArCV,EAqCUA,WAAYE,EArCtB,EAqCsBA,cArCtB,EAqCqCG,aArCrC,EAqCmDC,OAE1D,OACE,kBAAC,GAAD,KACE,6BACE,yEACA,6BACA,kBAAC,IAAD,CAAQnlC,KAAK,UAAUmB,UAAU,aAAahB,QAAS,kBAAM,EAAK0nC,iBAAlE,6BACA,kBAAC,KAAD,CAAOloC,WAAYA,EAAYyU,QAASA,IAJ1C,KAMA,kBAAC,KAAD,CACE/U,MAAM,gBACNiK,QAASA,EACToB,KAAMlC,KAAKm8B,SACXh6B,SAAUnC,KAAKo0B,aACfzU,OAAQ,KAAM9mB,MAAO,KAGnBmH,KAAKs/B,eAIT,kBAAC,KAAD,CACEzoC,MAAM,4BAAoBgC,MAAO,IACjCiI,QAASu7B,EACTn6B,KAAMlC,KAAKu/B,YACXp9B,SAAUnC,KAAKo8B,gBACfzc,OAAQ,MAGN3f,KAAKw/B,kBAIT,kBAAC,KAAD,CACE3oC,MAAM,2BACNiK,QAASy7B,EACTr6B,KAAMlC,KAAKy/B,eACXt9B,SAAUnC,KAAKs8B,mBACf3c,OAAQ,MAGN3f,KAAK0/B,0B,GAvQa/+B,aCNjB8lC,GAAe,CAAC,oBAAa,gCAAa,4BAAW,qBAIrDC,GAAiB,CAC1B,CACI7vC,MAAO,yBACPoV,UAAW,QAEf,CACIpV,MAAO,WACPoV,UAAW,SACXJ,OAAQ,SAAAggB,GAAM,aAAI,kBAAC,KAAD,CAAO8a,SAAS,EAAO1uC,IAAG,UAAE4zB,EAAO,UAAT,aAAE,EAAWgM,SAE7D,CACIhhC,MAAO,QACPoV,UAAW,SACXJ,OAAQ,SAAAigB,GAAM,aAAI,2BAAO7zB,IAAG,UAAE6zB,EAAO,UAAT,aAAE,EAAW+L,SAE7C,CACIhhC,MAAO,gBACPoV,UAAW,eAEf,CACIpV,MAAO,4BACPoV,UAAW,OACXJ,OAAQ,SAAArU,GAAI,OAAI,8BAAOA,EAAKzF,QAEhC,CACI8E,MAAO,iBACPoV,UAAW,YAEf,CACIpV,MAAO,sBACPoV,UAAW,YAINL,GAAU,CACnB,CACI/U,MAAO,QACPoV,UAAW,MAEf,CACIpV,MAAO,SACPoV,UAAW,SAEf,CACIpV,MAAO,iBACPoV,UAAW,QAEf,CACIpV,MAAO,qBACPoV,UAAW,QAEf,CACIpV,MAAO,gBACPoV,UAAW,eAEf,CACIpV,MAAO,oBACPoV,UAAW,aAEf,CACIpV,MAAO,uBACPoV,UAAW,YAEf,CACIpV,MAAO,iBACPoV,UAAW,YAEf,CACIpV,MAAO,4BACPoV,UAAW,eAEf,CACIpV,MAAO,mBACPoV,UAAW,aAEf,CACIpV,MAAO,GACPoV,UAAW,KACXJ,OAAQ,SAAA1T,GAAE,OAAI,kBAAC,IAAD,CAAMpC,GAAE,8BAAyBoC,IAAjC,wB,0YC/EdsQ,GAAgBC,KAAhBD,MAAOm+B,GAASl+B,KAATk+B,KACPx9B,GAAWC,KAAXD,OA4JR,IAAMy9B,GAAYv1C,IAAOC,IAAV,MAGTu1C,GAAcx1C,YAAOmX,GAAPnX,CAAH,MAKXy1C,GAAcz1C,YAAO01C,KAAP11C,CAAH,MAIX21C,GAAc31C,YAAO41C,KAAP51C,CAAH,MAIF61C,GA1Kf,WAAuB,IAAD,EACoB7zC,mBAAS,IAD7B,mBACX8zC,EADW,KACEC,EADF,OAEsB/zC,mBAAS,CAC7CsgB,UAAW,KACX0zB,YAAa,OAJC,mBAEXC,EAFW,KAEGC,EAFH,OAMsBl0C,qBANtB,mBAMXm0C,EANW,KAMGC,EANH,KA8HlB,OA9EAnzC,qBAAU,WACNtB,KAAM,CACF+C,OAAQ,OACRC,IAAK,mEACLE,OAAQ,CACJwxC,KAAM,EACNC,KAAM,IAEVnxC,KAAM,KACPH,MAAK,YAAe,IAAZG,EAAW,EAAXA,KACP7B,QAAQC,IAAI4B,GACZ4wC,EAAe5wC,EAAKwI,OAAOkI,KAAI,SAACoc,EAAGxvB,GAAJ,mBAAC,eACzBwvB,GADwB,IAE3BsU,KAAiB,IAAXtU,EAAE/rB,KACJ,kBAAC,KAAD,CACIqB,MAAO,IACPkQ,OAAQ,IACR9Q,IAAKsrB,EAAEsU,MAAQ,QACfgQ,SAAS,mqGAEbtkB,EAAEsU,KACNrgC,KAAiB,IAAX+rB,EAAE/rB,KAAa,QAAU,QAC/B8vC,YAAab,GAAaljB,EAAE+jB,aAC5BjkC,SAAU,uBAAGV,OAAO,SAAStK,KAAI,4CAAuCkrB,EAAEpJ,SAAzC,YAAqDoJ,EAAEnJ,YAA9E,gDAGnB,IAEH7lB,qBAAU,WACNtB,KAAM,CACF+C,OAAQ,OACRC,IAAK,mEACLE,OAAQ,CACJwxC,KAAM,EACNC,KAAM,IAEVnxC,KAAM,KACPH,MAAK,YAAe,IACf2I,EADc,EAAXxI,KACWwI,OAAOkI,KAAI,SAACoc,EAAGxvB,GAAJ,mBAAC,eACvBwvB,GADsB,IAEzBsU,KAAiB,IAAXtU,EAAE/rB,KACJ,kBAAC,KAAD,CACIqB,MAAO,IACPkQ,OAAQ,IACR9Q,IAAKsrB,EAAEsU,MAAQ,QACfgQ,SAAS,mqGAEbtkB,EAAEsU,KACNrgC,KAAiB,IAAX+rB,EAAE/rB,KAAa,QAAU,QAC/B8vC,YAAab,GAAaljB,EAAE+jB,aAC5BjkC,SAAU,uBAAGV,OAAO,SAAStK,KAAI,4CAAuCkrB,EAAEpJ,SAAzC,YAAqDoJ,EAAEnJ,YAA9E,0CAGKmE,OAAO5I,OAAO4xB,GAAcO,OAAM,SAAAvkB,GAAC,MAAI,CAAC,UAAM7I,EAAW,IAAIM,SAASuI,OAGrFhF,OAAOC,KAAK+oB,GAAc/yC,SAAQ,SAAAuzC,GACzB,CAAC,UAAMrtB,EAAW,IAAIM,SAASusB,EAAaQ,MAC7CnzC,QAAQC,IAAI0yC,GACZ3yC,QAAQC,IAAI,CAAEoK,WAEVA,EADqB,cAArB,UAAG8oC,GACM9oC,EAAOvD,QAAO,SAAA6nB,GAGnB,OAFA3uB,QAAQC,IAAI0uB,EAAEwkB,GAAa7hC,MAAM,MAE1Bqd,EAAEwkB,GAAa7hC,MAAM,KAAK,KAAOqhC,EAAaQ,MAIhD9oC,EAAOvD,QAAO,SAAA6nB,GAAC,OAAIA,EAAEwkB,KAAiBtB,GAAac,EAAaQ,WAMzFV,EAAepoC,QAEpB,CAACsoC,IAGA,kBAACV,GAAD,KACI,kBAACC,GAAD,CAAatuC,MAAO,GAApB,2CACA,kBAACuuC,GAAD,KACI,kBAAC,KAAD,CAAO3R,UAAU,cACb,kBAACwR,GAAD,iBACA,kBAAC,KAAD,CAAYnkC,YAAY,oBAAYjC,SA5H/B,SAACsC,EAAM8vB,GACxBh+B,QAAQC,IAAIiO,EAAM8vB,GAClB4U,EAAgB,2BAAKD,GAAN,IAAoB3zB,UAAWgf,SA4HtC,kBAAC,KAAD,CAAOwC,UAAU,cACb,kBAACwR,GAAD,yBACA,kBAAC,KAAD,CAAQnkC,YAAY,4BAAahL,MAAO,CAAEyS,SAAU,KAAO0K,YAAU,EAACpU,SA3H9D,SAAC8mC,GACrB1yC,QAAQC,IAAI,gBAAiByyC,GAC7BE,EAAgB,2BAAKD,GAAN,IAAoBD,mBA0HlB,CAAC,EAAG,EAAG,EAAG,GAAGngC,KAAI,SAAAmgC,GAAW,OAAI,kBAAC,GAAD,CAAQt1C,MAAOs1C,GAAcb,GAAaa,SAGnF,kBAAC,KAAD,CAAOlS,UAAU,cACb,kBAAC,KAAD,CACI3yB,YAAY,oCACZjC,SAAU,SAACkC,GACPglC,EAAgBhlC,EAAEC,OAAO3Q,UAEjC,kBAAC,IAAD,CAAQwF,KAAK,UAAUG,QAhIlB,WACjB1E,KAAM,CACF+C,OAAQ,OACRC,IAAK,mEACLE,OAAQ,CACJwxC,KAAM,EACNC,KAAM,IAEVnxC,KAAM,CACFI,MAAO4wC,KAEZnxC,MAAK,YAAe,IAAZG,EAAW,EAAXA,KACP7B,QAAQC,IAAI4B,GACZ4wC,EAAe5wC,EAAKwI,OAAOkI,KAAI,SAACoc,EAAGxvB,GAAJ,mBAAC,eACzBwvB,GADwB,IAE3BsU,KAAiB,IAAXtU,EAAE/rB,KACJ,kBAAC,KAAD,CACIqB,MAAO,IACPkQ,OAAQ,IACR9Q,IAAKsrB,EAAEsU,MAAQ,QACfgQ,SAAS,mqGAEbtkB,EAAEsU,KACNrgC,KAAiB,IAAX+rB,EAAE/rB,KAAa,QAAU,QAC/B8vC,YAAab,GAAaljB,EAAE+jB,aAC5BjkC,SAAU,uBAAGV,OAAO,SAAStK,KAAI,4CAAuCkrB,EAAEpJ,SAAzC,YAAqDoJ,EAAEnJ,YAA9E,gDAuGN,sBAGR,kBAAC6sB,GAAD,CAAar7B,QAASA,GAASzU,WAAYiwC,EAAa5mC,SAAU,aAAW4L,YAAU,M,41BCqBnG,IAAM66B,GAAc31C,YAAO41C,KAAP51C,CAAH,MAIXu1C,GAAYv1C,IAAOC,IAAV,MAKTkX,GAAQnX,IAAO02C,GAAV,MAsBLC,GAAO32C,IAAOC,IAAV,MAcK22C,GA1Nf,WAAmB,IACP/xC,EAAWgyC,cAAXhyC,OADM,EAGsB7C,mBAAS,IAH/B,mBAGP80C,EAHO,KAGKC,EAHL,OAIoC/0C,mBAAS,IAJ7C,mBAIPg1C,EAJO,KAIYC,EAJZ,OAKkBj1C,mBAAS,IAL3B,mBAKPk1C,EALO,KAKGC,EALH,KAyDd,OAxCAl0C,qBAAU,YACS,yCAAG,iCAAAkL,EAAA,sEACKxM,KAAM,CACrB+C,OAAQ,MACRC,IAAI,iDAAD,OAAmDE,EAAOgC,MAHnD,cACRuwC,EADQ,gBAOKz1C,KAAM,CACrB+C,OAAQ,MACRC,IAAI,kEAAD,OAAoEyyC,EAAKjyC,KAAKkyC,qBATvE,cAORC,EAPQ,gBAaK31C,KAAM,CACrB+C,OAAQ,OACRC,IAAI,yCACJC,QAAS,CACL,YAAasN,aAAauG,QAAQ,SAClC,eAAgBvG,aAAauG,QAAQ,iBAEzCtT,KAAM,CACFoyC,SAAU,CACNH,EAAKjyC,KAAK0B,OAtBR,OAaR2wC,EAbQ,OA2Bdl0C,QAAQC,IAAI,CAAEi0C,SAIdT,EAAcK,EAAKjyC,MACnB8xC,EAAqBK,EAAKnyC,KAAKwI,QAC/BwpC,EAAYK,EAAKryC,KAAKsyC,WAjCR,4CAAH,qDAoCfC,KACD,IAEI,kBAAC,GAAD,KACH,kBAAC,GAAD,mCAEA,kBAAC,IAAD,CAAK1mC,OAAQ,IACT,kBAAC,KAAD,CAAK2mC,GAAI,IACL,kBAAC,KAAD,CACIpwC,MAAM,OACNkQ,OAAO,OACP9Q,IAAKmwC,EAAWvQ,QAGxB,kBAAC,KAAD,CAAKoR,GAAI,IACL,kBAAChB,GAAD,KACI,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKgB,GAAI,GACL,wCAEJ,kBAAC,KAAD,CAAKA,GAAI,IACL,8BAAOb,EAAWjwC,MAG1B,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAK8wC,GAAI,GACL,4CAEJ,kBAAC,KAAD,CAAKA,GAAI,IACL,8BAAOb,EAAWvxC,SAG1B,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKoyC,GAAI,GACL,mDAEJ,kBAAC,KAAD,CAAKA,GAAI,IACL,8BApFE,SAAC3wC,GACvB,GAAIA,EAAa,CACb,IAAM4wC,EAAG,OAAG5wC,QAAH,IAAGA,OAAH,EAAGA,EAAa4N,MAAM,KACzBijC,EAAQD,EAAIE,MAElB,OAAO,6BAAMF,EAAIG,KAAK,KAAf,IAAqB,kBAAC,IAAD,CAAMtzC,GAAG,KAAKozC,IAE9C,OAAO,KA6EoBG,CAAkBlB,EAAW9vC,gBAG5C,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAK2wC,GAAI,GACL,mEAEJ,kBAAC,KAAD,CAAKA,GAAI,IACL,kBAAC,IAAD,CAAMlzC,GAAG,KAAKqyC,EAAWO,qBAGjC,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKM,GAAI,GACL,iEAEJ,kBAAC,KAAD,CAAKA,GAAI,IACL,8BAA2B,IAApBb,EAAW5wC,KAAa,WAAQ,WAG/C,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKyxC,GAAI,GACL,+DAEJ,kBAAC,KAAD,CAAKA,GAAI,IACL,8BAAOxC,GAAa2B,EAAWd,gBAGvC,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAK2B,GAAI,GACL,uDAEJ,kBAAC,KAAD,CAAKA,GAAI,IACL,8BAAOb,EAAWhuB,aAG1B,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAK6uB,GAAI,GACL,0DAEJ,kBAAC,KAAD,CAAKA,GAAI,IACL,8BAAOb,EAAWjuB,YAG1B,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAK8uB,GAAI,GACL,qDAEJ,kBAAC,KAAD,CAAKA,GAAI,IACL,8BAAOb,EAAWx0B,gBAOtC,kBAAC,GAAD,KAAO,2BACH,8BAA2B,IAApBw0B,EAAW5wC,KAAa,WAAQ,QAAvC,mBAEJ,kBAAC,IAAD,CAAK8K,OAAQ,CAAC,GAAI,KACbgmC,EAAkBnhC,KAAI,SAAC1S,EAAMV,GAE1B,OADAa,QAAQC,IAAI,CAAEJ,SACP,kBAAC,KAAD,CAAKw0C,GAAI,GACZ,kBAAC,KAAD,CACIxxC,MAAO,CACHwM,OAAQ,WAEZ3O,IAAKvB,EACLkE,IAAKxD,EAAKojC,KACV8O,SAAS,EACThvC,QAAS,kBAAM0wC,EAAc5zC,WAM7C,kBAAC,GAAD,KAAO,uBAAGgD,MAAO,CAAEsL,OAAQ,IACvB,0DAEJ,kBAAC,GAAD,CAAa6I,QAAS86B,GAAgBvvC,WAAYqxC,EAAUhoC,SAAU,aAAW4L,YAAU,M,UC7K1D1L,IAAMC,U,sXCG3ByhB,KAAZD,Q,IACA9qB,GAAS22B,IAAT32B,KAEFkyC,GAAa,CACf,qGACA,sGAoGJ,IAAM1C,GAAYv1C,IAAOC,IAAV,MAKTi4C,GAAal4C,IAAOC,IAAV,MAOVk4C,GAAan4C,YAAO+F,GAAP/F,CAAH,MAIDo4C,GAjHf,WAAmB,IAAD,EAC0Bp2C,mBAAS,IADnC,mBACPq2C,EADO,KACOC,EADP,OAEct2C,mBAAS,IAFvB,mBAEP6iB,EAFO,KAEC0zB,EAFD,KAcdt1C,qBAAU,YACS,yCAAG,iCAAAkL,EAAA,sEACSxM,KAAM,CACzB+C,OAAQ,MACRC,IAAK,wDAHK,uBACNQ,EADM,EACNA,KADM,SAUIxD,KAAM,CACpB+C,OAAQ,MACRC,IAAI,wCAAD,OAA0CQ,EAAK,GAAGqzC,WAZ3C,OAUR3tC,EAVQ,OAed0tC,EAAUpzC,EAAK0Q,KAAI,SAAAU,GAAK,kCAAUA,GAAV,IAAiBkiC,UAAWR,GAAWpiB,KAAKC,MAAMD,KAAKE,SAAWkiB,GAAW5zC,eACrGi0C,EAAgB,2BAAKnzC,EAAK,IAAX,IAAeszC,UAAWR,GAAWpiB,KAAKC,MAAMD,KAAKE,SAAWkiB,GAAW5zC,UAAawG,EAAI1F,OAhB7F,2CAAH,qDAmBfuyC,KACD,IAEH,IAAMgB,EAAiB,yCAAG,WAAMF,GAAN,gBAAArqC,EAAA,sEACJxM,KAAM,CACpB+C,OAAQ,MACRC,IAAI,wCAAD,OAA0C6zC,KAH3B,OAChB3tC,EADgB,OAMtBytC,EAAgB,2BAAKztC,EAAI1F,MAAV,IAAgBszC,UAAWR,GAAWpiB,KAAKC,MAAMD,KAAKE,SAAWkiB,GAAW5zC,YANrE,2CAAH,sDASvB,OAAO,kBAAC,GAAD,KACH,kBAAC,IAAD,CAAK2M,OAAQ,IACT,kBAAC,KAAD,CAAK2mC,GAAI,IACL,kBAACO,GAAD,wBAAwBG,EAAa53C,MAErC,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAKk3C,GAAI,IACL,6CADJ,IAC+B,8BAAOU,EAAaxxC,KAEnD,kBAAC,KAAD,CAAK8wC,GAAI,IACL,wCADJ,IAC0B,8BAAOU,EAAaM,eAE9C,kBAAC,KAAD,CAAKhB,GAAI,IACL,0DADJ,IAC6B,8BAAOU,EAAaO,iBAEjD,kBAAC,KAAD,CAAKjB,GAAI,IACL,qDADJ,IAC6B,8BAAOU,EAAaQ,kBAEjD,kBAAC,KAAD,CAAKlB,GAAI,IACL,qDADJ,IAC6B,8BAAOU,EAAaQ,mBAIrD,yBAAK1yC,MAAO,CACR2I,UAAW,SAEX,2BAAOgqC,UAAQ,EAACC,UAAQ,EAACxxC,MAAM,OAAOZ,IAAK0xC,EAAaI,UAAWtyC,MAAO,CAAEuL,aAAc,WAE9F,+BAQJ,kBAAC,KAAD,CAAKimC,GAAI,GACL,kBAACO,GAAD,4BACA,kBAAC,IAAD,CACIc,UAAQ,EACRnzC,WAAYgf,EACZ/e,WAAY,SAAAyQ,GAAK,OAAI,kBAAC4hC,GAAD,CAAY9xC,QAAS,kBAAMqyC,EAAkBniC,EAAMiiC,WACpE,4BAAKjiC,EAAM9V,MACX,2BAAI8V,EAAM0iC,KAAO,kBAAC,KAAD,CAAK7xC,MAAM,SAAX,UAAkC,kBAAC,KAAD,CAAKA,MAAM,OAAX,uBCvG9D8xC,GACW,uBADXA,GAEW,uBAFXA,GAGW,uBAHXA,GAKe,2BALfA,GAMe,2BANfA,GAOe,2BAPfA,GASwB,oCATxBA,GAUwB,oCAVxBA,GAWwB,oCAXxBA,GAasB,kCAbtBA,GAcsB,kCAdtBA,GAiBe,2BAjBfA,GAkBe,2BAlBfA,GAmBe,2BAnBfA,GAqBW,uBArBXA,GAsBY,wBAtBZA,GAuBY,wBClBlB,SAAeC,GAAtB,mC,gDAAO,WAA2B5uB,GAA3B,gBAAApc,EAAA,6DACCirC,EAAiB,CACrBz0C,IAAK4lB,EAAQ5lB,IACbD,OAAQ6lB,EAAQ7lB,OAChBS,KAAMolB,EAAQplB,KACdN,OAAQ0lB,EAAQ1lB,QALb,kBAQElD,KAAMy3C,GAAgBp0C,MAAK,SAAA6F,GAChC,OAAOnB,QAAQ2Q,QAAQxP,MACtBzF,OAAM,SAAA6jB,GACP,OAAOvf,QAAQC,OAAOsf,OAXnB,4C,sBCHA,IAAMowB,GAAmB,CAC9BC,iBAMF,SAA0Bz0C,GACxB,OAAOs0C,GAAY,CACjBx0C,IACE,yEACFD,OAAQ,MACRG,YAVF00C,eAcF,SAAwBp0C,GACtB,OAAOg0C,GAAY,CACjBx0C,IAAI,yEACJD,OAAQ,OACRS,UAjBFq0C,aAqBF,SAAsB3yC,EAAI1B,GACxB,OAAOg0C,GAAY,CACjBx0C,IAAI,0EAAD,OAA4EkC,GAC/EnC,OAAQ,QACRS,UAxBFs0C,qBA4BF,SAA8BC,GAC5B,OAAOP,GAAY,CACjBx0C,IAAI,sHAEJD,OAAQ,OACRS,KAAM,CAAEu0C,eCpCL,IAAMC,GAAkB,CAC7BL,iBAMF,SAA0Bn0C,GACxB,YAAaikB,IAATjkB,EACK,SAACyM,GACNA,EAAS,CACP1L,KAAMgzC,KAERG,GAAiBC,mBACdt0C,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS0C,EAAI1F,KAAKpB,aAGrBqB,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMgzC,GACN7zC,MAAO4jB,QAKR,SAACrX,GACNA,EAAS,CACP1L,KAAMgzC,KAERG,GAAiBC,iBAAiBn0C,GAC/BH,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS0C,EAAI1F,KAAKpB,aAGrBqB,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMgzC,GACN7zC,MAAO4jB,SAxCjBswB,eA+CF,SAAwBp0C,GACtB,OAAO,SAACyM,GACNA,EAAS,CACP1L,KAAMgzC,KAERG,GAAiBE,eAAep0C,GAC7BH,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS0C,EAAI1F,KAAKpB,UAEpB6N,EAAS,CACP1L,KAAMgzC,GACN/wC,SAAS,IAEXyJ,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS,qGAGZ/C,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMgzC,GACN/wC,SAAS,IAEXyJ,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS,gGAzEjBqxC,aA+EF,SAAsB3yC,EAAI1B,GACxB,OAAO,SAACyM,GACNA,EAAS,CACP1L,KAAMgzC,KAERG,GAAiBG,aAAa3yC,EAAI1B,GAC/BH,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS0C,EAAI1F,KAAKpB,UAEpB6N,EAAS,CACP1L,KAAMgzC,GACN/wC,SAAS,IAEXyJ,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS,uGAGZ/C,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMgzC,GACN/wC,SAAS,IAEXyJ,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS,2GAzGjBsxC,qBA+GF,SAA8BC,GAC5B,OAAO,SAAC9nC,GACNA,EAAS,CACP1L,KAAMgzC,KAERG,GAAiBI,qBAAqBC,GACnC10C,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS0C,EAAI1F,KAAKpB,UAEpB6N,EAAS,CACP1L,KAAMgzC,GACN/wC,SAAS,IAEXyJ,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS,0FAGZ/C,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMgzC,GACN7zC,MAAO4jB,IAETrX,EAAS,CACP1L,KAAMgzC,GACN/wC,SAAS,IAEXyJ,EAAS,CACP1L,KAAMgzC,GACN/wC,QAAS,6FCNJyxC,OA3If,YAA6E,IAAjDl5C,EAAgD,EAAhDA,MAAOuN,EAAyC,EAAzCA,aAAc4rC,EAA2B,EAA3BA,gBAAiBC,EAAU,EAAVA,OAC1DloC,EAAWC,wBAyBjB,OACE,yBACExK,UAAU,aACVR,GAAG,cACHkzC,SAAS,KACTxvC,KAAK,SACLyvC,kBAAgB,wBAChBC,cAAY,QAEZ,yBAAK5yC,UAAU,wBAAwBkD,KAAK,YAC1C,yBAAKlD,UAAU,iBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,cAAcR,GAAG,yBACjB,QAAXizC,GAAoB,gDACT,SAAXA,GAAqB,iDACV,SAAXA,GAAqB,yCAExB,4BACE5zC,KAAK,SACLmB,UAAU,QACV6yC,eAAa,QACbC,aAAW,SAEX,0BAAMF,cAAY,QAAlB,UAGJ,yBAAK5yC,UAAU,cACb,8BACE,yBAAKA,UAAU,kBACb,2BACE6J,QAAQ,kBACR7J,UAAU,2BAFZ,uBAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACVR,GAAG,kBACHsK,YAAY,sBACZ1Q,KAAK,OACLC,MAAOA,EAAMkI,KACbsG,SAAUjB,MAIhB,yBAAK5G,UAAU,kBACb,2BACE6J,QAAQ,gBACR7J,UAAU,2BAFZ,wBAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACVR,GAAG,gBACHsK,YAAY,uBACZ1Q,KAAK,OACLC,MAAOA,EAAMD,KACbyO,SAAUjB,MAIhB,yBAAK5G,UAAU,kBACb,2BACE6J,QAAQ,mBACR7J,UAAU,2BAFZ,iBAMA,yBAAKA,UAAU,aACb,8BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACVR,GAAG,mBACH2mC,KAAK,IACLr8B,YAAY,gBACZ1Q,KAAK,cACLC,MAAOA,EAAMsG,YACbkI,SAAUjB,QAMpB,yBAAK5G,UAAU,gBACb,4BACEnB,KAAK,SACLmB,UAAU,oBACV6yC,eAAa,SAHf,gBAOY,SAAXJ,GACC,4BACE5zC,KAAK,SACLmB,UAAU,kBACV6yC,eAAa,QACb7zC,QA7HmB,WACzB3F,EAAM6F,IACVqL,EACE+nC,GAAgBH,aAAa94C,EAAM6F,IAAK,CACtCqC,KAAMlI,EAAMkI,KACZnI,KAAMC,EAAMD,KACZuG,YAAatG,EAAMsG,eAIvB4K,EACE+nC,GAAgBJ,eAAe,CAC7B3wC,KAAMlI,EAAMkI,KACZnI,KAAMC,EAAMD,KACZuG,YAAatG,EAAMsG,eAIzB6yC,EAAgB,CACdjxC,KAAM,GACNnI,KAAM,GACNuG,YAAa,OA0GS,QAAX8yC,GAAoB,uBACT,SAAXA,GAAqB,8BCzFvBM,OAzCf,YAA6C,IAA3B15C,EAA0B,EAA1BA,MACVkR,GADoC,EAAnBioC,gBACNhoC,yBAIjB,OACE,yBACExK,UAAU,aACVR,GAAG,QACHkzC,SAAS,KACTxvC,KAAK,SACLyvC,kBAAgB,wBAChBC,cAAY,QAEZ,yBAAK5yC,UAAU,eAAekD,KAAK,YACjC,yBAAKlD,UAAU,iBACb,yBAAKA,UAAU,cACb,0EAEF,yBAAKA,UAAU,gBACb,4BACEnB,KAAK,SACLmB,UAAU,oBACV6yC,eAAa,SAHf,YAOA,4BACEh0C,KAAK,SACLmB,UAAU,kBACV6yC,eAAa,QACb7zC,QAAS,WA5BnBuL,EAAS+nC,GAAgBF,qBAAqB,CAAC/4C,EAAM6F,SAwB7C,cC7BZ,SAAS8zC,KAAa,MAEMjrC,IAAMpN,SAAS,IAFrB,mBAELs4C,GAFK,WAUtB,OACI,yBAAKjzC,UAAU,aAAaR,GAAG,cAAckzC,SAAS,KAAKxvC,KAAK,SAASyvC,kBAAgB,wBAAwBC,cAAY,QACzH,yBAAK5yC,UAAU,wBAAwBkD,KAAK,YACxC,yBAAKlD,UAAU,iBACX,yBAAKA,UAAU,gBACX,wBAAIA,UAAU,cAAcR,GAAG,yBAA/B,iDACA,4BAAQX,KAAK,SAASmB,UAAU,QAAQ6yC,eAAa,QAAQC,aAAW,SACpE,0BAAMF,cAAY,QAAlB,UAGR,yBAAK5yC,UAAU,cACX,yBAAKR,GAAG,cACJ,2BAAOX,KAAK,OAAOgJ,SAjBvC,SAAsB62B,GACpBuU,EAAQvU,EAAM10B,OAAOkpC,MAAM,SAmBjB,yBAAKlzC,UAAU,gBACX,4BAAQnB,KAAK,SAASmB,UAAU,oBAAoB6yC,eAAa,SAAjE,gBACA,4BAAQh0C,KAAK,SAASmB,UAAU,kBAAkB6yC,eAAa,QAAQ7zC,QAAS,kBAAMm0C,MAAM,uCAA5F,gBAOL,SAASC,KACpB,OAAO,kBAACJ,GAAD,M,yBCCIK,OApCf,YAAyD,IAA1BC,EAAyB,EAAzBA,YAAaC,EAAY,EAAZA,SAC1C,OACE,yBACEvzC,UAAU,aACVR,GAAG,2BACHkzC,SAAS,KACTxvC,KAAK,SACLyvC,kBAAgB,wBAChBC,cAAY,QAEZ,yBAAK5yC,UAAU,mBAAmBkD,KAAK,YACrC,yBAAKlD,UAAU,iBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,cAAcR,GAAG,yBAC5B+zC,GAEH,4BACE10C,KAAK,SACLmB,UAAU,QACV6yC,eAAa,QACbC,aAAW,SAEX,0BAAMF,cAAY,QAAlB,UAIJ,yBAAK5yC,UAAU,uCACb,4BAAQnB,KAAK,SAASmB,UAAWszC,EAAaT,eAAa,SAA3D,WC+OGW,OAjQf,SAAuBrsC,GACrB,IAAMoD,EAAWC,wBACXipC,EAAWhpC,uBAAY,SAAC5J,GAAD,OAAWA,EAAM4yC,YAE5CC,EAKED,EALFC,aACAC,EAIEF,EAJFE,WACAC,EAGEH,EAHFG,QACAL,EAEEE,EAFFF,SACAM,EACEJ,EADFI,aAR0B,EAUQl5C,mBAAS,CAC3CqjC,KAAM,EACN8V,MAAO,IAZmB,mBAUrBrgC,EAVqB,KAUTsgC,EAVS,KAcpB/V,EAAgBvqB,EAAhBuqB,KAAM8V,EAAUrgC,EAAVqgC,MAdc,EAeUn5C,mBAAS,IAfnB,mBAerB24C,EAfqB,KAeRU,EAfQ,OAgBQr5C,mBAAS,CAC3C4G,KAAM,GACNnI,KAAM,KAlBoB,mBAgBrB66C,EAhBqB,KAgBTC,EAhBS,OAqBAv5C,mBAAS,IArBT,mBAqBrB83C,EArBqB,KAqBb0B,EArBa,OAsBYx5C,mBAAS,CAC/C4G,KAAM,GACNnI,KAAM,GACNuG,YAAa,KAzBa,mBAsBrBy0C,EAtBqB,KAsBP5B,EAtBO,KA2B5B52C,qBAAU,WACR2O,EAAS+nC,GAAgBL,iBAAiB,CAAEjU,OAAM8V,aACjD,CAAC9V,IACJpiC,qBAAU,cAAU,CAAC83C,IAErB93C,qBAAU,WACJg4C,IACFI,EAAe,kBACfrxB,OAAO0xB,EAAE,6BAA6BC,MAAM,SAE1CT,IACFG,EAAe,mBACfrxB,OAAO0xB,EAAE,6BAA6BC,MAAM,QAC5C/pC,EAAS+nC,GAAgBL,iBAAiB,CAAEjU,OAAM8V,YAEpDvpC,EAAS,CACP1L,KAAMgzC,GACN/wC,SAAS,IAEXyJ,EAAS,CACP1L,KAAMgzC,GACN/wC,SAAS,MAEV,CAAC8yC,EAASC,IACb,IA4CMpmC,EACJ,kBAAC,KAAD,KACE,kBAAC,KAAK/O,KAAN,KACE,uBACE61C,cAAY,eACZr2C,MAAM,WACNc,QArCgB,WACtB2jB,OAAO0xB,EAAE,gBAAgBC,MAAM,QAC/BH,EAAU,SAgCN,0BAQF,kBAAC,KAAKz1C,KAAN,KACE,uBACE61C,cAAY,eACZr2C,MAAM,aACNc,QA1CgB,WACtB2jB,OAAO0xB,EAAE,gBAAgBC,MAAM,UAsC3B,iBAUN,OACE,yBAAK90C,GAAG,kBACN,yBAAKQ,UAAU,MAAMlB,MAAO,CAAEmT,WAAY,KACxC,6EAEF,yBAAKjS,UAAU,YACb,yBAAKlB,MAAO,CAAEmT,WAAY,QACxB,kBAAC,KAAD,CAAUuiC,QAAS/mC,EAAMxP,UAAU,aAAaw2C,OAAK,GACnD,kBAAC,IAAD,CACE51C,KAAK,SACLmB,UAAU,kBACVlB,MAAO,CAAE83B,aAAc,EAAG12B,MAAO,MAAOkQ,OAAQ,KAHlD,sBASJ,yBAAKpQ,UAAU,cAAclB,MAAO,CAAEsL,OAAQ,SAC5C,yBAAKpK,UAAU,aAAalB,MAAO,CAAE8K,YAAa,SAChD,2BAAO5J,UAAU,sBAAsBlB,MAAO,CAAEsL,OAAQ,SACtD,mDAEF,2BACEvL,KAAK,OACLmB,UAAU,eACV5G,KAAK,OACLC,MAAO46C,EAAW1yC,KAClBsG,SAAU,SAACkC,GACTA,EAAE2qC,UACFR,GAAc,SAACS,GAAD,mBAAC,eACVA,GADS,IAEZpzC,KAAMwI,EAAEC,OAAO3Q,YAGnByQ,YAAY,sBACZsrB,aAAa,SAGjB,yBAAKp1B,UAAU,cACb,2BAAOA,UAAU,sBAAsBlB,MAAO,CAAEsL,OAAQ,SACtD,oDAEF,2BACEvL,KAAK,OACLmB,UAAU,eACV5G,KAAK,OACLC,MAAO46C,EAAW76C,KAClByO,SAAU,SAACkC,GACTA,EAAE2qC,UACFR,GAAc,SAACS,GAAD,mBAAC,eACVA,GADS,IAEZv7C,KAAM2Q,EAAEC,OAAO3Q,YAGnByQ,YAAY,uBACZsrB,aAAa,SAGjB,yBAAKp1B,UAAU,cACb,4BACEnB,KAAK,SACLmB,UAAU,kBACV9B,MAAM,mBACNc,QA5Ge,WACzBuL,EACE+nC,GAAgBL,iBAAhB,2BACKgC,GADL,IAEEjW,KAAMA,EACN8V,MAAOA,QAmGH,sBAUJ,2BAAO9zC,UAAU,uBACf,+BACE,4BACE,mCACA,mDACA,oDACA,6CACA,wDAGJ,iCACK0zC,GACDA,EAAa12C,OAAS,GACtB02C,EAAallC,KAAI,SAAC1S,EAAMV,GAAP,OACf,wBAAIuB,IAAKvB,GACP,4BAAKA,EAAQ,GACb,4BAAKU,EAAKyF,MACV,4BAAKzF,EAAK1C,MACV,4BAAK0C,EAAK6D,aACV,4BACE,uBACEK,UAAU,aACVhB,QAAS,kBA/HN,SAAClD,GACtB02C,EAAgB12C,GAChBq4C,EAAU,QACVxxB,OAAO0xB,EAAE,gBAAgBC,MAAM,QA4HEM,CAAe94C,KAE9B,uBAAGkE,UAAU,kBAAb,eAEF,uBACEA,UAAU,cACVhB,QAAS,kBAhIP,SAAClD,GACrB02C,EAAgB12C,GAChBq4C,EAAU,QACVxxB,OAAO0xB,EAAE,gBAAgBC,MAAM,QA6HEO,CAAc/4C,KAE7B,uBAAGkE,UAAU,kBAAb,SAEF,uBACEA,UAAU,WACVhB,QAAS,kBAjIL,SAAClD,GACvB02C,EAAgB12C,GAChB6mB,OAAO0xB,EAAE,UAAUC,MAAM,QA+HQQ,CAAgBh5C,KAE/B,uBAAGkE,UAAU,kBAAb,kBAKP0zC,GAAwC,IAAxBA,EAAa12C,QAC9B,kEAIN,kBAAC+3C,GAAA,EAAD,CACEt3C,MAAOk2C,EACP3V,KAAMA,EACNn2B,SAxLmB,SAAC62B,EAAOrlC,GACjC06C,EAAc,2BACTtgC,GADQ,IAEXuqB,KAAM3kC,SAyLN,kBAAC,GAAD,CACEA,MAAO+6C,EACPxtC,aAxLe,SAAC83B,GACpBA,EAAMgW,UACNlC,GAAgB,SAACwC,GAAD,mBAAC,eACZA,GADW,mBAEbtW,EAAM10B,OAAO5Q,KAAOslC,EAAM10B,OAAO3Q,YAqLhCm5C,gBAAiBA,EACjBoB,QAASA,EACTL,SAAUA,EACVd,OAAQA,IAIV,kBAACW,GAAD,MAEA,kBAAC,GAAD,CAAQ/5C,MAAO+6C,EAAc5B,gBAAiBA,IAC9C,kBAAC,GAAD,CAAqBc,YAAaA,EAAaC,SAAUA,M,oBCrQ/D,SAASP,KAAa,MAEIjrC,IAAMpN,SAAS,IAFnB,mBAEPs4C,GAFO,WAUpB,OACE,yBACEjzC,UAAU,aACVR,GAAG,cACHkzC,SAAS,KACTxvC,KAAK,SACLyvC,kBAAgB,wBAChBC,cAAY,QAEZ,yBAAK5yC,UAAU,wBAAwBkD,KAAK,YAC1C,yBAAKlD,UAAU,iBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,cAAcR,GAAG,yBAA/B,iEAGA,4BACEX,KAAK,SACLmB,UAAU,QACV6yC,eAAa,QACbC,aAAW,SAEX,0BAAMF,cAAY,QAAlB,UAGJ,yBAAK5yC,UAAU,cACb,yBAAKR,GAAG,cACN,2BAAOX,KAAK,OAAOgJ,SA/B/B,SAAsB62B,GACpBuU,EAAQvU,EAAM10B,OAAOkpC,MAAM,SAiCrB,yBAAKlzC,UAAU,gBACb,4BACEnB,KAAK,SACLmB,UAAU,oBACV6yC,eAAa,SAHf,gBAOA,4BACEh0C,KAAK,SACLmB,UAAU,kBACV6yC,eAAa,QACb7zC,QAAS,kBAAMm0C,MAAM,uCAJvB,gBAcG,SAASC,KACtB,OAAO,kBAAC,GAAD,MChEF,IAAM6B,GACW,uBADXA,GAEW,uBAFXA,GAGW,uBAHXA,GAKuB,mCALvBA,GAMuB,mCANvBA,GAOuB,mCAPvBA,GASe,2BATfA,GAUe,2BAVfA,GAWe,2BAXfA,GAaa,yBAbbA,GAca,yBAdbA,GAea,yBAfbA,GAiBe,2BAjBfA,GAkBe,2BAlBfA,GAmBe,2BAnBfA,GAqBW,uBArBXA,GAsBK,iBAtBLA,GAuBK,iBCrBLC,GAA0B,CACrCC,uBAOF,SAAgC33C,GAC9B,OAAOs0C,GAAY,CACjBx0C,IAAK,gEACLD,OAAQ,MACRG,YATF43C,sBAaF,SAA+Bt3C,GAC7B,OAAOg0C,GAAY,CACjBx0C,IAAI,gEACJD,OAAQ,OACRS,UAhBFu3C,oBAoBF,SAA6B71C,EAAI1B,GAC/B,OAAOg0C,GAAY,CACjBx0C,IAAI,iEAAD,OAAmEkC,GACtEnC,OAAQ,QACRS,UAvBFw3C,2BA2BF,SAAoCjD,GAClC,OAAOP,GAAY,CACjBx0C,IAAI,8FACJD,OAAQ,OACRS,KAAM,CAAEu0C,eCnCL,IAAMkD,GAAyB,CACpCJ,uBAOF,SAAgCr3C,GAC9B,YAAaikB,IAATjkB,EACK,SAACyM,GACNA,EAAS,CACP1L,KAAMo2C,KAERC,GAAwBC,yBACrBx3C,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS0C,EAAI1F,KAAKpB,aAGrBqB,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMo2C,GACNj3C,MAAO4jB,QAKR,SAACrX,GACNA,EAAS,CACP1L,KAAMo2C,KAERC,GAAwBC,uBAAuBr3C,GAC5CH,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS0C,EAAI1F,KAAKpB,aAGrBqB,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMo2C,GACNj3C,MAAO4jB,SAxCjBwzB,sBA+CF,SAA+Bt3C,GAC7B,OAAO,SAACyM,GACNA,EAAS,CACP1L,KAAMo2C,KAERC,GAAwBE,sBAAsBt3C,GAC3CH,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS0C,EAAI1F,KAAKpB,UAEpB6N,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,IAEXyJ,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS,8EAGZ/C,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMo2C,GACNj3C,MAAO4jB,IAETrX,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,IAEXyJ,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS,kFA7EjBu0C,oBAmFF,SAA6B71C,EAAI1B,GAC/B,OAAO,SAACyM,GACNA,EAAS,CACP1L,KAAMo2C,KAERC,GAAwBG,oBAAoB71C,EAAI1B,GAC7CH,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS0C,EAAI1F,KAAKpB,UAEpB6N,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,IAEXyJ,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS,yFAGZ/C,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMo2C,GACNj3C,MAAO4jB,IAETrX,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,IAEXyJ,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS,6FAjHjBw0C,2BAuHF,SAAoCjD,GAClC,OAAO,SAAC9nC,GACNA,EAAS,CACP1L,KAAMo2C,KAERC,GAAwBI,2BAA2BjD,GAChD10C,MAAK,SAAC6F,GACL+G,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS0C,EAAI1F,KAAKpB,UAEpB6N,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,IAEXyJ,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS,6EAGZ/C,OAAM,SAAC6jB,GACNrX,EAAS,CACP1L,KAAMo2C,GACNj3C,MAAO4jB,IAETrX,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,IAEXyJ,EAAS,CACP1L,KAAMo2C,GACNn0C,QAAS,iFClHJiyC,OAzCf,YAA4B,IAAV15C,EAAS,EAATA,MACVkR,EAAWC,wBAIjB,OACE,yBACExK,UAAU,aACVR,GAAG,QACHkzC,SAAS,KACTxvC,KAAK,SACLyvC,kBAAgB,wBAChBC,cAAY,QAEZ,yBAAK5yC,UAAU,eAAekD,KAAK,YACjC,yBAAKlD,UAAU,iBACb,yBAAKA,UAAU,cACb,0EAEF,yBAAKA,UAAU,gBACb,4BACEnB,KAAK,SACLmB,UAAU,oBACV6yC,eAAa,SAHf,YAOA,4BACEh0C,KAAK,SACLmB,UAAU,kBACV6yC,eAAa,QACb7zC,QAAS,WA5BnBuL,EAASgrC,GAAuBD,2BAA2B,CAACj8C,EAAM6F,SAwB1D,cCeGm0C,OA3Cf,YAAkE,IAAnCC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,SAAU94C,EAAW,EAAXA,QAQpD,OACE,yBACEuF,UAAU,aACVR,GAAG,2BACHkzC,SAAS,KACTxvC,KAAK,SACLyvC,kBAAgB,wBAChBC,cAAY,QAEZ,yBAAK5yC,UAAU,mBAAmBkD,KAAK,YACrC,yBAAKlD,UAAU,iBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,cAAcR,GAAG,yBAC5B+zC,GAEH,4BACE10C,KAAK,SACLmB,UAAU,QACV6yC,eAAa,QACbC,aAAW,SAEX,0BAAMF,cAAY,QAAlB,UAIJ,yBAAK5yC,UAAU,uCACb,4BAAQnB,KAAK,SAASmB,UAAWszC,EAAaT,eAAa,QAAQ7zC,QAjCxD,WACfvE,GACFA,EAAQgF,KAAK,CACXwL,SAAS,mCA8BL,WCmQGuqC,iCA3Rf,SAAuBruC,GAAQ,IACrB1M,EAAY0M,EAAZ1M,QACF8P,EAAWC,wBACXwN,EAAmBvN,uBAAY,SAAC5J,GAAD,OAAWA,EAAMmX,oBAEpD07B,EAKE17B,EALF07B,aACAC,EAIE37B,EAJF27B,WACA8B,EAGEz9B,EAHFy9B,gBACAC,EAEE19B,EAFF09B,gBACAC,EACE39B,EADF29B,eAT0B,EAWQh7C,mBAAS,CAC3CqjC,KAAM,EACN8V,MAAO,IAbmB,mBAWrBrgC,EAXqB,KAWTsgC,EAXS,KAepB/V,EAAgBvqB,EAAhBuqB,KAAM8V,EAAUrgC,EAAVqgC,MAfc,EAgBUn5C,mBAAS,IAhBnB,mBAgBrB24C,EAhBqB,KAgBRU,EAhBQ,OAiBIr5C,mBAAS,IAjBb,mBAiBrB0/B,EAjBqB,KAiBXub,EAjBW,OAkBoBj7C,mBAAS,IAlB7B,mBAkBrBk7C,EAlBqB,KAkBHC,EAlBG,OAmBQn7C,mBAAS,CAC3C4G,KAAM,GACNnI,KAAM,GACN+J,OAAQ,KAtBkB,mBAmBrB8wC,EAnBqB,KAmBTC,EAnBS,KAyB5Bt4C,qBAAU,WACR2O,EAASgrC,GAAuBJ,uBAAuB,CAAEnX,OAAM8V,aAC9D,CAAC9V,IACJpiC,qBAAU,WACR,IAAI20C,EAAM,GACVlW,EAAS7rB,KAAI,SAAC1S,GAAD,OAAUy0C,EAAI9wC,KAAK3D,EAAKzC,UACrC66C,GAAc,SAACS,GAAD,mBAAC,eACVA,GADS,IAEZxxC,OAAQotC,SAET,CAAClW,IACJz+B,qBAAU,WACJ85C,IACF1B,EAAe,kBACfrxB,OAAO0xB,EAAE,6BAA6BC,MAAM,SAE1CmB,IACFzB,EAAe,mBACfrxB,OAAO0xB,EAAE,6BAA6BC,MAAM,QAC5C/pC,EAASgrC,GAAuBJ,uBAAuB,CAAEnX,OAAM8V,YAEjEvpC,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,IAEXyJ,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,MAEV,CAAC20C,EAAiBC,IAErB,IAsCMjoC,EACJ,kBAAC,KAAD,KACE,kBAAC,KAAK/O,KAAN,KACE,uBACE61C,cAAY,eACZr2C,MAAM,WACNc,QAAS,WA5BfvE,EAAQgF,KAAK,CACXwL,SAAS,0CAwBP,0BAQF,kBAAC,KAAKvM,KAAN,KACE,uBACE61C,cAAY,eACZr2C,MAAM,aACNc,QAAS,WAtBf2jB,OAAO0xB,EAAE,gBAAgBC,MAAM,UAmB3B,iBAWN,OACE,yBAAK90C,GAAG,kBACN,yBAAKQ,UAAU,MAAMlB,MAAO,CAAEmT,WAAY,KACxC,6FAEF,yBAAKjS,UAAU,YACb,yBAAKlB,MAAO,CAAEmT,WAAY,QACxB,kBAAC,KAAD,CAAUuiC,QAAS/mC,EAAMxP,UAAU,aAAaw2C,OAAK,GACnD,kBAAC,IAAD,CACE51C,KAAK,SACLmB,UAAU,kBACVlB,MAAO,CAAE83B,aAAc,EAAG12B,MAAO,MAAOkQ,OAAQ,KAHlD,sBASJ,yBAAKpQ,UAAU,cAAclB,MAAO,CAAEsL,OAAQ,SAC5C,yBAAKpK,UAAU,aAAalB,MAAO,CAAE8K,YAAa,SAChD,2BAAO5J,UAAU,sBAAsBlB,MAAO,CAAEsL,OAAQ,SACtD,mEAEF,2BACEvL,KAAK,OACLmB,UAAU,eACV5G,KAAK,OACLC,MAAO46C,EAAW1yC,KAClBsG,SAAU,SAACkC,GACTA,EAAE2qC,UACFR,GAAc,SAACS,GAAD,mBAAC,eACVA,GADS,IAEZpzC,KAAMwI,EAAEC,OAAO3Q,YAGnByQ,YAAY,sCACZsrB,aAAa,SAGjB,yBAAKp1B,UAAU,cACb,2BAAOA,UAAU,sBAAsBlB,MAAO,CAAEsL,OAAQ,SACtD,oEAEF,2BACEvL,KAAK,OACLmB,UAAU,eACV5G,KAAK,OACLC,MAAO46C,EAAW76C,KAClByO,SAAU,SAACkC,GACTA,EAAE2qC,UACFR,GAAc,SAACS,GAAD,mBAAC,eACVA,GADS,IAEZv7C,KAAM2Q,EAAEC,OAAO3Q,YAGnByQ,YAAY,uCACZsrB,aAAa,UAInB,yBAAKp1B,UAAU,cAAclB,MAAO,CAAEsL,OAAQ,SAC5C,yBAAKpK,UAAU,aAAalB,MAAO,CAAE8K,YAAa,SAChD,2BAAO5J,UAAU,sBAAsBlB,MAAO,CAAEsL,OAAQ,SACtD,kDAEF,kBAAC,KAAD,CACE5K,GAAE,sBACFV,MAAO,CAAEoB,MAAO,QAChBgjB,QAAS,CACP,CAAEnH,MAAO,2BAAe1iB,MAAO,KAC/B,CAAE0iB,MAAO,uBAAW1iB,MAAO,KAC3B,CAAE0iB,MAAO,mDAAsB1iB,MAAO,MAExCA,MAAOghC,EACPxyB,SAAU+tC,KAGd,yBAAK51C,UAAU,cACb,4BACEnB,KAAK,SACLmB,UAAU,kBACV9B,MAAM,mBACNc,QA9Ie,WACzBuL,EACEgrC,GAAuBJ,uBAAvB,2BACKlB,GADL,IAEEjW,KAAMA,EACN8V,MAAOA,QAqIH,sBAUJ,2BAAO9zC,UAAU,uBACf,+BACE,4BACE,mCACA,mEACA,oEACA,kDACA,6CACA,wDACA,uDACA,wDAGJ,iCACK0zC,GACDA,EAAa12C,OAAS,GACtB02C,EAAallC,KAAI,SAAC1S,EAAMV,GAAP,OACf,wBAAIuB,IAAKvB,GACP,4BAAKA,EAAQ,GACb,4BAAKU,EAAKyF,MACV,4BAAKzF,EAAK1C,MACV,wBAAI0F,MAAO,CAAEiB,MAAO,UACD,IAAhBjE,EAAKqH,OAAe,2BAAgB,oDAEvC,4BAAKrH,EAAK6D,aACV,4BACK7D,EAAK23C,SAAW33C,EAAK23C,SAASr6C,KAAO,mCAE1C,4BACK0C,EAAKi6C,cACJj6C,EAAKi6C,cAAc38C,KACnB,mCAEN,4BACE,uBACE4G,UAAU,aACVhB,QAAS,kBA/JD,SAAClD,GAC3BrB,EAAQgF,KAAK,CACXwL,SAAS,qCAAD,OAAuCnP,EAAKoD,OA6JrB82C,CAAoBl6C,KAEnC,uBAAGkE,UAAU,kBAAb,eAEF,uBACEA,UAAU,cACVhB,QAAS,kBA1KD,SAAClD,GAC3BrB,EAAQgF,KAAK,CACXwL,SAAS,qCAAD,OAAuCnP,EAAKoD,OAwKrB+2C,CAAoBn6C,KAEnC,uBAAGkE,UAAU,kBAAb,SAEF,uBACEA,UAAU,WACVhB,QAAS,kBAlKC,SAAClD,GAC7Bg6C,EAAoBh6C,GACpB6mB,OAAO0xB,EAAE,UAAUC,MAAM,QAgKQ4B,CAAsBp6C,KAErC,uBAAGkE,UAAU,kBAAb,kBAKP0zC,GAAwC,IAAxBA,EAAa12C,QAC9B,kEAIN,kBAAC+3C,GAAA,EAAD,CACEt3C,MAAOk2C,EACP3V,KAAMA,EACNn2B,SA1MmB,SAAC62B,EAAOrlC,GACjC06C,EAAc,2BACTtgC,GADQ,IAEXuqB,KAAM3kC,QAsDN,KAsJA,kBAAC,GAAD,MAEA,kBAAC,GAAD,CAAQA,MAAOw8C,IACf,kBAAC,GAAD,CACEvC,YAAaA,EACbC,SAAUoC,QCrRZr7C,GAAQC,EAAQ,IACdiX,GAAWC,KAAXD,OAiQOsO,GADIC,wBAAaC,0BA9PpB,SAAC,GAON,IANLE,EAMI,EANJA,sBACAC,EAKI,EALJA,kBACAsyB,EAII,EAJJA,OACAruB,EAGI,EAHJA,gBACA+xB,EAEI,EAFJA,mBACAC,EACI,EADJA,aACI,EACwDz7C,mBAAS,MADjE,mBACGylB,EADH,KAC2BC,EAD3B,OAEgD1lB,mBAAS,MAFzD,mBAEG2lB,EAFH,KAEuBC,EAFvB,OAGoD5lB,mBAAS,MAH7D,mBAGG6lB,EAHH,KAGyBC,EAHzB,OAIsD9lB,mBAAS,IAJ/D,mBAIG+lB,EAJH,KAI0BC,EAJ1B,OAKsChmB,mBAAS,MAL/C,mBAKGimB,EALH,KAKkBC,EALlB,OAMkClmB,mBAAS,IAN3C,mBAMGmmB,EANH,KAMeC,EANf,OAO0CpmB,mBAAS,MAPnD,mBAOG07C,EAPH,KAOoBC,EAPpB,OAQoC37C,mBAAS,CAC/CqmB,IAAK,UACLC,IAAK,aAVH,mBAQGC,EARH,KAQiBC,EARjB,KAaJvlB,qBAAU,WACRwlB,IACe,WAAXqxB,IACFtxB,EAAgB,CACdH,IAAKM,WAAW8C,EAAgBpD,KAChCC,IAAKK,WAAW8C,EAAgBnD,OAElCN,EAAyByD,EAAgBrM,kBAE1C,IAEH,IAAMqJ,EAAgB,yCAAG,uBAAAta,EAAA,sEACjBxM,GAAM,CACV+C,OAAQ,MACRC,IAAI,4DAEHK,MAAK,SAAC6F,GACL,GAAIA,EAAI1F,OACNyiB,EAAsB/c,EAAI1F,KAAKpB,QAAQ2kB,MACvChB,EAA0B7c,EAAI1F,KAAKpB,QAAQ2kB,MAGvC7d,EAAI1F,KAAKpB,QAAQ2kB,MAAmB,WAAXoxB,GAC3BtxB,EAAgB,CACdH,IAAKM,WAAW9d,EAAI1F,KAAKpB,QAAQ2kB,KAAK,GAAGE,WAAWC,UACpDP,IAAKK,WAAW9d,EAAI1F,KAAKpB,QAAQ2kB,KAAK,GAAGE,WAAWE,aAIpDtB,GAAmB,CACrB,IAAIkB,EAAO7d,EAAI1F,KAAKpB,QAAQ2kB,KAAKK,MAC/B,SAACvY,GAAD,OAAaA,EAAQjK,KAAOihB,KAE1BkB,IACFR,EAAiB,CACfG,KAAMK,EAAKE,WAAWC,SAAWH,EAAKM,SAASH,UAAY,EAC3DP,KAAMI,EAAKE,WAAWE,UAAYJ,EAAKM,SAASF,WAAa,IAE/DhB,EAAwBY,IAE1BV,EAAyBR,OAI9BpiB,OAAM,SAAC6jB,GACN3lB,QAAQC,IAAI0lB,MAlCO,2CAAH,qDAuEhBC,EAA4B,SAAC9J,EAAehO,GAEhD,GADAA,EAAE+X,iBACE/J,EAAe,CACjBmI,EAAsBnI,EAAc7Y,KACpC6hB,EAAgBhJ,EAAcxW,KAAO,MAAQwW,EAAc3e,MAC3D,IAAIm3C,EAAM,CAACx4B,EAAc7Y,KACzByhB,EAAyB4vB,QAEzBrwB,OAAsB6B,GACtBhB,EAAgB,IAChBJ,EAAyB,KAG7B,OACE,kBAAC,aAAD,CACEqB,YAAwB,WAAXywB,EAAsB,GAAK,GACxCxwB,cACa,WAAXwwB,EACI,CACEzxB,IAAKM,WAAW8C,EAAgBpD,KAChCC,IAAKK,WAAW8C,EAAgBnD,MAElCC,GAGN,kBAAC,GAAD,CACEpX,YAAY,4CACZjC,SA5DiB,SAACkC,GACtBgX,EAAgBhX,EAAEC,OAAO3Q,QA4DrB6oB,SAzDe,SAAC7oB,GACpB,IAAIyE,EAAOsiB,EAAuBrd,QAAO,SAACoG,GACxC,IAAIgZ,EAAchZ,EAAQ/P,KACtBgpB,EAAY/oB,EAChB,GAAI8oB,EAAYE,SAASD,GACvB,OAAOjZ,KAGXoX,EAAsBziB,IAkDlBwkB,aAAW,EACXxjB,MAAO,CAAEyjB,SAAU,WAAYC,IAAK,OAAQC,KAAM,OAAQviB,MAAO,KACjE7G,MAAOynB,IAERR,GACCA,EAAmB9R,KAAI,SAAC6S,EAAMjmB,GAAP,OACrB,kBAAC,aAAD,CACEuB,IAAKvB,EACLsnB,cACE,IAAIC,OAAOC,OAAOC,KAAKC,aACrB,IAAIH,OAAOC,OAAOC,KAAKE,OACrB1B,EAAKE,WAAWC,SAChBH,EAAKE,WAAWE,WAElB,IAAIkB,OAAOC,OAAOC,KAAKE,OACrB1B,EAAKM,SAASH,SACdH,EAAKM,SAASF,YAIpBziB,QAAS,SAAC+K,GAAD,MACI,SAAX0oC,EAAoB,KApEE,SAACpxB,EAAMtX,GACvC8W,EAAiB,CAAEG,IAAKjX,EAAEiZ,OAAOhC,MAAOC,IAAKlX,EAAEiZ,OAAO/B,QACtDm1B,EAAa/0B,GACTX,GAAyBA,EAAsB6S,QAAQlS,EAAKniB,MAAQ,EACtEi3C,GAAmB,SAACxB,GAAD,mBAAC,eACfA,GADc,IAEjB3zB,IAAKjX,EAAEiZ,OAAOhC,MACdC,IAAKlX,EAAEiZ,OAAO/B,WAGhBR,EAAwBY,GA0DW4B,CAA0B5B,EAAMtX,IAE7DmZ,QACExC,GACAA,EAAsB6S,QAAQlS,EAAKniB,MAAQ,EACvC,CACEikB,YAAa,UACbC,UAAW,UACXC,cAAe,MACfC,aAAc,KAEhB,CACEH,YAAa,UACbC,UAAW,UACXC,cAAe,MACfC,aAAc,UAK3Bc,GACC,kBAAC,UAAD,CACEhrB,KAAK,QACLmpB,SAAU,CACRvB,IAAKM,WAAW8C,EAAgBpD,KAChCC,IAAKK,WAAW8C,EAAgBnD,MAElCjiB,QAAS,WACPs3C,EAAmB,CACjBt1B,IAAKM,WAAW8C,EAAgBpD,KAChCC,IAAKK,WAAW8C,EAAgBnD,UAKvCo1B,GACC,kBAAC,cAAD,CACE9zB,SAAU,CACRvB,IAAKq1B,EAAgBr1B,IACrBC,IAAKo1B,EAAgBp1B,KAEvBsC,aAAc,kBAAM+yB,EAAmB,QAEvC,2BAAIlyB,EAAgBhrB,OAIvBonB,GACC,kBAAC,cAAD,CACE+B,SAAU,CACRvB,IAAKJ,EAAcI,IACnBC,IAAKL,EAAcK,KAErBsC,aAAc,WA1GpB9C,EAAwB,QA8GlB,6BACE,4BAAKD,EAAqBpnB,MAC1B,qDAAmBonB,EAAqBjf,MACxC,mEAEE,0BAAMzC,MAAO,CAAEiB,MAAO,QACnBygB,EAAqBgD,WAH1B,IAME,0BAAM1kB,MAAO,CAAEiB,MAAO,QACnBygB,EAAqBiD,WAP1B,OAWA,yBACE3kB,MAAO,CACL2I,UAAW,OACXvH,MAAO,OACP+L,QAAS,OACTC,eAAgB,WAGjBwU,EAAsB6S,QAAQ/S,EAAqBthB,MAAQ,EAC1D,4BAAQF,QAAS,SAAC+K,GAAD,OAAO8X,EAA0B,GAAI9X,KACpD,kBAAC2Z,GAAA,EAAD,MADF,UAEE,sEAGF,4BACE1kB,QAAS,SAAC+K,GAAD,OACP8X,EAA0BrB,EAAsBzW,KAGlD,kBAAC2Z,GAAA,EAAD,MALF,UAME,sECxPZppB,GAAQC,EAAQ,IA8YPg8C,OA5Yf,YAA2C,IAAZ97C,EAAW,EAAXA,QAAW,EACnB6rB,cAAXmsB,GAD8B,EAClCjzC,GADkC,EAC9BizC,QACJloC,EAAWC,wBACXipC,EAAWhpC,uBAAY,SAAC5J,GAAD,OAAWA,EAAM4yC,YACxCz7B,EAAmBvN,uBAAY,SAAC5J,GAAD,OAAWA,EAAMmX,oBAC9Cy9B,EAAqDz9B,EAArDy9B,gBAAiBC,EAAoC19B,EAApC09B,gBAAiBC,EAAmB39B,EAAnB29B,eALF,EAMMh7C,mBAAS,CACrD4G,KAAM,GACNnI,KAAM,GACN+J,OAAQ,EACRxD,YAAa,GACb62C,eAAgB,KAChB/C,SAAU,KACVsC,cAAe,KACfU,OAAQ,GACRz1B,IAAK,GACLC,IAAK,GACL7Q,OAAQ,GACRoN,OAAQ,KACR0V,OAAQ,KACRC,OAAQ,KACRpb,cAAe,GACflZ,KAAM,KAtBgC,mBAMjCulB,EANiC,KAMhB+xB,EANgB,OAwBFx7C,mBAAS,IAxBP,mBAwBjC24C,EAxBiC,KAwBpBU,EAxBoB,OAyBgBr5C,mBAAS,MAzBzB,mBAyBjC6lB,EAzBiC,KAyBXC,EAzBW,OA0BF9lB,mBAAS,IA1BP,mBA0BjC+7C,EA1BiC,KA0BpBC,EA1BoB,KA4BlCC,EAAU,yCAAG,uBAAA9vC,EAAA,sEACXxM,GAAM,CACV+C,OAAQ,MACRC,IAAI,mEAEHK,MAAK,SAAC6F,GACDA,EAAI1F,MACN64C,EAAenzC,EAAI1F,KAAKpB,QAAQ2kB,SAGnCtjB,OAAM,SAAC6jB,GACN3lB,QAAQC,IAAI0lB,MAXC,2CAAH,qDAchBhmB,qBAAU,WACR2O,EAAS+nC,GAAgBL,oBACzB1nC,EAASgrC,GAAuBJ,0BAChCyB,MACC,IACHh7C,qBAAU,WACJ85C,IACF1B,EAAe,kBACfrxB,OAAO0xB,EAAE,6BAA6BC,MAAM,SAE1CmB,IACFzB,EAAe,mBACfrxB,OAAO0xB,EAAE,6BAA6BC,MAAM,SAE9C/pC,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,IAEXyJ,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,MAEV,CAAC20C,EAAiBC,IACrB,IAAM9uC,EAAe,SAAC83B,GACpBA,EAAMgW,UACNyB,GAAmB,SAACnB,GAAD,mBAAC,eACfA,GADc,mBAEhBtW,EAAM10B,OAAO5Q,KAAOslC,EAAM10B,OAAO3Q,YAoDtC,OACE,6BACE,yBAAK2G,UAAU,qBACb,wBAAIA,UAAU,cAAcR,GAAG,yBAA/B,kEAIF,yBAAKQ,UAAU,6CACb,yBAAKA,UAAU,SACb,8BACE,yBAAKA,UAAU,kBACb,2BACE6J,QAAQ,kBACR7J,UAAU,2BAFZ,uCAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACVR,GAAG,kBACHsK,YAAY,sCACZ1Q,KAAK,OACLC,MAAO+qB,EAAgB7iB,KACvBsG,SAAUjB,MAIhB,yBAAK5G,UAAU,kBACb,2BACE6J,QAAQ,gBACR7J,UAAU,2BAFZ,wCAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACVR,GAAG,gBACHsK,YAAY,uCACZ1Q,KAAK,OACLC,MAAO+qB,EAAgBhrB,KACvByO,SAAUjB,MAIhB,yBAAK5G,UAAU,kBACb,2BAAO6J,QAAQ,cAAc7J,UAAU,2BAAvC,2CAGA,yBAAKA,UAAU,aACb,4BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,gBACV5G,KAAK,OACLC,MAAO+qB,EAAgBvlB,MAAQ,GAC/BgJ,SAAUjB,GAEV,4BAAQyK,UAAQ,GAAhB,sDACA,4BAAQhY,MAAM,WAAd,6BACA,4BAAQA,MAAM,aAAd,qBACA,4BAAQA,MAAM,aAAd,iCACA,4BAAQA,MAAM,aAAd,sBACE+qB,EAAgBvlB,MAChB,4BAAQxF,MAAM,IAAd,sCAKR,yBAAK2G,UAAU,kBACb,2BAAO6J,QAAQ,cAAc7J,UAAU,2BAAvC,sBAGA,yBAAKA,UAAU,aACb,4BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,gBACV5G,KAAK,SACLC,MAAO+qB,EAAgBjhB,QAAU,OACjC0E,SAAUjB,GAEV,4BAAQyK,UAAQ,GAAhB,gCACA,4BAAQhY,MAAM,KAAd,4BACA,4BAAQA,MAAM,KAAd,wBACA,4BAAQA,MAAM,KAAd,uDAIN,yBAAK2G,UAAU,kBACb,2BACE6J,QAAQ,gBACR7J,UAAU,2BAFZ,iBAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACVR,GAAG,gBACHsK,YAAY,kDACZ1Q,KAAK,cACLC,MAAO+qB,EAAgBzkB,YACvBkI,SAAUjB,MAKhB,yBAAK5G,UAAU,kBACb,2BAAO6J,QAAQ,cAAc7J,UAAU,2BAAvC,iBAGA,yBAAKA,UAAU,aACb,4BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,gBACV5G,KAAK,WACLC,MAAO+qB,EAAgBqvB,UAAY,GACnC5rC,SAAUjB,GAEV,4BAAQyK,UAAQ,GAAhB,4BACE+S,EAAgBqvB,UAChB,4BAAQp6C,MAAM,IAAd,mCAEDo6C,GACCA,EAAS9nC,MACT8nC,EAAS9nC,KAAK6C,KAAI,SAAC1S,EAAMV,GAAP,OAChB,4BAAQ/B,MAAOyC,EAAKoD,IAAKvC,IAAKvB,GAC3BU,EAAK1C,YAMlB,yBAAK4G,UAAU,kBACb,2BAAO6J,QAAQ,cAAc7J,UAAU,2BAAvC,0CAGA,yBAAKA,UAAU,aACb,4BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,gBACV5G,KAAK,SACLC,MAAO+qB,EAAgBqyB,OACvB5uC,SAAUjB,GAEV,4BAAQyK,UAAQ,GAAhB,4CACE+S,EAAgBqyB,QAChB,4BAAQp9C,MAAM,IAAd,mCAED+qB,GACCpM,EAAiBrM,MACjBqM,EAAiBrM,KAAK6C,KAAI,SAAC1S,EAAMV,GAAP,OACxB,4BAAQ/B,MAAOyC,EAAKoD,IAAKvC,IAAKvB,GAC3BU,EAAK1C,eASxB,yBAAK4G,UAAU,iBACb,yBAAKA,UAAU,SACb,yBAAKA,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,yBACA,yBAAKA,UAAU,oBACVokB,EAAgBpD,KAASoD,EAAgBnD,IAC1C,uBAAGjhB,UAAU,wDAAb,sBACYokB,EAAgBnD,IAAI,6BADhC,yBAC6CmD,EAAgBpD,KAG7D,uBAAGhhB,UAAU,wDAAb,kCACkB,OAKxB,yBAAKA,UAAU,kBACb,2BACE6J,QAAQ,kBACR7J,UAAU,2BAFZ,4BAMA,yBAAKA,UAAU,aACb,4BACEqR,UAAQ,EACRrR,UAAU,gBACV5G,KAAK,gBACLC,MAAO+qB,EAAgBrM,cACvBlQ,SAAUjB,GAET8vC,GACCA,EAAYloC,KAAI,SAAC1S,EAAMV,GAAP,OACd,4BAAQ/B,MAAOyC,EAAKoD,IAAKvC,IAAKvB,GAC3BU,EAAK1C,YAMlB,yBAAK4G,UAAU,kBACb,2BACE6J,QAAQ,kBACR7J,UAAU,2BAFZ,gDAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACV8J,YAAY,+CACZ1Q,KAAK,SACLC,MAAO+qB,EAAgBhU,OACvBvI,SAAUjB,IAEX4Z,GACC,uBAAGxgB,UAAU,QAAb,uGACuD,IACpDwgB,EAAqBgD,UAFxB,KAEqC,IAClChD,EAAqBiD,cAMhC,yBAAKzjB,UAAU,SACb,kBAAC,GAAD,CACE+jB,aAAa,gIACbC,eAAgB,yBAAKllB,MAAO,CAAEsR,OAAO,UACrC6T,iBAAkB,yBAAKnlB,MAAO,CAAEsR,OAAO,UACvC8T,WAAY,yBAAKplB,MAAO,CAAEsR,OAAO,UACjC8P,sBApPoB,SAAC1gB,GAC7B22C,GAAmB,SAACxB,GAAD,mBAAC,eACfA,GADc,IAEjB58B,cAAevY,QAkPT42C,aAAc,SAAC/0B,GAAD,OAxPH,SAACA,GACpBZ,EAAwBY,GAuPQ+0B,CAAa/0B,IACrC+C,gBAAiBA,EACjB+xB,mBAAoBA,EACpB1D,OAAQA,MAId,yBAAKzyC,UAAU,qCACb,4BACEnB,KAAK,SACLmB,UAAU,yBACV6yC,eAAa,QACb7zC,QAAS,WACPvE,EAAQgF,KAAK,CACXwL,SAAS,mCANf,gBAYA,4BACEpM,KAAK,SACLmB,UAAU,kBACV6yC,eAAa,QACb7zC,QAvT4B,WAEhCwhB,IACC4D,EAAgBhU,OAASoQ,EAAqBgD,WAC7CY,EAAgBhU,OAASoQ,EAAqBiD,WAEhD0vB,MAAM,wGAAD,OACqD3yB,EAAqBgD,UAD1E,cACyFhD,EAAqBiD,aAIrHlZ,EACEgrC,GAAuBH,sBAAvB,2BACKhxB,GADL,IAEE2xB,cAAe,KACfS,eAAgB,KAChBtjB,OAAQ,KACRC,OAAQ,KACRhwB,OAAmC,KAA3BihB,EAAgBjhB,OAAgB,IAAMihB,EAAgBjhB,WAGlEgzC,EAAmB,CACjB50C,KAAM,GACNnI,KAAM,GACN+J,OAAQ,EACRxD,YAAa,GACb62C,eAAgB,KAChB/C,SAAU,GACVsC,cAAe,KACfU,OAAQ,GACRz1B,IAAK,GACLC,IAAK,GACL7Q,OAAQ,GACRoN,OAAQ,GACR0V,OAAQ,KACRC,OAAQ,UAgRN,yBASF,kBAAC,GAAD,CACE14B,QAASA,EACT64C,YAAaA,EACbC,SAAUoC,MCzYZr7C,GAAQC,EAAQ,IA4mBPg8C,OA1mBf,YAA2C,IAAZ97C,EAAW,EAAXA,QAAW,EACnB6rB,cAAf9mB,EADkC,EAClCA,GAAIizC,EAD8B,EAC9BA,OACJloC,EAAWC,wBACXipC,EAAWhpC,uBAAY,SAAC5J,GAAD,OAAWA,EAAM4yC,YACxCz7B,EAAmBvN,uBAAY,SAAC5J,GAAD,OAAWA,EAAMmX,oBAC9Cy9B,EAAqDz9B,EAArDy9B,gBAAiBC,EAAoC19B,EAApC09B,gBAAiBC,EAAmB39B,EAAnB29B,eALF,EAMMh7C,mBAAS,CACrD4G,KAAM,GACNnI,KAAM,GACNyF,KAAM,GACNsE,OAAQ,EACRxD,YAAa,GACb62C,eAAgB,KAChB/C,SAAU,KACVsC,cAAe,KACfU,OAAQ,GACRz1B,IAAK,GACLC,IAAK,GACL7Q,OAAQ,GACRoN,OAAQ,GACR0V,OAAQ,KACRC,OAAQ,KACRpb,cAAe,KAtBuB,mBAMjCqM,EANiC,KAMhB+xB,EANgB,OAwBFx7C,mBAAS,IAxBP,mBAwBjC24C,EAxBiC,KAwBpBU,EAxBoB,OAyBNr5C,mBAAS,IAzBH,mBAyBjCk8C,EAzBiC,KAyBtBC,EAzBsB,OA0BgBn8C,mBAAS,MA1BzB,mBA0BjC6lB,EA1BiC,KA0BXC,EA1BW,OA2BF9lB,mBAAS,IA3BP,mBA2BjC+7C,EA3BiC,KA2BpBC,EA3BoB,KA6BlCC,EAAU,yCAAG,uBAAA9vC,EAAA,sEACXxM,GAAM,CACV+C,OAAQ,MACRC,IAAI,mEAEHK,MAAK,SAAC6F,GACDA,EAAI1F,MACN64C,EAAenzC,EAAI1F,KAAKpB,QAAQ2kB,SAGnCtjB,OAAM,SAAC6jB,GACN3lB,QAAQC,IAAI0lB,MAXC,2CAAH,qDAcVm1B,EAAwB,yCAAG,uBAAAjwC,EAAA,0DAC3BtH,EAD2B,gCAEvBlF,GAAM,CACV+C,OAAQ,MACRC,IAAI,yFAAD,OAA2FkC,KAE7F7B,MAAK,SAAC6F,GACDA,EAAI1F,MACNq4C,EAAmB,CACjBj3C,IAAKsE,EAAI1F,KAAKpB,QAAQwC,IACtBqC,KAAMiC,EAAI1F,KAAKpB,QAAQ6E,KACvBnI,KAAMoK,EAAI1F,KAAKpB,QAAQtD,KACvByF,KAAM2E,EAAI1F,KAAKpB,QAAQmC,KACvBsE,OAAQK,EAAI1F,KAAKpB,QAAQyG,OACzBxD,YAAa6D,EAAI1F,KAAKpB,QAAQiD,YAC9B62C,eACEhzC,EAAI1F,KAAKpB,QAAQ85C,gBACjBhzC,EAAI1F,KAAKpB,QAAQ85C,eAAet3C,IAClCu0C,SACEjwC,EAAI1F,KAAKpB,QAAQ+2C,UAAYjwC,EAAI1F,KAAKpB,QAAQ+2C,SAASv0C,IACzDu3C,OAAQjzC,EAAI1F,KAAKpB,QAAQ+5C,QAAUjzC,EAAI1F,KAAKpB,QAAQ+5C,OAAOv3C,IAC3D8hB,IAAKxd,EAAI1F,KAAKpB,QAAQskB,IACtBC,IAAKzd,EAAI1F,KAAKpB,QAAQukB,IACtB7Q,OAAQ5M,EAAI1F,KAAKpB,QAAQ0T,OACzBoN,OAAQha,EAAI1F,KAAKpB,QAAQ8gB,OACzB0V,OAAQ1vB,EAAI1F,KAAKpB,QAAQw2B,OACzBC,OAAQ3vB,EAAI1F,KAAKpB,QAAQy2B,OACzBpb,cAAevU,EAAI1F,KAAKpB,QAAQqb,gBAGpCi/B,EAAkBxzC,EAAI1F,KAAKpB,QAAQqb,kBAEpCha,OAAM,SAAC6jB,GACN3lB,QAAQC,IAAI0lB,MAjCa,2CAAH,qDAqCxBq1B,EAAkB,yCAAG,uBAAAnwC,EAAA,0DACrBtH,EADqB,gCAEjBlF,GAAM,CACV+C,OAAQ,MACRC,IAAI,kEAAD,OAAoEkC,KAEtE7B,MAAK,SAAC6F,GACDA,EAAI1F,MAWNg5C,EAAa,CACX,0CACA,0CACA,+CAIL/4C,OAAM,SAAC6jB,GACN3lB,QAAQC,IAAI0lB,MA1BO,2CAAH,qDA8BlBs1B,EAAiB,yCAAG,uBAAApwC,EAAA,0DACpBtH,EADoB,gCAEhBlF,GAAM,CACV+C,OAAQ,MACRC,IAAI,kEAAD,OAAoEkC,KAEtE7B,MAAK,SAAC6F,GACDA,EAAI1F,MACNq4C,GAAmB,SAACxB,GAAD,mBAAC,eACfA,GADc,IAEjBxhB,OAAQ3vB,EAAI1F,KAAKwI,eAItBvI,OAAM,SAAC6jB,GACN3lB,QAAQC,IAAI0lB,MAfM,2CAAH,qDAmBjBo1B,EAAiB,yCAAG,WAAOl2C,GAAP,UAAAgG,EAAA,0DACpBhG,EADoB,gCAEhBxG,GAAM,CACV+C,OAAQ,MACRC,IAAI,oEAAD,OAAsEwD,KAExEnD,MAAK,SAAC6F,GACDA,EAAI1F,MACN2iB,EAAwBjd,EAAI1F,KAAKpB,QAAQ2kB,SAG5CtjB,OAAM,SAAC6jB,GACN3lB,QAAQC,IAAI0lB,MAZM,2CAAH,sDAgBvBhmB,qBAAU,WACR2O,EAAS+nC,GAAgBL,oBACzB1nC,EAASgrC,GAAuBJ,0BAChCyB,IACAG,IACAE,IACAC,MACC,IACHt7C,qBAAU,WACJ85C,IACF1B,EAAe,kBACfrxB,OAAO0xB,EAAE,6BAA6BC,MAAM,SAE1CmB,IACFzB,EAAe,mBACfrxB,OAAO0xB,EAAE,6BAA6BC,MAAM,SAE9C/pC,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,IAEXyJ,EAAS,CACP1L,KAAMo2C,GACNn0C,SAAS,MAEV,CAAC20C,EAAiBC,IACrB,IAAM9uC,EAAe,SAAC83B,GACpBA,EAAMgW,UACNyB,GAAmB,SAACnB,GAAD,mBAAC,eACfA,GADc,mBAEhBtW,EAAM10B,OAAO5Q,KAAOslC,EAAM10B,OAAO3Q,YAoEtC,OACE,6BACE,yBAAK2G,UAAU,qBACb,wBAAIA,UAAU,cAAcR,GAAG,yBACjB,SAAXizC,GAAqB,8EACV,SAAXA,GAAqB,kFAG1B,yBAAKzyC,UAAU,eACb,yBAAKA,UAAU,SACb,8BACE,yBAAKA,UAAU,kBACb,2BACE6J,QAAQ,kBACR7J,UAAU,2BAFZ,uCAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACVR,GAAG,kBACHsK,YAAY,sCACZ1Q,KAAK,OACLC,MAAO+qB,EAAgB7iB,KACvBsG,SAAUjB,MAIhB,yBAAK5G,UAAU,kBACb,2BACE6J,QAAQ,gBACR7J,UAAU,2BAFZ,wCAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACVR,GAAG,gBACHsK,YAAY,uCACZ1Q,KAAK,OACLC,MAAO+qB,EAAgBhrB,KACvByO,SAAUjB,MAIhB,yBAAK5G,UAAU,kBACb,2BAAO6J,QAAQ,cAAc7J,UAAU,2BAAvC,2CAGA,yBAAKA,UAAU,aACb,4BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,gBACV5G,KAAK,OACLC,MAAO+qB,EAAgBvlB,MAAQ,GAC/BgJ,SAAUjB,GAEV,4BAAQyK,UAAQ,GAAhB,sDACA,4BAAQhY,MAAM,WAAd,6BACA,4BAAQA,MAAM,aAAd,qBACA,4BAAQA,MAAM,aAAd,iCACA,4BAAQA,MAAM,aAAd,sBACE+qB,EAAgBvlB,MAChB,4BAAQxF,MAAM,IAAd,sCAKR,yBAAK2G,UAAU,kBACb,2BAAO6J,QAAQ,cAAc7J,UAAU,2BAAvC,sBAGA,yBAAKA,UAAU,aACb,4BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,gBACV5G,KAAK,SACLC,MAAO+qB,EAAgBjhB,QAAU,OACjC0E,SAAUjB,GAEV,4BAAQyK,UAAQ,GAAhB,gCACA,4BAAQhY,MAAM,KAAd,4BACA,4BAAQA,MAAM,KAAd,wBACA,4BAAQA,MAAM,KAAd,qDACE+qB,EAAgBjhB,QAChB,4BAAQ9J,MAAM,IAAd,sCAKR,yBAAK2G,UAAU,kBACb,2BACE6J,QAAQ,gBACR7J,UAAU,2BAFZ,iBAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACVR,GAAG,gBACHsK,YAAY,kDACZ1Q,KAAK,cACLC,MAAO+qB,EAAgBzkB,YACvBkI,SAAUjB,MAIhB,yBAAK5G,UAAU,kBACb,2BAAO6J,QAAQ,cAAc7J,UAAU,2BAAvC,iBAGA,yBAAKA,UAAU,aACb,4BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,gBACV5G,KAAK,WACLC,MAAO+qB,EAAgBqvB,UAAY,GACnC5rC,SAAUjB,GAEV,4BAAQyK,UAAQ,GAAhB,4BACE+S,EAAgBqvB,UAChB,4BAAQp6C,MAAM,IAAd,mCAEDo6C,GACCA,EAAS9nC,MACT8nC,EAAS9nC,KAAK6C,KAAI,SAAC1S,EAAMV,GAAP,OAChB,4BAAQ/B,MAAOyC,EAAKoD,IAAKvC,IAAKvB,GAC3BU,EAAK1C,YAMlB,yBAAK4G,UAAU,kBACb,2BAAO6J,QAAQ,cAAc7J,UAAU,2BAAvC,0CAGA,yBAAKA,UAAU,aACb,4BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,gBACV5G,KAAK,SACLC,MAAO+qB,EAAgBqyB,OACvB5uC,SAAUjB,GAEV,4BAAQyK,UAAQ,GAAhB,4CACE+S,EAAgBqyB,QAChB,4BAAQp9C,MAAM,IAAd,mCAED+qB,GACCpM,EAAiBrM,MACjBqM,EAAiBrM,KAAK6C,KAAI,SAAC1S,EAAMV,GAAP,OACxB,4BAAQ/B,MAAOyC,EAAKoD,IAAKvC,IAAKvB,GAC3BU,EAAK1C,cAQtB,yBAAK4G,UAAU,SACb,yBAAKA,UAAU,kBACb,2BAAO6J,QAAQ,gBAAgB7J,UAAU,2BAAzC,oBAGA,yBAAKA,UAAU,aACb,yBACER,GAAG,qBACHQ,UAAU,8CACVm3C,YAAU,SAEV,wBAAIn3C,UAAU,uBACX62C,EAAUroC,KAAI,SAAC1S,EAAMV,GAAP,OACb,wBACEm5C,cAAY,sBACZ6C,gBAAeh8C,EACf4E,UAxLH,IAwL6B5E,EAAQ,SAAW,GAC7CuB,IAAKvB,QAIX,yBAAK4E,UAAU,iBAAiBkD,KAAK,WAClC2zC,EAAUroC,KAAI,SAAC1S,EAAMV,GAAP,OACb,yBACE4E,UAhMH,IAiMoB5E,EACX,uBACA,gBAENuB,IAAKvB,GAEL,yBAAK4E,UAAU,QACb,yBACEA,UAAU,gBACVV,IAAKxD,EACLgM,IAAI,cACJsI,OAAQ,MAEV,yBAAKpQ,UAAU,gCAKvB,uBACEA,UAAU,wBACVN,KAAK,sBACLwD,KAAK,SACLm0C,aAAW,QAEX,0BACEr3C,UAAU,6BACV4yC,cAAY,SAEd,0BAAM5yC,UAAU,WAAhB,aAEF,uBACEA,UAAU,wBACVN,KAAK,sBACLwD,KAAK,SACLm0C,aAAW,QAEX,0BACEr3C,UAAU,6BACV4yC,cAAY,SAEd,0BAAM5yC,UAAU,WAAhB,YAKR,yBAAKA,UAAU,kBACb,2BAAO6J,QAAQ,gBAAgB7J,UAAU,2BAAzC,SAGA,yBAAKA,UAAU,cACb,wBAAIA,UAAU,iBAAiBlB,MAAO,CAAEw4C,SAAU,SAC/ClzB,EAAgB+O,QACf/O,EAAgB+O,OAAO3kB,KAAI,SAAC1S,EAAMV,GAAP,OACzB,wBACE4E,UAAU,OACVlB,MAAO,CAAEy4C,UAAW,QACpB56C,IAAKvB,GAEL,2BAAO8E,MAAM,MAAMkQ,OAAO,MAAMqhC,UAAQ,GACtC,4BAAQnyC,IAAKxD,EAAKojC,KAAMrgC,KAAK,wBAS/C,yBAAKmB,UAAU,iBACb,yBAAKA,UAAU,SACb,yBAAKA,UAAU,kBACb,2BAAOA,UAAU,2BAAjB,yBACA,yBAAKA,UAAU,oBACVokB,EAAgBpD,KAASoD,EAAgBnD,IAC1C,uBAAGjhB,UAAU,wDAAb,sBACYokB,EAAgBnD,IAAI,6BADhC,yBAC8CmD,EAAgBpD,KAG9D,uBAAGhhB,UAAU,wDAAb,kCACkB,OAKxB,yBAAKA,UAAU,kBACb,2BACE6J,QAAQ,kBACR7J,UAAU,2BAFZ,4BAMA,yBAAKA,UAAU,aACb,4BACEqR,UAAQ,EACRrR,UAAU,gBACV5G,KAAK,gBACLC,MAAO+qB,EAAgBrM,cACvBlQ,SAAUjB,GAET8vC,GACCA,EAAYloC,KAAI,SAAC1S,EAAMV,GAAP,OACd,4BAAQ/B,MAAOyC,EAAKoD,IAAKvC,IAAKvB,GAC3BU,EAAK1C,YAMlB,yBAAK4G,UAAU,kBACb,2BACE6J,QAAQ,kBACR7J,UAAU,2BAFZ,gDAMA,yBAAKA,UAAU,aACb,2BACEqR,SAAqB,SAAXohC,EACVzyC,UAAU,eACV8J,YAAY,+CACZ1Q,KAAK,SACLC,MAAO+qB,EAAgBhU,OACvBvI,SAAUjB,IAEX4Z,GACC,uBAAGxgB,UAAU,QAAb,uGACuD,IACpDwgB,EAAqBgD,UAFxB,KAEqC,IAClChD,EAAqBiD,cAMhC,yBAAKzjB,UAAU,SACZokB,EAAgBrM,eACf,kBAAC,GAAD,CACEgM,aAAa,gIACbC,eAAgB,yBAAKllB,MAAO,CAAEsR,OAAO,UACrC6T,iBAAkB,yBAAKnlB,MAAO,CAAEsR,OAAO,UACvC8T,WAAY,yBAAKplB,MAAO,CAAEsR,OAAO,UACjC8P,sBArVkB,SAAC1gB,GAC7B22C,GAAmB,SAACxB,GAAD,mBAAC,eACfA,GADc,IAEjB58B,cAAevY,QAmVPA,GAAIA,EACJ42C,aAAc,SAAC/0B,GAAD,OA1VL,SAACA,GACpBZ,EAAwBY,GAyVU+0B,CAAa/0B,IACrC+C,gBAAiBA,EACjB+xB,mBAAoBA,EACpB1D,OAAQA,MAKhB,yBAAKzyC,UAAU,qCACb,4BACEnB,KAAK,SACLmB,UAAU,yBACV6yC,eAAa,QACb7zC,QAAS,WACPvE,EAAQgF,KAAK,CACXwL,SAAS,mCANf,gBAYY,SAAXwnC,GACC,4BACE5zC,KAAK,SACLmB,UAAU,kBACV6yC,eAAa,QACb7zC,QA1a0B,WAEhCwhB,IACC4D,EAAgBhU,OAASoQ,EAAqBgD,WAC7CY,EAAgBhU,OAASoQ,EAAqBiD,WAEhD0vB,MAAM,wGAAD,OACqD3yB,EAAqBgD,UAD1E,cACyFhD,EAAqBiD,aAKjHW,EAAgBllB,IAClBqL,EACEgrC,GAAuBF,oBAAoBjxB,EAAgBllB,IAA3D,2BACKklB,GADL,IAEE2xB,cAAe,KACfS,eAAgB,KAChBtjB,OAAQ,KACRC,OAAQ,KACRhwB,OAAmC,KAA3BihB,EAAgBjhB,OAAgB,IAAMihB,EAAgBjhB,WAIlEoH,EACEgrC,GAAuBH,sBAAvB,2BACKhxB,GADL,IAEE2xB,cAAe,KACfS,eAAgB,KAChBtjB,OAAQ,KACRC,OAAQ,KACRhwB,OAAmC,KAA3BihB,EAAgBjhB,OAAgB,IAAMihB,EAAgBjhB,WAIpEgzC,EAAmB,CACjB50C,KAAM,GACNnI,KAAM,GACN+J,OAAQ,EACRxD,YAAa,GACb62C,eAAgB,KAChB/C,SAAU,GACVsC,cAAe,KACfU,OAAQ,GACR53C,KAAM,GACNmiB,IAAK,GACLC,IAAK,GACL7Q,OAAQ,GACRoN,OAAQ,GACR0V,OAAQ,KACRC,OAAQ,UA0XU,SAAXsf,GAAqB,0BAI5B,kBAAC,GAAD,CACEh4C,QAASA,EACT64C,YAAaA,EACbC,SAAUoC,M,8BC7mBZ6B,GAAe,WAqBnB,MAAO,CACLnc,QAlBc,SAAC1L,EAAK3F,EAAM1Y,GAC1B,IAAIjY,EAAQo+C,KAAEl0C,IAAIosB,EAAK3F,EAAM1Y,GAC7B,OAAa,MAATjY,EAAsBiY,EACnBjY,GAgBPq+C,OAVa,SAACj7C,GAAqC,IAA5BkD,EAA2B,uDAAb,GAAId,EAAS,uCAClD6J,KAAa7J,GAAM,CACjBpC,QAASA,EACTkD,YAAaA,EACb7C,SAAU,OAYhB06C,GAAanc,QAAU,SAAC1L,EAAK3F,EAAM1Y,GACjC,IAAIjY,EAAQo+C,KAAEl0C,IAAIosB,EAAK3F,EAAM1Y,GAC7B,OAAa,MAATjY,EAAsBiY,EACnBjY,GAGMm+C,IChBXG,GDgBWH,MEoDAI,G,6DA7DXz1C,Q,wBAAU,2DAAA2E,EAAA,8FAKN,GAJAxJ,EADM,EACNA,IACAD,EAFM,EAENA,OACAS,EAHM,EAGNA,KACAolB,EAJM,EAINA,QAEI,CAAC,MAAO,UAAUb,SAAShlB,GAC3BC,GAAO,IAAM,EAAKu6C,UAAU/5C,GAE5BolB,EAAO,2BACAA,GADA,IAEHtf,KAAMk0C,KAAK91C,UAAUlE,KAIN,qBAAZ6kB,SACPhK,EAAQ9N,aAAauG,QAAQ,SAC7B3Q,EAAcoK,aAAauG,QAAQ,iBAInC2gC,EArBE,aAsBF10C,OAAQA,EACRE,QAAS,CACL,eAAgB,mBAChB,eAAgBkD,EAChB,YAAakY,IAEduK,GAED60B,EAAW,oBA9BX,SAgCeC,MAAMD,EAAWz6C,EAAKy0C,GAhCrC,cAgCAzrC,EAhCA,iBAiCO,EAAK2xC,eAAe3xC,GAjC3B,qF,KAoCV2xC,e,yCAAiB,WAAOr6C,GAAP,sBAAAkJ,EAAA,sEACMlJ,EAASuV,OADf,OACPA,EADO,OAETrV,EAAO,CACPA,KAAM,GACNrB,QAAS,IAEb,IACIqB,EAAOqV,GAAQ2kC,KAAKI,MAAM/kC,GAC5B,MAAOpJ,GACL9N,QAAQC,IAAI6N,GATH,GAWTzM,EAAMM,EAASN,KAAO,GACrBM,EAASu6C,GAZD,wBAa+B,IAApC,CAAC,KAAK5kB,QAAQ31B,EAASuF,SAAmB7F,EAAI+kB,SAAS,YAEvDM,OAAOjY,SAAShL,KAAO,UAErB1B,EAAQF,GAASA,GAAQA,EAAKrB,SAAYmB,EAASw6C,WAjBhD,kBAkBF/1C,QAAQC,OAAOtE,IAlBb,iCAqBNF,EAAKA,MAAQA,GArBP,4C,+GA/DK,IAAZA,EAAW,uDAAJ,GACTu6C,EAAQ,GACZ,IAAK,IAAI17C,KAAOmB,EACZ,GAAI8mB,MAAMC,QAAQ/mB,EAAKnB,IAAO,CAAC,IAAD,iBACRmB,EAAKnB,IADG,IAC1B,2BAA6B,CAAC,IAArBtD,EAAoB,QACL,iBAATA,IAAmBA,EAAQy+C,KAAK91C,UAAU3I,IACrDg/C,EAAM54C,KAAK,CACP9C,IAAI,GAAD,OAAKA,EAAL,MACHtD,MAAOA,KALW,mCAQC,iBAAbyE,EAAKnB,GACnB07C,EAAM54C,KAAK,CACP9C,IAAKA,EACLtD,MAAOy+C,KAAK91C,UAAUlE,EAAKnB,MAG/B07C,EAAM54C,KAAK,CACP9C,IAAKA,EACLtD,MAAOyE,EAAKnB,KAIxB,OAAO07C,EAAM7pC,KAAI,SAAA8pC,GAAC,gBAAOA,EAAE37C,IAAT,YAAgB27C,EAAEj/C,UAASq3C,KAAK,S,KCxBpD6H,G,+MACJj7C,IAAM,iB,EAENlC,M,yCAAQ,WAAO2H,GAAP,UAAA+D,EAAA,+EACC,EAAK3E,QAAQ,CAClB7E,IAAI,GAAD,OAAK,EAAKA,IAAV,WACHD,OAAQ,OACRS,KAAMiF,KAJF,2C,wDAORlB,O,yCAAS,WAAO/D,GAAP,UAAAgJ,EAAA,+EACA,EAAK3E,QAAQ,CAClB7E,IAAK,EAAKA,IACVD,OAAQ,OACRS,KAAMA,KAJD,2C,wDAOT06C,K,yCAAO,WAAOn4C,GAAP,UAAAyG,EAAA,+EACE,EAAK3E,QAAQ,CAClB7E,IAAI,GAAD,OAAK,EAAKA,IAAV,YAAiB+C,EAAKb,IACzBnC,OAAQ,MACRS,KAAMuC,KAJH,2C,wDAOPmkC,O,yCAAS,WAAOhlC,GAAP,UAAAsH,EAAA,+EACA,EAAK3E,QAAQ,CAClB7E,IAAI,GAAD,OAAK,EAAKA,IAAV,YAAiBkC,GACpBnC,OAAQ,MACRS,KAAM,CACJ0B,SALG,2C,wDASTyE,O,wBAAS,2CAAA6C,EAAA,8FAAiB,GAAR2xC,EAAT,EAASA,IAAT,kBACA,EAAKt2C,QAAQ,CAClB7E,IAAK,EAAKA,IACVD,OAAQ,SACRS,KAAM,CACJ26C,UALG,2C,YAjCWC,IA8CP,qBAAM,IAAIH,IC9CnBI,G,+MACJr7C,IAAM,uB,EAENlC,M,wBAAQ,uBAAA0L,EAAA,6DACN7K,QAAQC,IAAI,aADN,kBAEC,EAAKiG,QAAQ,CAClB7E,IAAK,EAAKA,IACVD,OAAQ,SAJJ,2C,YAHyBq7C,IA+CpB,qBAAM,IAAIC,IC/CnBA,G,+MACJr7C,IAAM,uB,EAENlC,M,wBAAQ,uBAAA0L,EAAA,+EACC,EAAK3E,QAAQ,CAClB7E,IAAK,EAAKA,IACVD,OAAQ,SAHJ,2C,YAHyBq7C,IAapB,qBAAM,IAAIC,ICgNVhd,GArIE,WAAO,IAAD,EACKhhC,mBAAS,IADd,gCAESA,oBAAS,IAFlB,mBAEda,EAFc,KAELC,EAFK,OAGOm9C,KAHP,KAGblB,OAHa,EAGLrc,QACkB1gC,mBAAS,KAJtB,mBAIdy1C,EAJc,KAIHyI,EAJG,OAKOl+C,mBAAS,IALhB,mBAKdm+C,EALc,KAKNC,EALM,OAMOp+C,mBAAS,IANhB,mBAMdwI,EANc,KAMNs8B,EANM,KAOfxsB,EAAU,CACd,CACE7Z,KAAM,yBACNka,UAAW,OACX3W,IAAK,OACLuD,MAAO,MACPgT,OAAQ,SAACC,EAAMC,GAAP,OAAkB,uBAAG1T,KAAI,qBAAgB0T,EAAOlU,MAAQiU,KAElE,CACEjV,MAAO,gBACPoV,UAAW,cACX3W,IAAK,cACLuD,MAAO,OAaT,CACEhC,MAAO,qBACPoV,UAAW,SACX3W,IAAK,SACLy2B,QAASjwB,EAAOqL,KAAI,SAAC1S,GACnB,MAAO,CAAEqX,KAAMrX,EAAK1C,KAAMC,MAAOyC,EAAKyF,SAExC+xB,SAAU,SAACj6B,EAAO+Z,GAAR,OAAmB4lC,OAAO5lC,EAAOjQ,OAAO5B,QAAUy3C,OAAO3/C,IACnE6Z,OAAQ,SAACC,GACP,OAAQA,EAAK5R,MACX,KAAK,EACH,OAAO,kBAAC,KAAD,CAAKxB,MAAM,WAAWoT,EAAK/Z,MACpC,KAAK,EACH,OAAO,kBAAC,KAAD,CAAK2G,MAAM,cAAcoT,EAAK/Z,MACvC,KAAK,EACH,OAAO,kBAAC,KAAD,CAAK2G,MAAM,WAAWoT,EAAK/Z,MACpC,KAAK,EACH,OAAO,kBAAC,KAAD,CAAK2G,MAAM,WAAWoT,EAAK/Z,SAI1C,CACE8E,MAAO,wBACPoV,UAAW,QACX3W,IAAK,QACLy2B,QAAS0lB,EAAOtqC,KAAI,SAAC1S,GACnB,MAAO,CAAEqX,KAAMrX,EAAK1C,KAAMC,MAAOyC,EAAKyF,SAExC+xB,SAAU,SAACj6B,EAAO+Z,GAAR,OAAmB4lC,OAAO5lC,EAAOvT,MAAM0B,QAAUy3C,OAAO3/C,IAClE6Z,OAAQ,SAACC,GAEP,OADAlX,QAAQC,IAAI,OAAQiX,GACZA,EAAK5R,MACX,KAAK,EACH,OAAO,kBAAC,KAAD,CAAKxB,MAAM,WAAWoT,EAAK/Z,MACpC,KAAK,EACH,OAAO,kBAAC,KAAD,CAAK2G,MAAM,QAAQoT,EAAK/Z,SAIvC,CACE8E,MAAO,2BACPoV,UAAW,YACX3W,IAAK,aAEP,CACEuB,MAAO,6BACPoV,UAAW,UACX3W,IAAK,UACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OACNzR,KAAOvC,EAAEmyC,SAAS3vC,OAAO,YACzBD,KAAOyR,EAAEm+B,SAAS3vC,OAAO,aAC3BktB,eAAgB,CAAC,UAAW,UAC5BtjB,OAAQ,SAACC,GAAD,OAAU9J,KAAO8J,GAAM7J,OAAO,gBAExC,CACEpL,MAAO,mBACPoV,UAAW,YACX3W,IAAK,YACLke,OAAQ,SAAC/T,EAAGgU,GAAJ,OACNzR,KAAOvC,EAAEmU,WAAW3R,OAAO,YAC3BD,KAAOyR,EAAEG,WAAW3R,OAAO,aAC7BktB,eAAgB,CAAC,UAAW,UAC5BtjB,OAAQ,SAACC,GAAD,OAAU9J,KAAO8J,GAAM7J,OAAO,iBAS1C1N,qBAAU,WACRy0C,MACC,IAEH,IAAMA,EAAS,yCAAG,2CAAAvpC,EAAA,6DAChBrL,GAAW,GADK,SAEwC2B,aACtDiF,QAAQ62C,IAAI,CACVC,KAAkB/9C,QAClBg+C,KAAuBh+C,QACvBi+C,KAAwBj+C,WANZ,mCAEX4C,EAFW,yBAE4B,GAF5B,qBAEHoyC,EAFG,KAEQkJ,EAFR,KAEiBC,EAFjB,KASZv7C,GAAOvB,IAAQuB,MAAM,oEACzB66C,EAAazI,EAAUA,WAAa,IACpC2I,EAAUO,GAAW,IACrB7Z,EAAU8Z,GAAW,IACrB99C,GAAW,GACXQ,QAAQC,IAAI,YAAak0C,GAdT,4CAAH,qDAgBf,OACE,kBAAC,KAAD,cACEn9B,QAASA,EACTzX,QAASA,EACTgD,WAAY4xC,GAHd,UAIW50C,K,qBCxNT+8C,G,+MACJn9C,M,yCAAQ,WAAO2H,GAAP,UAAA+D,EAAA,+EACC,EAAK3E,QAAQ,CAClB7E,IAAK,aACLD,OAAQ,MACRS,KAAMiF,KAJF,2C,wDAORlB,O,yCAAS,WAAO/D,GAAP,UAAAgJ,EAAA,+EACA,EAAK3E,QAAQ,CAClB7E,IAAK,aACLD,OAAQ,OACRS,KAAMA,KAJD,2C,wDAOT06C,K,yCAAO,WAAOn4C,GAAP,UAAAyG,EAAA,+EACE,EAAK3E,QAAQ,CAClB7E,IAAI,cAAD,OAAgB+C,EAAKb,IACxBnC,OAAQ,MACRS,KAAMuC,KAJH,2C,wDAOPmkC,O,yCAAS,WAAOhlC,GAAP,UAAAsH,EAAA,+EACA,EAAK3E,QAAQ,CAClB7E,IAAI,cAAD,OAAgBkC,GACnBnC,OAAQ,MACRS,KAAM,CACJ0B,SALG,2C,wDASTyE,O,wBAAS,2CAAA6C,EAAA,8FAAiB,GAAR2xC,EAAT,EAASA,IAAT,kBACA,EAAKt2C,QAAQ,CAClB7E,IAAK,aACLD,OAAQ,SACRS,KAAM,CACJ26C,UALG,2C,EAUTe,uB,wBAAyB,+CAAA1yC,EAAA,8FAAgB,GAAPtH,EAAT,EAASA,GAE1BlC,EAFiB,yEACvBkC,EAAKA,GAAM,4BADY,SAIAw4C,MAAM16C,EAAK,CAChCD,OAAQ,QALa,cAIjBO,EAJiB,yBAOhBA,EAAS67C,QAPO,2C,YAzCLf,ICelBI,GAAS,GA8NEY,GA7NK,SAACvyC,GAAW,IAAD,EACDxM,mBAAS,IADR,mBACtBu4B,EADsB,KACdymB,EADc,OAEmBh/C,oBAAS,GAF5B,mBAEtBi/C,EAFsB,KAEJC,EAFI,OAGCl/C,oBAAS,GAHV,mBAGtBwN,EAHsB,KAGbD,EAHa,OAIevN,oBAAS,GAJxB,mBAItBm/C,EAJsB,KAINC,EAJM,OAKd9/B,KAAKC,UAAbC,EALsB,sBAMSxf,mBAAS,IANlB,6BAQ7BiB,qBAAU,WACRo+C,MACC,IAEH,IAAMA,EAAW,yCAAG,yCAAAlzC,EAAA,6DAClB7K,QAAQC,IAAI,eADM,SAE0BmG,QAAQ62C,IAAI,CACtDE,KAAuBh+C,SDqBR,IAAIm9C,ICpBJiB,uBAAuB,CAAEh6C,GAAI,OAJ5B,0CAEby6C,OAFa,MAEF,GAFE,SAEEC,OAFF,MAEc,GAFd,EAMlBj+C,QAAQC,IAAI,SAAUg+C,GACtBj+C,QAAQC,IAAI,WAAY+9C,GACxBnB,GAASmB,EACe,KAApBC,EAAU/2C,QACRg3C,GAAWD,EAAU5zC,QAAU,IAAIkI,KAAI,SAAC1S,GAC1C,IAAImf,EAAY5R,KAAOvN,EAAKmf,WAAW3R,OAAO,uBAC1C8wC,EAAW,GACf,OAAQt+C,EAAK6yC,aACX,KAAK,EACHyL,EAAW,oBACX,MACF,KAAK,EACHA,EAAW,4BACX,MACF,KAAK,EACHA,EAAW,gCACX,MACF,KAAK,EACHA,EAAW,oBACX,MACF,QACEA,EAAW,GAEf,OAAO,2BACFt+C,GADL,IAEEwD,IAAKxD,EAAKojC,KACVmb,QAASv+C,EAAKoC,MACdo8C,eAAgB,IAChBC,gBAAiB,IACjBC,UAAW1+C,EAAKojC,KAChBub,KAAM,CACJ,CAAEphD,MAAO4hB,EAAW/c,MAAO,cAC3B,CAAE7E,MAAO+gD,EAAUl8C,MAAO,cAIhCy7C,EAAUQ,IAEV19C,IAAQuB,MAAMi8C,EAASx9C,SA5CP,4CAAH,qDAiEXi+C,EAAoB,WAExB,IADA,IAAIrgB,EAAW,GACNzP,EAAI,EAAGA,EAAIsI,EAAOl2B,OAAQ4tB,IACL,GAAxBsI,EAAOtI,GAAG+vB,YAAoBtgB,EAAS56B,KAAKmrB,GAClD,OAAOyP,GAoBHmJ,EAAQ,yCAAG,6BAAA18B,EAAA,sDACfizC,GAAkB,GACda,EAAiB1nB,EAAOnwB,QAAO,SAACjH,GAAD,OAAU++C,QAAQ/+C,EAAK6+C,eAC1DxgC,EACG2gC,iBACAn9C,KAFH,yCAEQ,WAAOqf,GAAP,oBAAAlW,EAAA,6DACJ7K,QAAQC,IAAI,SAAU8gB,GADlB,SAEqB5f,aACvB+7C,KAAkBt3C,OAAlB,2BACKmb,GADL,IAEEi8B,QAAS5vC,KAAO2T,EAAOi8B,SAAS3vC,OAAO,cACvC4pB,OAAQ0nB,EACR/7C,KAAM,gBAPN,mCAECb,EAFD,UAUAA,GAAOvB,IAAQuB,MAAM,0CACzBvB,IAAQI,QAAQ,qEAChBk9C,GAAkB,GAClB7xC,GAAW,GAbP,4CAFR,uDAiBGnK,OAAM,SAAC4pC,GACN1rC,QAAQC,IAAI,YAAayrC,GACzBoS,GAAkB,MAtBP,2CAAH,qDA6Bd,OACE,6BACE,kBAAC,KAAD,CAAUlyC,SAhDW,WACvB,IAAIkzC,GAAqBnB,EACzBC,EAAoBkB,GAEpB,IAAIZ,EAAUjnB,EAAO9xB,QACrB,GAAI25C,EACF,IAAK,IAAInwB,EAAI,EAAGA,EAAIsI,EAAOl2B,OAAQ4tB,IAAKuvB,EAAQvvB,GAAG+vB,YAAa,OAEhE,IAAK,IAAI/vB,EAAI,EAAGA,EAAIsI,EAAOl2B,OAAQ4tB,IAAKuvB,EAAQvvB,GAAG+vB,YAAa,EAElEhB,EAAU,aAAIQ,KAsC0B3sB,QAASosB,GAA/C,cAGA,kBAAC,IAAD,CACEvoC,UAAWqpC,IAAoB19C,OAC/B6B,KAAM,UACNG,QAzCY,WAChBkJ,GAAW,KAqCT,4BAOA,yBACEpJ,MAAO,CACLw+B,QAAS,MACTv9B,MAAO,SAHX,oBAMoB26C,IAAoBx/B,YAExC,yBACEpc,MAAO,CACLmN,QAAS,QACTuX,UAAW,MACXtjB,MAAO,OACP86C,OAAQ,iBACR1D,SAAU,SAGZ,kBAAC,KAAD,CACEpkB,OAAQA,EACR+nB,cAhGc,SAAC7/C,EAAO07B,GAC5B,IAAIqjB,EAAUjnB,EAAO9xB,QACjB9H,EAAM6gD,EAAQ/+C,GAClB9B,EAAI4hD,eAAe,cACd5hD,EAAIqhD,YAAcrhD,EAAIqhD,WACtBrhD,EAAIqhD,YAAa,EACtBhB,EAAUQ,IAZc,SAACA,GACzB,OACEA,EAAQp3C,QAAO,SAACzJ,GAAD,OAASuhD,QAAQvhD,EAAIqhD,eAAa39C,QAAUm9C,EAAQn9C,OAWrEm+C,CAAkBjoB,GAEd2mB,GAAoB,GADpBA,GAAoB,IAyFlBuB,wBAAwB,KAG5B,kBAAC,KAAD,CACEl9C,MAAM,QACNiK,QAASA,EACToB,KAAMi6B,EACNsW,eAAgBA,EAChBtwC,SA3Ce,WACnBtB,GAAW,IA2CPmzC,gBAAgB,GAEhB,kBAAC,KAAD,CAAM7/B,OAAO,WAAW2B,cAAe,GAAIhD,KAAMA,EAAMmhC,UAAU,GAC/D,kBAAC,KAAK58C,KAAN,CACEqd,MAAM,yBACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAD,OAEF,kBAAC,KAAKiC,KAAN,CACEqd,MAAM,gBACN3iB,KAAK,cACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAM8nB,SAAP,CAAgB4hB,KAAM,KAExB,kBAAC,KAAKznC,KAAN,CACEqd,MAAM,wBACN3iB,KAAK,QACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAD,KACGq8C,GAAOtqC,KAAI,SAAC1S,GAAD,OACV,kBAAC,KAAO2U,OAAR,CAAepX,MAAOyC,EAAKyF,KAAM5E,IAAKb,EAAKyF,MACxCzF,EAAK1C,WAKd,kBAAC,KAAKsF,KAAN,CACEqd,MAAM,aACN3iB,KAAK,UACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAD,OAEF,kBAAC,KAAKiC,KAAN,CACEqd,MAAM,iBACN3iB,KAAK,WACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAD,W,WPhON8+C,I,wBAAU,CACd,CACEj8C,IAAK,gCACLT,KAAM,aAER,CACES,IAAK,iCACLT,KAAM,cAER,CACES,IAAK,gCACLT,KAAM,eAINqkB,GAAU,CAAEs4B,YAAY,GAqDbC,GAlDD1zC,IAAM2zC,YAAW,SAACv0C,EAAOlO,GAAS,IAAD,EAC2BkO,EAAhEw0C,cADqC,MAC5B,gCAD4B,IAC2Bx0C,EAAtBy0C,eADL,MACeL,GADf,EAG7C3/C,qBAAU,WAEsB,oBAD9B+7C,GAASkE,mBAAQ,iBAAkB34B,KACjB44B,QAChBnE,GAAOmE,QAAQ,CACbA,QAAS,KAGXn5B,OAAOjY,SAASkmB,WAEjB,IAEH,IAAMmrB,EAAY,WAAmB,IAAlBD,EAAiB,uDAAP,GAC3BnE,GAAOmE,QAAQE,MAAMF,IAYvB,OATAG,8BAAoBhjD,GAAK,iBAAO,CAC9BijD,qBAD8B,WACQ,IAAjB9L,EAAgB,uDAAJ,GAC/B2L,EAAU3L,IAEZ+L,YAJ8B,WAK5B,OAAOxE,GAAOwE,mBAKhB,yCACE38C,GAAG,iBACHQ,UAAU,4BACVyxC,UAAQ,EACR2K,QAAQ,OACRT,OAAQA,EACRU,YAAU,mBACNl1C,GAEHy0C,EAAQptC,KAAI,SAAC1S,EAAMV,GAAP,OACX,4BAAQuB,IAAKvB,EAAOkE,IAAKxD,EAAKwD,IAAKT,KAAM/C,EAAK+C,UAEhD,uBAAGmB,UAAU,aAAb,4FAGE,uBAAGN,KAAK,2CAA2CsK,OAAO,UAA1D,6B,WQlEFsyC,G,+MACJh/C,IAAM,qB,EAENlC,M,wBAAQ,uBAAA0L,EAAA,+EACC,EAAK3E,QAAQ,CAClB7E,IAAK,EAAKA,IACVD,OAAQ,SAHJ,2C,YAHuBq7C,ICqJlB6D,G,+MAhJb17C,MAAQ,CACN45C,KAAM,EAAKtzC,MAAMmK,cAAgB,GACjC4R,QAAS,GACTs5B,cAAc,EACdC,WAAY,GACZC,gBAAiB,EACjBC,eAAgB,I,EASlBC,YAAc,SAACC,GACb,IAAMpC,EAAO,EAAK55C,MAAM45C,KAAK13C,QAAO,SAAC+5C,GAAD,OAASA,IAAQD,KACrD,EAAK91C,SAAS,CAAE0zC,U,EAGlBsC,UAAY,WACV,EAAKh2C,SAAS,CAAEy1C,cAAc,IAAQ,kBAAM,EAAKQ,MAAMC,Y,EAGzDC,kBAAoB,SAAC7jD,GACnB,EAAK0N,SAAS,CAAE01C,WAAYpjD,K,EAG9B8jD,QAAU,WACR,OAAO,EAAKt8C,MAAM45C,M,EAGpB2C,mBAAqB,WAAO,IAClBX,EAAe,EAAK57C,MAApB47C,WACFhC,EAAS,EAAK55C,MAAd45C,KACFgC,IAA4C,IAA9BhC,EAAKlnB,QAAQkpB,KAC7BhC,EAAI,uBAAOA,GAAP,CAAagC,KAGnB,EAAK11C,SAAS,CACZ0zC,OACA+B,cAAc,EACdC,WAAY,M,EAIhBY,sBAAwB,SAACtzC,GACvB,EAAKhD,SAAS,CAAE41C,eAAgB5yC,EAAEC,OAAO3Q,S,EAG3CikD,uBAAyB,WACvB,EAAKv2C,UAAS,YAA+C,IAA5C0zC,EAA2C,EAA3CA,KAAMiC,EAAqC,EAArCA,eAAgBC,EAAqB,EAArBA,eAC/BY,EAAO,aAAO9C,GAGpB,OAFA8C,EAAQb,GAAkBC,EAEnB,CACLlC,KAAM8C,EACNb,gBAAiB,EACjBC,eAAgB,Q,EAKtBa,aAAe,SAACR,GACd,EAAKA,MAAQA,G,EAGfS,iBAAmB,SAACT,GAClB,EAAKU,UAAYV,G,gNA3Dc5/C,cDDd,IAAIk/C,ICCkClhD,S,mCAAlDuiD,E,YAAQn6C,O,MAAM,G,EACdm6C,IACCz6B,EAAU1f,EAAIgL,KAAI,SAAC1S,GAAD,MAAW,CAAEzC,MAAOyC,EAAK1C,SAC/CiO,KAAKN,SAAS,CAAEmc,QAASA,K,qIA2DnB,IAAD,WACoC7b,KAAKxG,MAAxC45C,EADD,EACCA,KAAM+B,EADP,EACOA,aAAcC,EADrB,EACqBA,WAC5B,OACE,oCACGhC,EAAKjsC,KAAI,SAACsuC,EAAK1hD,GACd,IAAMwiD,EAAYd,EAAI9/C,OAAS,GAEzB6gD,EACJ,kBAAC,KAAD,CACE79C,UAAU,WACVrD,IAAKmgD,EACLgB,UAAU,EACVC,QAAS,kBAAM,EAAKnB,YAAYE,KAEhC,0BACEkB,cAAe,SAACj0C,GACA,IAAV3O,IACF,EAAK2L,SACH,CAAE21C,eAAgBthD,EAAOuhD,eAAgBG,IACzC,WACE,EAAKY,UAAUT,WAGnBlzC,EAAE+X,oBAIL87B,EAAS,UAAMd,EAAI17C,MAAM,EAAG,IAAnB,OAA8B07C,IAI9C,OAAOc,EACL,kBAAC,KAAD,CAAS1/C,MAAO4+C,EAAKngD,IAAKmgD,GACvBe,GAGHA,KAGHrB,GACC,kBAAC,MAAD,GACEvjD,IAAKoO,KAAKm2C,aACVx9C,UAAU,YACVlB,MAAO,CAAEoB,MAAO,KAChBtB,KAAK,QACLskB,QAAS7b,KAAKxG,MAAMqiB,SALtB,2BAMY,aANZ,+BAOgB,SAACu5B,EAAYhK,GAAb,OAEX,IADDA,EAAOp5C,MAAM4kD,cAAc1qB,QAAQkpB,EAAWwB,kBARlD,uBAWSxB,GAXT,0BAYYp1C,KAAK61C,mBAZjB,GAcE,kBAAC,KAAM1rC,OAAP,CACEwvB,aAAc35B,KAAK+1C,mBACnBl7B,SAAU7a,KAAK+1C,mBACfx+C,KAAK,QACLs/C,WAAW,gCACX57B,YAAa,cAIjBk6B,GACA,kBAAC,KAAD,CAAKx8C,UAAU,gBAAgBhB,QAASqI,KAAK01C,WAC3C,kBAACv1C,GAAA,EAAD,MADF,yB,GAxIqBO,IAAMC,WCF/Bm2C,GAAiB,CACrB1iC,SAAU,CAAExL,KAAM,GAClByL,WAAY,CAAEzL,KAAM,KAuDPmuC,GAjDG,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,gBAAiBC,EAAqB,EAArBA,eAAqB,EAC7B1F,KAApBlB,EADiD,EACjDA,OADiD,KACzCrc,QACDphB,KAAKC,WAAbC,EAFkD,oBAGrDokC,EAASC,mBAH4C,EAI/B7jD,oBAAS,GAJsB,mBAIlDwC,EAJkD,KAI3CshD,EAJ2C,KAmBzD,OACE,oCACE,kBAAC,KAAD,iBACMN,GADN,CAEE3iC,OAAQ,aACRrB,KAAMA,IAGN,yBAAKrb,MAAO,CAAE2I,UAAW,SACvB,kBAAC,KAAK/I,KAAN,KACGvB,EACC,kBAAC,IAAD,CAAQ0B,KAAK,UAAUG,QAzBnB,WACdy/C,GAAS,GACTJ,MAuBU,SAIA,kBAAC,IAAD,CAAQp/C,QAAM,EAACD,QAzBZ,WACb,IAAIy7C,EAAO8D,EAAOpB,WAAa,GAC1B1C,EAAKz9C,QAIVshD,EAAe7D,GACfgE,GAAS,IAJP/G,EAAO,wDAA+B,GAAI,WAsBlC,UAMN,kBAACgH,GAAD,CACEzlD,IAAK,SAACsJ,GACJg8C,EAASh8C,QCmGNo8C,GAnJK52C,IAAM2zC,YAAW,SAACv0C,EAAOlO,GAAS,IAAD,EACrB8O,IAAMpN,UAAS,GADM,mBAC5CwN,EAD4C,KACnCD,EADmC,OAEXH,IAAMpN,SAAS,IAFJ,mBAE5C2W,EAF4C,KAE9BstC,EAF8B,OAGP72C,IAAMpN,UAAS,GAHR,mBAG5Cm/C,EAH4C,KAG5BC,EAH4B,OAIpC9/B,KAAKC,UAAbC,EAJ4C,sBAKvBxf,mBAAS,IALc,mBAK5Cm+C,EAL4C,KAKpCC,EALoC,KA2BnDn9C,qBAAU,WACRo+C,MACC,IAEH,IAAMA,EAAW,yCAAG,iCAAAlzC,EAAA,sEACa1J,aAAGg8C,KAAuBh+C,SADvC,+CAElB29C,OAFkB,MACC,GADD,8CAAH,qDAKXvV,EAAQ,yCAAG,uBAAA18B,EAAA,sDACfizC,GAAkB,GAClB5/B,EACG2gC,iBACAn9C,KAFH,yCAEQ,WAAOqf,GAAP,oBAAAlW,EAAA,sEACqB1J,aACvB+7C,KAAkBt3C,OAAlB,uCACKyP,GACA0L,GAFL,IAGEi8B,QAAS5vC,KAAO2T,EAAOi8B,SAAS3vC,OAAO,cACvC4pB,OAAQ,GACRC,OAAQ,GACRt0B,KAAM,gBARN,mCACCb,EADD,UAWAA,GAAOvB,IAAQuB,MAAM,0CACzBvB,IAAQI,QAAQ,qEAChBk9C,GAAkB,GAClB7xC,GAAW,GAdP,4CAFR,uDAkBGnK,OAAM,SAAC4pC,GACN1rC,QAAQC,IAAI,YAAayrC,GACzBoS,GAAkB,MAtBP,2CAAH,qDA0BdkC,8BAAoBhjD,GAAK,iBAAO,CAC9BmxB,KAD8B,WAE5BliB,GAAW,IAEb22C,KAJ8B,WAK5B32C,GAAW,IAEb02C,gBAP8B,WAOM,IAApBttC,EAAmB,uDAAJ,GAC7BstC,EAAgBttC,QAQpB,OACE,oCACE,kBAAC,KAAD,CACEpT,MAAM,QACNiK,QAASA,EACToB,KAAMi6B,EACNsW,eAAgBA,EAChBtwC,SAXe,WACnBtB,GAAW,KAYP,kBAAC,KAAD,CAAMsT,OAAO,WAAW2B,cAAe,GAAIhD,KAAMA,EAAMmhC,UAAU,GAC/D,kBAAC,KAAK58C,KAAN,CACEqd,MAAM,yBACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAD,OAEF,kBAAC,KAAKiC,KAAN,CACEqd,MAAM,gBACN3iB,KAAK,cACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAM8nB,SAAP,CAAgB4hB,KAAM,KAExB,kBAAC,KAAKznC,KAAN,CACEqd,MAAM,wBACN3iB,KAAK,QACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAD,KACGq8C,EAAOtqC,KAAI,SAAC1S,GAAD,OACV,kBAAC,KAAO2U,OAAR,CAAepX,MAAOyC,EAAKyF,KAAM5E,IAAKb,EAAKyF,MACxCzF,EAAK1C,WAKd,kBAAC,KAAKsF,KAAN,CACEqd,MAAM,4BACN3iB,KAAK,OACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAD,KAlHI,CACZ,CACE8E,KAAM,IACNnI,KAAM,iCAER,CACEmI,KAAM,IACNnI,KAAM,qBAER,CACEmI,KAAM,IACNnI,KAAM,6BAER,CACEmI,KAAM,IACNnI,KAAM,sBAoGSoV,KAAI,SAAC1S,GAAD,OACT,kBAAC,KAAO2U,OAAR,CAAepX,MAAOyC,EAAKyF,KAAM5E,IAAKb,EAAKyF,MACxCzF,EAAK1C,WAKd,kBAAC,KAAKsF,KAAN,CACEqd,MAAM,aACN3iB,KAAK,UACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAD,OAEF,kBAAC,KAAKiC,KAAN,CACEqd,MAAM,iBACN3iB,KAAK,WACL4iB,MAAO,CAAC,CAAEoB,UAAU,EAAM3gB,QAAS,yCAEnC,kBAAC,KAAD,aCjIRqiD,GAAc,GACdC,IAAgB,EA6ILC,GA5IG,SAAC,GAAsC,IAAD,MAAnC5O,iBAAmC,MAAvB,GAAuB,EAAnB6O,EAAmB,EAAnBA,aAAmB,EACVtkD,mBAAS,IADC,mBAC/CukD,EAD+C,KAC/BC,EAD+B,OAExBxkD,oBAAS,GAFe,mBAE/CwN,EAF+C,KAEtCD,EAFsC,KAGlDk3C,EAAU,GAHwC,eAIjChP,GAJiC,IAItD,2BAAgC,CAAC,IAAxBiP,EAAuB,QAC9BD,EAAUA,EAAQpjD,OAAOqjD,EAAS5E,MAAQ,IAC1C2E,EAAU3H,KAAE6H,OAAOF,GAAS,SAAUr1C,GACpC,OAAOA,MAP2C,oCAUXpP,mBAASy1C,GAVE,mBAU/CmP,EAV+C,KAU/BC,EAV+B,KAYtDvjD,QAAQC,IAAI,UAAWkjD,GACvB,IAAIb,EAASC,mBACTpuB,EAAYouB,mBAUVhb,EAAQ,yCAAG,6BAAA18B,EAAA,sDACX2zC,EAAO8D,EAAOpB,WAAa,GAC3B/M,EAAU2O,MACZ3O,EAAU2O,IAActE,KAAOA,EAC/BrK,EAAU2O,IAAc5rC,KAAOsnC,EAAKv/B,WACpC+jC,EAAa7O,IAEfloC,GAAW,GAPI,2CAAH,qDA0BRu3C,EAAkB,SAACC,EAAQC,GAC/B,IAAMC,EAAQF,EAAO38C,QAAO,SAACF,GAAD,OAAS88C,EAAOt9B,SAASxf,MACrD,OAAOg4C,QAAQ+E,EAAM5iD,SAavB,OAHApB,qBAAU,WACR4jD,EAAiBpP,KAChB,CAACA,IAEF,6BACE,kBAAC,IAAD,KACE,kBAAC,KAAD,CAAKngC,KAAM,GACT,kBAAC,IAAD,CACEpR,KAAK,UACLwS,UAAW6tC,EAAeliD,OAC1BgC,QA/Be,WACvB,IAD6B,EACzBogD,EAAU,GADe,eAERhP,GAFQ,IAE7B,2BAAgC,CAAC,IAAxBiP,EAAuB,QAC9BD,EAAUA,EAAQpjD,OAAOqjD,EAAS5E,MAAQ,KAHf,8BAK7BrqB,EAAUwuB,gBAAgB,CAAEnE,KAAM2E,IAClChvB,EAAUhG,SAsBJ,6BAQF,kBAAC,KAAD,CAAKna,KAAM,IACT,kBAAC,KAAD,CAAMuL,OAAO,aAAa2B,cAAe,GAAIm+B,UAAU,GACrD,kBAAC,KAAK58C,KAAN,CAAWqd,MAAM,OAAO3iB,KAAK,QAC3B,kBAAC,KAAD,CAAQ+U,KAAK,WAAWtG,SAzBf,WAAiB,IAAhBxO,EAAe,uDAAP,GACvBA,EAAM2D,OAETwiD,EACEpP,EAAUrtC,QAAO,SAACjH,GAAD,OAAU2jD,EAAgB3jD,EAAK2+C,KAAMphD,OAHvCmmD,EAAiBpP,KAyBvBgP,EAAQ5wC,KAAI,SAAC1S,EAAMV,GAAP,OACX,kBAAC,KAAOqV,OAAR,CAAepX,MAAOyC,EAAMa,IAAKvB,GAC9BU,WASf,kBAAC,IAAD,CACEyC,WAAW,aACXC,WAAY+gD,EACZ9gD,WAAY,SAAC3C,EAAMV,GAAP,OACV,kBAAC,IAAKsD,KAAN,CACEC,QAAS,CACP,kBAAC,KAAD,CACEhC,IAAI,SACJkL,SAAU,SAAC62B,GAAD,OArFR,SAAC30B,EAAG3O,GAClB,IAAIykD,EAAW,GAEbA,EADE91C,EAAEC,OAAOwjB,QACA0xB,EAAeljD,OAAO,CAACZ,IAEvB8jD,EAAen8C,QAAO,SAACjH,GAAD,OAAUA,IAASV,KAEtD+jD,EAAkB,aAAIU,IA8EWC,CAAQphB,EAAOtjC,KAFtC,aAMA,uBAAGuB,IAAI,OAAOqC,QAAS,kBApEf,WAAuB,IAAtBy7C,EAAqB,uDAAd,GAAIr/C,EAAU,uCACxC0jD,GAAcrE,EACdsE,GAAe3jD,EACf8M,GAAW,GAiE4B63C,CAAYjkD,EAAK2+C,KAAMr/C,KAApD,sBAKF,kBAAC,IAAKsD,KAAKS,KAAX,CACEC,OAAQ,kBAAC,IAAD,CAAQE,IAAI,qCACpBpB,MAAO,uBAAGwB,KAAK,sBAAsB,UAAYtE,EAAQ,IACzDuE,YAAW,sBAAiB7D,EAAKqwC,KAAtB,wBAA0CrwC,EAAKgB,SAA/C,6BAAsEhB,EAAKqX,YAK9F,kBAAC,KAAD,CACEjV,MAAM,mCACNiK,QAASA,EACToB,KAAMi6B,EACNh6B,SAxFe,WACnBtB,GAAW,IAwFPmzC,gBAAgB,GAEhB,kBAACqD,GAAD,CACEptC,aAAcwtC,GACd7lD,IAAK,SAACsJ,GACJg8C,EAASh8C,MAIf,kBAACy9C,GAAD,CACE/mD,IAAK,SAACsJ,GACJ6tB,EAAY7tB,OCnJduN,GAAUC,KAAVD,MACJsgC,GAAY,GAkED6P,GAhEK,SAAC94C,GACnB,IAAM+4C,EAAW1B,mBADY,EAED7jD,oBAAS,GAFR,mBAEtBi2B,EAFsB,KAEduvB,EAFc,KAGvBjE,EAAuB,SAAC9L,GAC5B8P,EAASz6B,QAAQy2B,qBAAqB9L,IAmCxC,OACE,6BACE,kBAAC,IAAD,CAAKzmC,OAAQ,IACX,kBAAC,KAAD,CAAKy1B,GAAI,GAAIkR,GAAI,IACf,kBAAC,GAAD,CAAOr3C,IAAKinD,EAAU9P,UAAWA,MAEnC,kBAAC,KAAD,CAAKhR,GAAI,GAAID,GAAI,GACf,kBAACllB,GAAD,CACEokC,gBAzCc,WACtB,IAAIlC,EAAc+D,EAASz6B,QAAQ02B,cACnC/L,GAAU3wC,KAAK,CACb0sC,KAAMgQ,EAAYiE,QAAQ,GAC1BC,UAAU,EACVltC,KAAM,GACNsnC,KAAM,GACN39C,SAAU,EACVwjD,YAAa,YAEfpE,EAAqB9L,KAgCbkO,eA7Ba,WAAgB,IAAf7D,EAAc,uDAAP,GACzB8F,EAAkBnQ,GAAU1uB,MAAK,SAAC5lB,GAAD,OAAWA,EAAKukD,YAErD,GADAjQ,GAAYA,GAAUrtC,QAAO,SAACjH,GAAD,OAAUA,EAAKukD,YACvCE,EAAL,CACAA,EAAgBF,UAAW,EAC3B,IAAIlE,EAAc+D,EAASz6B,QAAQ02B,cAAciE,QAAQ,GACzDG,EAAgBzjD,SAAWq/C,EAAcoE,EAAgBpU,MAAQ,EACjEoU,EAAgBptC,KAAOsnC,EAAKv/B,WAC5BqlC,EAAgB9F,KAAOA,EACvBrK,GAAU3wC,KAAK8gD,GACfrE,EAAqB9L,IACrB+P,GAAWvvB,SAsBT,kBAAC,IAAD,CAAKjnB,OAAQ,IACX,kBAAC,KAAD,CAAKy1B,GAAI,GAAIkR,GAAI,IACf,kBAAC,KAAD,CAASkQ,YAAY,OAAOC,OAAK,GAC/B,kBAAC,GAAD,CAAO5gD,MAAO,GAAd,uCAEF,kBAAC,GAAD,CAAWuwC,UAAWA,GAAW6O,aAxBpB,WAAsB,IAArByB,EAAoB,uDAAP,GAEjCxE,EADA9L,GAAYsQ,GAEZP,GAAWvvB,U,WCgFA+vB,GAjHM,SAACx5C,GAAW,IACzB3H,EAAO8mB,cAAP9mB,GADwB,EAEE7E,mBAAS,IAFX,mBAEvB0kD,EAFuB,KAEbuB,EAFa,OAGFjmD,mBAAS,IAHP,mBAGfo+C,GAHe,aAIFp+C,mBAAS,IAJP,mBAIf8kC,GAJe,WAY9B7jC,qBAAU,WACRy0C,MACC,IAEH,IAAMA,EAAS,yCAAG,uDAAAvpC,EAAA,sEACc1J,aAAG+7C,KAAkB3U,OAAOhlC,IAD1C,0CACXxB,EADW,KACJqhD,EADI,cAEmBjiD,aAAGg8C,KAAuBh+C,SAF7C,0CAEXylD,EAFW,YAEHvH,OAFG,MAEO,GAFP,YAGmBl8C,aAAGi8C,KAAwBj+C,SAH9C,gDAGHm+C,OAHG,MAGO,GAHP,EAIZv7C,GAAOvB,IAAQuB,MAAM,oEACrB6iD,GAAQpkD,IAAQuB,MAAM,0FACtBm8C,GAAWkF,EAASnsB,QAAU,IAAI1kB,KAAI,SAAC1S,GACzC,OAAO,2BAAKA,GAAZ,IAAkB6+C,YAAY,OAEhCiG,EAAY,2BAAKvB,GAAL,IAAensB,OAAQinB,KAAa,IAChDpB,EAAUO,GACV7Z,EAAU8Z,GACVt9C,QAAQC,IAAI,WAAYmjD,GAZR,4CAAH,qDA6BTyB,EAAa,SAACv/C,GAClB,OAAQA,GACN,KAAK,EACH,MAAO,UACT,KAAK,EACH,MAAO,OACT,QACE,MAAO,KAIb,OACE,6BACE,kBAAC,KAAD,CACEowC,UAAQ,EACRn2B,OAAO,WACPtd,MAAM,gCACN6iD,MAAO,kBAAC,IAAD,CAAQliD,KAAK,WAAb,kCAEP,kBAAC,KAAaH,KAAd,CAAmBqd,MAAM,0BAAasjC,EAASjmD,MAC/C,kBAAC,KAAasF,KAAd,CAAmBqd,MAAM,8BACtB1S,KAAOg2C,EAASpG,SAAS3vC,OAAO,eAEnC,kBAAC,KAAa5K,KAAd,CAAmBqd,MAAM,oBACtB1S,KAAOg2C,EAASpkC,WAAW3R,OAAO,eAErC,kBAAC,KAAa5K,KAAd,CAAmBqd,MAAM,6BACtB07B,KAAEl0C,IAAI87C,EAAU,YAAa,KAEhC,kBAAC,KAAa3gD,KAAd,CAAmBqd,MAAM,sBACvB,kBAAC,KAAD,CAAKhc,MAAK,UAAK+gD,EAAWrJ,KAAEl0C,IAAI87C,EAAU,cAAe,SACtD5H,KAAEl0C,IAAI87C,EAAU,cAAe,MAGpC,kBAAC,KAAa3gD,KAAd,CAAmBqd,MAAM,yBACvB,kBAAC,KAAD,CAAKhc,MAAO+gD,EAAWrJ,KAAEl0C,IAAI87C,EAAU,aAAc,QAClD5H,KAAEl0C,IAAI87C,EAAU,aAAc,MAInC,kBAAC,KAAa3gD,KAAd,CAAmBqd,MAAM,gBAAQ9L,KAAM,GACpCovC,EAAS1/C,aAEZ,kBAAC,KAAajB,KAAd,CAAmBqd,MAAM,WAAM9L,KAAM,GACnC,kBAAC,KAAD,CACEijB,OAAQmsB,EAASnsB,QAAU,GAC3BkoB,wBAAwB,EACxB4F,sBAAsB,KAG1B,kBAAC,KAAatiD,KAAd,CAAmBqd,MAAM,iBAAS9L,KAAM,GACrCovC,EAAS30C,SACV,4BACEpL,IAAI,6SACJY,MAAM,OACNkQ,OAAO,MACP6wC,YAAY,IACZniD,MAAO,CAAEk8C,OAAQ,GACjBkG,gBAAgB,GAChBtO,cAAY,QACZF,SAAS,U,UCvEN5mC,GA1CA,SAAC,GAA4B,IAA1BvO,EAAyB,EAAzBA,QAAS4jD,EAAgB,EAAhBA,UAAgB,EACCxmD,mBAAS,IADV,mBAChCymD,EADgC,KAClBC,EADkB,OAEC1mD,mBAAS,OAFV,mBAEhC2mD,EAFgC,KAElBC,EAFkB,KAcvC,OACI,+BACI,4BACKhkD,EAAQiR,KAAI,gBAAGpV,EAAH,EAAGA,KAAMq8B,EAAT,EAASA,MAAO+rB,EAAhB,EAAgBA,SAAhB,OACT,wBAAIxhD,UAAU,gBAAgBlB,MAAO,CAAC63B,gBAAiB,SACnDh6B,IAAKvD,EACL4F,QAAS,kBACLwiD,EAjBA,SAAC/rB,GACrB,IAAMgL,EACFhL,IAAU2rB,GAAiC,QAAjBE,EAAyB,OAAS,MAEhED,EAAgB5rB,GAChB8rB,EAAgB9gB,GAChB0gB,EAAU1rB,EAAOgL,GAWcghB,CAAgBhsB,GAAS,OAGvCr8B,EAEAgoD,GAAgBA,IAAiB3rB,GAC9B,kBAAC,KAAD,CACI5oB,KACqB,QAAjBy0C,EACM,aACA,oB,UCiB3BI,GAhDa,SAAC,GAKtB,IAAD,IAJF9mD,aAIE,MAJM,EAIN,MAHF+mD,oBAGE,MAHa,GAGb,MAFFC,mBAEE,MAFY,EAEZ,EADFC,EACE,EADFA,aACE,EACkClnD,mBAAS,GAD3C,mBACKg5C,EADL,KACiBmO,EADjB,KAGFlmD,qBAAU,WACFhB,EAAQ,GAAK+mD,EAAe,GAC5BG,EAActzB,KAAKuzB,KAAKnnD,EAAQ+mD,MACrC,CAAC/mD,EAAO+mD,IAEX,IAAMK,EAAkBC,mBAAQ,WAG5B,IAFA,IAAMC,EAAQ,GADoB,WAGzBt3B,GACLs3B,EAAMziD,KACF,kBAAC,KAAWf,KAAZ,CACI/B,IAAKiuB,EACLu3B,OAAQv3B,IAAMg3B,EACd5iD,QAAS,kBAAM6iD,EAAaj3B,KAE3BA,KAPJA,EAAI,EAAGA,GAAK+oB,EAAY/oB,IAAM,EAA9BA,GAYT,OAAOs3B,IACR,CAACvO,EAAYiO,IAEhB,OAAmB,IAAfjO,EAAyB,KAGzB,kBAAC,KAAD,KACI,kBAAC,KAAWyO,KAAZ,CACIpjD,QAAS,kBAAM6iD,EAAaD,EAAc,IAC1CvwC,SAA0B,IAAhBuwC,IAEbI,EACD,kBAAC,KAAWK,KAAZ,CACIrjD,QAAS,kBAAM6iD,EAAaD,EAAc,IAC1CvwC,SAAUuwC,IAAgBjO,MCxB3BniC,GAnBA,SAAC,GAAkB,IAAhB0Q,EAAe,EAAfA,SAAe,EACDvnB,mBAAS,IADR,mBACtB2I,EADsB,KACdg/C,EADc,KAO7B,OACI,2BACIzjD,KAAK,OACLmB,UAAU,eACVlB,MAAO,CAAEoB,MAAO,SAChB4J,YAAY,sBACZzQ,MAAOiK,EACPuE,SAAU,SAAAkC,GAAC,OAXG1Q,EAWe0Q,EAAEC,OAAO3Q,MAV1CipD,EAAUjpD,QACV6oB,EAAS7oB,GAFS,IAAAA,M,qBCMXkpD,GARQ,WACnB,OACI,yBAAKviD,UAAU,eAAelB,MAAO,CAACsM,MAAO,WACzC,yBAAK9L,IAAKkjD,KAASxiD,UAAU,YAAY8H,IAAI,cCO1C26C,GAVW,WAAO,IAAD,EACE9nD,oBAAS,GADX,mBACrBa,EADqB,KACZC,EADY,KAG5B,MAAO,CACHD,EAAU,kBAAC,GAAD,MAAqB,KAC/B,kBAAMC,GAAW,IACjB,kBAAMA,GAAW,M,qHCGnBogC,GAAYC,cAAW,SAAC5tB,GAAD,MAAY,CAEvC8uC,MAAO,CACL58C,SAAU,IAEZsiD,SAAU,CACRplB,QAAS,GACTlzB,OAAQ,GAEVkqC,MAAO,CACLroC,QAAS,OACTK,WAAY,SACZJ,eAAgB,UAElBmxB,MAAO,CACL1G,gBAAiBzoB,EAAMsvB,QAAQz+B,WAAWs+B,MAE1CslB,UAAWz0C,EAAM00C,QAAQ,GACzBtlB,QAASpvB,EAAMqvB,QAAQ,EAAG,EAAG,IAG/BslB,OAAQ,CACNz4C,OAAQ8D,EAAMqvB,QAAQ,IAGxBulB,UAAW,CACT72C,QAAS,OACTK,WAAY,SACZJ,eAAgB,cAML,SAAS62C,GAAiB57C,GAgBvC,IAAM+0B,EAAUL,KAhB8B,EAiBtB9zB,IAAMpN,UAAS,GAjBO,mBAiBvCqoD,EAjBuC,KAiBjCC,EAjBiC,OAmBlBtoD,mBAAS,IAnBS,mBAmBvC6iB,EAnBuC,KAmB/B0zB,EAnB+B,KAsDxCgS,EAAe,SAACzJ,GAEpB0J,EAAQ1J,EAAKrgD,MACbgqD,EAAS3J,EAAK4J,OACdC,EAAS7J,EAAK15C,OACdwjD,EAAc9J,EAAK+J,YACnBC,EAAmBhK,EAAKjI,iBACxBkS,EAAkBjK,EAAKkK,gBACvBC,EAAkBnK,EAAKlI,gBACvBsS,EAAiBpK,EAAKqK,eACtBC,GAAWtK,EAAKnI,cAChB0S,EAAYvK,EAAKwK,WAjE2B,EAoEdtpD,qBApEc,mBAoEvCspD,EApEuC,KAoE7BD,EApE6B,OAqEtBrpD,mBAAS,IArEa,mBAqEvCvB,EArEuC,KAqEjC+pD,EArEiC,OAsEpBxoD,mBAAS6iB,EAAO6lC,OAtEI,mBAsEvCA,EAtEuC,KAsEhCD,EAtEgC,OAuEpBzoD,mBAAS6iB,EAAOzd,OAvEI,mBAuEvCA,EAvEuC,KAuEhCujD,EAvEgC,OAwEV3oD,mBAAS6iB,EAAOgmC,YAxEN,mBAwEvCA,EAxEuC,KAwE3BD,EAxE2B,OAyEA5oD,mBAAS6iB,EAAOg0B,iBAzEhB,mBAyEvCA,EAzEuC,KAyEtBiS,EAzEsB,OA0EF9oD,mBAAS6iB,EAAOmmC,gBA1Ed,mBA0EvCA,EA1EuC,KA0EvBD,EA1EuB,OA2EF/oD,mBAAS6iB,EAAO+zB,gBA3Ed,mBA2EvCA,EA3EuC,KA2EvBqS,EA3EuB,OA4EJjpD,mBAAS6iB,EAAOsmC,eA5EZ,mBA4EvCA,EA5EuC,KA4ExBD,EA5EwB,OA6EXlpD,mBAAS6iB,EAAO8zB,cA7EL,mBA6EvCA,EA7EuC,KA6EzByS,GA7EyB,KAsH9C,OACE,6BAEE,kBAACnnB,GAAA,EAAD,CACE59B,QA1Fa,WAVjBg5C,MAAM,wCAA0C7wC,EAAM3H,IACnD7B,MAAK,SAAAC,GAAQ,OAAIA,EAAS67C,UAC1B97C,MAAK,SAAA87C,GACJvI,EAAUuI,GACVx9C,QAAQC,IAAIu9C,GACZwJ,GAAQ,GACRC,EAAazJ,OA+Fbrb,QAAQ,YACRr+B,MAAM,UACNmkD,UAAW,kBAAC,KAAD,QAGb,kBAACpxC,GAAA,EAAD,CACE6/B,kBAAgB,yBAChBwR,mBAAiB,+BACjBnkD,UAAWk8B,EAAQoY,MACnB0O,KAAMA,EACNjF,QA5Fc,WAClBkF,GAAQ,IA4FJmB,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACb/nD,QAAS,MAGX,kBAACgoD,GAAA,EAAD,CAAMC,GAAIzB,GACR,yBAAKhjD,UAAWk8B,EAAQmB,OACtB,wBAAI79B,GAAG,0BAAP,SAAuC2H,EAAM3H,GAA7C,KACA,kBAAC,IAAD,KACE,kBAAC,KAAD,KACE,kBAAC,KAAKd,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,sCACA,kBAAC,KAAD,CACErpD,MAAOD,EACP4G,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAIykB,EAAQzkB,EAAM10B,OAAO3Q,WAG5C,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,iDACA,kBAAC,KAAD,CACErpD,MAAOgqD,EACPrjD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI0kB,EAAS1kB,EAAM10B,OAAO3Q,WAG7C,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,sCACA,kBAAC,KAAD,CACE7jD,KAAK,OACLxF,MAAO0G,EACPC,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI4kB,EAAS5kB,EAAM10B,OAAO3Q,WAG7C,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,uDACA,kBAAC,KAAD,CACErpD,MAAOmqD,EACPxjD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI6kB,EAAc7kB,EAAM10B,OAAO3Q,WAGlD,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,mEACA,kBAAC,KAAD,CACErpD,MAAOsqD,EACP3jD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAIglB,EAAkBhlB,EAAM10B,OAAO3Q,YAKxD,kBAAC,KAAD,KACE,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,kFACA,kBAAC,KAAD,CACErpD,MAAOk4C,EACPvxC,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAIklB,EAAkBllB,EAAM10B,OAAO3Q,WAGtD,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,4DACA,kBAAC,KAAD,CACErpD,MAAOyqD,EACP9jD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAImlB,EAAiBnlB,EAAM10B,OAAO3Q,WAGrD,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,iDACA,kBAAC,KAAD,CACErpD,MAAOm4C,EACPxxC,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI+kB,EAAmB/kB,EAAM10B,OAAO3Q,WAGvD,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,8DACA,kBAAC,KAAD,CACErpD,MAAOi4C,EACPtxC,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAIqlB,GAAWrlB,EAAM10B,OAAO3Q,WAG/C,kBAACujC,GAAA,EAAD,CACA58B,UAAWk8B,EAAQ8gB,MACjBh+C,QAAS,SAAC+K,GACRA,EAAE+X,iBACFa,OAAOqgC,KAAKiB,EAAU,WAExB7lB,QAAQ,YACRr+B,MAAM,UACNmkD,UAAW,kBAAC,KAAD,OARb,kBAgBJ,yBAAKlkD,UAAWk8B,EAAQ4mB,WACtB,kBAAClmB,GAAA,EAAD,CACE59B,QAnMK,WACjBg5C,MAAM,uCAAyC7wC,EAAM3H,IAClD7B,MAAK,SAAAC,GAAQ,OAAIA,EAAS67C,UAC1B97C,MAAK,SAAA87C,GACJvI,EAAUuI,GACVtG,MAAM,sCACN8P,GAAQ,GACRtgC,OAAOjY,SAASkmB,aA6LRwN,QAAQ,YACRr+B,MAAM,YACNC,UAAWk8B,EAAQ2mB,OACnBqB,UAAW,kBAAC,KAAD,OALb,gBASA,kBAACtnB,GAAA,EAAD,CACE59B,QA1KI,WAEhB,IAAIzB,EAAU,IAAImnD,QAElBnnD,EAAQ+G,OAAO,eAAgB,oBAC/B/G,EAAQ+G,OAAO,SAAU,oBAEzB/G,EAAQ+G,OAAO,8BAA+B,KAE9C,IAAMytC,EAAiB,CACrB10C,OAAQ,OACRE,QAASA,EACTqG,KAAMk0C,KAAK91C,UAAU,CACnBqhD,MAAOA,EACPtjD,MAAOA,EACPyjD,WAAYA,EACZhkD,GAAI2H,EAAM3H,GACVmlD,MAAO,EACPnT,gBAAiBA,EACjBmS,eAAgBA,EAChBpS,eAAgBA,EAChBuS,cAAeA,EACf1qD,KAAMA,EACNk4C,aAAcA,EACdsT,KAAM,EACNhT,MAAM,KAGVoG,MAAM,oCAAqCjG,GAC1Cp0C,MAAK,SAAAC,GAAQ,OAAIA,EAASuV,UAC1BxV,MAAK,SAAAknD,GACJ1R,MAAM,kDACN8P,GAAQ,GACRtgC,OAAOjY,SAASkmB,YAGjB7yB,OAAM,kBAAM9B,QAAQC,IAAI,yFAuIbkiC,QAAQ,YACRr+B,MAAM,UACNC,UAAWk8B,EAAQ2mB,OACnBqB,UAAW,kBAAC,KAAD,OALb,iB,8CCxRRroB,GAAYC,cAAW,SAAC5tB,GAAD,MAAY,CACvC8uC,MAAO,CACL58C,SAAU,IAEZsiD,SAAU,CACRplB,QAAS,GACTlzB,OAAQ,GAEVkqC,MAAO,CACLroC,QAAS,OACTK,WAAY,SACZJ,eAAgB,SAChBorC,SAAS,UAEXja,MAAO,CACL1G,gBAAiBzoB,EAAMsvB,QAAQz+B,WAAWs+B,MAE1CslB,UAAWz0C,EAAM00C,QAAQ,GACzBtlB,QAASpvB,EAAMqvB,QAAQ,EAAG,EAAG,IAG/BslB,OAAQ,CACNz4C,OAAQ8D,EAAMqvB,QAAQ,IAGxBulB,UAAW,CACT72C,QAAS,OACTK,WAAY,SACZJ,eAAgB,cAKL,SAAS62C,GAAiB57C,GACvC,IAAM+0B,EAAUL,KAD8B,EAEtB9zB,IAAMpN,UAAS,GAFO,mBAEvCqoD,EAFuC,KAEjCC,EAFiC,OAetBtoD,qBAfsB,mBAevCvB,EAfuC,KAejC+pD,EAfiC,OAgBpBxoD,qBAhBoB,mBAgBvC0oD,EAhBuC,KAgBhCD,EAhBgC,OAiBpBzoD,qBAjBoB,mBAiBvCoF,EAjBuC,KAiBhCujD,EAjBgC,OAkBV3oD,qBAlBU,mBAkBvC6oD,EAlBuC,KAkB3BD,EAlB2B,OAmBA5oD,qBAnBA,mBAmBvC62C,EAnBuC,KAmBtBiS,EAnBsB,OAoBF9oD,qBApBE,mBAoBvCgpD,EApBuC,KAoBvBD,EApBuB,OAqBF/oD,qBArBE,mBAqBvC42C,EArBuC,KAqBvBqS,EArBuB,OAsBJjpD,qBAtBI,mBAsBvCmpD,EAtBuC,KAsBxBD,EAtBwB,OAuBXlpD,qBAvBW,mBAuBvC22C,EAvBuC,KAuBzByS,EAvByB,OAyBJppD,mBAAS,MAzBL,mBAyBxBmqD,GAzBwB,aA0BdnqD,mBAAS,IA1BK,6BAkF9C,OACE,6BAEE,kBAACiiC,GAAA,EAAD,CACE59B,QAlFa,WACjBikD,GAAQ,IAkFJ7kB,QAAQ,YACRr+B,MAAM,UACNmkD,UAAW,kBAAC,KAAD,OAJb,iBAQA,kBAACpxC,GAAA,EAAD,CACE6/B,kBAAgB,yBAChBwR,mBAAiB,+BACjBnkD,UAAWk8B,EAAQoY,MACnB0O,KAAMA,EACNjF,QAzFc,WAClBkF,GAAQ,IAyFJmB,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACb/nD,QAAS,MAGX,kBAACgoD,GAAA,EAAD,CAAMC,GAAIzB,GACR,yBAAKhjD,UAAWk8B,EAAQmB,OACtB,kBAAC,IAAD,KACE,kBAAC,KAAD,CACE0nB,UAAU,EACVC,aAAa,EACbC,WAAW,gBACXp9C,SApCd,SAAgBq9C,GAEdjpD,QAAQC,IAAIgpD,GACZJ,EAAiBI,EAAQ,KAkCbC,aAAc,CAAC,OAAQ,OAAQ,OAAQ,QACvCC,YAAa,QACbC,aAAa,KAGjB,kBAAC,IAAD,KACE,kBAAC,KAAD,KACE,kBAAC,KAAK3mD,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,sCACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAIykB,EAAQzkB,EAAM10B,OAAO3Q,WAG5C,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,iDACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI0kB,EAAS1kB,EAAM10B,OAAO3Q,WAG7C,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,sCACA,kBAAC,KAAD,CACE7jD,KAAK,OACLmB,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI4kB,EAAS5kB,EAAM10B,OAAO3Q,WAG7C,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,uDACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI6kB,EAAc7kB,EAAM10B,OAAO3Q,WAGlD,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,mEACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAIglB,EAAkBhlB,EAAM10B,OAAO3Q,YAKxD,kBAAC,KAAD,KACE,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,kFACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAIklB,EAAkBllB,EAAM10B,OAAO3Q,WAGtD,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,4DACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAImlB,EAAiBnlB,EAAM10B,OAAO3Q,WAGrD,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,iDACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI+kB,EAAmB/kB,EAAM10B,OAAO3Q,WAGvD,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,8DACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAIqlB,EAAWrlB,EAAM10B,OAAO3Q,aAQnD,yBAAK2G,UAAWk8B,EAAQ4mB,WACtB,kBAAClmB,GAAA,EAAD,CACE59B,QAtKI,WAWhB,IAAIzB,EAAU,IAAImnD,QAElBnnD,EAAQ+G,OAAO,eAAgB,oBAC/B/G,EAAQ+G,OAAO,SAAU,oBAEzB/G,EAAQ+G,OAAO,8BAA+B,KAE9C,IAAMytC,EAAiB,CACrB10C,OAAQ,OACRE,QAASA,EACTqG,KAAMk0C,KAAK91C,UAAU,CACnBqhD,MAAOA,EACP9hD,KAAM4F,EAAM5F,KACZxB,MAAOA,EACPyjD,WAAYA,EACZhkD,GAAI2H,EAAM3H,GACVmlD,MAAO,EACPnT,gBAAiBA,EACjBmS,eAAgBA,EAChBpS,eAAgBA,EAChBuS,cAAeA,EACf1qD,KAAMA,EACNk4C,aAAcA,EACdsT,KAAM,EACNhT,MAAM,KAIVoG,MAAM,oCAAqCjG,GAC1Cp0C,MAAK,SAAAC,GAAQ,OAAIA,EAASuV,UAC1BxV,MAAK,SAAAknD,GACJ1R,MAAM,wCACN8P,GAAQ,MACTllD,OAAM,kBAAM9B,QAAQC,IAAI,mGA2HbkiC,QAAQ,YACRr+B,MAAM,UACNC,UAAWk8B,EAAQ2mB,OACnBqB,UAAW,kBAAC,KAAD,OALb,iB,iRCrOd,IA0JeoB,GA1JG,WAEd,IAAMC,EAAS5sD,IAAOC,IAAV,MAFQ,EAqBQ+B,mBAAS,IArBjB,mBAqBb6iB,EArBa,KAqBL0zB,EArBK,OAsBqBuR,KAtBrB,mBAsBb+C,EAtBa,KAsBLC,EAtBK,KAsBOC,EAtBP,OAuBgB/qD,mBAAS,GAvBzB,mBAuBbgrD,EAvBa,KAuBDC,EAvBC,OAwBkBjrD,mBAAS,GAxB3B,mBAwBbinD,EAxBa,KAwBAiE,EAxBA,OAyBQlrD,mBAAS,IAzBjB,mBAyBb2I,EAzBa,KAyBLg/C,EAzBK,OA0BU3nD,mBAAS,CAAE86B,MAAO,GAAIgL,MAAO,KA1BvC,mBA0BbqlB,EA1Ba,KA0BJC,EA1BI,KAuDpBnqD,qBAAU,WAXN6pD,IAEAzN,MAAM,uCACDr6C,MAAK,SAAAC,GAAQ,OAAIA,EAAS67C,UAC1B97C,MAAK,SAAA87C,GACFiM,IACAxU,EAAUuI,GACVx9C,QAAQC,IAAIu9C,QAMrB,IAEH,IAAMx7B,EAAagkC,mBAAQ,WACvB,IAAI+D,EAAiBxoC,EAYrB,GAVIla,IACA0iD,EAAiBA,EAAejjD,QAC5B,SAAAkjD,GAAO,OACHA,EAAQzmD,GAAGogB,cAAcyC,SAAS/e,EAAOsc,mBAIrDgmC,EAAcI,EAAehpD,QAGzB8oD,EAAQrwB,MAAO,CACf,IAAMywB,EAA6B,QAAlBJ,EAAQrlB,MAAkB,GAAK,EAChDulB,EAAiBA,EAAeG,MAC5B,SAACr/C,EAAGgU,GAAJ,OACIorC,EAAWp/C,EAAEg/C,EAAQrwB,OAAO1a,cAAcD,EAAEgrC,EAAQrwB,MAAMva,cAKtE,OAAO8qC,EAAe5kD,MArDH,IAsDdwgD,EAAc,GAtDA,IAuDdA,EAAc,GAvDA,MAyDpB,CAACpkC,EAAQokC,EAAat+C,EAAQwiD,IAEjC,OAEI,oCACI,yBAAK9lD,UAAU,OACX,yBAAKA,UAAU,YACX,kBAAC,GAAD,OAEJ,yBAAKA,UAAU,YACX,kBAAC,GAAD,CACIpF,MAAO+qD,EACPhE,aArEG,GAsEHC,YAAaA,EACbC,aAAc,SAAA7jB,GAAI,OAAI6nB,EAAe7nB,OAG7C,yBAAKh+B,UAAU,oCACX,kBAAC,GAAD,CACIkiB,SAAU,SAAA7oB,GACNipD,EAAUjpD,GACVwsD,EAAe,QAK/B,kBAACN,EAAD,KACCC,EACG,yBAAKxlD,UAAU,aACX,yBAAKA,UAAU,+BAGX,2BAAOA,UAAU,oCACb,kBAAC,GAAD,CACIzC,QAzFZ,CACZ,CAAEnE,KAAM,MAAOq8B,MAAO,KAAM+rB,UAAU,GACtC,CAAEpoD,KAAM,SAAOq8B,MAAO,OAAQ+rB,UAAU,GACxC,CAAEpoD,KAAM,oBAAaq8B,MAAO,QAAS+rB,UAAU,GAC/C,CAAEpoD,KAAM,SAAOq8B,MAAO,QAAS+rB,UAAU,GACzC,CAAEpoD,KAAM,0BAAcq8B,MAAO,YAAa+rB,UAAU,GACpD,CAAEpoD,KAAM,sCAAwBq8B,MAAO,iBAAkB+rB,UAAU,GACnE,CAAEpoD,KAAM,iDAAyBq8B,MAAO,iBAAkB+rB,UAAU,GACpE,CAAEpoD,KAAM,4CAA8Bq8B,MAAO,gBAAiB+rB,UAAU,GACxE,CAAEpoD,KAAM,oBAAgBq8B,MAAO,kBAAmB+rB,UAAU,GAC5D,CAAEpoD,KAAM,iCAAwBq8B,MAAO,eAAgB+rB,UAAU,GACjE,CAAEpoD,KAAM,QAASq8B,MAAO,eAAgB+rB,UAAU,IA+E1BL,UAAW,SAAC1rB,EAAOgL,GAAR,OACPslB,EAAW,CAAEtwB,QAAOgL,aAG5B,+BACKxiB,EAAWzP,KAAI,SAAAU,GAAK,OACjB,4BACI,wBAAIk3C,MAAM,MAAMzpD,IAAKuS,EAAM1P,IACtB0P,EAAM1P,IAEX,4BAAK0P,EAAM9V,MACX,4BAAK8V,EAAMm0C,OACX,4BAAKn0C,EAAMnP,OACX,4BAAKmP,EAAMs0C,YACX,4BAAKt0C,EAAMy0C,gBACX,4BAAKz0C,EAAMqiC,gBACX,4BAAKriC,EAAM40C,eACX,4BAAK50C,EAAMsiC,iBACX,4BAAKtiC,EAAMoiC,cACX,4BACI,kBAAC,GAAD,CAAoB/vC,KAAM2N,EAAM3N,KAAM/B,GAAI0P,EAAM1P,iB,gCCYzEugB,wBAAaC,0BAnJhC,WAAgB,IAAD,EAG6BrlB,mBAAS,MAHtC,mBAGN0rD,EAHM,KAGSC,EAHT,OAuBW3rD,mBAAS,IAvBpB,mBAuBNqvB,EAvBM,KAuBAu8B,EAvBA,OAwB2B5rD,mBAAS,IAxBpC,mBAwBN41B,EAxBM,KAwBQi2B,EAxBR,KAyDb,OAfA5qD,qBAAU,WAhBRo8C,MAAM,gDACDr6C,MAAK,SAAAC,GAAQ,OAAIA,EAAS67C,UAC1B97C,MAAK,SAAA87C,GACF8M,EAAQ9M,MAehB,IAAMgN,EAAW,SAAA18C,GACD,WAAVA,EAAEpN,KACJ2pD,EAAiB,OAMrB,OAFA3jC,OAAOtc,iBAAiB,UAAWogD,GAE5B,WACL9jC,OAAO+jC,oBAAoB,UAAWD,MAEvC,IAGH,oCACE,kBAAC,aAAD,CACEznD,QAAS,SAAC+K,GACR9N,QAAQC,IAAI,MAAM6N,EAAEiZ,OAAOhC,OAC3BslC,EAAiBv8C,IAEnBiY,YAAa,GACbC,cAAe,CAAEjB,IAAK,UAAWC,IAAK,aAIrCsP,EAAa/hB,KAAI,SAAAgiB,GAAK,OACjB,kBAAC,UAAD,CACA7zB,IAAK6zB,EAAMhxB,GACT+iB,SAAU,CACRvB,IAAKwP,EAAME,YACXzP,IAAKuP,EAAMG,aAEb3xB,QAAS,kBAMhBqnD,GACC,kBAAC,cAAD,CACE9iC,aAAc,aAEdhB,SAAU,CACRvB,IAAKqlC,EAAcrjC,OAAOhC,MAC1BC,IAAKolC,EAAcrjC,OAAO/B,QAI5B,6BACF,2BAAIolC,EAAcrjC,OAAOhC,MAAzB,MAAmCqlC,EAAcrjC,OAAO/B,UAM5D,kBAAC0lC,GAAA,EAAD,CACA5mD,MAAM,UAAU+yC,aAAW,MAAMh0C,MA/FrB,CACZsL,OAAQ,EACRoY,IAAK,OACLmY,MAAO,GACPpqB,OAAQ,GACRkS,KAAM,OACNF,SAAU,SA0FVvjB,QAAS,SAAC+K,GACRA,EAAE+X,iBACFa,OAAOjY,SAAShL,KAAK,kBAGnB,kBAAC,KAAD,OAEA,2BAAOZ,MAAO,CAAEsR,OAAO,OAASpQ,UAAU,uBACxC,kBAAC,GAAD,CACIzC,QAhGI,CACd,CAAEnE,KAAM,UAAWq8B,MAAO,UAAW+rB,UAAU,GAC/C,CAAEpoD,KAAM,kCAAiBq8B,MAAO,OAAQ+rB,UAAU,GAClD,CAAEpoD,KAAM,8BAAoBq8B,MAAO,mBAAoB+rB,UAAU,GACjE,CAAEpoD,KAAM,gBAAYq8B,MAAO,eAAgB+rB,UAAU,GACrD,CAAEpoD,KAAM,yBAAWq8B,MAAO,YAAa+rB,UAAU,GACjD,CAAEpoD,KAAM,mBAAYq8B,MAAO,UAAW+rB,UAAU,MA+F1C,+BACKx3B,EAAKxb,KAAI,SAAAo4C,GAAU,OAChB,4BACI,wBAAIR,MAAM,MAAMzpD,IAAKiqD,EAAWpnD,IAC3BonD,EAAWzV,SAEhB,4BAAKyV,EAAWxtD,MAChB,4BAAKwtD,EAAWC,kBAChB,4BAAKD,EAAWE,cAChB,4BAAKF,EAAWhoC,WAChB,4BAAKgoC,EAAW/nC,SAChB,4BACA,kBAAC+d,GAAA,EAAD,CACE59B,QAAU,WA/FT,IAACQ,EAgGAvD,QAAQC,IAAI,4BAA8B0qD,EAAWpnD,IAhGrDA,EAiGeonD,EAAWpnD,GAhGhDw4C,MAAM,qDAAqDx4C,GACtD7B,MAAK,SAAAC,GAAQ,OAAIA,EAAS67C,UAC1B97C,MAAK,SAAA87C,GAEJ+M,EAAgB/M,OA+FFrb,QAAQ,YACRr+B,MAAM,WAPR,4CCqFtB,IAAMgnD,GAAahnC,wBAAaC,0BAhNhC,WAAgB,IAAD,EACWjY,IAAMpN,UAAS,GAD1B,mBACNqoD,EADM,KACAC,EADA,KAGPpnB,EAAYC,cAAW,SAAC5tB,GAAD,MAAY,CACvC8uC,MAAO,CACL58C,SAAU,IAEZsiD,SAAU,CACRplB,QAAS,GACTlzB,OAAQ,GAEVkqC,MAAO,CACLroC,QAAS,OACTK,WAAY,SACZJ,eAAgB,UAElBmxB,MAAO,CACL1G,gBAAiBzoB,EAAMsvB,QAAQz+B,WAAWs+B,MAE1CslB,UAAWz0C,EAAM00C,QAAQ,GACzBtlB,QAASpvB,EAAMqvB,QAAQ,EAAG,EAAG,IAG/BslB,OAAQ,CACNz4C,OAAQ8D,EAAMqvB,QAAQ,IAGxBulB,UAAW,CACT72C,QAAS,OACTK,WAAY,SACZJ,eAAgB,cA9BP,EAiCevR,qBAjCf,mBAiCNqsD,EAjCM,KAiCEC,EAjCF,OAkCiBtsD,qBAlCjB,mBAkCNw2C,EAlCM,KAkCG+V,EAlCH,OAmCmBvsD,qBAnCnB,mBAmCNwsD,EAnCM,KAmCIC,EAnCJ,OAoCuBzsD,qBApCvB,mBAoCN0sD,EApCM,KAoCMC,EApCN,KA0FPprB,EAAUL,IA1FH,EA2F6BlhC,mBAAS,MA3FtC,mBA2FN0rD,EA3FM,KA2FSC,EA3FT,KAqHb,OAdA1qD,qBAAU,WACR,IAAM6qD,EAAW,SAAA18C,GACD,WAAVA,EAAEpN,KACJ2pD,EAAiB,OAMrB,OAFA3jC,OAAOtc,iBAAiB,UAAWogD,GAE5B,WACL9jC,OAAO+jC,oBAAoB,UAAWD,MAEvC,IAGH,oCACE,kBAAC,aAAD,CACEznD,QAAS,SAAC+K,GACR9N,QAAQC,IAAI,MAAM6N,EAAEiZ,OAAOhC,OAC3BslC,EAAiBv8C,IAEnBiY,YAAa,GACbC,cAAe,CAAEjB,IAAK,UAAWC,IAAK,aAKrColC,GACC,kBAAC,cAAD,CACE9iC,aAAc,aAEdhB,SAAU,CACRvB,IAAKqlC,EAAcrjC,OAAOhC,MAC1BC,IAAKolC,EAAcrjC,OAAO/B,QAI5B,6BACF,2BAAIolC,EAAcrjC,OAAOhC,MAAzB,MAAmCqlC,EAAcrjC,OAAO/B,UAM5D,kBAAC0lC,GAAA,EAAD,CACA5mD,MAAM,UAAU+yC,aAAW,MAAMh0C,MAxDrB,CACZsL,OAAQ,EACRoY,IAAK,OACLmY,MAAO,GACPpqB,OAAQ,GACRkS,KAAM,OACNF,SAAU,SAmDVvjB,QAAS,SAAC+K,IArFM,WAChB,IAAIxM,EAAU,IAAImnD,QAElBnnD,EAAQ+G,OAAO,eAAgB,oBAC/B/G,EAAQ+G,OAAO,SAAU,oBAEzB/G,EAAQ+G,OAAO,8BAA+B,KAE9C,IAAMytC,EAAiB,CACrB10C,OAAQ,OACRE,QAASA,EACTqG,KAAMk0C,KAAK91C,UAAU,CACnBmvC,QAASA,EACToW,aAAcP,EACdt2B,YAAa21B,EAAcrjC,OAAOhC,MAClC2P,YAAa01B,EAAcrjC,OAAO/B,SAItC+2B,MAAM,0CAA2CjG,GAChDp0C,MAAK,SAAAC,GAAQ,OAAIA,EAASuV,UAC1BxV,MAAK,SAAAknD,GACJ5B,GAAQ,MACTllD,OAAM,kBAAM9B,QAAQC,IAAI,kGA+DvBsrD,KAGE,kBAAC,KAAD,OAEJ,kBAAC10C,GAAA,EAAD,CACI6/B,kBAAgB,yBAChBwR,mBAAiB,+BACjBnkD,UAAWk8B,EAAQoY,MACnB0O,KAAMA,EACNoB,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACb/nD,QAAS,MAGX,kBAACgoD,GAAA,EAAD,CAAMC,GAAIzB,GACR,yBAAKhjD,UAAWk8B,EAAQmB,OAClB,kBAAC,KAAK3+B,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,wCACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAIwoB,EAAWxoB,EAAM10B,OAAO3Q,WAG/C,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,+DACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI0oB,EAAY1oB,EAAM10B,OAAO3Q,WAGhD,kBAAC,KAAKqF,KAAN,CAAWsB,UAAWk8B,EAAQwmB,UAC5B,6CACA,kBAAC,KAAD,CACE1iD,UAAWk8B,EAAQ8gB,MACnBn1C,SAAU,SAAA62B,GAAK,OAAI4oB,EAAc5oB,EAAM10B,OAAO3Q,WAGtD,yBAAK2G,UAAWk8B,EAAQ4mB,WACtB,kBAAClmB,GAAA,EAAD,CACE59B,QA1JG,WACf,IAAIzB,EAAU,IAAImnD,QAElBnnD,EAAQ+G,OAAO,eAAgB,oBAC/B/G,EAAQ+G,OAAO,SAAU,oBAEzB/G,EAAQ+G,OAAO,8BAA+B,KAE9C,IAAMytC,EAAiB,CACrB10C,OAAQ,OACRE,QAASA,EACTqG,KAAMk0C,KAAK91C,UAAU,CACnBmvC,QAASA,EACT/3C,KAAM+tD,EACNL,aAAcO,KAIlBrP,MAAM,yCAA0CjG,GAC/Cp0C,MAAK,SAAAC,GAAQ,OAAIA,EAAS67C,UAC1B97C,MAAK,SAAA87C,GACJwJ,GAAQ,GACRgE,EAAUxN,EAAKj6C,OAEhBzB,OAAM,kBAAM9B,QAAQC,IAAI,mGAmIb6D,MAAM,UACNC,UAAWk8B,EAAQ2mB,OACnBqB,UAAW,kBAAC,KAAD,OAJb,qBCrMd,IAAMroB,GAAYC,cAAW,SAAC5tB,GAAD,MAAY,CAEvC8uC,MAAO,CACL58C,SAAU,IAEZsiD,SAAU,CACRplB,QAAS,GACTlzB,OAAQ,GAEVkqC,MAAO,CACLroC,QAAS,OACTK,WAAY,SACZJ,eAAgB,UAElBmxB,MAAO,CACL1G,gBAAiBzoB,EAAMsvB,QAAQz+B,WAAWs+B,MAE1CslB,UAAWz0C,EAAM00C,QAAQ,GACzBtlB,QAASpvB,EAAMqvB,QAAQ,EAAG,EAAG,IAG/BslB,OAAQ,CACNz4C,OAAQ8D,EAAMqvB,QAAQ,IAGxBulB,UAAW,CACT72C,QAAS,OACTK,WAAY,SACZJ,eAAgB,cAML,SAAS62C,GAAiB57C,GACvC,IAAM+0B,EAAUL,KAD8B,EAEtB9zB,IAAMpN,UAAS,GAFO,mBAEvCqoD,EAFuC,KAEjCC,EAFiC,OAIlBtoD,mBAAS,IAJS,mBAIvC6iB,EAJuC,KAI/B0zB,EAJ+B,KAuCxCgS,EAAe,SAACzJ,GAEpB0J,EAAQ1J,EAAKrgD,MACbgqD,EAAS3J,EAAK4J,OACdC,EAAS7J,EAAK15C,OACdwjD,EAAc9J,EAAK+J,YACnBC,EAAmBhK,EAAKjI,iBACxBkS,EAAkBjK,EAAKkK,gBACvBC,EAAkBnK,EAAKlI,gBACvBsS,EAAiBpK,EAAKqK,eACtBC,EAAWtK,EAAKnI,cAChBr1C,QAAQC,IAAI,QAAQu9C,EAAK4J,QAlDmB,EAoDtB1oD,mBAAS,YApDa,mBAoDjCwoD,GApDiC,aAqDpBxoD,mBAAS6iB,EAAO6lC,OArDI,mBAqDhCD,GArDgC,aAsDpBzoD,mBAAS6iB,EAAOzd,OAtDI,mBAsDhCujD,GAtDgC,aAuDV3oD,mBAAS6iB,EAAOgmC,YAvDN,mBAuD3BD,GAvD2B,aAwDA5oD,mBAAS6iB,EAAOg0B,iBAxDhB,mBAwDtBiS,GAxDsB,aAyDF9oD,mBAAS6iB,EAAOmmC,gBAzDd,mBAyDvBD,GAzDuB,aA0DF/oD,mBAAS6iB,EAAO+zB,gBA1Dd,mBA0DvBqS,GA1DuB,aA2DJjpD,mBAAS6iB,EAAOsmC,eA3DZ,mBA2DxBD,GA3DwB,aA4DXlpD,mBAAS6iB,EAAO8zB,cA5DL,mBA4DzByS,GA5DyB,WA8D9C,OACE,6BAEE,kBAACnnB,GAAA,EAAD,CACE59B,QAjDa,WAVjBg5C,MAAM,gEAAkE7wC,EAAM3H,IAC3E7B,MAAK,SAAAC,GAAQ,OAAIA,EAAS67C,UAC1B97C,MAAK,SAAA87C,GACJvI,EAAUuI,EAAK37C,MACf7B,QAAQC,IAAIu9C,EAAK37C,MACjBmlD,GAAQ,GACRC,EAAazJ,EAAK37C,UAsDlBsgC,QAAQ,YACRr+B,MAAM,UACNmkD,UAAW,kBAAC,KAAD,QAGb,kBAACpxC,GAAA,EAAD,CACE6/B,kBAAgB,yBAChBwR,mBAAiB,+BACjBnkD,UAAWk8B,EAAQoY,MACnB0O,KAAMA,EACNjF,QAnDc,WAClBkF,GAAQ,IAmDJmB,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACb/nD,QAAS,MAGX,kBAACgoD,GAAA,EAAD,CAAMC,GAAIzB,GACR,yBAAKhjD,UAAWk8B,EAAQmB,OACtB,wBAAI79B,GAAG,0BAAP,SAAuC2H,EAAM3H,GAA7C,KACA,kBAAC,IAAD,KACE,kBAAC,KAAD,KACA,wBAAIA,GAAG,0BAAP,gCAA+Cge,EAAOkT,cAEtD,kBAAC,KAAD,KACA,wBAAIlxB,GAAG,0BAAP,gCAA+Cge,EAAOmT,eAGxD,wBAAInxB,GAAG,0BAAP,2BAA+Cge,EAAOspC,cAEtD,wBAAItnD,GAAG,0BAAP,gCAA+Cge,EAAOiqC,OACtD,wBAAIjoD,GAAG,0BAAP,8BAAkDge,EAAOkqC,gBACzD,yBAAK1nD,UAAWk8B,EAAQ4mB,WACtB,kBAAClmB,GAAA,EAAD,CACEwB,QAAQ,YACRr+B,MAAM,YACNC,UAAWk8B,EAAQ2mB,QAHrB,qB,qVCxId,IAsMeyC,GAtMG,WAEd,IAAMC,EAAS5sD,IAAOC,IAAV,MAFQ,EAkBQ+B,mBAAS,IAlBjB,mBAkBb6iB,EAlBa,KAkBL0zB,EAlBK,OAmBqBuR,KAnBrB,mBAmBb+C,EAnBa,KAmBLC,EAnBK,KAmBOC,EAnBP,OAoBgB/qD,mBAAS,GApBzB,mBAoBbgrD,EApBa,KAoBDC,EApBC,OAqBkBjrD,mBAAS,GArB3B,mBAqBbinD,EArBa,KAqBAiE,EArBA,OAsBQlrD,mBAAS,IAtBjB,mBAsBb2I,EAtBa,KAsBLg/C,EAtBK,OAuBU3nD,mBAAS,CAAE86B,MAAO,GAAIgL,MAAO,KAvBvC,mBAuBbqlB,EAvBa,KAuBJC,EAvBI,OAiCgBprD,mBAAS,KAjCzB,mBAiCbgtD,EAjCa,KAiCDC,EAjCC,KA8CpBhsD,qBAAU,WAXN6pD,IAEAzN,MAAM,oDACDr6C,MAAK,SAAAC,GAAQ,OAAIA,EAAS67C,UAC1B97C,MAAK,SAAA87C,GACFiM,IACAxU,EAAUuI,GACVx9C,QAAQC,IAAIu9C,QAMrB,IAEH,IAAMx7B,EAAagkC,mBAAQ,WACvB,IAAI+D,EAAiBxoC,EAqBrB,GAnBImqC,IAEI3B,EADe,MAAf2B,EACiBnqC,EAEAwoC,EAAejjD,QAC5B,SAAAkjD,GAAO,OAAIA,EAAQxpD,QAAQ4lB,SAASslC,OAI5CrkD,IACA0iD,EAAiBA,EAAejjD,QAC5B,SAAAkjD,GAAO,OACHA,EAAQ9U,QAAQvxB,cAAcyC,SAAS/e,EAAOsc,mBAI1DgmC,EAAcI,EAAehpD,QAGzB8oD,EAAQrwB,MAAO,CACf,IAAMywB,EAA6B,QAAlBJ,EAAQrlB,MAAkB,GAAK,EAChDulB,EAAiBA,EAAeG,MAC5B,SAACr/C,EAAGgU,GAAJ,OACIorC,EAAWp/C,EAAEg/C,EAAQrwB,OAAO1a,cAAcD,EAAEgrC,EAAQrwB,MAAMva,cAKtE,OAAO8qC,EAAe5kD,MAxDH,IAyDdwgD,EAAc,GAzDA,IA0DdA,EAAc,GA1DA,MA4DpB,CAACpkC,EAAQokC,EAAat+C,EAAQwiD,EAAS6B,IAE1C,OAEI,oCACI,yBAAK3nD,UAAU,OACX,yBAAKA,UAAU,YACX,kBAAC,GAAD,OAEJ,yBAAKA,UAAU,YACX,kBAAC,GAAD,CACIpF,MAAO+qD,EACPhE,aAxEG,GAyEHC,YAAaA,EACbC,aAAc,SAAA7jB,GAAI,OAAI6nB,EAAe7nB,OAG7C,yBAAKh+B,UAAU,YACX,4BAAQ3G,MAAOsuD,EACX9/C,SAAU,SAAA62B,GAAK,OAAIkpB,EAAclpB,EAAM10B,OAAO3Q,SAC9C,4BAAQA,MAAM,KAAd,oBACA,4BAAQA,MAAM,uBAAd,uBACA,4BAAQA,MAAM,iBAAd,iBACA,4BAAQA,MAAM,sBAAd,sBACA,4BAAQA,MAAM,6BAAd,6BACA,4BAAQA,MAAM,aAAd,eAGR,yBAAK2G,UAAU,oCACX,kBAAC,GAAD,CACIkiB,SAAU,SAAA7oB,GACNipD,EAAUjpD,GACVwsD,EAAe,QAK/B,kBAACN,EAAD,KACCC,EACG,yBAAKxlD,UAAU,aACX,yBAAKA,UAAU,+BAGX,2BAAOA,UAAU,oCACb,kBAAC,GAAD,CACIzC,QAvGZ,CACZ,CAAEnE,KAAM,MAAOq8B,MAAO,UAAW+rB,UAAU,GAC3C,CAAEpoD,KAAM,SAAOq8B,MAAO,OAAQ+rB,UAAU,GACxC,CAAEpoD,KAAM,qBAAcq8B,MAAO,UAAW+rB,UAAU,GAClD,CAAEpoD,KAAM,SAAUq8B,MAAO,GAAI+rB,UAAU,IAoGfL,UAAW,SAAC1rB,EAAOgL,GAAR,OACPslB,EAAW,CAAEtwB,QAAOgL,aAG5B,+BACKxiB,EAAWzP,KAAI,SAAAU,GAAK,OACjB,4BACI,wBAAIk3C,MAAM,MAAMzpD,IAAKuS,EAAMiiC,SACtBjiC,EAAMiiC,SAEX,4BAAKjiC,EAAM9V,MACX,4BAAK8V,EAAMzS,SACX,4BAE2B,GAAfyS,EAAMrO,MAEN,kBAAC+7B,GAAA,EAAD,CACAwB,QAAQ,YACRr+B,MAAM,iBAFN,oCAOsB,GAAfmP,EAAMrO,MAET,kBAAC,GAAD,CAAarB,GAAI0P,EAAMiiC,UAEL,GAAfjiC,EAAMrO,OAA6B,GAAfqO,EAAMrO,MAE7B,6BAAM,IAAIgnD,KAAKC,eAAe,QAAS,CACnC1tB,KAAM,UAAWD,MAAO,OAAQ4tB,IAAK,UACrCC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,UAC5CC,QAAQ,IACP7+C,OAAO4F,EAAM0P,WAChB,6BACC,IAAIipC,KAAKC,eAAe,QAAS,CAChC1tB,KAAM,UAAWD,MAAO,OAAQ4tB,IAAK,UACrCC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,UAC5CC,QAAQ,IACP7+C,OAAO4F,EAAM2P,UAIF,GAAf3P,EAAMrO,MAEX,kBAAC+7B,GAAA,EAAD,CACAwB,QAAQ,YACRr+B,MAAM,aAFN,sCAFC,cCnL/C2pB,GAAiBC,mBACrBC,qBAAU,CACR7F,aAAc,oFACdC,eAAgB,yBAAKllB,MAAO,CAAEsR,OAAO,UACrC6T,iBAAkB,yBAAKnlB,MAAO,CAAEsR,OAAO,WACvC8T,WAAY,yBAAKplB,MAAO,CAAEsR,OAAO,YAEnC2P,gBACAC,iBARqB2J,EASrB,SAACxiB,GAEC,IAAMihD,EAAS5J,iBAAO,MAEtB,SAASx/C,EAAQqpD,EAAG75C,EAAK85C,GACrBrsD,QAAQC,IAAImsD,EAAErlC,OAAOhC,MAAOqnC,EAAErlC,OAAO/B,OAUzC,OACI,kBAAC,aAAD,CACIhoB,IAAKmvD,EACLpmC,YAAa,GACbC,cAAe,CAAEjB,IAAK,kBAAmBC,IAAK,mBAC9CjiB,QAASA,GAET,kBAAC,YAAD,CAAUgrB,KAAM,CAAC,CAAChJ,IAAK,SAAUC,KAAM,IAAK,CAACD,KAAM,SAAUC,IAAK,YAC9DiC,QAAS,CAACC,YAAa,MACvBE,cAAe,EACfC,aAAc,KAElB,kBAAC,UAAD,CACIf,SAAU,CAAEvB,IAAK,kBAAmBC,IAAK,mBACzCpU,KAAM,CACFvP,IAAKyR,GAAOw5C,KACZC,OAAQ,IAAI7lC,OAAOC,OAAOC,KAAK4lC,MAAM,EAAG,IACxC7pD,KAAM,IAAI+jB,OAAOC,OAAOC,KAAK6lC,KAAK,GAAI,OAG9C,kBAAC,UAAD,CACI1pD,QAASA,EACT2pD,OAAQ,CAAE3nC,IAAK,kBAAmBC,IAAK,mBACvC2nC,OAAQ,GACRJ,OAAS,IAAI7lC,OAAOC,OAAOC,KAAK4lC,MAAM,EAAG,IACzCvlC,QAAS,CACLC,YAAa,UACbE,cAAe,GACfC,aAAc,EACdF,UAAW,UACXylC,YAAa,S,kCChClBC,OAnBf,YAA6B,IAARt4B,EAAO,EAAPA,MAAO,EAEI71B,oBAAS,GAFb,mBAEjBouD,EAFiB,KAETC,EAFS,KAIlBh9C,EAAS,kBAAMg9C,GAAWD,IAEhC,OAAO,kBAAC,UAAD,CACHxmC,SAAU,CAACvB,IAAKwP,EAAME,YAAazP,IAAKuP,EAAMG,aAC9C3xB,QAASgN,GACR+8C,GAAU,kBAAC,cAAD,CAAYxlC,aAAcvX,GACjC,6BACE,gEAAuBwkB,EAAMy4B,SAA7B,YACA,wDAAoBz4B,EAAM04B,SAA1B,YACA,gDAAkC,MAAtB14B,EAAM24B,aAAuB,GAAK34B,EAAM24B,aAApD,eCjBC,SAASC,GAAT,GAAoC,IAAf74B,EAAc,EAAdA,aAEhC,OAAQ,oCAA4B,IAAxBA,EAAavzB,QAAiB,oCACtC,kBAAC,YAAD,CACIgtB,KAAMq/B,GAAkB94B,GACxBrN,QAAS,CAACC,YAAa,MACvBE,cAAe,EACfC,aAAc,KAEjBiN,EAAa/hB,KAAI,SAACgiB,EAAOp1B,GAAR,OAAkB,kBAAC,GAAD,CAAYuB,IAAKvB,EAAOo1B,MAAOA,SAO3E,SAAS64B,GAAkB94B,GACvB,OAAOA,EAAa/hB,KAAK,SAAAgiB,GAAK,MAAK,CAACxP,IAAKwP,EAAME,YAAazP,IAAKuP,EAAMG,gBChB3E,IAAMjH,GAAiBC,mBACrBC,qBAAU,CACR7F,aAAc,oFACdC,eAAgB,yBAAKllB,MAAO,CAAEsR,OAAO,UACrC6T,iBAAkB,yBAAKnlB,MAAO,CAAEsR,OAAO,WACvC8T,WAAY,yBAAKplB,MAAO,CAAEsR,OAAO,YAEnC2P,gBACAC,iBARqB2J,EASrB,SAACxiB,GAAW,IAEHmiD,EAAkBniD,EAAlBmiD,eACDlB,EAAS5J,iBAAO,MAiBtB,OAXA5iD,qBAAU,WACN,GAAqB,MAAlB0tD,EAAH,CADU,MAEH/4B,EAAgB+4B,EAAhB/4B,aACHg5B,EAAS,IAAI5mC,OAAOC,OAAOC,KAAKC,aAH1B,eAIOyN,GAJP,IAIV,IAAI,EAAJ,qBAA8B,CAAC,IAAvBC,EAAsB,QACtBC,EAAM,IAAI9N,OAAOC,OAAOC,KAAKE,OAAOyN,EAAME,YAAaF,EAAMG,aACjE44B,EAAOC,OAAO/4B,IANR,8BAQV23B,EAAO3iC,QAAQgkC,UAAUF,MAC1B,CAACD,IAGA,kBAAC,aAAD,CACIrwD,IAAKmvD,EACLpmC,YAAa,GACbC,cAAe,CAAEjB,IAAK,kBAAmBC,IAAK,mBAC9CjiB,QApBR,SAAiBqpD,EAAG75C,EAAK85C,GACrBrsD,QAAQC,IAAImsD,EAAErlC,OAAOhC,MAAOqnC,EAAErlC,OAAO/B,SAqBhCqoC,GAAkB,kBAACF,GAAD,CAAY74B,aAAc+4B,EAAe/4B,mBAKzD,SAASm5B,GAAIviD,GAExB,OAAO,kBAAC,GAAmBA,G,sBCPhBwiD,OAhCf,YAAgF,IAAvDlsC,EAAsD,EAAtDA,YAAamsC,EAAyC,EAAzCA,eAAgBC,EAAyB,EAAzBA,uBAElD,OACI,kBAACtb,GAAA,EAAD,CAAOub,SAAO,EAACnY,UAAQ,EAACoY,OAAK,EAACnrD,KAAK,MAC/B,+BACI,4BACI,mCACA,+DACA,2DACA,wDACA,wCAGR,+BACK6e,EAAYjP,KAAI,SAAC1S,EAAMV,GAAP,OAAkB,wBAAIuB,IAAKb,EAAK0D,IAC7C,4BAAKpE,EAAM,GACX,4BAAKU,EAAK1C,MACV,4BAAK0C,EAAKkuD,mBACV,4BAAKluD,EAAKmuD,mBACV,wBAAIjqD,UAAU,aAAY,4BAAQA,UAAU,WAAWhB,QAAS,kBAAI4qD,EAAe9tD,KAC/E,uBAAGkE,UAAU,gBACP,IACV,4BAAQA,UAAU,aAAahB,QAAS,kBAAI6qD,EAAuB/tD,KAC/D,uBAAGouD,MAAM,8B,wCCiGlBC,OAvHf,SAAyBhjD,GAAQ,IAGzB/N,EAGA+N,EAHA/N,KAAM+pD,EAGNh8C,EAHMg8C,QAA4BiH,GAGlCjjD,EAHeiJ,OAGfjJ,EAHuBkjD,UAGvBljD,EAHkCijD,aAAaE,EAG/CnjD,EAH+CmjD,eAC/CC,EAEApjD,EAFAojD,aAAcC,EAEdrjD,EAFcqjD,gBACdC,EACAtjD,EADAsjD,aAAcC,EACdvjD,EADcujD,gBALU,EASsB/vD,mBAAS,IAT/B,mBASrBgwD,EATqB,KASFC,EATE,OAUUjwD,oBAAS,GAVnB,mBAUrBkwD,EAVqB,KAURC,EAVQ,OAYsBnwD,mBAAS,IAZ/B,mBAYrBowD,EAZqB,KAYFC,EAZE,OAaUrwD,oBAAS,GAbnB,mBAarBswD,EAbqB,KAaRC,EAbQ,KA0E5B,OA3DAtvD,qBAAU,WAENtB,KAAMiJ,IAAI,yDACL5F,MAAK,SAAAC,GAEF,IAAM6yB,EAAM7yB,EAASE,KAAKpB,QAAQ2wB,cAAc7e,KAAI,SAAAyd,GAAI,MAAK,CACzD7yB,KAAM6yB,EAAK7yB,KACX8F,IAAK+sB,EAAK/sB,IACVqiB,WAAY0K,EAAK1K,WACjBI,SAAUsK,EAAKtK,SACf5F,MAAOkQ,EAAK7yB,KACZC,MAAO4yB,EAAK/sB,QAEhB0rD,EAAqBn6B,GACrBq6B,GAAe,MAElB/sD,OAAM,SAAAgM,GACH9N,QAAQC,IAAI6N,QAErB,IAEHnO,qBAAU,WAENK,QAAQC,IAAI,aACRquD,IACJW,GAAe,GACf5wD,KAAMiJ,IAAN,uEAA0EgnD,EAAarrD,MAClFvB,MAAK,SAAAC,GACF,IAAM6yB,EAAM7yB,EAASE,KAAKpB,QAAQ2kB,KAAK7S,KAAI,SAAA6S,GAAI,MAAK,CAChDniB,IAAKmiB,EAAKniB,IACV9F,KAAMioB,EAAK9f,KACXggB,WAAYF,EAAKE,WACjBI,SAAUN,EAAKM,SACf8B,UAAWpC,EAAKoC,UAChBD,UAAWnC,EAAKmC,UAChBzH,MAAOsF,EAAK9f,KACZlI,MAAOgoB,EAAKniB,QAEhBjD,QAAQC,IAAI,gBAAgBu0B,GAC5Bu6B,EAAqBv6B,GACrBy6B,GAAe,MAElBntD,OAAM,SAAAgM,GACH9N,QAAQC,IAAI6N,GACZmhD,GAAe,SAExB,CAACX,IAcA,oCACA,kBAACY,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAAC,KAAKC,MAAN,CAAYC,UAAU,cAClB,kBAAC,KAAKC,MAAN,wCACA,kBAAC,KAAKC,QAAN,CAAc3sD,KAAK,OAAOxF,MAAOD,EAAMyO,SAAU,SAACkC,GAAD,OAAKo5C,EAAQp5C,EAAEC,OAAO3Q,QAAQyQ,YAAY,iDASvG,kBAACqhD,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAAC,KAAKC,MAAN,CAAYC,UAAU,QAClB,kBAAC,KAAKC,MAAN,+BACA,kBAAC,KAAD,CACIlyD,MAAOkxD,EACPkB,cAAc,EACdC,UAAWb,EACXhjD,SAlCK,SAAC8jD,GACtBnB,EAAgBmB,GAChBjB,EAAgB,OAiCAxnC,QAASynC,MAIrB,kBAACS,GAAA,EAAD,KACI,kBAAC,KAAKC,MAAN,CAAYC,UAAU,iBAClB,kBAAC,KAAKC,MAAN,2CACA,kBAAC,KAAD,CACIlyD,MAAOoxD,EACPgB,cAAc,EACdC,UAAWT,EACXpjD,SAzCK,SAAC8jD,GACtBjB,EAAgBiB,GAChB1vD,QAAQC,IAAI,cAAekuD,GAC3BE,EAAeqB,EAAenoC,YAuCdN,QAAS6nC,SCpH3BrhC,I,QAAiBC,mBACrBC,qBAAU,CACR7F,aAAc,oFACdC,eAAgB,yBAAKllB,MAAO,CAAEsR,OAAO,UACrC6T,iBAAkB,yBAAKnlB,MAAO,CAAEsR,OAAO,WACvC8T,WAAY,yBAAKplB,MAAO,CAAEsR,OAAO,YAEnC2P,gBACAC,iBARqB2J,EASrB,SAACxiB,GACC,IAAMihD,EAAS5J,iBAAO,MAElBoN,EAMAzkD,EANAykD,SAAUC,EAMV1kD,EANU0kD,YACVt7B,EAKAppB,EALAopB,aACAk6B,EAIAtjD,EAJAsjD,aACAqB,EAGA3kD,EAHA2kD,oBACAC,EAEA5kD,EAFA4kD,qBACAzB,EACAnjD,EADAmjD,eAAgBF,EAChBjjD,EADgBijD,YAQpB,IA4EqB/oC,EAxDrB,OAZAzlB,qBAAU,WACN,GAAI6uD,EAAJ,CACA,IAAIlB,EAAS,IAAI5mC,OAAOC,OAAOC,KAAKC,aAE9BvB,EAAa,IAAIoB,OAAOC,OAAOC,KAAKE,OAAO0nC,EAAalpC,WAAWC,SAAUipC,EAAalpC,WAAWE,WAC3G8nC,EAAOC,OAAOjoC,GACd,IAAMI,EAAW,IAAIgB,OAAOC,OAAOC,KAAKE,OAAO0nC,EAAa9oC,SAASH,SAAUipC,EAAa9oC,SAASF,WACrG8nC,EAAOC,OAAO7nC,GAEdymC,EAAO3iC,QAAQgkC,UAAUF,MAC1B,CAACkB,IAGA,kBAAC,aAAD,CACIxxD,IAAKmvD,EACLpmC,YAAa,GACbC,cAAe,CAAEjB,IAAK,kBAAmBC,IAAK,oBAGrB,IAAxBsP,EAAavzB,QAAgBuzB,EAAa/hB,KAAK,SAACgiB,EAAOp1B,GAAR,OAChD,kBAAC,UAAD,CACIuB,IAAKvB,EACLmnB,SAAU,CAACvB,IAAKwP,EAAME,YAAazP,IAAKuP,EAAMG,kBAEjDJ,EAAavzB,QAAU,GACxB,kBAAC,YAAD,CACIgtB,KAAMq/B,GAAkB94B,GACxBrN,QAAS,CAACC,YAAa,MACvBE,cAAe,EACfC,aAAc,KAED,MAAhBmnC,GAAwB,kBAAC,WAAD,CACrBzgC,MAoCS3I,EApCaopC,EAqC3B,CACH,CAACzpC,IAAKK,EAAKE,WAAWC,SAAUP,IAAKI,EAAKE,WAAWE,WACrD,CAACT,IAAKK,EAAKM,SAASH,SAAUP,IAAKI,EAAKE,WAAWE,WACnD,CAACT,IAAKK,EAAKM,SAASH,SAAUP,IAAKI,EAAKM,SAASF,WACjD,CAACT,IAAKK,EAAKE,WAAWC,SAAUP,IAAKI,EAAKM,SAASF,aAxC3CziB,QA9CZ,SAAiB+K,GACb9N,QAAQC,IAAI6N,EAAEiZ,OAAOhC,MAAOjX,EAAEiZ,OAAO/B,OACrC4qC,EAAY,2BAAID,GAAL,IAAel7B,YAAa3mB,EAAEiZ,OAAOhC,MAAO2P,YAAa5mB,EAAEiZ,OAAO/B,UA6CrEiC,QAAS,CACLC,YAAa,UACbE,cAAe,EACfC,aAAc,EACdF,UAAW,OACXylC,YAAa,MAGU,GAA9BiD,EAAoB9uD,QAAe8uD,EAAoBt9C,KAAI,SAAC8+B,EAAQlyC,GAAT,OAAmB,kBAAC,UAAD,CAC3E4D,QAAS,kBAnDI,SAAC5D,GACtBa,QAAQC,IAAI,iBACZ,IAAMoxC,EAASwe,EAAoB1wD,GACnCywD,EAAY,2BAAID,GAAL,IAAel7B,YAAa4c,EAAOtsB,IAAK2P,YAAa2c,EAAOrsB,OACpEqsB,EAAOl9B,QAAUk9B,EAAOl9B,OAAS,GAAKg6C,GAAaE,EAAehd,EAAOl9B,OAAS,IACrF27C,EAAqBze,EAAOpuC,KA8CP8sD,CAAiB5wD,IAC9BuB,IAAKvB,EACLutD,OAAQ,CAAE3nC,IAAKssB,EAAOtsB,IAAKC,IAAKqsB,EAAOrsB,KACvC2nC,OAAQ,GACRJ,OAAS,IAAI7lC,OAAOC,OAAOC,KAAK4lC,MAAM,EAAG,IACzCvlC,QAAS,CACLC,YAAa,UACbE,cAAe,GACfC,aAAc,EACdF,UAAW,UACXylC,YAAa,aAOlB,SAASa,GAAIviD,GAExB,OAAO,kBAAC,GAAmBA,GAG/B,SAASkiD,GAAkB94B,GACvB,OAAOA,EAAa/hB,KAAK,SAAAgiB,GAAK,MAAK,CAACxP,IAAKwP,EAAME,YAAazP,IAAKuP,EAAMG,gBCvC5Ds7B,OAxDf,SAAoB9kD,GAAQ,IAGpB8hD,EAKA9hD,EALA8hD,SAAUiD,EAKV/kD,EALU+kD,YACVhD,EAIA/hD,EAJA+hD,SAAUiD,EAIVhlD,EAJUglD,YACVC,EAGAjlD,EAHAilD,SAAUR,EAGVzkD,EAHUykD,SACVxB,EAEAjjD,EAFAijD,YAAaK,EAEbtjD,EAFasjD,aACbH,EACAnjD,EADAmjD,eAPmB,EAUG3vD,mBAAS,IAVZ,mBAUhBqD,EAVgB,KAUTquD,EAVS,KA6BvB,OACI,oCACI,kBAAC,KAAKhB,MAAN,CAAYC,UAAU,YAClB,kBAAC,KAAKC,MAAN,yCACA,kBAAC,KAAKC,QAAN,CAAc3sD,KAAK,SAASxF,MAAO4vD,EAAUphD,SAAU,SAACkC,GAAD,OAAKmiD,EAAYniD,EAAEC,OAAO3Q,QAAQyQ,YAAY,aAGzG,kBAAC,KAAKuhD,MAAN,CAAYC,UAAU,YAClB,kBAAC,KAAKC,MAAN,iCACA,kBAAC,KAAKC,QAAN,CAAc3sD,KAAK,SAASgJ,SAAU,SAACkC,GAAD,OAAKoiD,EAAYpiD,EAAEC,OAAO3Q,QAAQA,MAAO6vD,EAAUp/C,YAAY,aAEzG,kBAAC,KAAKuhD,MAAN,CAAYC,UAAU,eAClB,kBAAC,KAAKC,MAAN,yBAC4B,MAAhBd,GAAA,WAA4BA,EAAajnC,UAAzC,YAAsDinC,EAAahnC,UAAnE,MAEZ,kBAAC,KAAK+nC,QAAN,CAAc3sD,KAAK,SAASgJ,SAAU,SAACkC,GAAD,OAAKugD,EAAevgD,EAAEC,OAAO3Q,QAASA,MAAO+wD,EAAatgD,YAAY,OAErG,KAAV9L,GAAiB,kBAAC,KAAKqtD,MAAN,CAAYC,UAAU,gBACpC,kBAAC,KAAKrd,KAAN,CAAWjuC,UAAU,cAChBhC,IAGT,kBAAC,KAAD,CAAQgB,QAvCM,WACH,IAAZiqD,GAA8B,IAAZC,EAIlBuB,IAAiBL,EAAcK,EAAajnC,WAAa4mC,EAAcK,EAAahnC,WACnF4oC,EAAS,4DAGTT,EAASl7B,aAIb07B,IACAC,EAAS,KAJLA,EAAS,4BARTA,EAAS,4DAqCT,QC4HGC,OA1Kf,SAA4BnlD,GAAQ,IAAD,EAEPxM,mBAAS,IAFF,mBAExBvB,EAFwB,KAElB+pD,EAFkB,OAGHxoD,mBAAS,IAHN,mBAGxByV,EAHwB,KAGhBi6C,EAHgB,OAIP1vD,mBAAS,IAJF,mBAIxBiqD,EAJwB,KAIlB2H,EAJkB,OAKC5xD,mBAAS,IALV,mBAKxBsuD,EALwB,KAKdiD,EALc,OAMCvxD,mBAAS,IANV,mBAMxBuuD,EANwB,KAMdiD,EANc,OAQCxxD,mBAAS,IARV,mBAQxBixD,EARwB,KAQdC,EARc,OASSlxD,mBAAS,IATlB,mBASxB41B,EATwB,KASVi2B,EATU,OAUO7rD,mBAAS,IAVhB,mBAUxByvD,EAVwB,KAUXE,EAVW,OAWmB3vD,mBAAS,IAX5B,mBAWxBq1C,EAXwB,KAWL+b,EAXK,OAaSpxD,mBAAS,MAblB,mBAaxB4vD,EAbwB,KAaVC,EAbU,OAcS7vD,mBAAS,MAdlB,mBAcxB8vD,EAdwB,KAcVC,EAdU,OAeuB/vD,mBAAS,IAfhC,mBAexBmxD,EAfwB,KAeHU,EAfG,OAiBP7xD,oBAAS,GAjBF,mBAiBxByvB,GAjBwB,KAiBlBqiC,GAjBkB,KAkBzBzgD,GAAS,kBAAMygD,IAASriC,KAlBC,GAoBLzvB,mBAAS,IApBJ,qBAoBxBqD,GApBwB,MAoBjBquD,GApBiB,MAsB/BzwD,qBAAU,WACF6uD,GACJnwD,KAAMiJ,IAAN,yGAA4GknD,EAAavrD,MACpHvB,MAAK,SAAAC,GAGF,IAAM6yB,EAAM7yB,EAASE,KAAKpB,QAAQ8R,KAAI,SAAA8+B,GAAM,MAAK,CAC7CpuC,IAAKouC,EAAOpuC,IACZ9F,KAAMk0C,EAAOl0C,KACb4nB,IAAKM,WAAWgsB,EAAOtsB,KACvBC,IAAKK,WAAWgsB,EAAOrsB,KACvB7Q,OAAQk9B,EAAOl9B,WAEnBnU,QAAQC,IAAI,mBAAoBu0B,GAChC+7B,EAAuB/7B,MAE1B1yB,OAAM,SAAAgM,GACH9N,QAAQC,IAAI6N,QAEjB,CAAC0gD,IAEJ,IA2CEiC,GAAa,WACfR,EAAY,IACZC,EAAY,IACZN,EAAY,IACTpB,GAAcH,OAAyCvoC,GAA1B0oC,EAAajnC,UAAyBinC,EAAajnC,UAAY,KAG7Fw4B,GAAQ,WACVmH,EAAQ,IACRoJ,EAAQ,IACRlC,EAAU,IACV7D,EAAgB,IAChBgE,EAAgB,MAChBE,EAAgB,MAChB8B,EAAuB,IACvBT,EAAqB,IACrBM,GAAS,IAETK,MAQJ,OACI,oCACA,kBAAC,KAAD,CAAQtuB,QAAQ,UAAUp/B,QAASgN,IAAnC,oCAIA,kBAAC,KAAD,CAAOoe,KAAMA,GAAMuiC,OAXC,WACpB3Q,KACAhwC,MAS4C4gD,gBAAgB,aACxD,kBAAC,KAAM9gD,OAAP,CAAc+gD,aAAW,GACrB,kBAAC,KAAM/8C,MAAP,0CAEJ,kBAAC,KAAMg9C,KAAP,KACI,kBAAC,KAAD,KACI,kBAAC,GAAD,CACI1zD,KAAMA,EAAM+pD,QAASA,EACrB/yC,OAAQA,EAAQi6C,UAAWA,EAC3BD,YAAaA,EAAaE,eAAgBA,EAC1C1F,KAAMA,EAAM2H,QAASA,EACrBhC,aAAcA,EAAcC,gBAAiBA,EAC7CC,aAAcA,EAAcC,gBAAiBA,IAEjD,kBAACS,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAK9a,GAAI,GACL,kBAAC,GAAD,CACI2Y,SAAUA,EAAUiD,YAAaA,EACjChD,SAAUA,EAAUiD,YAAaA,EACjCP,SAAUA,EAAUQ,SAlE/B,WAEb,GAAIR,EAASl7B,YAAb,CACA,IAAIF,EAAQ,CACRE,YAAak7B,EAASl7B,YACtBC,YAAai7B,EAASj7B,YACtBs4B,SAAUA,EACVC,SAAUA,EACVC,aAA6B,IAAfiB,EAAoBA,EAAc,GAChD2C,mBAAoB/c,GAExBwW,EAAgB,GAAD,oBAAKj2B,GAAL,CAAmBC,KAClCk8B,OAuDwBtC,YAAaA,EAAaE,eAAgBA,EAC1CG,aAAcA,KAGtB,kBAACW,GAAA,EAAD,CAAK9a,GAAI,GACL,kBAAC,GAAD,CACIsb,SAAUA,EAAUC,YAAaA,EACjCt7B,aAAcq7B,EAASl7B,YAAT,uBAA0BH,GAA1B,CAAwCq7B,IAAYr7B,EAClEk6B,aAAcA,EACdqB,oBAAqBA,EACrBC,qBAAsBA,EACtBzB,eAAgBA,EAAgBF,YAAaA,QAMjE,kBAAC,KAAM/5C,OAAP,KACe,KAAVrS,IAAiB,kBAAC,KAAKqtD,MAAN,CAAYC,UAAU,gBACpC,kBAAC,KAAKrd,KAAN,CAAWjuC,UAAU,cAChBhC,KAGT,kBAAC,KAAD,CAAQogC,QAAQ,UAAUp/B,QAtHZ,WAEtB,IAAI5F,GAA8B,IAAtBm3B,EAAavzB,SAAeytD,EAAc,OAAO4B,GAAS,0DAEtE,IAAIW,EAAgB,CAAC5zD,OAAMm3B,eAEvBs2B,iBAAkB4D,EAAavrD,KAMnCjD,QAAQC,IAAI8wD,GACZ1yD,KAAMyJ,KAAK,yCAA0CipD,GAChDrvD,MAAK,SAAAC,GACF3B,QAAQC,IAAI0B,GAEZuJ,EAAM8lD,gBAETlvD,OAAM,SAAA6jB,GACH3lB,QAAQC,IAAI0lB,MAEfsrC,SAAQ,WACLlR,KACAhwC,UA8FA,oBC/JhB,SAAS01C,GAAoBv6C,GAAQ,IAC1BsM,EAA0BtM,EAA1BsM,WAAY05C,EAAchmD,EAAdgmD,WAEZnvB,EAAmBvqB,EAAnBuqB,KAAMovB,EAAa35C,EAAb25C,UACPC,EAAmB,SAAC1uB,GAClBwuB,GACJA,EAAWxuB,IAGf,OACI,kBAAC,KAAD,KACI,kBAAC,KAAW2uB,MAAZ,CAAkBtuD,QAAS,kBAAKquD,EAAiB,MAC/CrvB,GAAQovB,GAAaA,EAAY,GAAK,kBAAC,KAAW1uD,KAAZ,CAAiBM,QAAS,kBAAKquD,EAAiBrvB,EAAK,KAAKA,EAAK,GACrGA,EAAK,EAAI,GAAK,kBAAC,KAAWt/B,KAAZ,CAAiBM,QAAS,kBAAKquD,EAAiBrvB,EAAK,KAAKA,EAAK,GAC/E,kBAAC,KAAWt/B,KAAZ,CAAiByjD,QAAM,GAAEnkB,GACvBA,EAAK,GAAKovB,GAAa,kBAAC,KAAW1uD,KAAZ,CAAiBM,QAAS,kBAAKquD,EAAiBrvB,EAAK,KAAKA,EAAK,GACtFovB,EAAY,GAAa,GAARpvB,GAAa,kBAAC,KAAWt/B,KAAZ,CAAiBM,QAAS,kBAAKquD,EAAiBrvB,EAAK,KAAKA,EAAK,GAC/F,kBAAC,KAAWuvB,KAAZ,CAAiBvuD,QAAS,kBAAKquD,EAAiBD,OAtB5D1L,GAAoB8L,aAAe,CAC/B/5C,WAAY,CAACuqB,KAAM,EAAGovB,UAAW,GACjCD,WAAY,MAyBDzL,UCmEA+L,OA3Ff,SAA8BtmD,GAAQ,IAAD,EAEWxM,mBAAS,MAFpB,mBAE1B2uD,EAF0B,KAEVoE,EAFU,OAIK/yD,mBAAS,IAJd,mBAI1B8iB,EAJ0B,KAIbkwC,EAJa,OAKHhzD,oBAAS,GALN,mBAK1Ba,EAL0B,KAKjBC,EALiB,OAMGd,mBAAS,CAACqjC,KAAM,EAAGovB,UAAW,EAAGQ,QAAS,IAN7C,mBAM1Bn6C,EAN0B,KAMdsgC,EANc,KAO3B8Z,EAAgBrP,iBAAO,MAPI,EASL7jD,oBAAS,GATJ,mBAS1Bi2B,EAT0B,KASlBuvB,EATkB,KAU3B8M,EAAa,kBAAM9M,GAAWvvB,IAyDpC,OAxDAh1B,qBAAU,WAENH,GAAW,GAEXnB,KAAMiJ,IAAI,gDACL5F,MAAK,SAAAC,GACF3B,QAAQC,IAAI0B,GACZiwD,EAAcpoC,QAAU7nB,EAASE,KAEjC6vD,EAAeE,EAAcpoC,QAAQrkB,MAAM,EAAGqS,EAAWm6C,UAEzD,IAAMR,EAAY5+B,KAAKuzB,KAAK8L,EAAcpoC,QAAQzoB,OAAOyW,EAAWm6C,SACjER,GAAa35C,EAAW25C,WAAWrZ,EAAc,2BAAItgC,GAAL,IAAiB25C,UAAWA,KAC/EnxD,QAAQC,IAAIkxD,GAEZ3xD,GAAW,MAEdsC,OAAM,SAAA6jB,GACH3lB,QAAQC,IAAI0lB,GACZnmB,GAAW,QAGpB,CAACm1B,IAmCA,kBAAC,KAAD,KACI,kBAACu6B,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KAAK,kBAAC,GAAD,CAAoB0C,cAPf,SAACd,GACnBW,EAAe,GAAD,oBAAKlwC,GAAL,CAAkBuvC,MAM+BC,WAAYA,KACnE,kBAAC7B,GAAA,EAAD,KAAK,kBAAC,GAAD,CAAY33C,WAAYA,EAAY05C,WApClC,SAACxuB,GAChB,IAAMxhC,GAASwhC,EAAU,GAAGlrB,EAAWm6C,QACjCG,EAAiBF,EAAcpoC,QAAQrkB,MAAMjE,EAAOA,EAAMsW,EAAWm6C,SAC3ED,EAAeI,GACfha,EAAc,2BAAItgC,GAAL,IAAiBuqB,KAAMW,SAiC5B,kBAACysB,GAAA,EAAD,0BAEJ,6BACA,kBAACD,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAK9a,GAAI,GACJ90C,EAAU,yCAAoB,kBAAC,GAAD,CAC3BiiB,YAAaA,EACbmsC,eArCG,SAACoE,GACC,MAAlB1E,GAA0BA,EAAe9pD,KAAOwuD,EAAWxuD,IAC9DkuD,EAAkBM,IAoCFnE,uBAjCW,SAACmE,GAEd,WADDC,OAAO,0HAEpB3zD,KAAMiJ,IAAN,mDAAsDyqD,EAAWxuD,KAC5D7B,MAAK,SAAAC,GACF3B,QAAQC,IAAI0B,GACZqvD,WA8BA,kBAAC7B,GAAA,EAAD,CAAK9a,GAAI,GACL,kBAAC,GAAD,CAAKgZ,eAAgBA,Q,GChGT/uD,EAAQ,K,GAAhCqiC,O,GAAQ9pB,M,GAAOmH,K,QC6ERi0C,ICDFC,GAAS,CACpB,CACEnkC,KAAM,aACNoS,UlHrEW,WACX,OAAQ,kBAACnL,GAAD,OkHqERm9B,OAAO,GAET,CACEpkC,KAAM,UACNoS,UAAW,kBAAM,kDAEnB,CACEpS,KAAM,cACNoS,UAAWiyB,IAEb,CACErkC,KAAM,eACNoS,UAAWkyB,IAEb,CACEtkC,KAAM,eACNoS,Ub/BW,WAIX,OAAO,kBAAC,GAAD,CAAgBp9B,QAHvB,SAAiBqpD,EAAG75C,EAAK85C,GACrBrsD,QAAQC,IAAImsD,EAAErlC,OAAOhC,MAAOqnC,EAAErlC,OAAO/B,Ya+B3C,CACE+I,KAAM,eACNoS,UAAWqxB,IAOb,CACEzjC,KAAM,gBACNoS,UhBuHW,WACb,OAGQ,kBAAC,GAAD,CACIrY,aAAY,gIACZC,eAAgB,yBAAKllB,MAAO,CAAEsR,OAAO,SACrC6T,iBAAkB,yBAAKnlB,MAAO,CAAEsR,OAAO,SACvC8T,WAAY,yBAAKplB,MAAO,CAAEsR,OAAO,cgB7H7C,CACE4Z,KAAM,uCACNoS,UAAWlW,IAEb,CACE8D,KAAM,oCACNoS,UAAW3V,IAEb,CACEuD,KAAM,gCACNoS,UAAW7f,IAEb,CACEyN,KAAM,2BACNoS,UAAW7S,IAGb,CACES,KAAM,YACNoS,UAAW,kBAAM,oDAEnB,CACEpS,KAAM,sBACNoS,UAAWmyB,IAEb,CACEvkC,KAAM,kBACNoS,UAAWoyB,IAEb,CACExkC,KAAM,gBACNoS,UAAW6K,IAGb,CACEjd,KAAM,iBACNoS,UAAWuN,IAEb,CACE3f,KAAM,6BACNoS,UAAWmP,IAEb,CACEvhB,KAAM,4BACNoS,UAAWoP,IAEb,CACExhB,KAAM,yBACNoS,UAAWoL,IAgBb,CACExd,KAAM,qBACNoS,UAAWwL,IAEb,CACE5d,KAAM,0BACNoS,UAAWqyB,IAEb,CACEzkC,KAAM,0BACNoS,UAAWqM,IAEb,CACEze,KAAM,0BACNoS,UAAW0M,IAEb,CACE9e,KAAM,4BACNoS,UAAWsyB,IAEb,CACE1kC,KAAM,yBACNoS,UAAWuyB,IAGb,CACE3kC,KAAM,YACNoS,UAAW,kBAAM,kBAAC,GAAD,QAEnB,CACEpS,KAAM,UACNoS,UAAW,kBAAM,kBAAC,GAAD,QAEnB,CACEpS,KAAM,0BACNoS,UAAW,kBAAM,kBAAC,GAAD,QAEnB,CACEpS,KAAM,WACNoS,UAAW,kBAAM,0CAEnB,CACEpS,KAAM,qBACNoS,UAAW,kBAAM,+EAGnB,CACEpS,KAAM,2CACNoS,UAAWma,GACX6X,OAAO,GAGT,CACEpkC,KAAM,uCACNoS,UAAWwyB,GACXR,OAAO,GAGT,CACEpkC,KAAM,+BACNoS,UAAWyyB,GACXT,OAAO,GAGT,CACEpkC,KAAM,wCACNoS,UAAW0yB,GACXV,OAAO,GAET,CACEpkC,KAAM,aACNoS,UAAW,kBAAM,iEAEnB,CACEpS,KAAM,YACNoS,UAAW,kBAAM,kDAEnB,CACEpS,KAAM,WACNoS,UAAW,kBAAM,kBAAC,GAAD,QAEnB,CACEpS,KAAM,sBACNoS,UAAW,kBAAM,kBAAC,GAAD,QAEnB,CACEpS,KAAM,gBACNoS,UAAW,kBAAM,6EAEnB,CACEpS,KAAM,YACNoS,UAAW2yB,IAEb,CACE/kC,KAAM,aACNoS,UAAWsG,IAEb,CACE1Y,KAAM,eACNoS,UAAW4yB,IAEb,CACEhlC,KAAM,YACNoS,UAAW6yB,IAEb,CACEjlC,KAAM,eACNoS,UAAW8yB,IAEb,CACEllC,KAAM,aACNoS,UAAW+yB,IAEb,CACEnlC,KAAM,aACNoS,UAAWgzB,IAEb,CACEplC,KAAM,gBACNoS,UAAWizB,IAEb,CACErlC,KAAM,kBACNoS,UAAWkzB,IAEb,CACEtlC,KAAM,cACNoS,UAAWmzB,IAEb,CACEvlC,KAAM,iBACNoS,UAAWozB,IAEb,CACExlC,KAAM,WACNoS,UAAWqzB,IAEb,CACEzlC,KAAM,4BACNoS,UAAW,kBAAM,+DAEnB,CACEpS,KAAM,mCACNoS,UAAW,kBAAM,kBAAC,GAAD,OACjBgyB,OAAO,GAET,CACEpkC,KAAM,8BACNoS,UAAW,kBAAM,kBAAC,GAAD,OACjBgyB,OAAO,GAET,CACEpkC,KAAM,qBACNoS,UAAW,kBAAM,kBAAC,GAAD,QAEnB,CACEpS,KAAM,4BACNoS,UAAW,kBAAM,kBAAC,GAAD,QAEnB,CACEpS,KAAM,kBACNoS,UAAWT,GACXyyB,OAAO,GAET,CACEpkC,KAAM,mBACNoS,UAAWhqB,IAEb,CACE4X,KAAM,QACNoS,UAAWhqB,IAEb,CACE4X,KAAM,cACNoS,UAAW/nB,IAEb,CACE2V,KAAM,aACNoS,UAAWvnB,IAEb,CACEmV,KAAM,aACNoS,UAAW,kBAAM,kBAAC,GAAD,OACjBgyB,OAAO,GAGT,CACEpkC,KAAM,iBACNoS,UAAW,kBAAM,kBAAC,GAAD,OACjBgyB,OAAO,GAGT,CACEpkC,KAAM,gBACNoS,UAAW,kBAAM,kBAACszB,GAAD,OACjBtB,OAAO,GAET,CACEpkC,KAAM,gBACNoS,UAAW,kBAAM,kBAACuzB,GAAD,QAEnB,CACEvB,OAAO,EACPpkC,KAAM,QACNoS,UAAW5mB,IAEb,CACEwU,KAAM,cACNoS,UAAWwzB,IAEb,CACE5lC,KAAM,mBACNoS,UAAWyzB,KAITC,GAAe,SAAC,GAAuC,IAA1B9nD,EAAyB,EAApCo0B,UAAyB2zB,EAAW,6BACpDrvD,EAAU+J,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKK,WAElD,OAGE,kBAAC,IAAD,iBACMqvD,EADN,CAEE78C,OAAQ,SAAC/L,GAAD,OACNzG,EAAU,kBAACsH,EAAcb,GAAY,kBAAC,IAAD,CAAU/J,GAAG,gBAM3C,qBACb,kBAAC,IAAD,KACG+wD,GAAO3/C,KAAI,YAA6D,IAA1Dwb,EAAyD,EAAzDA,KAAyD,IAAnDokC,aAAmD,SAAzBpmD,EAAyB,EAApCo0B,UAAyB2zB,EAAW,4CACtE,OACE,kBAAC,GAAD,eACEpzD,IAAKqtB,EACLokC,MAAOA,EACPpkC,KAAMA,EACNoS,UAAWp0B,GACP+nD,S,8BC9ZV9wC,GAAY,SAAC+wC,EAAOxwD,GACtB,IAAI8G,GAAU,EAMd,OALA0pD,EAAMn0D,SAAQ,SAACxC,EAAO+B,GAChB/B,EAAM6F,MAAQM,IAChB8G,EAASlL,MAGNkL,GAGH/F,GAAe,CACnBoL,KAAM,GACN+nC,aAAc,GACduc,UAAW,EACXnc,MAAO,EACPH,WAAY,EACZ3V,KAAM,EACNkyB,cAAe,EACfC,aAAa,EACbC,aAAa,EACbC,SAAU,EACVC,SAAU,EACV7a,iBAAiB,EACjBC,iBAAiB,EACjBC,eAAgB,ICxBlB,IAAI12B,GAAY,SAAC+wC,EAAOxwD,GACtB,IAAI8G,GAAU,EAMd,OALA0pD,EAAMn0D,SAAQ,SAACxC,EAAO+B,GAChB/B,EAAM6F,MAAQM,IAChB8G,EAASlL,MAGNkL,GAGH/F,GAAe,CACnBmzC,aAAc,GACd/nC,KAAM,GACNskD,UAAW,EACXnc,MAAO,EACPH,WAAY,EACZ3V,KAAM,EACNkyB,cAAe,EACfC,aAAa,EACbC,aAAa,EACbvc,cAAc,EACdD,SAAS,EACTL,SAAU,ICZZ,IAAMgd,GAAgB,CACpB5zD,IAAK,OACL6zD,Q,QAASA,EACTC,UAAW,CAAC,SAGRC,GAAcC,aAAgB,CAClCtwD,KAAMuwD,EACN54C,iBFSK,WAAyD,IAA/BnX,EAA8B,uDAAtBN,GAAcqH,EAAQ,uCACzDxM,GAAS,EACTy1D,GAAiB,EAErB,OAAQjpD,EAAO/I,MACb,KAAKo2C,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACH,OAAO,eACFp0C,GAGP,KAAKo0C,GACH,OAAO,2BACFp0C,GADL,IAEE8K,KAAM/D,EAAO9G,UAGjB,KAAKm0C,GACH,OAAO,2BACFp0C,GADL,IAEE6yC,aAAc9rC,EAAO9G,QAAQgwD,KAC7Bb,UAAWroD,EAAO9G,QAAQmvD,UAC1Bnc,MAAOlsC,EAAO9G,QAAQgzC,MACtBH,WAAY/rC,EAAO9G,QAAQ6yC,WAC3B3V,KAAMp2B,EAAO9G,QAAQk9B,KACrBkyB,cAAetoD,EAAO9G,QAAQovD,cAC9BC,YAAavoD,EAAO9G,QAAQqvD,YAC5BC,YAAaxoD,EAAO9G,QAAQsvD,YAC5BC,SAAUzoD,EAAO9G,QAAQuvD,SACzBC,SAAU1oD,EAAO9G,QAAQwvD,WAG7B,KAAKrb,GACH,OAAO,2BACFp0C,GADL,IAEE8K,KAAK,GAAD,oBAAM9K,EAAM8K,MAAZ,CAAkB/D,EAAO9G,UAC7B4yC,aAAa,GAAD,oBAAM7yC,EAAM6yC,cAAZ,CAA0B9rC,EAAO9G,YAEjD,KAAKm0C,GACH,OAAO,2BACFp0C,GADL,IAEE40C,gBAAiB7tC,EAAO9G,UAG5B,KAAKm0C,GAWH,OAVA75C,EAAQ6jB,GAAUpe,EAAM8K,KAAM/D,EAAO9G,QAAQ5B,KAC7C2xD,EAAgB5xC,GAAUpe,EAAM6yC,aAAc9rC,EAAO9G,QAAQ5B,MAE9C,IAAX9D,IACFyF,EAAM8K,KAAKvQ,GAASwM,EAAO9G,UAGN,IAAnB+vD,IACFhwD,EAAM6yC,aAAamd,GAAiBjpD,EAAO9G,SAEtC,eACFD,GAGP,KAAKo0C,GAOH,OAAO,eACFp0C,GAEP,KAAKo0C,GACH,OAAO,2BACFp0C,GADL,IAEE60C,gBAAiB9tC,EAAO9G,UAE5B,KAAKm0C,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACH,OAAO,eACFp0C,GAEP,KAAKo0C,GACH,OAAO,2BACFp0C,GADL,IAEE80C,eAAgB/tC,EAAO9G,UAG3B,QACE,OAAO,eACFD,KErGT4yC,SDMK,WAAiD,IAA/B5yC,EAA8B,uDAAtBN,GAAcqH,EAAQ,uCACjDxM,GAAS,EACTy1D,GAAiB,EAErB,OAAQjpD,EAAO/I,MACb,KAAKgzC,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACH,OAAO,eACFhxC,GAGP,KAAKgxC,GACH,OAAO,2BACFhxC,GADL,IAEE8K,KAAM/D,EAAO9G,UAEjB,KAAK+wC,GACH,OAAO,2BACFhxC,GADL,IAEE6yC,aAAc9rC,EAAO9G,QAAQgwD,KAC7Bb,UAAWroD,EAAO9G,QAAQmvD,UAC1Bnc,MAAOlsC,EAAO9G,QAAQgzC,MACtBH,WAAY/rC,EAAO9G,QAAQ6yC,WAC3B3V,KAAMp2B,EAAO9G,QAAQk9B,KACrBkyB,cAAetoD,EAAO9G,QAAQovD,cAC9BC,YAAavoD,EAAO9G,QAAQqvD,YAC5BC,YAAaxoD,EAAO9G,QAAQsvD,YAC5BC,SAAUzoD,EAAO9G,QAAQuvD,SACzBC,SAAU1oD,EAAO9G,QAAQwvD,WAG7B,KAAKze,GACH,OAAO,2BACFhxC,GADL,IAEE8K,KAAK,GAAD,oBAAM9K,EAAM8K,MAAZ,CAAkB/D,EAAO9G,UAC7B4yC,aAAa,GAAD,oBAAM7yC,EAAM6yC,cAAZ,CAA0B9rC,EAAO9G,YAGjD,KAAK+wC,GAaH,OAZAz2C,EAAQ6jB,GAAUpe,EAAM8K,KAAM/D,EAAO9G,QAAQ5B,KAE7C2xD,EAAgB5xC,GAAUpe,EAAM6yC,aAAc9rC,EAAO9G,QAAQ5B,MAE9C,IAAX9D,IACFyF,EAAM8K,KAAKvQ,GAASwM,EAAO9G,UAGN,IAAnB+vD,IACFhwD,EAAM6yC,aAAamd,GAAiBjpD,EAAO9G,SAGtC,eACFD,GAGP,KAAKgxC,GACH,OAAO,eACFhxC,GAGP,KAAKgxC,GACH,OAAO,2BACFhxC,GADL,IAEEgzC,aAAcjsC,EAAO9G,UAEzB,KAAK+wC,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACH,OAAO,2BACFhxC,GADL,IAEE+yC,QAAShsC,EAAO9G,UAEpB,KAAK+wC,GACH,OAAO,2BACFhxC,GADL,IAEE0yC,SAAU3rC,EAAO9G,UAErB,QACE,OAAO,eACFD,OCvFLkwD,GAAmBC,aAAeT,GAAeG,IAEjDO,GAAQC,YAAe,CAC3B/vD,QAAS4vD,GACTI,WAAYC,YAAqB,CAC/BC,mBAAmB,EACnBC,gBAAgB,MAIPC,GAAYC,aAAaP,IAEvBA,M,sOClCf,IAUeQ,GAVQ94D,IAAOC,IAAV,MCSZkX,GAAUC,KAAVD,MA4LO4hD,GA1LG,WACd,IAAMnnD,EAAWC,wBADG,EAEY7P,mBAAS,CACrCsO,SAAU,GACViI,SAAU,KAJM,mBAEbygD,EAFa,KAEHC,EAFG,OAOUj3D,mBAAS,IAPnB,mBAOb8B,EAPa,KAOJ4L,EAPI,QAQAoC,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKI,eACtB9F,oBAAS,IATrB,mBASbk3D,EATa,KASHC,EATG,KAWpBl2D,qBAAU,WACN,IAAMm2D,EAAYlnD,aAAauG,QAAQ,aAEnC0gD,GADAC,GACyB,QAAbA,GAIhB,IAAMC,EAAWla,KAAKI,MAAMrtC,aAAauG,QAAQ,cAChC,QAAb2gD,GACAH,EAAYI,KAEjB,IAEH,IAAMv3D,EAAUC,cACVgQ,EAAWC,cACXjK,EAAU+J,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKK,WAElD9E,qBAAU,WACF8E,GACAjG,EAAQgF,KAAK,gBAElB,CAACiB,IAEJ9E,qBAAU,WACF8O,EAAS7J,OAAS6J,EAAS7J,MAAMpE,SACjC4L,EAAWqC,EAAS7J,MAAMpE,WAE/B,CAACiO,IAEJ9O,qBAAU,WACN,GAAIa,GAAuB,KAAZA,EAAgB,CAC3B,IAAMw1D,EAAQr1D,YAAW,WACrByL,EAAW,MACZ,KACH,OAAO,kBAAM6pD,aAAaD,OAE/B,CAACx1D,IAEJ,IAAM01D,EAAW,yCAAG,+BAAArrD,EAAA,kEAEP2B,IAFO,wDAKN2pD,EAAY,CACdnpD,SAAU0oD,EAAS1oD,SACnBiI,SAAUygD,EAASzgD,UAPX,S5M5DFtN,E4MqEcwuD,E5MpEhC1wD,GACKqC,KAAK,QAASH,GACdjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,Q4MqDV,OAUM,eADZ0F,EATM,QAUJL,QACJoH,EAAS5L,EAAQiC,YAAY4C,EAAI8C,SACjCiE,EAAS5L,EAAQqC,UAAS,IAC1BuJ,EAAS5L,EAAQoC,eAAeyC,EAAI8C,OAAOzH,OAC3CgM,aAAawnD,QAAQ,QAAS7uD,EAAI8C,OAAOgsD,WACzCznD,aAAawnD,QAAQ,eAAgB7uD,EAAI8C,OAAOzH,MAChD2D,GAAW,CAAEmW,MAAOnV,EAAI8C,OAAOgsD,YAC/B9vD,GAAW,CAAE,eAAgBgB,EAAI8C,OAAOzH,OACxCpE,EAAQgF,KAAK,eAEb4I,EAAW7E,EAAI/G,SAEnBoO,aAAawnD,QAAQ,YAAaR,GAC9BA,EACAhnD,aAAawnD,QAAQ,YAAava,KAAK91C,UAAUowD,IAEjDvnD,aAAaC,WAAW,aA1BhB,oF5M5DH,IAAClH,I4M4DE,qBAAH,qDA+BX6E,EAAeF,uBAAY,WAC7B,IAAIQ,GAAS,EACb,MACiC,qBAAtB4oD,EAAS1oD,UACM,KAAtB0oD,EAAS1oD,UAETF,GAAS,EACTV,EAAW,4CACJU,GAGsB,qBAAtB4oD,EAASzgD,UACM,KAAtBygD,EAASzgD,UAETnI,GAAS,EACTV,EAAW,6CACJU,GAEJA,IACR,CAAC4oD,IAMJ,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAO9xD,MAAO,GAAd,qDACA,wDACA,kBAAC,KAAD,CACIzG,KAAK,eACL+jB,cAAe,CACXsqB,UAAU,IAGd,kBAAC,KAAK/oC,KAAN,CAAWtF,KAAK,YACZ,kBAAC,KAAD,CACIs0B,OACI,kBAAC6kC,GAAA,EAAD,CAAcvyD,UAAU,wBAE5B8J,YAAY,sBACZzQ,MAAOs4D,EAAS1oD,SAChBpB,SAAU,SAACkC,GAAD,OACN6nD,EAAY,2BACLD,GADI,IAEP1oD,SAAUc,EAAEC,OAAO3Q,aAKnC,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,YACZ,kBAAC,KAAD,CACIs0B,OACI,kBAAC8kC,GAAA,EAAD,CAAcxyD,UAAU,wBAE5BnB,KAAK,WACLiL,YAAY,qBACZzQ,MAAOs4D,EAASzgD,SAChBrJ,SAAU,SAACkC,GAAD,OACN6nD,EAAY,2BACLD,GADI,IAEPzgD,SAAUnH,EAAEC,OAAO3Q,aAKlCoD,GAAW,uBAAGuD,UAAU,gBAAgBvD,GACzC,kBAAC,KAAKiC,KAAN,KACI,kBAAC,KAAKA,KAAN,CAAWtF,KAAK,WAAWq5D,cAAc,UAAUC,SAAO,GACtD,kBAAC,KAAD,CACI7qD,SAjDK,SAACkC,GAC1B+nD,EAAY/nD,EAAEC,OAAOwjB,UAiDDA,QAASqkC,GAFb,+BAQJ,uBACI7xD,UAAU,eACVhB,QAAS,kBAAMvE,EAAQgF,KAAK,sBAFhC,8BAMA,uBACIO,UAAU,gBACVhB,QAAS,kBAAMvE,EAAQgF,KAAK,eAFhC,yBAQJ,kBAAC,KAAKf,KAAN,KACI,kBAAC,IAAD,CACIG,KAAK,UACLye,SAAS,SACTtd,UAAU,oBACVhB,QAASmzD,GAJb,gC,mXCvLpB,IAgBeQ,GAhBIh6D,IAAOC,IAAV,MCsBDg6D,GAnBQ,SAAC,GAAkB,IAAhBjkD,EAAe,EAAfA,SACtB,OACI,kBAAC,GAAD,KACI,kBAAC,IAAD,CAAKxD,QAAQ,SAASC,MAAM,SAASpL,UAAU,aAC3C,kBAAC,KAAD,CAAKiQ,KAAM,IACP,kBAAC,IAAD,CAAKjQ,UAAU,mBACX,kBAAC,KAAD,CAAKiQ,KAAM,IACP,kBAAC,KAAD,CAAO3Q,IAAKyP,GAAOG,MAAOkB,OAAO,UAErC,kBAAC,KAAD,CAAKpQ,UAAU,aAAaiQ,KAAM,IAC7BtB,QCHdkkD,GARD,WACV,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,Q,qJCLZ,IAOeC,GAPiBn6D,IAAOC,IAAV,MCQrBkX,GAAUC,KAAVD,MA6FOpB,gBA3FY,SAAC,GAAiB,IAAfjU,EAAc,EAAdA,QAAc,GACvB+P,wBAES7P,mBAAS,KAHK,mBAGjCuO,EAHiC,KAG1B6pD,EAH0B,KAIlCC,EAAoB,yCAAG,6BAAAlsD,EAAA,yDACpBoC,GAAmB,KAAVA,EADW,uBAErBR,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YAAa,qCAJI,6BAQpBszD,EAAc/pD,GARM,uBASrBR,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YAAa,yDAXI,0CjNCFiE,EiNcU,CAAEsF,MAAOA,GjNb9CxH,GAASqC,KAAK,6BAA8BH,GAAMjG,MAAK,SAAC6F,GACpD,OAAOA,EAAI1F,QiNHc,OAgBP,eADZ0F,EAfmB,QAgBjBL,QACJuF,KAAa7L,QAAQ,CACjBJ,QAAS,mBACTkD,YAAa,sDAEjB/C,YAAW,WACPnC,EAAQgF,KAAK,YACd,OAEHiJ,KAAa1K,MAAM,CACfvB,QAAS,WACTkD,YAAa6D,EAAI/G,UA3BA,kCjNCH,IAACmH,IiNDE,OAAH,qDAgC1B,SAASqvD,EAAc/pD,GAEnB,MADW,0JACDgqD,KAAKt+B,OAAO1rB,GAAO0W,eAGjC,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAO/f,MAAO,GAAd,qDACA,0DACA,kBAAC,KAAD,CACIzG,KAAK,eACL+jB,cAAe,CACXsqB,UAAU,IAGd,kBAAC,KAAK/oC,KAAN,CAAWtF,KAAK,SACZ,kBAAC,KAAD,CACIs0B,OACI,kBAAC6kC,GAAA,EAAD,CAAcvyD,UAAU,wBAE5B8J,YAAY,QACZzQ,MAAO6P,EACPrB,SAAU,SAACkC,GAAD,OAAOgpD,EAAShpD,EAAEC,OAAO3Q,WAG3C,kBAAC,KAAKqF,KAAN,KACI,uBACIsB,UAAU,eACVhB,QAAS,kBAAMvE,EAAQgF,KAAK,YAFhC,4BAMA,uBACIO,UAAU,gBACVhB,QAAS,kBAAMvE,EAAQgF,KAAK,eAFhC,yBAQJ,kBAAC,KAAKf,KAAN,KACI,kBAAC,IAAD,CACIG,KAAK,UACLye,SAAS,SACTtd,UAAU,oBACVhB,QAASg0D,GAJb,kBC7ELG,GARQ,WACnB,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,Q,wMCLZ,IAWe1B,GAXQ94D,IAAOC,IAAV,MCSZkX,GAAUC,KAAVD,MA8KOsjD,IA7KI1iD,KAAXD,OAEa,WACjB,IAAMlG,EAAWC,wBACX/P,EAAUC,cAFO,EAGSC,mBAAS,CACrCqO,UAAW,GACXE,MAAO,GACPgI,SAAU,GACVC,WAAY,GACZtS,KAAM,KARa,mBAGhB8yD,EAHgB,KAGNC,EAHM,KAUjBnxD,EAAcgK,uBAAY,SAAA5J,GAAK,OAAIA,EAAMR,KAAKI,eAV7B,EAWO9F,mBAAS,IAXhB,mBAWhB8B,EAXgB,KAWP4L,EAXO,KAajBgrD,EAAc,yCAAG,+BAAAvsD,EAAA,kEAEV2B,IAFU,wDAMT6qD,EAAe,CACjBtqD,UAAW2oD,EAAS3oD,UACpBE,MAAOyoD,EAASzoD,MAChBgI,SAAUygD,EAASzgD,SACnBC,WAAYwgD,EAASxgD,WACrBtS,KAAM4B,GAEV4H,EAAW,IAbI,SpNfFzE,EoN6Bc0vD,EpN5BnC5xD,GAASqC,KAAK,WAAYH,GAAMjG,MAAK,SAAC6F,GAClC,OAAOA,EAAI1F,QoNaQ,OAeG,eADZ0F,EAdS,QAePL,QACJoH,EAAS5L,EAAQiC,YAAY,KAC7BnG,EAAQgF,KAAK,CACTwL,SAAU,SACVpK,MAAO,CAAEpE,QAAS,oEAGtB4L,EAAW7E,EAAI/G,SAtBJ,oFpNfH,IAACmH,IoNeE,qBAAH,qDA2Bd6E,EAAeF,uBAAY,WAC7B,IAAIQ,GAAS,EACb,MAAkC,qBAAvB4oD,EAAS3oD,WAAoD,KAAvB2oD,EAAS3oD,WAK5B,qBAAnB2oD,EAASzoD,OAA4C,KAAnByoD,EAASzoD,OAJlDH,GAAS,EACTV,EAAW,gCACJU,GAQsB,qBAAtB4oD,EAASzgD,UACM,KAAtBygD,EAASzgD,UAETnI,GAAS,EACTV,EAAW,6CACJU,GAEwB,qBAAxB4oD,EAASxgD,YAChBpI,GAAS,EACTV,EAAW,oDACJU,GAEP4oD,EAASxgD,aAAewgD,EAASzgD,UACjCnI,GAAS,EACTV,EAAW,8DACJU,GAEJA,KAGX,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAOlJ,MAAO,GAAd,qDACA,oDACA,kBAAC,KAAD,CACIzG,KAAK,eACL+jB,cAAe,CACXsqB,UAAU,IAGd,kBAAC,KAAK/oC,KAAN,CAAWtF,KAAK,QACZ,kBAAC,KAAD,CACIs0B,OACI,kBAAC6kC,GAAA,EAAD,CAAcvyD,UAAU,wBAE5BnB,KAAK,OACLiL,YAAY,iBACZzQ,MAAOs4D,EAAS3oD,UAChBnB,SAAU,SAACkC,GAAD,OACN6nD,EAAY,2BAAKD,GAAN,IAAgB3oD,UAAWe,EAAEC,OAAO3Q,aAI3D,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,SACZ,kBAAC,KAAD,CACIs0B,OACI,kBAAC6kC,GAAA,EAAD,CAAcvyD,UAAU,wBAE5BnB,KAAK,QACLiL,YAAY,QACZzQ,MAAOs4D,EAASzoD,MAChBrB,SAAU,SAACkC,GAAD,OACN6nD,EAAY,2BAAKD,GAAN,IAAgBzoD,MAAOa,EAAEC,OAAO3Q,aAIvD,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,YACZ,kBAAC,KAAD,CACIs0B,OACI,kBAAC8kC,GAAA,EAAD,CAAcxyD,UAAU,wBAE5BnB,KAAK,WACLiL,YAAY,qBACZzQ,MAAOs4D,EAASzgD,SAChBrJ,SAAU,SAACkC,GAAD,OACN6nD,EAAY,2BACLD,GADI,IAEPzgD,SAAUnH,EAAEC,OAAO3Q,aAKnC,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,eACZ,kBAAC,KAAD,CACIs0B,OACI,kBAAC8kC,GAAA,EAAD,CAAcxyD,UAAU,wBAE5BnB,KAAK,WACLiL,YAAY,sCACZzQ,MAAOs4D,EAASxgD,WAChBtJ,SAAU,SAACkC,GAAD,OACN6nD,EAAY,2BACLD,GADI,IAEPxgD,WAAYpH,EAAEC,OAAO3Q,aAKpCoD,GAAW,uBAAGuD,UAAU,gBAAgBvD,GACzC,kBAAC,KAAKiC,KAAN,KACI,uBACIsB,UAAU,eACVhB,QAAS,kBAAMvE,EAAQgF,KAAK,YAFhC,4BAMA,uBACIO,UAAU,gBACVhB,QAAS,kBAAMvE,EAAQgF,KAAK,sBAFhC,+BAOJ,kBAAC,KAAKf,KAAN,KACI,kBAAC,IAAD,CACIG,KAAK,UACLye,SAAS,SACTtd,UAAU,oBACVhB,QAASq0D,GAJb,6BC/JLE,GARE,WACb,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,Q,wMCLZ,IAWeC,GAXiB76D,IAAOC,IAAV,MCQrBkX,GAAUC,KAAVD,MA2IO2jD,GAzIY,WACvB,IAAMh5D,EAAUC,cADa,GAEZ8P,wBACe7P,mBAAS,CACrC+4D,YAAa,GACbxqD,MAAO,GACPgI,SAAU,GACVC,WAAY,MAPa,mBAGtBwgD,EAHsB,KAGZC,EAHY,OASCj3D,mBAAS,IATV,mBAStB8B,EATsB,KASb4L,EATa,KAUvBqC,EAAWC,cAEXK,EAAoB,yCAAG,+BAAAlE,EAAA,kEAEhB2B,IAFgB,wDAMfkrD,EAAqB,CACvBD,YAAa/B,EAAS+B,YACtBxqD,MAAOyoD,EAASzoD,MAChBgI,SAAUygD,EAASzgD,SACnBC,WAAYwgD,EAASxgD,YAEzB9I,EAAW,IAZU,SvNFFzE,EuNec+vD,EvNdzCjyD,GACKqC,KAAK,kBAAmBH,GACxBjG,MAAK,SAAC6F,GACH,OAAOA,EAAI1F,QAEdC,OAAM,SAACC,GACJ,OAAOA,EAAMJ,SAASE,QuNLD,OAcH,eADZ0F,EAbe,QAcbL,OACJ1I,EAAQgF,KAAKiL,EAAS7J,MAAMqK,WAE5B7C,EAAW7E,EAAI/G,SAjBE,oFvNFH,IAACmH,IuNEE,qBAAH,qDAwBpB6E,EAAeF,uBAAY,WAC7B,IAAIQ,GAAS,EACb,MAA8B,qBAAnB4oD,EAASzoD,OAA4C,KAAnByoD,EAASzoD,OAClDH,GAAS,EACTV,EAAW,gCACJU,GAEyB,qBAAzB4oD,EAAS+B,aAAwD,KAAzB/B,EAAS+B,aACxD3qD,GAAS,EACTV,EAAW,qDACJU,GAEsB,qBAAtB4oD,EAASzgD,UAAkD,KAAtBygD,EAASzgD,UACrDnI,GAAS,EACTV,EAAW,6CACJU,GAEwB,qBAAxB4oD,EAASxgD,YAChBpI,GAAS,EACTV,EAAW,oDACJU,GAEP4oD,EAASxgD,aAAewgD,EAASzgD,UACjCnI,GAAS,EACTV,EAAW,8DACJU,GAEJA,IACR,CAAC4oD,IAEEiC,EAAe,WACjBn5D,EAAQgF,KAAKiL,EAAS7J,MAAMqK,YAGhC,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAOrL,MAAO,GAAd,qDACA,gEACA,kBAAC,KAAD,CACIzG,KAAK,eACL+jB,cAAe,CACfsqB,UAAU,IAGV,kBAAC,KAAK/oC,KAAN,CAAWtF,KAAK,SACZ,kBAAC,KAAD,CACIs0B,OAAQ,kBAAC6kC,GAAA,EAAD,CAAcvyD,UAAU,wBAChC8J,YAAY,QACZzQ,MAAOs4D,EAASzoD,MAChBrB,SAAU,SAACkC,GAAD,OAAO6nD,EAAY,2BAAKD,GAAN,IAAgBzoD,MAAOa,EAAEC,OAAO3Q,aAGpE,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,eACZ,kBAAC,KAAD,CACIs0B,OAAQ,kBAAC8kC,GAAA,EAAD,CAAcxyD,UAAU,wBAChCnB,KAAK,WACLiL,YAAY,6BACZzQ,MAAOs4D,EAAS+B,YAChB7rD,SAAU,SAACkC,GAAD,OAAO6nD,EAAY,2BAAKD,GAAN,IAAgB+B,YAAa3pD,EAAEC,OAAO3Q,aAG1E,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,YACZ,kBAAC,KAAD,CACIs0B,OAAQ,kBAAC8kC,GAAA,EAAD,CAAcxyD,UAAU,wBAChCnB,KAAK,WACLiL,YAAY,8BACZzQ,MAAOs4D,EAASzgD,SAChBrJ,SAAU,SAACkC,GAAD,OAAO6nD,EAAY,2BAAKD,GAAN,IAAgBzgD,SAAUnH,EAAEC,OAAO3Q,aAGvE,kBAAC,KAAKqF,KAAN,CAAWtF,KAAK,eACZ,kBAAC,KAAD,CACIs0B,OAAQ,kBAAC8kC,GAAA,EAAD,CAAcxyD,UAAU,wBAChCnB,KAAK,WACLiL,YAAY,sCACZzQ,MAAOs4D,EAASxgD,WAChBtJ,SAAU,SAACkC,GAAD,OAAO6nD,EAAY,2BAAKD,GAAN,IAAgBxgD,WAAYpH,EAAEC,OAAO3Q,aAGxEoD,GAAW,uBAAGuD,UAAU,gBAAgBvD,GACzC,kBAAC,KAAKiC,KAAN,KACI,uBAAGsB,UAAU,gBAAgBhB,QAAS,kBAAM40D,IAA5C,kBAKJ,kBAAC,KAAKl1D,KAAN,KACI,kBAAC,IAAD,CACIG,KAAK,UACLye,SAAS,SACTtd,UAAU,oBACVhB,QAASgM,GAJb,wCC3HL6oD,GARQ,WACnB,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,QCmCN/D,GAAe,SAAC,GAAuC,IAA1B9nD,EAAyB,EAApCo0B,UAAyB2zB,EAAW,6BAClDrvD,EAAU+J,uBAAY,SAAC5J,GAAD,OAAWA,EAAMR,KAAKK,WAElD,OACI,kBAAC,IAAD,iBACQqvD,EADR,CAEI78C,OAAQ,SAAC/L,GAAD,OACJzG,EAAU,kBAACsH,EAAcb,GAAY,kBAAC,IAAD,CAAU/J,GAAG,gBAM5D02D,GAAY,WACd,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,GAAD,CAAc1F,OAAK,EAACpkC,KAAK,QAAQoS,UAAW9rB,KAC5C,kBAAC,IAAD,CAAO89C,OAAK,EAACpkC,KAAK,SAASoS,UAAWy2B,KACtC,kBAAC,IAAD,CAAOzE,OAAK,EAACpkC,KAAK,YAAYoS,UAAWm3B,KACzC,kBAAC,IAAD,CACInF,OAAK,EACLpkC,KAAK,mBACLoS,UAAW+2B,KAEf,kBAAC,IAAD,CACI/E,OAAK,EACLpkC,KAAK,mBACLoS,UAAWy3B,KAEf,kBAAC,GAAD,KACI,kBAAC,GAAD,UAOL9xB,GA3DH,WAYR,OAXAnmC,qBAAU,WACFiP,aAAauG,QAAQ,iBACrB5O,GAAW,CACP,eAAgBqI,aAAauG,QAAQ,kBAGzCvG,aAAauG,QAAQ,UACrB5O,GAAW,CAAEmW,MAAO9N,aAAauG,QAAQ,aAE9C,IAGC,kBAAC,WAAD,CAAU6/C,MAAOA,IACb,kBAAC,eAAD,CAAaz1D,QAAS,KAAM+1D,UAAWA,IACnC,kBAAC,GAAD,SCxBI1W,QACW,cAA7Bl4B,OAAOjY,SAASqpD,UAEe,UAA7BpxC,OAAOjY,SAASqpD,UAEhBpxC,OAAOjY,SAASqpD,SAASC,MACvB,2D,QCRNC,IAAS/gD,OAAO,kBAAC,GAAD,MAAStF,SAASsmD,eAAe,SDkH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM12D,MAAK,SAAC22D,GAClCA,EAAaC,iB,wCEvFnBC,EAAOC,QAAU,CACfC,OAxCa,SAATA,IAAyD,IAA/C/kC,EAA8C,uDAAxC,GAAIglC,EAAoC,uDAAzB,GAAyB,6CAAnBjtC,YAAmB,SAC5D,MAAmB,kBAARiI,GAAqBA,GAC3B/K,MAAMC,QAAQ8vC,IAEnBA,EAAS94D,SAAQ,SAACc,UACTgzB,EAAIhzB,MAGT+qB,GACF9B,OAAOC,KAAK8J,GAAK9zB,SAAQ,SAACc,GACA,kBAAbgzB,EAAIhzB,IACb+3D,EAAO/kC,EAAIhzB,GAAMg4D,MAKhBhlC,GAfqC,IAwC5CnI,UAtBgB,SAAZA,EAAamI,EAAD,GAA4B,IAAD,IAAnBjI,YAAmB,SAC3C,MAAmB,kBAARiI,GAAqBA,GAEhC/J,OAAOC,KAAK8J,GAAK9zB,SAAQ,SAACc,QACPolB,IAAb4N,EAAIhzB,IAAmC,OAAbgzB,EAAIhzB,WACzBgzB,EAAIhzB,MAIX+qB,GACF9B,OAAOC,KAAK8J,GAAK9zB,SAAQ,SAACc,GACA,kBAAbgzB,EAAIhzB,IACb6qB,EAAUmI,EAAIhzB,IAAM,MAKnBgzB,GAhBqC,M,oBCpB9C6kC,EAAOC,QAAU,IAA0B,4C","file":"static/js/main.f0b0c302.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nconst StyleLayout = styled.div`\r\n  .trigger {\r\n    font-size: 18px;\r\n    line-height: 64px;\r\n    padding: 0 24px;\r\n    cursor: pointer;\r\n    transition: color 0.3s;\r\n    &:hover {\r\n      color: #fff;\r\n    }\r\n  }\r\n\r\n  .ant-layout-content {\r\n    background: white;\r\n    min-height: calc(100vh - 64px);\r\n    padding: 12px 24px;\r\n  }\r\n`;\r\nexport default StyleLayout;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleHeader = styled.div`\r\n  .header-content {\r\n    background: rgb(241, 243, 244);\r\n  }\r\n  .ant-layout-header {\r\n    padding: 0 !important;\r\n  }\r\n\r\n  .right-header {\r\n    float: right;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: auto;\r\n    margin-right: 20px;\r\n  }\r\n`;\r\n\r\nexport default StyleHeader;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div``;\r\n\r\nexport const StyleNavItem = styled.div`\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 5px;\r\n  line-height: 64px;\r\n  height: 64px;\r\n`;\r\n\r\nexport const StyleUserProfileContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 5px;\r\n  padding-bottom: 6px;\r\n\r\n  .ant-badge {\r\n    height: 32px;\r\n    line-height: 32px;\r\n    margin-right: 5px;\r\n    .ant-badge-dot {\r\n      top: 5px;\r\n      right: 5px;\r\n      width: 10px;\r\n      height: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const StyleUserName = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  margin-top: 5px;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  .text-info {\r\n    height: 16px;\r\n    line-height: 16px;\r\n    font-weight: 500;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    max-width: 120px;\r\n    min-width: 100px;\r\n    color: gray;\r\n  }\r\n  .role {\r\n    color: red;\r\n  }\r\n`;\r\n","import { PUBLIC_URL } from '../../configs';\r\n\r\n      /*loại đối tượng : \r\n      1: drone,\r\n      2: payload, \r\n      3: User,\r\n      4: Image/ video,\r\n      5: đối tượng giám sát,\r\n      6: Báo cáo thống kê,\r\n      7: Miền giám sát,\r\n      8: công việc xử lý sự cố,\r\n      9: flight hub,\r\n      10: sự cố lưới điện,\r\n      11: sự cố cây trồng,\r\n      12: sự cố cháy rừng,\r\n      13: sự cố đê điều\r\n      */\r\n\r\nconst ref = {\r\n    prop: {\r\n        1: {name: 'Drone', value: 1, img: `${PUBLIC_URL}/images/drone.png`},\r\n        2: {name: 'Payload', value: 2, img: `${PUBLIC_URL}/images/payload.png`},\r\n        3: {name: 'User', value: 3, img: `${PUBLIC_URL}/images/user.png`},\r\n        4: {name: 'Image/Video', value: 4, img: `${PUBLIC_URL}/images/image-video.png`},\r\n        5: {name: 'Đối tượng giám sát', value: 5, img: `${PUBLIC_URL}/images/object.png`},\r\n        6: {name: 'Báo cáo thống kê', value: 6, img: `${PUBLIC_URL}/images/baocao.jpg`},\r\n        7: {name: 'Miền giám sát', value: 7, img: `${PUBLIC_URL}/images/area.png`},\r\n        8: {name: 'Công việc xử lý sự cố', value: 8, img: `${PUBLIC_URL}/images/incident.jpg`},\r\n        9: {name: 'Flighthub', value: 9, img: `${PUBLIC_URL}/images/flighthub.jpg`},\r\n        10: {name: 'Sư cố lưới điện', value: 1, img: `${PUBLIC_URL}/images/dike.jpg`},\r\n        11: {name: 'Sư cố cây trồng', value: 1, img: `${PUBLIC_URL}/images/tree.jpg`},\r\n        12: {name: 'Sư cố cháy rừng', value: 1, img: `${PUBLIC_URL}/images/forest_fires.jpg`},\r\n        13: {name: 'Sư cố đê điều', value: 1, img: `${PUBLIC_URL}/images/dike.jpg`},\r\n    }\r\n}\r\n\r\nconst PROJECT_TYPE_MAP_TITLE = {\r\n  'CHAY_RUNG': 'sự cố cháy rừng',\r\n  'DE_DIEU': 'sự cố đê điều',\r\n  'CAY_TRONG': 'sự cố cây trồng',\r\n  'LUOI_DIEN': 'sự cố lưới điện'\r\n}\r\n\r\nexport {ref, PROJECT_TYPE_MAP_TITLE};","const { PUBLIC_URL } = process.env;\r\n\r\nconst DATE_TIME_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\nconst API_DOMAIN = 'https://flight-hub-api.herokuapp.com/';\r\nconst REQUEST_TIMEOUT = 15000;\r\n\r\nexport { PUBLIC_URL, DATE_TIME_FORMAT, API_DOMAIN, REQUEST_TIMEOUT };\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyleListNotification = styled.div`\r\n  border: 1px solid #e8e8e8;\r\n  border-radius: 4px;\r\n  overflow: auto;\r\n  padding: 8px 24px;\r\n  height: 300px;\r\n  width: 320px;\r\n .ant-list-item-meta-title{\r\n  font-size: 14px;\r\n }\r\n  .ant-list-item-meta-avatar{\r\n    padding-top: 7px;\r\n  \r\n  }\r\n\r\n  .ant-list-item-action {\r\n    margin-top: 4px;\r\n    margin-left: 82px\r\n  }\r\n\r\n  .ant-list-item{\r\n    padding-top: 4px\r\n  }\r\n\r\n  .ant-list-item-meta {\r\n    margin-bottom: 4px\r\n  }\r\n\r\n  .ant-list-item-meta-title{\r\n    margin-bottom: 2px\r\n  }\r\n\r\n  .ant-list-item-action{\r\n    li{\r\n      padding: 0 4px;\r\n    }\r\n  }\r\n`;","import { BellOutlined } from \"@ant-design/icons\";\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport { Avatar, Badge, Button, List, message, Popover, Spin } from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { ref } from '../config4';\r\nimport { StyleListNotification } from './index.style';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nvar axios = require('axios');\r\n\r\nconst BellNotification = () => {\r\n\r\n  const history = useHistory();\r\n  const [total, setTotal] = useState(0);\r\n  const [newNotifications, setNewNotifications] = useState([]);\r\n  const [first, setFirst] = useState(true);\r\n  const [diff, setDiff] = useState(0);\r\n  const count = 5;\r\n  const [index, setIndex] = useState(0);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  useEffect(() => {\r\n    newNotifications.forEach(item => { item.isNew = true })\r\n    setNotifications(newNotifications.concat(notifications));\r\n  }, [newNotifications])\r\n\r\n  useEffect(() => {\r\n    console.log(`total changed: ${total} - ${first}`);\r\n    if (!first) setInterval(() => fetchNewNotification(0, 0), 5000);\r\n  }, [total])\r\n\r\n  useEffect(() => {\r\n    loadData(0, 5);\r\n  }, [])\r\n\r\n  const openMessage = (loading, loaded, timeout) => {\r\n    const key = 'updatable';\r\n    message.loading({ content: loading, key });\r\n    setTimeout(() => {\r\n      message.success({ content: loaded, key, duration: 2 });\r\n    }, timeout);\r\n  };\r\n\r\n  const handleClick = (id) => {\r\n    history.push(`/warning-detail/${id}`)\r\n  }\r\n\r\n  const handleInfiniteOnLoad = () => {\r\n    setLoading(true);\r\n    if (notifications.length > 20) {\r\n      message.warning('Infinite List loaded all');\r\n      setHasMore(false);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    console.log(`${hasMore} -- ${loading}`)\r\n    loadData(index, count);\r\n  }\r\n\r\n  const notification = () => (\r\n    <StyleListNotification>\r\n      <InfiniteScroll\r\n        initialLoad={false}\r\n        pageStart={0}\r\n        loadMore={handleInfiniteOnLoad}\r\n        hasMore={!loading && hasMore}\r\n        useWindow={false}\r\n      >\r\n        <List\r\n          itemLayout=\"vertical\"\r\n          dataSource={notifications}\r\n          renderItem={item => (\r\n            <List.Item\r\n              actions={[\r\n                <Button size=\"small\" type=\"primary\" style={{ background: \"#009933\" }} onClick={() => openMessage(\"Processing the incidents\", \"Processed the incidents succesfully\", 2000)} > Confirm</Button>,\r\n                <Button size=\"small\" type=\"primary\" onClick={() => openMessage(\"Declining the incidents\", \"Declined the incidents succesfully\", 500)} danger>Decline</Button>\r\n              ]}\r\n              //  extra={item.isNew && <Badge status=\"processing\" style={{ marginLeft: 0, marginTop: 25 }} />}\r\n              key={item._id}>\r\n              <List.Item.Meta\r\n                avatar={\r\n                  <Avatar shape=\"square\" size={64} src={ref.prop[item.ref._type].img} />\r\n                }\r\n                title={<a onClick={() => handleClick(item._id)} href=\"\">{item.content}</a>}\r\n                description={<Rating name=\"read-only\" value={item.level || 0} readOnly style={{ color: \"red\" }} />}\r\n              />\r\n            </List.Item>\r\n          )}\r\n        >\r\n          {loading && hasMore && (\r\n            <div className=\"demo-loading-container\">\r\n              <Spin />\r\n            </div>\r\n          )}\r\n        </List>\r\n      </InfiniteScroll >\r\n    </StyleListNotification >\r\n  );\r\n\r\n\r\n  const getConfig = (start, to) => {\r\n    var config = {\r\n      method: 'get',\r\n      url: 'https://it4483-dsd04.herokuapp.com/get_list_ntf',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'api-token': '1fa6b94047ba20d998b44ff1a2c78bba',\r\n        'project-type': 'CHAY_RUNG'\r\n      },\r\n      params: {\r\n        index: start,\r\n        count: to\r\n      }\r\n    };\r\n    return config;\r\n  }\r\n\r\n  const fetchNewNotification = (start, to) => {\r\n    console.log(\"fetching notifications;\")\r\n    var config = getConfig(start, to);\r\n    axios(config)\r\n      .then(function (response) {\r\n        const newTotal = response.data.data.total;\r\n        if (newTotal !== total) {\r\n          setTotal(response.data.data.total);\r\n          setDiff(newTotal - total);\r\n          axios(getConfig(0, newTotal - total))\r\n            .then(function (response) {\r\n              setNewNotifications(response.data.data.notifications);\r\n            })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n        }\r\n\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  const loadData = (start, to) => {\r\n    console.log(`${index} -- ${count}`)\r\n    var config = getConfig(start, to);\r\n    axios(config)\r\n      .then(function (response) {\r\n        setFirst(false);\r\n        setTotal(response.data.data.total);\r\n        setNotifications(notifications.concat(response.data.data.notifications));\r\n        setIndex(index + to);\r\n        setLoading(false);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Popover\r\n      placement=\"bottom\"\r\n      title=\"Thông báo\"\r\n      content={notification}\r\n      trigger=\"click\"\r\n      style={{ width: 300 }}\r\n    >\r\n      <Badge count={diff ? diff : null}>\r\n        <BellOutlined style={{ color: \"gray\", fontSize: 32 }} />\r\n      </Badge>\r\n    </Popover>\r\n  )\r\n}\r\n\r\nexport default BellNotification;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    user: {},\r\n    listUser: [],\r\n    projectType: '',\r\n    isLogin: false,\r\n};\r\n\r\nconst user = createSlice({\r\n    name: \"user\",\r\n    initialState,\r\n    reducers: {\r\n        setUserData: (state, { payload }) => {\r\n            state.user = payload;\r\n        },\r\n        setProjectType: (state, { payload }) => {\r\n            state.projectType = payload;\r\n        },\r\n        setLogin: (state, { payload }) => {\r\n            state.isLogin = payload;\r\n        },\r\n    },\r\n    extraReducers: (builder) => {},\r\n});\r\n\r\nexport default user;\r\n","import slice from \"./slice\";\r\n\r\nexport const { reducer } = slice;\r\n\r\nexport const actions = {\r\n    ...slice.actions,\r\n};\r\n","export const userHost = \"https://distributed.de-lalcool.com/\";\r\n\r\nexport const statuses = [\r\n    {\r\n        name: \"Hoạt động\",\r\n        code: \"ACTIVE\",\r\n    },\r\n    {\r\n        name: \"Chờ xác nhận\",\r\n        code: \"PENDING\",\r\n    },\r\n    {\r\n        name: \"Vô hiệu hóa\",\r\n        code: \"INACTIVE\",\r\n    },\r\n];\r\n\r\nexport const types = [\r\n    {\r\n        name: \"Sự cố cháy rừng\",\r\n        code: \"CHAY_RUNG\",\r\n    },\r\n    {\r\n        name: \"Sự cố đê điều\",\r\n        code: \"DE_DIEU\",\r\n    },\r\n    {\r\n        name: \"Sự cố cây trồng\",\r\n        code: \"CAY_TRONG\",\r\n    },\r\n    {\r\n        name: \"Sự cố lưới điện\",\r\n        code: \"LUOI_DIEN\",\r\n    },\r\n];\r\n\r\nexport const statusesActivation = [\r\n    {\r\n        name: \"Có thể nhận việc\",\r\n        code: \"FREE\",\r\n    },\r\n    {\r\n        name: \"Bận\",\r\n        code: \"BUSY\",\r\n    },\r\n];\r\n\r\nexport const uploadPath = \"upload/\";\r\n","import pickBy from \"lodash/pickBy\";\r\nimport axios, { AxiosInstance } from \"axios\";\r\nimport qs from \"qs\";\r\n\r\nexport const instance = (baseURL) => {\r\n    const axiosInstance = axios.create({\r\n        baseURL,\r\n        paramsSerializer: (params) =>\r\n            qs.stringify(params, { arrayFormat: \"repeat\" }),\r\n        timeout: 10000,\r\n        headers: {},\r\n    });\r\n\r\n    axiosInstance.interceptors.request.use(\r\n        function (config) {\r\n            return config;\r\n        },\r\n        function (error) {\r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n\r\n    axiosInstance.interceptors.response.use(\r\n        function (response) {\r\n            return response;\r\n        },\r\n        function (error) {\r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n\r\n    return axiosInstance;\r\n};\r\n\r\nexport const apiAxios = instance(\"https://distributed.de-lalcool.com/api/\");\r\n\r\nexport function setHeaders(params) {\r\n    const newHeaders = {\r\n        ...apiAxios.defaults.headers.common,\r\n        ...params,\r\n    };\r\n    apiAxios.defaults.headers.common = pickBy(newHeaders, (val) => !!val);\r\n}\r\n","import { apiAxios, setHeaders } from \"../../../services/axios\";\r\n\r\nexport const login = (body) =>\r\n    apiAxios\r\n        .post(\"login\", body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n\r\nexport const register = (body) =>\r\n    apiAxios.post(\"register\", body).then((res) => {\r\n        return res.data;\r\n    });\r\n\r\nexport const forgotPassword = (body) =>\r\n    apiAxios.post(\"send-email-forgot-password\", body).then((res) => {\r\n        return res.data;\r\n    });\r\n\r\nexport const changePassword = (body) =>\r\n    apiAxios\r\n        .post(\"change-password\", body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n\r\nexport const getListUsers = (filter) => {\r\n    var url = `user?page_id=${filter.page_id}&page_size=${filter.page_size}&sorts=-id&embeds=department&filters=`;\r\n    if (filter.role && filter.role != \"Chưa xác định\") {\r\n        url += \",role=\" + filter.role;\r\n    }\r\n    if (filter.status && filter.status != \"Chưa xác định\") {\r\n        url += \",status=\" + filter.status;\r\n    }\r\n    if (filter.type && filter.type != \"Chưa xác định\") {\r\n        url += \",type=\" + filter.type;\r\n    }\r\n    if (filter.statusActivation && filter.statusActivation != \"Chưa xác định\") {\r\n        url += \",status_activation=\" + filter.statusActivation;\r\n    }\r\n    if (filter.department_id && filter.department_id != \"Chưa xác định\") {\r\n        url += \",department_id=\" + filter.department_id;\r\n    }\r\n    if (filter.statusActivation && filter.statusActivation != \"Chưa xác định\") {\r\n        url += \",status_activation=\" + filter.statusActivation;\r\n    }\r\n    if (filter.search) {\r\n        url += \"&q=\" + filter.search;\r\n    }\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getUser = (userId) => {\r\n    return apiAxios\r\n        .get(`user/${userId}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const updateUser = (body) => {\r\n    return apiAxios\r\n        .patch(`user/${body.id}`, body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const createUser = (body) => {\r\n    return apiAxios\r\n        .post(\"user\", body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const deleteUser = (userId) => {\r\n    return apiAxios\r\n        .delete(`user/${userId}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const uploadAvatar = ({ file }) => {\r\n    let formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    return apiAxios.post(\"upload\", formData).then((res) => {\r\n        return res.data;\r\n    });\r\n};\r\n\r\nexport const getListDepartments = (filter) => {\r\n    var url = `department?page_id=${filter.page_id}&page_size=${filter.page_size}&sorts=-id&filters=`;\r\n    if (filter.search) {\r\n        url += \"&q_department=\" + filter.search;\r\n    }\r\n    if (filter.type && filter.type != \"Chưa xác định\") {\r\n        url += \",type=\" + filter.type;\r\n    }\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getDepartment = (departmentId) => {\r\n    return apiAxios\r\n        .get(`department/${departmentId}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const updateDepartment = (body) => {\r\n    return apiAxios\r\n        .patch(`department/${body.id}`, body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const createDepartment = (body) => {\r\n    return apiAxios\r\n        .post(\"department\", body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const deleteDepartment = (departmentId) => {\r\n    return apiAxios\r\n        .delete(`department/${departmentId}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getAllDepartments = () => {\r\n    var url = `department?page_id=-1`;\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getAllUsers = () => {\r\n    var url = `user?page_id=-1`;\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getListUsersMeta = (filter) => {\r\n    var url = `userMeta?page_id=${filter.page_id}&page_size=${filter.page_size}&embeds=user,targetUser&sorts=-id&filters=`;\r\n    if (filter.type && filter.type != \"Chưa xác định\") {\r\n        url += \",type=\" + filter.type;\r\n    }\r\n    if (filter.name && filter.name != \"Chưa xác định\") {\r\n        url += \",name=\" + filter.name;\r\n    }\r\n    if (filter.target_id && filter.target_id != \"Chưa xác định\") {\r\n        url += \",target_id=\" + filter.target_id;\r\n    }\r\n    if (filter.user_id && filter.user_id != \"Chưa xác định\") {\r\n        url += \",user_id=\" + filter.user_id;\r\n    }\r\n    if (filter.search) {\r\n        url += \"&q_meta=\" + filter.search;\r\n    }\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getAllRoles = () => {\r\n    var url = `role?page_id=-1`;\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getAllPermissions = () => {\r\n    var url = `permission?page_id=-1`;\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getListRoles = (filter) => {\r\n    var url = `role?page_id=${filter.page_id}&page_size=${filter.page_size}&sorts=-id&filters=`;\r\n    if (filter.search) {\r\n        url += \"&q_role=\" + filter.search;\r\n    }\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getRole = (roleId) => {\r\n    return apiAxios\r\n        .get(`role/${roleId}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const updateRole = (body) => {\r\n    return apiAxios\r\n        .patch(`role/${body.id}`, body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const createRole = (body) => {\r\n    return apiAxios\r\n        .post(\"role\", body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const deleteRole = (roleId) => {\r\n    return apiAxios\r\n        .delete(`role/${roleId}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getListPermissions = (filter) => {\r\n    var url = `permission?page_id=${filter.page_id}&page_size=${filter.page_size}&sorts=-id&filters=`;\r\n    if (filter.search) {\r\n        url += \"&q_permission=\" + filter.search;\r\n    }\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getPermission = (permissionId) => {\r\n    return apiAxios\r\n        .get(`permission/${permissionId}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const updatePermission = (body) => {\r\n    return apiAxios\r\n        .patch(`permission/${body.id}`, body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const createPermission = (body) => {\r\n    return apiAxios\r\n        .post(\"permission\", body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const deletePermission = (permissionId) => {\r\n    return apiAxios\r\n        .delete(`permission/${permissionId}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getPermissionResource = (resource) => {\r\n    return apiAxios\r\n        .get(`get-permission?resource=${resource}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getListRolePermissions = (filter) => {\r\n    var url = `rolePermission?page_id=${filter.page_id}&page_size=${filter.page_size}&sorts=-id&embeds=role,permission&filters=`;\r\n    if (filter.role_id && filter.role_id != \"Chưa xác định\") {\r\n        url += \",role_id=\" + filter.role_id;\r\n    }\r\n    if (filter.permission_id && filter.permission_id != \"Chưa xác định\") {\r\n        url += \",permission_id=\" + filter.permission_id;\r\n    }\r\n    return apiAxios\r\n        .get(url)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const getRolePermission = (rolePermissionId) => {\r\n    return apiAxios\r\n        .get(`rolePermission/${rolePermissionId}`)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n\r\nexport const updateRolePermission = (body) => {\r\n    return apiAxios\r\n        .patch(`rolePermission/${body.id}`, body)\r\n        .then((res) => {\r\n            return res.data;\r\n        })\r\n        .catch((error) => {\r\n            return error.response.data;\r\n        });\r\n};\r\n","import { Upload, message } from \"antd\";\r\nimport { LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport React, { useEffect } from \"react\";\r\nimport { uploadAvatar } from \"../../store/services\";\r\nimport { userHost, uploadPath } from \"../../config/UserConfig\";\r\nfunction getBase64(img, callback) {\r\n    const reader = new FileReader();\r\n    reader.addEventListener(\"load\", () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n    const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n    if (!isJpgOrPng) {\r\n        message.error(\"Chỉ có thể upload file JPG/PNG!\");\r\n    }\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n        message.error(\"Độ lớn phải nhỏ hơn 2MB!\");\r\n    }\r\n    return isJpgOrPng && isLt2M;\r\n}\r\n\r\nclass UploadImage extends React.Component {\r\n    state = {\r\n        loading: false,\r\n    };\r\n\r\n    handleChange = async (info) => {\r\n        if (info.file.status === \"uploading\") {\r\n            this.setState({ loading: true });\r\n            return;\r\n        }\r\n        // Get this url from response in real world.\r\n        getBase64(info.file.originFileObj, (imageUrl) => {\r\n            this.setState({\r\n                imageUrl,\r\n                loading: false,\r\n            });\r\n        });\r\n    };\r\n\r\n    handleUpload = async (file) => {\r\n        const res = await uploadAvatar({ file });\r\n        this.props.setImageUrl( uploadPath + res.result);\r\n    };\r\n\r\n    render() {\r\n        const { loading } = this.state;\r\n        const { imageUrl } = this.props;\r\n\r\n        const uploadButton = (\r\n            <div>\r\n                {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n                <div style={{ marginTop: 8 }}>Upload</div>\r\n            </div>\r\n        );\r\n        return (\r\n            <Upload\r\n                name=\"file\"\r\n                listType=\"picture-card\"\r\n                className=\"avatar-uploader\"\r\n                showUploadList={false}\r\n                action={this.handleUpload}\r\n                beforeUpload={beforeUpload}\r\n                onChange={this.handleChange}\r\n            >\r\n                {imageUrl ? (\r\n                    <img\r\n                        src={userHost + imageUrl}\r\n                        alt=\"avatar\"\r\n                        style={{ width: \"100%\" }}\r\n                    />\r\n                ) : (\r\n                    uploadButton\r\n                )}\r\n            </Upload>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UploadImage;\r\n","import { Form, Input, Modal, Row, notification, DatePicker } from \"antd\";\r\nimport { updateUser, createUser, getUser } from \"../../../store/services\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport UploadImage from \"../../listUser/UploadImage\";\r\nimport moment from \"moment\";\r\n\r\nconst ModalUser = ({ userId, setVisible, visible }) => {\r\n    const [user, setUser] = useState({});\r\n    const [imageUrl, setImageUrl] = useState(\"\");\r\n    const [message, setMessage] = useState({});\r\n\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setImageUrl(\"\");\r\n        }\r\n    }, [visible]);\r\n\r\n    const fetchUser = useCallback(async () => {\r\n        try {\r\n            const res = await getUser(userId);\r\n            if (res.status === \"successful\") {\r\n                setUser(res.result);\r\n                if (res.result && res.result.avatar) {\r\n                    setImageUrl(res.result.avatar);\r\n                }\r\n            }\r\n        } catch (error) {}\r\n    }, [userId]);\r\n\r\n    useEffect(() => {\r\n        if (userId && visible) {\r\n            fetchUser();\r\n        } else {\r\n            setUser({});\r\n        }\r\n    }, [fetchUser, userId, visible]);\r\n\r\n    const handleSave = async () => {\r\n        var res = {};\r\n        if (!validateData()) {\r\n            notification.warning({\r\n                message: \"Đóng\",\r\n                description: message,\r\n            });\r\n            return;\r\n        }\r\n        const dataUser = buildUserData();\r\n\r\n        if (userId && userId != \"\") {\r\n            dataUser.id = userId;\r\n            res = await updateUser(dataUser);\r\n        } else {\r\n            res = await createUser(dataUser);\r\n        }\r\n        if (res.status === \"successful\") {\r\n            handleCloseModal();\r\n        } else {\r\n            var errorMessage = \"\";\r\n            if (res.message != \"\") {\r\n                errorMessage = res.message;\r\n            } else {\r\n                errorMessage = res.result;\r\n            }\r\n            setMessage({\r\n                value: errorMessage,\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setUser({ ...user, avatar: imageUrl });\r\n    }, [imageUrl]);\r\n\r\n    useEffect(() => {\r\n        if (message && message != \"\") {\r\n            if (message.type == \"error\") {\r\n                notification.error({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"warning\") {\r\n                notification.warning({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"success\") {\r\n                notification.success({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n        }\r\n    }, [message]);\r\n\r\n    const validateData = useCallback(() => {\r\n        var retval = true;\r\n        if (typeof user.full_name === \"undefined\" || user.full_name === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập họ tên!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof user.username === \"undefined\" || user.username === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập tên đăng nhập!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof user.email === \"undefined\" || user.email === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập email!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        return retval;\r\n    });\r\n\r\n    const buildUserData = () => {\r\n        var data = {};\r\n        var columns = [\"full_name\", \"username\", \"email\", \"phone\", \"avatar\", \"address\"];\r\n        columns.forEach((element) => {\r\n            if (user[element] && user[element] != \"\") {\r\n                data[element] = user[element];\r\n            }\r\n        });\r\n        data.birthday = moment(user[\"birthday\"]).format(\"YYYY-MM-DD 00:00:00\");\r\n        return data;\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setUser({});\r\n        setVisible(false);\r\n    };\r\n\r\n    return (\r\n        <Modal visible={visible} title='Sửa thông tin cá nhân' onOk={handleSave} onCancel={handleCloseModal} okText='Lưu' cancelText='Hủy'>\r\n            <Form>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='name' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>\r\n                            Họ tên <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input className='input-box' placeholder='Tên' value={user?.full_name} onChange={(e) => setUser({ ...user, full_name: e.target.value })} />\r\n                    </Form.Item>\r\n                    <Form.Item name='username' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>\r\n                            Tên đăng nhập <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input className='input-box' type='text' placeholder='Tên đăng nhập' value={user?.username} onChange={(e) => setUser({ ...user, username: e.target.value })} />\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='email' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>\r\n                            Email <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input className='input-box' type='email' placeholder='Email' value={user?.email} onChange={(e) => setUser({ ...user, email: e.target.value })} />\r\n                    </Form.Item>\r\n                    <Form.Item name='phone' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>\r\n                            Sdt <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input className='input-box' placeholder='Số điện thoại' value={user?.phone} onChange={(e) => setUser({ ...user, phone: e.target.value })} />\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='address' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>Address </label>\r\n                        <Input className='input-box' type='text' placeholder='Địa chỉ' value={user?.address} onChange={(e) => setUser({ ...user, address: e.target.value })} />\r\n                    </Form.Item>\r\n                    <Form.Item name='role' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>Ngày sinh </label>\r\n                        <DatePicker\r\n                            value={user.birthday ? moment(user?.birthday, \"YYYY-MM-DD\") : \"\"}\r\n                            onChange={(date) =>\r\n                                setUser({\r\n                                    ...user,\r\n                                    birthday: date,\r\n                                })\r\n                            }\r\n                            style={{ width: \"100%\" }}\r\n                            format={\"YYYY-MM-DD\"}\r\n                        />\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item name='status' style={{ margin: \"0 auto\" }}>\r\n                        <div style={{ marginBottom: 10 }}>\r\n                            <label htmlFor=''>Avatar </label>\r\n                        </div>\r\n                        <UploadImage imageUrl={imageUrl ? imageUrl : `media/users/blank.png`} setImageUrl={setImageUrl} />\r\n                    </Form.Item>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ModalUser;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  StyleNavItem,\r\n  StyleUserName,\r\n  StyleUserProfileContainer,\r\n} from \"./index.style\";\r\n\r\nimport { Row, Popover, Avatar, Badge } from \"antd\";\r\nimport { BellOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport BellNotification from '../../components/Group4/Bell';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { actions } from \"../../modules/user/store\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { userHost } from \"../../modules/user/config/UserConfig\";\r\nimport ModalUser from \"../../modules/user/components/screens/EditProfile\";\r\n\r\nconst Navbar = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [user, setUser] = useState(useSelector(state => state.user.user));\r\n  const [visible, setVisible] = useState(false);\r\n  const location = useLocation();\r\n\r\n  const notification = () => (\r\n    <div>\r\n      <p>Thông báo</p>\r\n    </div>\r\n  );\r\n\r\n  const handleLogout = () => {\r\n    dispatch(actions.setUserData({}));\r\n    dispatch(actions.setProjectType(\"\"));\r\n    dispatch(actions.setLogin(false));\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('project-type');\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setVisible(true);\r\n  }\r\n\r\n  const profile = () => (\r\n    <div>\r\n      <p onClick={handleEdit} style={{ cursor: \"pointer\" }}>Tài khoản</p>\r\n      <p onClick={handleChangePassword} style={{ cursor: \"pointer\" }}>Đổi mật khẩu</p>\r\n      <p onClick={handleLogout} style={{ cursor: \"pointer\" }}>\r\n        Đăng xuất\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  const handleChangePassword = () => {\r\n    history.push({\r\n      pathname: '/change-password',\r\n      state: { lastRoute: location.pathname },\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Row type=\"flex\" justify=\"end\" align=\"middle\" className=\"right-header\">\r\n      <StyleNavItem>\r\n        <BellNotification />\r\n      </StyleNavItem>\r\n\r\n      <StyleNavItem>\r\n        <Popover\r\n          placement=\"bottom\"\r\n          title=\"Thông tin tài khoản\"\r\n          content={profile}\r\n          trigger=\"click\"\r\n        >\r\n          <StyleUserProfileContainer>\r\n            <Badge dot color=\"#04B653\">\r\n              <Avatar shape=\"circle\" size=\"large\" src={userHost + user.avatar} />\r\n            </Badge>\r\n            <StyleUserName>\r\n              <span className=\"text-info role\">{user.role}</span>\r\n              <span className=\"text-info username\">{user.full_name}</span>\r\n            </StyleUserName>\r\n          </StyleUserProfileContainer>\r\n        </Popover>\r\n      </StyleNavItem>\r\n      <ModalUser userId={user.id} setVisible={setVisible} visible={visible}/>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","export const formatPhone = (phone) => {\r\n    if (phone == null) {\r\n        return phone;\r\n    }\r\n    var stdPhone = standardizePhone(phone);\r\n    return stdPhone.replace(/^(\\d+)(\\d{3})(\\d{3})$/, \"$1-$2-$3\");\r\n};\r\n\r\nconst standardizePhone = (phone) => {\r\n    if (phone == null) {\r\n        return phone;\r\n    }\r\n    //ELSE:\r\n    return phone.replace(/[^0-9]/g, \"\");\r\n};\r\n\r\nexport const getByField = (list, fieldName, value) => {\r\n    var retVal = null;\r\n    list.forEach(function (item) {\r\n        if (item[fieldName] == value) {\r\n            retVal = item;\r\n        }\r\n    });\r\n    //return\r\n    return retVal;\r\n  };\r\n","import React, { useState } from 'react';\r\nimport { MenuUnfoldOutlined, MenuFoldOutlined } from '@ant-design/icons';\r\nimport { Layout } from 'antd';\r\nimport StyleHeader from './index.style';\r\nimport Navbar from '../Navbar';\r\nimport { useSelector } from 'react-redux';\r\nimport { types } from '../../modules/user/config/UserConfig';\r\nimport { getByField } from '../../modules/user/Utils/helper';\r\nconst Header = ({ collapsed, toggle }) => {\r\n  const isLogin = useSelector((state) => state.user.isLogin);\r\n  const projectType = useSelector((state) => state.user.projectType);\r\n\r\n  return (\r\n    <StyleHeader>\r\n      <Layout.Header\r\n        className=\"header-content\"\r\n        style={{ display: 'flex', justifyContent: 'space-between' }}\r\n      >\r\n        <div>\r\n          {React.createElement(\r\n            collapsed ? MenuUnfoldOutlined : MenuFoldOutlined,\r\n            {\r\n              className: 'trigger',\r\n              onClick: toggle,\r\n            },\r\n          )}\r\n        </div>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <div>\r\n            <h4 style={{ fontWeight: 'bold', textTransform: 'uppercase' }}>\r\n              {getByField(types, 'code', projectType) &&\r\n                getByField(types, 'code', projectType).name}\r\n            </h4>\r\n          </div>\r\n        </div>\r\n        <div>{isLogin && <Navbar />}</div>\r\n      </Layout.Header>\r\n    </StyleHeader>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyleSidebarMenu = styled.div`\r\n  .ant-menu-item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 20px !important;\r\n  }\r\n  .ant-menu-submenu {\r\n    .ant-menu-submenu-title {\r\n      padding: 0 20px !important;\r\n    }\r\n    .ant-menu-item {\r\n      padding-left: 40px !important;\r\n    }\r\n  }\r\n\r\n  .collapsed {\r\n    opacity: ${(props) => (props.collapsed ? 0 : 1)};\r\n  }\r\n\r\n  .ant-menu-inline-collapsed {\r\n    > .ant-menu-item {\r\n      text-align: center;\r\n      padding: 0 28px !important;\r\n    }\r\n    > .ant-menu-item-group {\r\n      > .ant-menu-item-group-list {\r\n        > .ant-menu-item {\r\n          text-align: center;\r\n          padding: 0 28px !important;\r\n        }\r\n        > .ant-menu-submenu {\r\n          > .ant-menu-submenu-title {\r\n            text-align: center;\r\n            padding: 0 28px !important;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    > .ant-menu-submenu {\r\n      > .ant-menu-submenu-title {\r\n        text-align: center;\r\n        padding: 0 28px !important;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 64px;\r\n  padding: 16px;\r\n  .fa-drone-alt {\r\n    color: rgba(255, 255, 255, 0.9);\r\n    font-size: 32px;\r\n  }\r\n  .title {\r\n    padding-left: 7.5px;\r\n    color: #fff;\r\n    font-weight: 700;\r\n  }\r\n`;","import React from \"react\";\r\nimport StyleLogo from \"./index.style\";\r\n\r\nconst Logo = ({collapsed = false}) => {\r\n  return (\r\n    <StyleLogo>\r\n      <i className=\"fa fa-drone-alt\" />\r\n      {!collapsed && <span className=\"title\">DSD-20201</span>}\r\n    </StyleLogo>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","export const sidebarMenu = [\r\n  {\r\n    key: 'Dashboard',\r\n    heading: 'Bảng điều khiển',\r\n    icon: 'fa fa-home-alt',\r\n    route: '/dashboard',\r\n  },\r\n  {\r\n    key: 'Drones',\r\n    heading: 'Điều khiển drone',\r\n    icon: 'fas fa-drone-alt',\r\n    route: '/drones',\r\n    subMenu: [\r\n      {\r\n        key: 'DroneState',\r\n        heading: 'Danh sách drone',\r\n        icon: 'fal fa-monitor-heart-rate',\r\n        route: '/drone-list',\r\n      },\r\n      {\r\n        key: 'FlightPathManagement',\r\n        heading: 'Quản lý đường bay',\r\n        icon: 'fas fa-route',\r\n        route: '/flight-path',\r\n      },\r\n      {\r\n        key: 'FlightSchedule',\r\n        heading: 'Lịch bay',\r\n        icon: 'far fa-calendar-alt',\r\n        route: '/flight-schedule',\r\n      },\r\n      {\r\n        key: 'DroneStatistic',\r\n        heading: 'Thống kê drone',\r\n        icon: 'fa fa-file-chart-line',\r\n        route: '/drone-state',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: 'FlightHub',\r\n    heading: 'Flight hub',\r\n    icon: 'fab fa-hubspot',\r\n    route: '/flight-hub',\r\n    subMenu: [\r\n      {\r\n        key: 'MonitorCampaign',\r\n        heading: 'Quản lý đợt giám sát',\r\n        icon: 'fal fa-camera-alt',\r\n        route: '/flight-hub-monitor-campaigns',\r\n      },\r\n      {\r\n        key: 'OtherParams',\r\n        heading: 'Nhãn đính kèm',\r\n        icon: 'fa fa-puzzle-piece',\r\n        route: '/flight-hub-other-params',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: 'Payloads',\r\n    heading: 'Payloads',\r\n    icon: 'fas fa-layer-group',\r\n    route: '/payloads',\r\n    subMenu: [\r\n      {\r\n        key: 'PayloadManagement',\r\n        heading: 'Quản lý payload',\r\n        icon: 'fal fa-monitor-heart-rate',\r\n        route: '/payload-management',\r\n      },\r\n      {\r\n        key: 'PayloadSDcard',\r\n        heading: 'DSCard Payload',\r\n        icon: 'fa fa-tools',\r\n        route: '/payload-dscard',\r\n      },\r\n      {\r\n        key: 'PayloadType',\r\n        heading: 'Quản lý loại payload',\r\n        icon: 'fa fa-tasks',\r\n        route: '/payload-type',\r\n      },\r\n      {\r\n        key: 'PayloadStatistic',\r\n        heading: 'Thống kê Payload',\r\n        icon: 'fa fa-file-chart-line',\r\n        route: '/payload-statistic',\r\n      },\r\n      {\r\n        key: 'PayloadToDrone',\r\n        heading: 'Payload - Drone',\r\n        icon: 'fa fa-drone-alt',\r\n        route: '/payload-drone',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: 'metadata',\r\n    heading: 'Hình ảnh và video',\r\n    icon: 'fas fa-images',\r\n    subMenu: [\r\n      {\r\n        key: 'ImageVideo',\r\n        heading: 'Quản lý hình ảnh, video',\r\n        icon: 'fal fa-monitor-heart-rate',\r\n        route: '/metadata',\r\n      },\r\n      {\r\n        key: 'Stream',\r\n        heading: 'Stream',\r\n        icon: 'fal fa-monitor-heart-rate',\r\n        route: '/stream',\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    key: 'Problems',\r\n    heading: 'Sự cố',\r\n    icon: 'fas fa-times-octagon',\r\n    subMenu: [\r\n      {\r\n        key: 'Problems-list',\r\n        heading: 'Danh sách sự cố',\r\n        icon: 'fas fa-list',\r\n        route: '/incidents',\r\n      },\r\n      {\r\n        key: 'Propblems-imageGallery',\r\n        heading: 'Tạo offline',\r\n        icon: 'fas fa-images',\r\n        route: '/imageGallery',\r\n      },\r\n      {\r\n        key: 'Propblems-videoGallery',\r\n        heading: 'Tạo từ tream',\r\n        icon: 'fas fa-images',\r\n        route: '/videoGallery',\r\n      },\r\n    ],\r\n  },\r\n  \r\n  {\r\n    key: 'SupervisedObject',\r\n    heading: 'Đối tượng giám sát',\r\n    icon: 'fas fa-binoculars',\r\n    route: '/supervised-object',\r\n    subMenu: [\r\n      {\r\n        key: 'CategoryMonitored',\r\n        heading: 'Quản lý danh mục giám sát',\r\n        icon: 'fa fa-bars',\r\n        route: '/category-monitored-object-management',\r\n      },\r\n      {\r\n        key: 'MonitoredObject',\r\n        heading: 'Quản lý đối tượng giám sát',\r\n        icon: 'fa fa-database',\r\n        route: '/monitored-object-management',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: 'GeneralStatistic',\r\n    heading: 'Báo cáo thống kê',\r\n    icon: 'fas fa-chart-line',\r\n    route: '/statistic',\r\n  },\r\n  {\r\n    key: 'Warning',\r\n    heading: 'Cảnh báo',\r\n    icon: 'far fa-bell',\r\n    route: '/warning',\r\n  },\r\n  {\r\n    key: 'ActivityLog',\r\n    heading: 'Lịch sử hoạt động',\r\n    icon: 'fas fa-file-signature',\r\n    route: '/activity-log',\r\n    subMenu: [\r\n\r\n      {\r\n        key: 'LogDrone',\r\n        heading: 'Lịch sử hoạt động của drone',\r\n        icon: 'fas fa-drone-alt',\r\n        route: '/log-drone',\r\n      },\r\n      {\r\n        key: 'LogPayLoad',\r\n        heading: 'Lịch sử hoạt động của PayLoad',\r\n\r\n        icon: 'fas fa-layer-group',\r\n        route: '/log-payload',\r\n      },\r\n      {\r\n        key: 'LogUser',\r\n        heading: 'Lịch sử hoạt động người dùng',\r\n        icon: 'fas fa-user-circle',\r\n        route: '/log-user',\r\n      },\r\n      {\r\n        key: 'LogImage',\r\n        heading: 'Lịch sử lưu trữ hình ảnh',\r\n        icon: 'fas fa-images',\r\n        route: '/log-image',\r\n      },\r\n      {\r\n        key: 'LogVideo',\r\n        heading: 'Lịch sử lưu trữ video',\r\n        icon: 'fas fa-images',\r\n        route: '/log-video',\r\n      },\r\n      {\r\n        key: 'LogProblem',\r\n        heading: 'Lịch sử sự cố',\r\n        icon: 'fas fa-toolbox',\r\n        route: '/log-problem',\r\n      },\r\n      {\r\n        key: 'LogObjMonitor',\r\n        heading: 'Lịch sử hoạt động của đối tượng giám sát',\r\n        icon: 'fas fa-binoculars',\r\n        route: '/log-objmonitor',\r\n      },\r\n      {\r\n        key: 'LogWarn',\r\n        heading: 'Lịch sử cảnh báo',\r\n        icon: 'far fa-bell',\r\n        route: '/log-warn',\r\n      },\r\n      {\r\n        key: 'LogIncident',\r\n        heading: 'Lịch sử xử lý sự cố',\r\n        icon: 'fas fa-toolbox',\r\n        route: '/log-incident',\r\n      },\r\n\r\n      {\r\n        key: 'LogRegion',\r\n        heading: 'Lịch sử hoạt động của miền giám sát',\r\n        icon: 'fas fa-crop-alt',\r\n        route: '/log-region',\r\n      },\r\n      {\r\n        key: 'LogStatistic',\r\n        heading: 'Lịch sử báo cáo, thống kê',\r\n        icon: 'fa fa-file-chart-line',\r\n        route: '/log-statistic',\r\n      },\r\n      {\r\n        key: 'LogUAV',\r\n        heading: 'Lịch sử kết nối UAV',\r\n        icon: 'fas fa-images',\r\n        route: '/log-uav',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: 'SurveillanceDomain',\r\n    heading: 'Miền giám sát',\r\n    icon: 'fas fa-crop-alt',\r\n    route: '/surveillance-domain',\r\n    subMenu: [\r\n      {\r\n        key: 'SurveillanceDomainArea',\r\n        heading: 'Quản lý khu vực',\r\n        icon: 'fas fa-crop-alt',\r\n        route: '/surveillance-area',\r\n      },\r\n      {\r\n        key: 'SurveillanceDomainManage',\r\n        heading: 'Quản lý miền giám sát',\r\n        icon: 'fas fa-crop-alt',\r\n        route: '/surveillance-domain-manage',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: 'HandleProblem',\r\n    heading: 'Xử lý sự cố',\r\n    icon: 'fas fa-toolbox',\r\n    route: '/handle-problem',\r\n  },\r\n  {\r\n    key: 'UserManagement',\r\n    heading: 'Người dùng',\r\n    icon: 'fas fa-user-circle',\r\n    route: '/user-management',\r\n    subMenu: [\r\n      {\r\n        key: 'UserSetting',\r\n        heading: 'Quản lý người dùng',\r\n        icon: 'fa fa-users',\r\n        route: '/user',\r\n        resource: 'User.find'\r\n      },\r\n      {\r\n        key: 'DepartmentSetting',\r\n        heading: 'Quản lý phòng ban',\r\n        icon: 'fa fa-building',\r\n        route: '/department',\r\n        resource: 'Department.find'\r\n      },\r\n      {\r\n        key: 'UserMetaSetting',\r\n        heading: 'Lịch sử người dùng',\r\n        icon: 'fa fa-history',\r\n        route: '/user-meta',\r\n        resource: 'UserMeta.find'\r\n      },\r\n      {\r\n        key: 'RoleSetting',\r\n        heading: 'Quản lý chức vụ',\r\n        icon: 'fa fa-users-cog',\r\n        route: '/role',\r\n        resource: 'Role.system'\r\n      },\r\n      {\r\n        key: 'PermissionSetting',\r\n        heading: 'Quản lý quyền',\r\n        icon: 'fa fa-lock',\r\n        route: '/permission',\r\n        resource: 'Permission.system'\r\n      },\r\n      {\r\n        key: 'RolePermission',\r\n        heading: 'Phân quyền',\r\n        icon: 'fa fa-user-lock',\r\n        route: '/role-permission',\r\n        resource: 'RolePermission.system'\r\n      },\r\n    ],\r\n  },\r\n];","import React, { useEffect, useState } from 'react';\r\nimport { Layout, Menu, notification } from 'antd';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { StyleSidebarMenu } from './index.style';\r\nimport Logo from '../../components/Logo';\r\nimport { sidebarMenu } from './config';\r\nimport { getPermissionResource } from '../../modules/user/store/services';\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst Sidebar = ({ collapsed, toggle }) => {\r\n  const [key, setKey] = useState('Dashboard');\r\n  const { pathname } = useLocation();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const currentRoute = `/${pathname.split('/')[1]}`;\r\n    const getFirstRouteMounted = (menu) => {\r\n      for (let idx = 0; idx < menu.length; idx++) {\r\n        const menuItem = menu[idx];\r\n        const { subMenu } = menuItem;\r\n        if (!subMenu) {\r\n          if (menuItem.route === currentRoute) {\r\n            return menuItem;\r\n          }\r\n        } else {\r\n          const result = getFirstRouteMounted(subMenu);\r\n          if (result) return result;\r\n        }\r\n      }\r\n    };\r\n    const { key, heading } = getFirstRouteMounted(sidebarMenu) || {};\r\n    if (key) {\r\n      setKey(key);\r\n      document.title = heading;\r\n    }\r\n  }, [pathname, key]);\r\n\r\n  const handleClickMenu = async (menuItem) => {\r\n    const { key, heading, route, resource } = menuItem;\r\n    if (resource && resource !== '') {\r\n      const permission = await getPermissionResource(resource);\r\n      if (permission.status == 'fail') {\r\n        notification.error({\r\n          message: 'Lỗi',\r\n          description: 'Bạn không có quyền truy cập!',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (pathname === route) return;\r\n    setKey(key);\r\n    document.title = heading;\r\n    history.push(route);\r\n  };\r\n\r\n  const renderListMenu = (menu) => {\r\n    return menu.map((menuItem) => {\r\n      const { subMenu = [], key, heading, icon } = menuItem;\r\n      if (!subMenu.length) {\r\n        return (\r\n          <Menu.Item\r\n            key={key}\r\n            icon={<i className={`${icon} menu-item-icon`} />}\r\n            onClick={() => handleClickMenu(menuItem)}\r\n          >\r\n            <span className=\"collapsed\">{heading}</span>\r\n          </Menu.Item>\r\n        );\r\n      }\r\n      return (\r\n        <SubMenu\r\n          key={key}\r\n          title={\r\n            <span>\r\n              <i className={`${icon} menu-item-icon`} />\r\n              <span className=\"collapsed\">{heading}</span>\r\n            </span>\r\n          }\r\n        >\r\n          {renderListMenu(subMenu)}\r\n        </SubMenu>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Sider\r\n      breakpoint=\"lg\"\r\n      width={250}\r\n      collapsedWidth=\"80px\"\r\n      collapsible\r\n      trigger={null}\r\n      collapsed={collapsed}\r\n      onCollapse={() => {\r\n        toggle();\r\n      }}\r\n    >\r\n      <Link to=\"/\">\r\n        <Logo collapsed={collapsed}></Logo>\r\n      </Link>\r\n      <StyleSidebarMenu collapsed={collapsed}>\r\n        <Menu\r\n          theme=\"dark\"\r\n          mode=\"inline\"\r\n          defaultSelectedKeys={['Dashboard', key]}\r\n          selectedKeys={key}\r\n          triggerSubMenuAction=\"click\"\r\n        >\r\n          {renderListMenu(sidebarMenu)}\r\n        </Menu>\r\n      </StyleSidebarMenu>\r\n    </Sider>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Layout } from \"antd\";\r\nimport StyleLayout from \"./index.style\";\r\nimport Header from \"../Header\";\r\nimport Sidebar from \"../Sidebar\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst { Content } = Layout;\r\n\r\nconst MainLayout = ({ children, history }) => {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n\r\n  const toggle = () => {\r\n    setCollapsed(!collapsed);\r\n  };\r\n\r\n  const projectType = useSelector(state => state.user.projectType);\r\n\r\n  useEffect(() => {\r\n    if (!projectType) {\r\n      history.push(\"/home\");\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <StyleLayout>\r\n      <Layout>\r\n        <Sidebar collapsed={collapsed} toggle={toggle} />\r\n        <Layout className=\"site-layout\">\r\n          <Header collapsed={collapsed} toggle={toggle} />\r\n          <Content>{children}</Content>\r\n        </Layout>\r\n      </Layout>\r\n    </StyleLayout>\r\n  );\r\n};\r\n\r\nexport default withRouter(MainLayout);\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleHome = styled.div`\r\n  .header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .layout {\r\n    height: 100vh;\r\n  }\r\n  .site-layout-content {\r\n    min-height: 280px;\r\n    padding: 24px;\r\n    background: #fff;\r\n    height: 100%;\r\n  }\r\n\r\n  .content {\r\n    padding: 50px 50px 0 50px;\r\n  }\r\n  .footer {\r\n    text-align: center;\r\n  }\r\n  .ant-row-rtl #components-layout-demo-top .logo {\r\n    float: right;\r\n    margin: 16px 0 16px 24px;\r\n  }\r\n`;\r\nexport default StyleHome;\r\n","import styled from 'styled-components';\r\n\r\nconst StyleHomeContent = styled.div`\r\n  .title {\r\n    text-align: center;\r\n    max-width: 40%;\r\n    margin: 0 auto;\r\n  }\r\n  .problems {\r\n    padding: 60px;\r\n  }\r\n  .card-content {\r\n    /* width: 300px; */\r\n    height: 100%;\r\n  }\r\n`;\r\nexport default StyleHomeContent;\r\n","import { PUBLIC_URL } from '../configs';\r\n\r\nconst IMAGES = {\r\n  logo: `${PUBLIC_URL}/images/logo.png`,\r\n  logoThumbnail: `${PUBLIC_URL}/images/logo_thumbnail.png`,\r\n  drone: `${PUBLIC_URL}/images/drone.png`,\r\n  tree: `${PUBLIC_URL}/images/tree.jpg`,\r\n  highVoltageGrid: `${PUBLIC_URL}/images/high_voltage_grid.jpg`,\r\n  dike: `${PUBLIC_URL}/images/dike.jpg`,\r\n  forestFires: `${PUBLIC_URL}/images/forest_fires.jpg`,\r\n};\r\n\r\nexport default IMAGES;\r\n","const MECHANISM = {\r\n  AUTO: 'AUTO',\r\n  MANUALLY: 'MANUALLY',\r\n};\r\nexport default MECHANISM;\r\n","const METADATA_TYPES = {\r\n  PHOTO: 'PHOTO',\r\n  VIDEO: 'VIDEO',\r\n};\r\nexport default METADATA_TYPES;\r\n","const RESOLUTION = {\r\n  '480p': '480p',\r\n  '720p': '720p',\r\n  '1080p': '1080p',\r\n};\r\nexport default RESOLUTION;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Card, Col, Image, Row, Typography, notification } from 'antd';\r\nimport StyleHomeContent from './index.style';\r\nimport Meta from 'antd/lib/card/Meta';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { IMAGES } from '../../constants';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { actions } from \"../../modules/user/store\";\r\nimport { setHeaders } from \"../../services/axios\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst HomeContent = ({ history }) => {\r\n  const user = useSelector(state => state.user.user);\r\n  const isLogin = useSelector(state => state.user.isLogin);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClickIncident = (type) => {\r\n    if (!isLogin) {\r\n      history.push('/login');\r\n    } else {\r\n      if (isLogin && (user.type == type || user.role == \"SUPER_ADMIN\")) {\r\n        dispatch(actions.setProjectType(type));\r\n        history.push('/dashboard');\r\n      } else {\r\n        notification.warning({\r\n          message: \"Warning\",\r\n          description: \"Bạn không có quyền vào dự án này\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <StyleHomeContent>\r\n      <Title level={2} className=\"title\">\r\n        Hệ thống giám sát, phát hiện, cảnh báo và xử lý sự số sử dụng UAV\r\n      </Title>\r\n      <Row gutter={20} className=\"problems\">\r\n        <Col span={6}>\r\n          <Card\r\n            hoverable\r\n            className='card-content'\r\n            onClick={() => handleClickIncident(\"CHAY_RUNG\")}\r\n            cover={\r\n              <Image alt=\"example\" height=\"300px\" src={IMAGES.forestFires} />\r\n            }\r\n          >\r\n            <Meta\r\n              title=\"Sự cố cháy rừng\"\r\n              description=\"Giải pháp giúp theo dõi khu vực rừng một cách thường xuyên và có thể dự đoán được sự sự cố xảy ra, giúp ngăn chặn và bảo vệ nguồn tài nguyên rừng.\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card\r\n            hoverable\r\n            className='card-content'\r\n            onClick={() => handleClickIncident(\"DE_DIEU\")}\r\n            cover={\r\n              <Image\r\n                alt='example'\r\n                height='300px'\r\n                src={IMAGES.dike}\r\n              />\r\n            }\r\n          >\r\n            <Meta\r\n              title=\"Sự cố đê điều\"\r\n              description=\"Giám sát và đảm bảo chất lượng cho hệ thống đê điều một cách chặt chẽ, hạn chế tối đa khả năng xảy ra sự cố và đưa ra những cảnh báo có thể xảy ra sự cố cũng như theo dõi tình hình khi sự cố đã xảy ra.\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card\r\n            hoverable\r\n            className='card-content'\r\n            onClick={() => handleClickIncident(\"LUOI_DIEN\")}\r\n            cover={\r\n              <Image\r\n                alt=\"example\"\r\n                height=\"300px\"\r\n                src={IMAGES.highVoltageGrid}\r\n              />\r\n            }\r\n          >\r\n            <Meta\r\n              title=\"Sự cố lưới điện\"\r\n              description=\"Ứng dụng khoa học công nghệ tiên tiến vào việc giám sát và phát hiện sự cố lưới điện và việc sử dụng UAV được xem như giải pháp tốt và hợp lí nhất hiện nay.\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card\r\n            hoverable\r\n            className='card-content'\r\n            onClick={() => handleClickIncident(\"CAY_TRONG\")}\r\n            cover={\r\n              <Image\r\n                alt='example'\r\n                height='300px'\r\n                src={IMAGES.tree}\r\n              />\r\n            }\r\n          >\r\n            <Meta\r\n              title=\"Sự cố cây trồng\"\r\n              description=\"Giám sát sử dụng UAV theo dõi cây trồng có thể tiết kiệm một lượng lớn thời gian và công sức nhờ các UAV. Ngoài ra sử dụng UAV để phun thuốc trừ sâu sẽ hiệu quả hơn khi áp dụng với trang trại quy mô lớn, đảm bảo sức khỏe cho người thực hiện.\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </StyleHomeContent>\r\n  );\r\n};\r\n\r\nexport default withRouter(HomeContent);","import React, { useEffect } from \"react\";\r\nimport { Layout } from \"antd\";\r\nimport StyleHome from \"./index.style\";\r\nimport HomeContent from \"../../containers/HomeContent\";\r\nimport Navbar from \"../../containers/Navbar\";\r\nimport Logo from \"../../components/Logo\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst { Header, Content, Footer } = Layout;\r\n\r\nconst Home = () => {\r\n  useEffect(() => {\r\n    document.title = \"Home\";\r\n  }, []);\r\n  const isLogin = useSelector(state => state.user.isLogin);\r\n\r\n  return (\r\n    <StyleHome>\r\n      <Layout className=\"layout\">\r\n        <Header className=\"header\">\r\n          <Logo></Logo>\r\n          {isLogin && <Navbar></Navbar>}\r\n        </Header>\r\n        <Content className=\"content\">\r\n          <div className=\"site-layout-content\">\r\n            <HomeContent />\r\n          </div>\r\n        </Content>\r\n        <Footer className=\"footer\" style={{bottom: 0}}>©2020 Designed by Group10</Footer>\r\n      </Layout>\r\n    </StyleHome>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleListUser = styled.div`\r\n    .input-box {\r\n        border-radius: 5px;\r\n    }\r\n    .select-box {\r\n        border-radius: 5px;\r\n    }\r\n`;\r\nexport default StyleListUser;\r\n","import { Form, Input, Modal, Row, Select, notification, DatePicker } from \"antd\";\r\nimport { updateUser, createUser, getUser } from \"../../store/services\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport UploadImage from \"./UploadImage\";\r\nimport { statuses, types } from \"../../config/UserConfig\";\r\nimport moment from \"moment\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst ModalUser = ({ userId, setVisible, visible, fetchListUser, mode, setMode, listDepartments, listRoles }) => {\r\n    const [user, setUser] = useState({});\r\n    const [imageUrl, setImageUrl] = useState(\"\");\r\n    const [message, setMessage] = useState(\"\");\r\n    const loginUser = useSelector((state) => state.user.user);\r\n    const [title, setTitle] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setImageUrl(\"\");\r\n            setUser({\r\n                status: \"Chưa xác định\",\r\n                role: \"Chưa xác định\",\r\n                type: \"Chưa xác định\",\r\n                department: \"Chưa xác định\",\r\n            });\r\n        }\r\n    }, [visible]);\r\n\r\n    const fetchUser = useCallback(async () => {\r\n        try {\r\n            const res = await getUser(userId);\r\n            if (res.status === \"successful\") {\r\n                setUser(res.result);\r\n                if (res.result && res.result.avatar) {\r\n                    setImageUrl(res.result.avatar);\r\n                }\r\n            }\r\n        } catch (error) {}\r\n    }, [userId]);\r\n\r\n    useEffect(() => {\r\n        if (userId) {\r\n            fetchUser();\r\n        } else {\r\n            setUser({});\r\n        }\r\n    }, [fetchUser, userId]);\r\n\r\n    useEffect(() => {\r\n        if (mode == \"create\") {\r\n            setTitle(\"Thêm mới người dùng\");\r\n        } else if (mode == \"update\") {\r\n            setTitle(\"Cập nhật người dùng\");\r\n        } else {\r\n            setTitle(\"Thông tin người dùng\");\r\n        }\r\n    }, [mode]);\r\n\r\n    const handleSave = async () => {\r\n        var res = {};\r\n        if (!validateData()) {\r\n            return;\r\n        }\r\n        const dataUser = buildUserData();\r\n        var description = \"\";\r\n\r\n        if (userId && userId != \"\") {\r\n            dataUser.id = userId;\r\n            res = await updateUser(dataUser);\r\n            description = \"Cập nhật thành công!\";\r\n        } else {\r\n            res = await createUser(dataUser);\r\n            description = \"Tạo mới thành công!\";\r\n        }\r\n        if (res.status === \"successful\") {\r\n            notification.success({\r\n                message: \"Thành công\",\r\n                description: description,\r\n            });\r\n            handleCloseModal();\r\n            fetchListUser();\r\n        } else {\r\n            var errorMessage = \"\";\r\n            if (res.message && res.message != \"\") {\r\n                errorMessage = res.message;\r\n            } else {\r\n                errorMessage = res.result;\r\n            }\r\n            notification.error({\r\n                message: \"\",\r\n                description: errorMessage,\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setUser({ ...user, avatar: imageUrl });\r\n    }, [imageUrl]);\r\n\r\n    const validateData = useCallback(() => {\r\n        var retval = true;\r\n        if (typeof user.full_name === \"undefined\" || user.full_name === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập họ tên!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof user.username === \"undefined\" || user.username === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập tên đăng nhập!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof user.email === \"undefined\" || user.email === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập email!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (!userId) {\r\n            if (typeof user.password === \"undefined\" || user.password === \"\") {\r\n                retval = false;\r\n                setMessage({\r\n                    value: \"Vui lòng nhập mật khẩu!\",\r\n                    type: \"error\",\r\n                    title: \"Lỗi\",\r\n                });\r\n                return retval;\r\n            }\r\n            if (typeof user.repassword === \"undefined\") {\r\n                retval = false;\r\n                setMessage({\r\n                    value: \"Vui lòng xác nhận mật khẩu!\",\r\n                    type: \"error\",\r\n                    title: \"Lỗi\",\r\n                });\r\n                return retval;\r\n            }\r\n            if (user.repassword !== user.password) {\r\n                retval = false;\r\n                setMessage({\r\n                    value: \"Xác nhận mật khẩu không đúng!\",\r\n                    type: \"error\",\r\n                    title: \"Lỗi\",\r\n                });\r\n                return retval;\r\n            }\r\n        }\r\n        return retval;\r\n    });\r\n\r\n    const buildUserData = () => {\r\n        var data = {};\r\n        var columns = [\"full_name\", \"username\", \"password\", \"email\", \"phone\", \"avatar\", \"address\", \"status\", \"role\"];\r\n        columns.forEach((element) => {\r\n            if (user[element] && user[element] != \"\") {\r\n                data[element] = user[element];\r\n            }\r\n        });\r\n        if (user.department && user.department.id) {\r\n            data[\"department_id\"] = user.department.id;\r\n        } else {\r\n            data[\"department_id\"] = 0;\r\n        }\r\n        if (data['status'] == 'Chưa xác định') {\r\n            data['status'] = null;\r\n        }\r\n        if (data['role'] == 'Chưa xác định') {\r\n            data['role'] = null;\r\n        }\r\n        data.type = localStorage.getItem(\"project-type\");\r\n        data.birthday = moment(user[\"birthday\"]).format(\"YYYY-MM-DD 00:00:00\");\r\n        return data;\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setUser({});\r\n        setVisible(false);\r\n        setMode(\"detail\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (message && message != \"\") {\r\n            if (message.type == \"error\") {\r\n                notification.error({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"warning\") {\r\n                notification.warning({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"success\") {\r\n                notification.success({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n        }\r\n    }, [message]);\r\n\r\n    const renderSelectStatus = () => (\r\n        <Select\r\n            disabled={mode == \"detail\"}\r\n            className='select-box'\r\n            value={user?.status}\r\n            onChange={(value) => setUser({ ...user, status: value })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"100%\" }}>\r\n            {statuses.map((status, index) => {\r\n                return (\r\n                    <Option key={index} value={status.code}>\r\n                        {status.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectRole = () => (\r\n        <Select disabled={mode == \"detail\"} className='select-box' value={user?.role} onChange={(value) => setUser({ ...user, role: value })} defaultValue='Chưa xác định' style={{ width: \"100%\" }}>\r\n            {loginUser && loginUser.role == \"SUPER_ADMIN\" && (\r\n                <Option key={0} value='SUPER_ADMIN'>\r\n                    Quản trị hệ thống\r\n                </Option>\r\n            )}\r\n            {listRoles && listRoles.map((status, index) => {\r\n                return (\r\n                    <Option key={index} value={status.code}>\r\n                        {status.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectDepartment = () => (\r\n        <Select\r\n            disabled={mode == \"detail\"}\r\n            className='select-box'\r\n            value={user && user.department ? user.department.id : \"Chưa xác định\"}\r\n            onChange={(value) => setUser({ ...user, department: value })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"100%\" }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {listDepartments && listDepartments.map((department, index) => {\r\n                return (\r\n                    <Option key={index} value={department.id}>\r\n                        {department.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectType = () => (\r\n        <Select\r\n            disabled={mode == \"detail\"}\r\n            className='select-box'\r\n            value={user?.type}\r\n            onChange={(value) => setUser({ ...user, type: value, page_id: 0 })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"100%\", minWidth: 100 }}>\r\n            {loginUser && loginUser.role == \"SUPER_ADMIN\" && (\r\n                <Option key={0} value='ALL_PROJECT'>\r\n                    Tất cả\r\n                </Option>\r\n            )}\r\n            {types.map((type, index) => {\r\n                return (\r\n                    <Option key={index} value={type.code}>\r\n                        {type.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    return (\r\n        <Modal visible={visible} title={title} onOk={handleSave} onCancel={handleCloseModal} okText='Lưu' cancelText='Hủy'>\r\n            <Form>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='name' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>\r\n                            Họ tên <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input disabled={mode == \"detail\"} className='input-box' placeholder='Tên' value={user?.full_name} onChange={(e) => setUser({ ...user, full_name: e.target.value })} />\r\n                    </Form.Item>\r\n                    <Form.Item name='username' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>\r\n                            Tên đăng nhập <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            type='text'\r\n                            placeholder='Tên đăng nhập'\r\n                            value={user?.username}\r\n                            onChange={(e) => setUser({ ...user, username: e.target.value })}\r\n                        />\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='email' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>\r\n                            Email <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input disabled={mode == \"detail\"} className='input-box' type='email' placeholder='Email' value={user?.email} onChange={(e) => setUser({ ...user, email: e.target.value })} />\r\n                    </Form.Item>\r\n                    <Form.Item name='phone' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>\r\n                            Sdt <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input disabled={mode == \"detail\"} className='input-box' placeholder='Số điện thoại' value={user?.phone} onChange={(e) => setUser({ ...user, phone: e.target.value })} />\r\n                    </Form.Item>\r\n                </Row>\r\n                {!userId && (\r\n                    <Row gutter={[16, 16]}>\r\n                        <Form.Item name='password' style={{ width: \"45%\", marginRight: 10 }}>\r\n                            <label htmlFor=''>\r\n                                Mật khẩu <span style={{ color: \"red\" }}>*</span>\r\n                            </label>\r\n                            <Input\r\n                                disabled={mode == \"detail\"}\r\n                                type='password'\r\n                                placeholder='Mật khẩu'\r\n                                value={user?.password}\r\n                                onChange={(e) =>\r\n                                    setUser({\r\n                                        ...user,\r\n                                        password: e.target.value,\r\n                                    })\r\n                                }\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item name='re-password' style={{ width: \"45%\" }}>\r\n                            <label htmlFor=''>\r\n                                Xác nhận mật khẩu <span style={{ color: \"red\" }}>*</span>\r\n                            </label>\r\n                            <Input\r\n                                disabled={mode == \"detail\"}\r\n                                type='password'\r\n                                placeholder='Xác nhận mật khẩu'\r\n                                value={user?.repassword}\r\n                                onChange={(e) =>\r\n                                    setUser({\r\n                                        ...user,\r\n                                        repassword: e.target.value,\r\n                                    })\r\n                                }\r\n                            />\r\n                        </Form.Item>\r\n                    </Row>\r\n                )}\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='address' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>Address </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            type='text'\r\n                            placeholder='Địa chỉ'\r\n                            value={user?.address}\r\n                            onChange={(e) => setUser({ ...user, address: e.target.value })}\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item name='role' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>Ngày sinh </label>\r\n                        <DatePicker\r\n                            disabled={mode == \"detail\"}\r\n                            value={user.birthday ? moment(user?.birthday, \"YYYY-MM-DD\") : \"\"}\r\n                            onChange={(date) =>\r\n                                setUser({\r\n                                    ...user,\r\n                                    birthday: date,\r\n                                })\r\n                            }\r\n                            style={{ width: \"100%\" }}\r\n                            format={\"YYYY-MM-DD\"}\r\n                        />\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='role' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>Chức vụ </label>\r\n                        {renderSelectRole()}\r\n                    </Form.Item>\r\n                    <Form.Item name='status' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>Trạng thái </label>\r\n                        {renderSelectStatus()}\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='role' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>Phòng ban </label>\r\n                        {renderSelectDepartment()}\r\n                    </Form.Item>\r\n                    {loginUser && loginUser.role == \"SUPER_ADMIN\" && (\r\n                        <Form.Item name='type'>\r\n                            <label htmlFor=''>Dự án </label>\r\n                            {renderSelectType()}\r\n                        </Form.Item>\r\n                    )}\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item name='status' style={{ margin: \"0 auto\" }}>\r\n                        <div style={{ marginBottom: 10 }}>\r\n                            <label htmlFor=''>Avatar </label>\r\n                        </div>\r\n                        <UploadImage imageUrl={imageUrl ? imageUrl : `media/users/blank.png`} setImageUrl={setImageUrl} />\r\n                    </Form.Item>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ModalUser;\r\n","import React, { Fragment } from \"react\";\r\nimport { Col, Row, Select, Button, Input } from \"antd\";\r\nimport { statuses, types, statusesActivation } from \"../../config/UserConfig\";\r\nimport { UserAddOutlined } from \"@ant-design/icons\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\n\r\nconst Filter = ({ filter, setFilter, setVisible, setMode, listDepartments, listRoles }) => {\r\n    const user = useSelector((state) => state.user.user);\r\n\r\n    const renderSelectStatus = () => (\r\n        <Select\r\n            className='select-box'\r\n            value={filter.status}\r\n            onChange={(value) => setFilter({ ...filter, status: value, page_id: 0 })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"75%\", marginLeft: 10 }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {statuses.map((status, index) => {\r\n                return (\r\n                    <Option key={index} value={status.code}>\r\n                        {status.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectRole = () => (\r\n        <Select\r\n            className='select-box'\r\n            value={filter.role}\r\n            onChange={(value) => setFilter({ ...filter, role: value, page_id: 0 })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"75%\", marginLeft: 10 }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {listRoles && listRoles.map((role, index) => {\r\n                return (\r\n                    <Option key={index} value={role.code}>\r\n                        {role.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectStatusActivation = () => (\r\n        <Select\r\n            className='select-box'\r\n            value={filter.statusActivation}\r\n            onChange={(value) => setFilter({ ...filter, statusActivation: value, page_id: 0 })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"75%\", marginLeft: 10 }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {statusesActivation.map((status, index) => {\r\n                return (\r\n                    <Option key={index} value={status.code}>\r\n                        {status.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectType = () => (\r\n        <Select\r\n            className='select-box'\r\n            value={filter.type}\r\n            onChange={(value) => setFilter({ ...filter, type: value, page_id: 0 })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"75%\", marginLeft: 10 }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {types.map((type, index) => {\r\n                return (\r\n                    <Option key={index} value={type.code}>\r\n                        {type.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectDepartment = () => (\r\n        <Select\r\n            showSearch\r\n            optionFilterProp='children'\r\n            className='select-box'\r\n            value={filter.department_id ? filter.department_id : \"Chưa xác định\"}\r\n            defaultValue='Chưa xác định'\r\n            onChange={(value) => setFilter({ ...filter, department_id: value, page_id: 0 })}\r\n            style={{ width: \"75%\", marginLeft: 10 }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {listDepartments &&\r\n                listDepartments.map((type, index) => {\r\n                    return (\r\n                        <Option key={index} value={type.id}>\r\n                            {type.name}\r\n                        </Option>\r\n                    );\r\n                })}\r\n        </Select>\r\n    );\r\n\r\n    const handlResetFilter = () => {\r\n        setFilter({\r\n            page_id: 0,\r\n            page_size: 20,\r\n            role: \"Chưa xác định\",\r\n            status: \"Chưa xác định\",\r\n            type: \"Chưa xác định\",\r\n            search: \"\",\r\n            department_id: null,\r\n            statusActivation: \"Chưa xác định\",\r\n        });\r\n    };\r\n\r\n    const handleCreate = () => {\r\n        setVisible(true);\r\n        setMode(\"create\");\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={12}>Danh sách người dùng</Col>\r\n                <Col flex='right' span={2} offset={10}>\r\n                    <Button block type='primary' onClick={() => handleCreate()} style={{ width: 200, float: \"right\" }}>\r\n                        <UserAddOutlined />\r\n                        Thêm người dùng\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={7}>\r\n                    <Search\r\n                        placeholder='Tìm kiếm'\r\n                        onChange={(e) =>\r\n                            setFilter({\r\n                                ...filter,\r\n                                search: e.target.value,\r\n                                page_id: 0,\r\n                            })\r\n                        }\r\n                    />\r\n                </Col>\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor='' style={{ width: \"20%\" }}>\r\n                        Trạng thái\r\n                    </label>\r\n                    {renderSelectStatus()}\r\n                </Col>\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor='' style={{ width: \"20%\" }}>\r\n                        Chức vụ\r\n                    </label>\r\n                    {renderSelectRole()}\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor='' style={{ width: \"20%\" }}>\r\n                        Phòng ban\r\n                    </label>\r\n                    {renderSelectDepartment()}\r\n                </Col>\r\n                {user.role == \"SUPER_ADMIN\" && (\r\n                    <Col span={7} style={{ display: \"flex\" }}>\r\n                        <label htmlFor='' style={{ width: \"20%\" }}>\r\n                            Dự án\r\n                        </label>\r\n                        {renderSelectType()}\r\n                    </Col>\r\n                )}\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor='' style={{ width: \"20%\" }}>\r\n                        Trạng thái làm việc\r\n                    </label>\r\n                    {renderSelectStatusActivation()}\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col span={2} style={{ display: \"flex\", margin: \"0 auto\" }}>\r\n                    <Button type='primary' block style={{ marginBottom: 10 }} onClick={handlResetFilter}>\r\n                        Reset\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { Fragment, useCallback, useEffect, useState } from \"react\";\r\nimport StyleListUser from \"./index.style\";\r\nimport { Table, Tag, Space, Modal, notification } from \"antd\";\r\nimport { getListUsers, deleteUser, getAllRoles } from \"../../store/services\";\r\nimport ModalUser from \"./ModalUser\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { formatPhone } from \"../../Utils/helper\";\r\nimport Filter from \"./Filter\";\r\nimport { getAllDepartments } from \"../../store/services\";\r\n\r\nconst ListUser = () => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [filter, setFilter] = useState({ page_size: 20, page_id: 0 });\r\n    const [listUser, setListUser] = useState([]);\r\n    const [meta, setMeta] = useState([]);\r\n    const [userId, setUserId] = useState(\"\");\r\n    const user = useSelector((state) => state.user.user);\r\n    const [mode, setMode] = useState(\"\");\r\n\r\n    const [listDepartments, setListDepartments] = useState([]);\r\n\r\n    const fetchDepartments = async () => {\r\n        const res = await getAllDepartments();\r\n        setListDepartments(res.result);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchDepartments();\r\n    }, []);\r\n\r\n    const [listRoles, setListRoles] = useState([]);\r\n\r\n    const fetchRoles = async () => {\r\n        const res = await getAllRoles();\r\n        setListRoles(res.result);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchRoles();\r\n    }, []);\r\n\r\n    const fetchListUser = useCallback(async () => {\r\n        const res = await getListUsers(filter);\r\n        if (res.status === \"successful\") {\r\n            setMeta(res.meta);\r\n            setListUser(res.result);\r\n        } else {\r\n            setMeta({ page_size: 20, page_id: 0 });\r\n            setListUser([]);\r\n            notification.error({\r\n                message: \"Lỗi\",\r\n                description: res.message && res.message !== \"\" ? res.message : \"Có lỗi. Vui lòng thử lại!\",\r\n            });\r\n        }\r\n    }, [filter, user]);\r\n\r\n    useEffect(() => {\r\n        fetchListUser();\r\n    }, [fetchListUser]);\r\n\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setUserId(\"\");\r\n        }\r\n    }, [visible]);\r\n\r\n    const handleDelete = async (user) => {\r\n        Modal.confirm({\r\n            title: \"Xác nhận?\",\r\n            content: \"Bạn có thực sự muốn xóa người dùng này\",\r\n            okText: \"Xác nhận\",\r\n            cancelText: \"Hủy\",\r\n            onOk() {\r\n                const res = new Promise((resolve, reject) => {\r\n                    resolve(deleteUser(user.id));\r\n                }).catch(() => console.log(\"Oops errors!\"));\r\n                Promise.resolve(res).then((e) => {\r\n                    if (e.status == \"successful\") {\r\n                        notification.success({\r\n                            message: \"Thành công\",\r\n                            description: \"Xóa người dùng thành công\",\r\n                        });\r\n                        fetchListUser();\r\n                    } else {\r\n                        notification.error({\r\n                            message: \"Lỗi\",\r\n                            description: e.message,\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            onCancel() {},\r\n        });\r\n    };\r\n\r\n    const columns = [\r\n        {\r\n            title: \"#\",\r\n            render: (text, record, index) => <a onClick={() => handleView(record)}>{index + 1}</a>,\r\n        },\r\n        {\r\n            title: \"Tên\",\r\n            dataIndex: \"full_name\",\r\n            key: \"full_name\",\r\n            render: (text, record) => <a onClick={() => handleView(record)}>{text}</a>,\r\n        },\r\n        {\r\n            title: \"Email\",\r\n            dataIndex: \"email\",\r\n            key: \"email\",\r\n            width: \"20%\",\r\n            render: (text) => <p style={{ wordBreak: \"break-word\" }}>{text}</p>,\r\n        },\r\n        {\r\n            title: \"Sdt\",\r\n            dataIndex: \"phone\",\r\n            key: \"phone\",\r\n            width: \"10%\",\r\n            render: (text) => <p>{formatPhone(text)}</p>,\r\n        },\r\n        {\r\n            title: \"Địa chỉ\",\r\n            dataIndex: \"address\",\r\n            key: \"address\",\r\n            width: \"30%\",\r\n            render: (text) => <p style={{ wordBreak: \"break-word\" }}>{text}</p>,\r\n        },\r\n        {\r\n            title: \"Trạng thái\",\r\n            key: \"status\",\r\n            dataIndex: \"status\",\r\n            render: (status) => (\r\n                <Tag color={status == \"ACTIVE\" ? \"success\" : status == \"PENDING\" ? \"geekblue\" : \"red\"} key={status}>\r\n                    {status}\r\n                </Tag>\r\n            ),\r\n        },\r\n        {\r\n            title: \"Chức vụ\",\r\n            key: \"role\",\r\n            dataIndex: \"role\",\r\n            render: (role) => (\r\n                <Tag\r\n                    color={\r\n                        role == \"ADMIN\"\r\n                            ? \"success\"\r\n                            : role == \"SUPERVISOR\"\r\n                            ? \"geekblue\"\r\n                            : role == \"MANAGER\"\r\n                            ? \"orange\"\r\n                            : role == \"DRONE_STAFF\"\r\n                            ? \"purple\"\r\n                            : role == \"INCIDENT_STAFF\"\r\n                            ? \"cyan\"\r\n                            : \"magenta\"\r\n                    }\r\n                    key={role}>\r\n                    {role}\r\n                </Tag>\r\n            ),\r\n        },\r\n        {\r\n            title: \"Phòng ban\",\r\n            key: \"department\",\r\n            dataIndex: \"department\",\r\n            render: (department) => <div>{department ? department.name : \"\"}</div>,\r\n        },\r\n        user.role == \"SUPER_ADMIN\"\r\n            ? {\r\n                  title: \"Dự án\",\r\n                  key: \"type\",\r\n                  dataIndex: \"type\",\r\n                  width: \"10%\",\r\n                  render: (type) => (\r\n                      <Tag color={type == \"CHAY_RUNG\" ? \"red\" : type == \"DE_DIEU\" ? \"cyan\" : type == \"CAY_TRONG\" ? \"green\" : type == \"LUOI_DIEN\" ? \"processing\" : \"purple\"} key={type}>\r\n                          {type}\r\n                      </Tag>\r\n                  ),\r\n              }\r\n            : {},\r\n        {\r\n            title: \"Hành động\",\r\n            key: \"action\",\r\n            render: (text, record) => (\r\n                <Fragment>\r\n                    <Space size='middle' style={{ marginRight: 10 }}>\r\n                        <a onClick={() => handleEdit(record)}>Sửa</a>\r\n                    </Space>\r\n                    <Space size='middle'>\r\n                        <a onClick={() => handleDelete(record)}>Xóa</a>\r\n                    </Space>\r\n                </Fragment>\r\n            ),\r\n            width: \"10%\",\r\n        },\r\n    ];\r\n\r\n    const changePagination = (value, pageSize) => {\r\n        setFilter({ ...filter, page_id: value - 1, page_size: pageSize });\r\n    };\r\n\r\n    const handleEdit = (record) => {\r\n        setVisible(true);\r\n        setMode(\"update\");\r\n        setUserId(record.id);\r\n    };\r\n\r\n    const handleView = (record) => {\r\n        setVisible(true);\r\n        setMode(\"detail\");\r\n        setUserId(record.id);\r\n    };\r\n\r\n    return (\r\n        <StyleListUser>\r\n            <Filter setFilter={setFilter} setVisible={setVisible} filter={filter} setMode={setMode} listDepartments={listDepartments} listRoles={listRoles} />\r\n            <Table\r\n                rowKey='id'\r\n                columns={columns}\r\n                pagination={{\r\n                    total: meta.total_count,\r\n                    pageSize: meta.page_size,\r\n                    onChange: changePagination,\r\n                }}\r\n                dataSource={listUser}\r\n            />\r\n            <ModalUser visible={visible} userId={userId} setVisible={setVisible} fetchListUser={fetchListUser} mode={mode} setMode={setMode} listDepartments={listDepartments} listRoles={listRoles} />\r\n        </StyleListUser>\r\n    );\r\n};\r\nexport default ListUser;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleListDepartment = styled.div`\r\n    .input-box {\r\n        border-radius: 5px;\r\n    }\r\n    .select-box {\r\n        border-radius: 5px;\r\n    }\r\n`;\r\nexport default StyleListDepartment;\r\n","import { Form, Input, Modal, Row, notification, Select, DatePicker } from \"antd\";\r\nimport { updateDepartment, createDepartment, getDepartment } from \"../../store/services\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { types } from \"../../config/UserConfig\";\r\nimport { useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nconst { Option } = Select;\r\n\r\nconst ModalDepartment = ({ departmentId, setVisible, visible, fetchListDepartment, mode, setMode }) => {\r\n    const [department, setDepartment] = useState({});\r\n    const [message, setMessage] = useState({});\r\n    const loginUser = useSelector((state) => state.user.user);\r\n    const [title, setTitle] = useState(\"\");\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setDepartment({\r\n                type: \"Chưa xác định\",\r\n            });\r\n        }\r\n    }, [visible]);\r\n\r\n    useEffect(() => {\r\n        if (mode == \"create\") {\r\n            setTitle(\"Thêm mới phòng ban\");\r\n        } else if (mode == \"update\") {\r\n            setTitle(\"Cập nhật phòng ban\");\r\n        } else {\r\n            setTitle(\"Thông tin phòng ban\");\r\n        }\r\n    }, [mode]);\r\n\r\n    const fetchDepartment = useCallback(async () => {\r\n        try {\r\n            const res = await getDepartment(departmentId);\r\n            if (res.status === \"successful\") {\r\n                setDepartment(res.result);\r\n            }\r\n        } catch (error) {}\r\n    }, [departmentId]);\r\n\r\n    useEffect(() => {\r\n        if (departmentId) {\r\n            fetchDepartment();\r\n        } else {\r\n            setDepartment({});\r\n        }\r\n    }, [fetchDepartment, setDepartment]);\r\n\r\n    const handleSave = async () => {\r\n        var res = {};\r\n        if (!validateData()) {\r\n            return;\r\n        }\r\n        const dataDepartment = buildDepartmentData();\r\n        var description = \"\";\r\n        if (departmentId && departmentId != \"\") {\r\n            dataDepartment.id = departmentId;\r\n            res = await updateDepartment(dataDepartment);\r\n            description = \"Cập nhật thành công!\";\r\n        } else {\r\n            res = await createDepartment(dataDepartment);\r\n            description = \"Tạo mới thành công!\";\r\n        }\r\n        if (res.status === \"successful\") {\r\n            fetchListDepartment();\r\n            notification.success({\r\n                message: \"Thành công\",\r\n                description: description,\r\n            });\r\n            handleCloseModal();\r\n        } else {\r\n            var errorMessage = \"\";\r\n            if (res.message && res.message != \"\") {\r\n                errorMessage = res.message;\r\n            } else {\r\n                errorMessage = res.result;\r\n            }\r\n            notification.error({\r\n                message: \"\",\r\n                description: errorMessage,\r\n            });\r\n        }\r\n    };\r\n\r\n    const validateData = useCallback(() => {\r\n        var retval = true;\r\n        if (typeof department.name === \"undefined\" || department.name === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập tên!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof department.description === \"undefined\" || department.description === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập mô tả!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        return retval;\r\n    });\r\n\r\n    const buildDepartmentData = () => {\r\n        var data = {};\r\n        var columns = [\"name\", \"description\"];\r\n        columns.forEach((element) => {\r\n            if (department[element] && department[element] != \"\") {\r\n                data[element] = department[element];\r\n            }\r\n        });\r\n        data.type = localStorage.getItem(\"project-type\");\r\n        return data;\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setDepartment({});\r\n        setMode(\"\");\r\n        setVisible(false);\r\n    };\r\n\r\n    const renderSelectType = () => (\r\n        <Select\r\n            disabled={mode == \"detail\"}\r\n            className='select-box'\r\n            value={department?.type}\r\n            onChange={(value) => setDepartment({ ...department, type: value, page_id: 0 })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"100%\", minWidth: 178 }}\r\n        >\r\n            {types.map((type, index) => {\r\n                return (\r\n                    <Option key={index} value={type.code}>\r\n                        {type.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (message && message != \"\") {\r\n            if (message.type == \"error\") {\r\n                notification.error({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"warning\") {\r\n                notification.warning({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"success\") {\r\n                notification.success({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n        }\r\n    }, [message]);\r\n\r\n    return (\r\n        <Modal visible={visible} title={title} onOk={handleSave} onCancel={handleCloseModal} okText='Lưu' cancelText='Hủy'>\r\n            <Form>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='name' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>\r\n                            Họ tên <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            placeholder='Tên'\r\n                            value={department?.name}\r\n                            onChange={(e) =>\r\n                                setDepartment({\r\n                                    ...department,\r\n                                    name: e.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item name='username' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>\r\n                            Mô tả <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            type='text'\r\n                            placeholder='Mô tả'\r\n                            value={department?.description}\r\n                            onChange={(e) =>\r\n                                setDepartment({\r\n                                    ...department,\r\n                                    description: e.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    {mode == \"detail\" && (\r\n                        <Form.Item name='role' style={{ width: \"45%\", marginRight: 10 }}>\r\n                            <label htmlFor=''>Ngày tạo </label>\r\n                            <DatePicker\r\n                                disabled={mode == \"detail\"}\r\n                                value={department.created_at ? moment(department?.created_at, \"YYYY-MM-DD\") : \"\"}\r\n                                style={{ width: \"100%\" }}\r\n                                format={\"YYYY-MM-DD\"}\r\n                            />\r\n                        </Form.Item>\r\n                    )}\r\n                    {loginUser && loginUser.role == \"SUPER_ADMIN\" && (\r\n                        <Form.Item name='type'>\r\n                            <label htmlFor=''>Dự án </label>\r\n                            {renderSelectType()}\r\n                        </Form.Item>\r\n                    )}\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ModalDepartment;\r\n","import React, { Fragment } from \"react\";\r\nimport { Col, Input, Row, Button, Select } from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { FolderAddOutlined } from \"@ant-design/icons\";\r\nimport { types } from \"../../config/UserConfig\";\r\n\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\n\r\nconst Filter = ({ filter, setFilter, setVisible, setMode }) => {\r\n    const user = useSelector((state) => state.user.user);\r\n\r\n    const renderSelectType = () => (\r\n        <Select\r\n            className=\"select-box\"\r\n            value={filter.type}\r\n            onChange={(value) =>\r\n                setFilter({ ...filter, type: value, page_id: 0 })\r\n            }\r\n            defaultValue=\"Chưa xác định\"\r\n            style={{ width: \"75%\", marginLeft: 10 }}\r\n        >\r\n            <Option key={-1} value=\"Chưa xác định\">\r\n                Chưa xác định\r\n            </Option>\r\n            {types.map((type, index) => {\r\n                return (\r\n                    <Option key={index} value={type.code}>\r\n                        {type.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n    const handlResetFilter = () => {\r\n        setFilter({\r\n            page_id: 0,\r\n            page_size: 20,\r\n            role: \"Chưa xác định\",\r\n            status: \"Chưa xác định\",\r\n            search: \"\",\r\n        });\r\n    };\r\n\r\n    const handleCreate = () => {\r\n        setMode(\"create\");\r\n        setVisible(true);\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={12}>Danh sách phòng ban</Col>\r\n                <Col flex=\"right\" span={2} offset={10}>\r\n                    <Button\r\n                        block\r\n                        type=\"primary\"\r\n                        onClick={() => handleCreate()}\r\n                        style={{ width: 200, float: \"right\" }}\r\n                    >\r\n                        <FolderAddOutlined />\r\n                        Thêm phòng ban\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={8}>\r\n                    <Search\r\n                        placeholder=\"Tìm kiếm\"\r\n                        onChange={(e) =>\r\n                            setFilter({\r\n                                ...filter,\r\n                                search: e.target.value,\r\n                                page_id: 0,\r\n                            })\r\n                        }\r\n                    />\r\n                </Col>\r\n                {user.role == \"SUPER_ADMIN\" && (\r\n                    <Col span={7} style={{ display: \"flex\" }}>\r\n                        <label htmlFor=\"\" style={{ width: \"20%\" }}>\r\n                            Dự án\r\n                        </label>\r\n                        {renderSelectType()}\r\n                    </Col>\r\n                )}\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={8}></Col>\r\n            </Row>\r\n            <Row>\r\n                <Col span={2} style={{ display: \"flex\", margin: \"0 auto\" }}>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        block\r\n                        style={{ marginBottom: 10 }}\r\n                        onClick={handlResetFilter}\r\n                    >\r\n                        Reset\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { Fragment, useCallback, useEffect, useState } from \"react\";\r\nimport StyleListDepartment from \"./index.style\";\r\nimport { Table, Space, Input, Modal, notification, Tag } from \"antd\";\r\nimport { getListDepartments, deleteDepartment } from \"../../store/services\";\r\nimport ModalDepartment from \"./ModalDepartment\";\r\nimport { useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport Filter from \"./Filter\";\r\n\r\nconst ListDepartment = () => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [filter, setFilter] = useState({ page_size: 20, page_id: 0 });\r\n    const [listDepartment, setListDepartment] = useState([]);\r\n    const [meta, setMeta] = useState([]);\r\n    const [departmentId, setDepartmentId] = useState(\"\");\r\n    const user = useSelector((state) => state.user.user);\r\n    const [mode, setMode] = useState(\"\");\r\n\r\n    const fetchListDepartment = useCallback(async () => {\r\n        const res = await getListDepartments(filter);\r\n        if (res.status === \"successful\") {\r\n            setMeta(res.meta);\r\n            setListDepartment(res.result);\r\n        } else {\r\n            setMeta({ page_size: 20, page_id: 0 });\r\n            setListDepartment([]);\r\n            notification.error({\r\n                message: \"Lỗi\",\r\n                description:\r\n                    res.message && res.message !== \"\"\r\n                        ? res.message\r\n                        : \"Có lỗi. Vui lòng thử lại!\",\r\n            });\r\n        }\r\n    }, [filter]);\r\n\r\n    useEffect(() => {\r\n        fetchListDepartment();\r\n    }, [fetchListDepartment]);\r\n\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setDepartmentId(\"\");\r\n        }\r\n    }, [visible]);\r\n\r\n    const handleDelete = async (department) => {\r\n        Modal.confirm({\r\n            title: \"Xác nhận?\",\r\n            content: \"Bạn có thực sự muốn xóa phòng ban này\",\r\n            okText: \"Xác nhận\",\r\n            cancelText: \"Hủy\",\r\n            onOk() {\r\n                const res = new Promise((resolve, reject) => {\r\n                    resolve(deleteDepartment(department.id));\r\n                }).catch(() => console.log(\"Oops errors!\"));\r\n                Promise.resolve(res).then((e) => {\r\n                    if (e.status == \"successful\") {\r\n                        notification.success({\r\n                            message: \"Thành công\",\r\n                            description: \"Xóa phòng ban thành công\",\r\n                        });\r\n                        fetchListDepartment();\r\n                    } else {\r\n                        notification.error({\r\n                            message: \"Lỗi\",\r\n                            description: e.message,\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            onCancel() {},\r\n        });\r\n    };\r\n\r\n    const columns = [\r\n        {\r\n            title: \"#\",\r\n            render: (text, record, index) => <a onClick={() => handleView(record)}>{index + 1}</a>,\r\n        },\r\n        {\r\n            title: \"Tên\",\r\n            dataIndex: \"name\",\r\n            key: \"name\",\r\n            render: (text, record) => <a onClick={() => handleView(record)}>{text}</a>,\r\n        },\r\n        { title: \"Mô tả\", dataIndex: \"description\", key: \"description\" },\r\n        {\r\n            title: \"Ngày tạo\",\r\n            dataIndex: \"created_at\",\r\n            key: \"created_at\",\r\n            render: (text) => <p>{moment(text).format(\"mm:hh DD-MM-YYYY\")}</p>,\r\n        },\r\n        user.role == \"SUPER_ADMIN\"\r\n            ? {\r\n                  title: \"Dự án\",\r\n                  key: \"type\",\r\n                  dataIndex: \"type\",\r\n                  width: \"10%\",\r\n                  render: (type) => (\r\n                      <Tag\r\n                          color={\r\n                              type == \"CHAY_RUNG\"\r\n                                  ? \"red\"\r\n                                  : type == \"DE_DIEU\"\r\n                                  ? \"cyan\"\r\n                                  : type == \"CAY_TRONG\"\r\n                                  ? \"green\"\r\n                                  : \"purple\"\r\n                          }\r\n                          key={type}\r\n                      >\r\n                          {type}\r\n                      </Tag>\r\n                  ),\r\n              }\r\n            : {},\r\n        {\r\n            title: \"Hành động\",\r\n            key: \"action\",\r\n            render: (text, record) => (\r\n                <Fragment>\r\n                    <Space size=\"middle\" style={{ marginRight: 10 }}>\r\n                        <a onClick={() => handleEdit(record)}>Sửa</a>\r\n                    </Space>\r\n                    <Space size=\"middle\">\r\n                        <a onClick={() => handleDelete(record)}>Xóa</a>\r\n                    </Space>\r\n                </Fragment>\r\n            ),\r\n            width: \"10%\",\r\n        },\r\n    ];\r\n\r\n    const changePagination = (value, pageSize) => {\r\n        setFilter({ ...filter, page_id: value - 1, page_size: pageSize });\r\n    };\r\n\r\n    const handleEdit = (record) => {\r\n        setVisible(true);\r\n        setMode(\"update\");\r\n        setDepartmentId(record.id);\r\n    };\r\n\r\n    const handleView = (record) => {\r\n        setVisible(true);\r\n        setMode(\"detail\");\r\n        setDepartmentId(record.id);\r\n    };\r\n\r\n    return (\r\n        <StyleListDepartment>\r\n            <Filter\r\n                setFilter={setFilter}\r\n                setVisible={setVisible}\r\n                filter={filter}\r\n                setMode={setMode}\r\n            />\r\n            <Table\r\n                rowKey=\"id\"\r\n                columns={columns}\r\n                pagination={{\r\n                    total: meta.total_count,\r\n                    pageSize: meta.page_size,\r\n                    onChange: changePagination,\r\n                }}\r\n                dataSource={listDepartment}\r\n            />\r\n            <ModalDepartment\r\n                mode={mode}\r\n                setMode={setMode}\r\n                visible={visible}\r\n                departmentId={departmentId}\r\n                setVisible={setVisible}\r\n                fetchListDepartment={fetchListDepartment}\r\n            />\r\n        </StyleListDepartment>\r\n    );\r\n};\r\nexport default ListDepartment;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleListUser = styled.div`\r\n    .input-box {\r\n        border-radius: 5px;\r\n    }\r\n    .select-box {\r\n        border-radius: 5px;\r\n    }\r\n`;\r\nexport default StyleListUser;\r\n","export const types = [\r\n    {\r\n        name: \"Sự cố cháy rừng\",\r\n        code: \"CHAY_RUNG\",\r\n    },\r\n    {\r\n        name: \"Sự cố đê điều\",\r\n        code: \"DE_DIEU\",\r\n    },\r\n    {\r\n        name: \"Sự cố cây trồng\",\r\n        code: \"CAY_TRONG\",\r\n    },\r\n    {\r\n        name: \"Sự cố lưới điện\",\r\n        code: \"LUOI_DIEN\",\r\n    },\r\n];\r\n\r\nexport const statuses = [\r\n    {\r\n        name: \"Đang thực hiện\",\r\n        code: \"DOING\",\r\n    },\r\n    {\r\n        name: \"Hoàn thành\",\r\n        code: \"DONE\",\r\n    },\r\n];\r\n\r\nexport const names = [\r\n    {\r\n        name: \"Drone\",\r\n        code: \"DRONE\",\r\n    },\r\n    {\r\n        name: \"Sự cố\",\r\n        code: \"INCIDENT\",\r\n    },\r\n];","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Col, Row, Select, Button, Input } from \"antd\";\r\nimport { statuses, types, names } from \"../../config/UserMetaConfig\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getAllUsers } from \"../../store/services\";\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\n\r\nconst Filter = ({ filter, setFilter, setVisible }) => {\r\n    const user = useSelector((state) => state.user.user);\r\n    const [listUsers, setListUsers] = useState([]);\r\n\r\n    const fetchUsers = async () => {\r\n        const res = await getAllUsers();\r\n        setListUsers(res.result);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchUsers();\r\n    }, []);\r\n\r\n    const renderSelectStatus = () => (\r\n        <Select\r\n            className=\"select-box\"\r\n            value={filter.status}\r\n            onChange={(value) =>\r\n                setFilter({ ...filter, status: value, page_id: 0 })\r\n            }\r\n            defaultValue=\"Chưa xác định\"\r\n            style={{ width: \"75%\", marginLeft: 10 }}\r\n        >\r\n            {statuses.map((status, index) => {\r\n                return (\r\n                    <Option key={index} value={status.code}>\r\n                        {status.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectName = () => (\r\n        <Select\r\n            className=\"select-box\"\r\n            value={filter.name}\r\n            onChange={(value) =>\r\n                setFilter({ ...filter, name: value, page_id: 0 })\r\n            }\r\n            defaultValue=\"Chưa xác định\"\r\n            style={{ width: \"75%\", marginLeft: 10 }}\r\n        >\r\n            {names.map((name, index) => {\r\n                return (\r\n                    <Option key={index} value={name.code}>\r\n                        {name.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectType = () => (\r\n        <Select\r\n            className=\"select-box\"\r\n            value={filter.type}\r\n            onChange={(value) =>\r\n                setFilter({ ...filter, type: value, page_id: 0 })\r\n            }\r\n            defaultValue=\"Chưa xác định\"\r\n            style={{ width: \"75%\", marginLeft: 10 }}\r\n        >\r\n            {types.map((type, index) => {\r\n                return (\r\n                    <Option key={index} value={type.code}>\r\n                        {type.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectUser = () => (\r\n        <Select\r\n            className=\"select-box\"\r\n            value={filter.user_id ? filter.user_id : \"Chưa xác định\"}\r\n            showSearch\r\n            optionFilterProp=\"children\"\r\n            onChange={(value) =>\r\n                setFilter({ ...filter, user_id: value, page_id: 0 })\r\n            }\r\n            defaultValue=\"Chưa xác định\"\r\n            style={{ width: \"75%\", marginLeft: 10 }}\r\n        >\r\n            {listUsers &&\r\n                listUsers.map((user, index) => {\r\n                    return (\r\n                        <Option key={index} value={user.id}>\r\n                            {user.full_name}\r\n                        </Option>\r\n                    );\r\n                })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectTarget = () => (\r\n        <Select\r\n            showSearch\r\n            optionFilterProp=\"children\"\r\n            className=\"select-box\"\r\n            value={filter.target_id ? filter.target_id : \"Chưa xác định\"}\r\n            onChange={(value) =>\r\n                setFilter({ ...filter, target_id: value, page_id: 0 })\r\n            }\r\n            defaultValue=\"Chưa xác định\"\r\n            style={{ width: \"75%\", marginLeft: 10 }}\r\n        >\r\n            {listUsers &&\r\n                listUsers.map((user, index) => {\r\n                    return (\r\n                        <Option key={index} value={user.id}>\r\n                            {user.full_name}\r\n                        </Option>\r\n                    );\r\n                })}\r\n        </Select>\r\n    );\r\n\r\n    const handlResetFilter = () => {\r\n        setFilter({\r\n            page_id: 0,\r\n            page_size: 20,\r\n            name: \"Chưa xác định\",\r\n            status: \"Chưa xác định\",\r\n            type: \"Chưa xác định\",\r\n            search: \"\",\r\n            user_id: null,\r\n            target_id: null,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={12}>Lịch sử người dùng</Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={7}>\r\n                    <Search\r\n                        placeholder=\"Tìm kiếm\"\r\n                        onChange={(e) =>\r\n                            setFilter({\r\n                                ...filter,\r\n                                search: e.target.value,\r\n                                page_id: 0,\r\n                            })\r\n                        }\r\n                    />\r\n                </Col>\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor=\"\" style={{ width: \"20%\" }}>\r\n                        Trạng thái\r\n                    </label>\r\n                    {renderSelectStatus()}\r\n                </Col>\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor=\"\" style={{ width: \"20%\" }}>\r\n                        Tên\r\n                    </label>\r\n                    {renderSelectName()}\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor=\"\" style={{ width: \"20%\" }}>\r\n                        Người tạo\r\n                    </label>\r\n                    {renderSelectUser()}\r\n                </Col>\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor=\"\" style={{ width: \"20%\" }}>\r\n                        Người thực hiện\r\n                    </label>\r\n                    {renderSelectTarget()}\r\n                </Col>\r\n                {user.role == \"SUPER_ADMIN\" && (\r\n                    <Col span={7} style={{ display: \"flex\" }}>\r\n                        <label htmlFor=\"\" style={{ width: \"20%\" }}>\r\n                            Dự án\r\n                        </label>\r\n                        {renderSelectType()}\r\n                    </Col>\r\n                )}\r\n            </Row>\r\n            <Row>\r\n                <Col span={2} style={{ display: \"flex\", margin: \"0 auto\" }}>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        block\r\n                        style={{ marginBottom: 10 }}\r\n                        onClick={handlResetFilter}\r\n                    >\r\n                        Reset\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport StyleListUser from \"./index.style\";\r\nimport { Table, Tag, notification } from \"antd\";\r\nimport { getListUsersMeta } from \"../../store/services\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Filter from \"./Filter\";\r\nimport { getByField } from \"../../Utils/helper\";\r\nimport { names } from \"../../config/UserMetaConfig\";\r\nimport moment from \"moment\";\r\n\r\nconst ListUserMeta = () => {\r\n    const [filter, setFilter] = useState({ page_size: 20, page_id: 0 });\r\n    const [listUserMeta, setListUserMeta] = useState([]);\r\n    const [meta, setMeta] = useState([]);\r\n    const user = useSelector((state) => state.user.user);\r\n\r\n    const fetchListUserMeta = useCallback(async () => {\r\n        const res = await getListUsersMeta(filter);\r\n        if (res.status === \"successful\") {\r\n            setMeta(res.meta);\r\n            setListUserMeta(res.result);\r\n        } else {\r\n            setMeta({ page_size: 20, page_id: 0 });\r\n            setListUserMeta([]);\r\n            notification.error({\r\n                message: \"Lỗi\",\r\n                description:\r\n                    res.message && res.message !== \"\"\r\n                        ? res.message\r\n                        : \"Có lỗi. Vui lòng thử lại!\",\r\n            });\r\n        }\r\n    }, [filter, user]);\r\n\r\n    useEffect(() => {\r\n        fetchListUserMeta();\r\n    }, [fetchListUserMeta]);\r\n\r\n    const columns = [\r\n        {\r\n            title: \"#\",\r\n            render: (text, record, index) => <a>{index + 1}</a>,\r\n        },\r\n        {\r\n            title: \"Tên\",\r\n            dataIndex: \"name\",\r\n            key: \"name\",\r\n            render: (text) => <a>{getByField(names, \"code\", text).name}</a>,\r\n        },\r\n        {\r\n            title: \"Mô tả\",\r\n            dataIndex: \"description\",\r\n            key: \"description\",\r\n            render: (text) => <p style={{ wordBreak: \"break-word\" }}>{text}</p>,\r\n        },\r\n        {\r\n            title: \"Người tạo\",\r\n            dataIndex: \"user\",\r\n            key: \"user\",\r\n            render: (user) => <p>{user ? user.full_name : \"\"}</p>,\r\n        },\r\n        {\r\n            title: \"Người hoàn thành\",\r\n            dataIndex: \"target_user\",\r\n            key: \"target_user\",\r\n            render: (user) => <p>{user ? user.full_name : \"\"}</p>,\r\n        },\r\n        {\r\n            title: \"Ngày tạo\",\r\n            dataIndex: \"created_at\",\r\n            key: \"created_at\",\r\n            render: (text) => <p>{moment(text).format(\"mm:hh DD-MM-YYYY\")}</p>,\r\n        },\r\n        user.role == \"SUPER_ADMIN\"\r\n            ? {\r\n                  title: \"Dự án\",\r\n                  key: \"type\",\r\n                  dataIndex: \"type\",\r\n                  width: \"10%\",\r\n                  render: (type) => (\r\n                      <Tag\r\n                          color={\r\n                              type == \"CHAY_RUNG\"\r\n                                  ? \"red\"\r\n                                  : type == \"DE_DIEU\"\r\n                                  ? \"cyan\"\r\n                                  : type == \"CAY_TRONG\"\r\n                                  ? \"green\"\r\n                                  : \"purple\"\r\n                          }\r\n                          key={type}\r\n                      >\r\n                          {type}\r\n                      </Tag>\r\n                  ),\r\n              }\r\n            : {},\r\n        {\r\n            title: \"Trạng thái\",\r\n            key: \"status\",\r\n            dataIndex: \"status\",\r\n            render: (status) => (\r\n                <Tag\r\n                    color={status == \"DONE\" ? \"success\" : \"geekblue\"}\r\n                    key={status}\r\n                >\r\n                    {status}\r\n                </Tag>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    const changePagination = (value, pageSize) => {\r\n        setFilter({ ...filter, page_id: value - 1, page_size: pageSize });\r\n    };\r\n\r\n    return (\r\n        <StyleListUser>\r\n            <Filter setFilter={setFilter} filter={filter} />\r\n            <Table\r\n                rowKey=\"id\"\r\n                columns={columns}\r\n                pagination={{\r\n                    total: meta.total_count,\r\n                    pageSize: meta.page_size,\r\n                    onChange: changePagination,\r\n                }}\r\n                dataSource={listUserMeta}\r\n            />\r\n        </StyleListUser>\r\n    );\r\n};\r\nexport default ListUserMeta;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleListRole = styled.div`\r\n    .input-box {\r\n        border-radius: 5px;\r\n    }\r\n    .select-box {\r\n        border-radius: 5px;\r\n    }\r\n`;\r\nexport default StyleListRole;\r\n","import { Form, Input, Modal, Row, notification, Select, DatePicker } from \"antd\";\r\nimport { getRole, createRole, updateRole } from \"../../store/services\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nconst { Option } = Select;\r\n\r\nconst ModalRole = ({ roleId, setVisible, visible, fetchListRole, mode, setMode }) => {\r\n    const [role, setRole] = useState({});\r\n    const [message, setMessage] = useState({});\r\n    const [title, setTitle] = useState(\"\");\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setRole({\r\n                type: \"Chưa xác định\",\r\n            });\r\n        }\r\n    }, [visible]);\r\n\r\n    useEffect(() => {\r\n        if (mode == \"create\") {\r\n            setTitle(\"Thêm mới chức vụ\");\r\n        } else if (mode == \"update\") {\r\n            setTitle(\"Cập nhật chức vụ\");\r\n        } else {\r\n            setTitle(\"Thông tin chức vụ\");\r\n        }\r\n    }, [mode]);\r\n\r\n    const fetchRole = useCallback(async () => {\r\n        try {\r\n            const res = await getRole(roleId);\r\n            if (res.status === \"successful\") {\r\n                setRole(res.result);\r\n            }\r\n        } catch (error) {}\r\n    }, [roleId]);\r\n\r\n    useEffect(() => {\r\n        if (roleId) {\r\n            fetchRole();\r\n        } else {\r\n            setRole({});\r\n        }\r\n    }, [fetchRole, setRole]);\r\n\r\n    const handleSave = async () => {\r\n        var res = {};\r\n        if (!validateData()) {\r\n            return;\r\n        }\r\n        const dataRole = buildUserData();\r\n        var description = \"\";\r\n        if (roleId && roleId != \"\") {\r\n            dataRole.id = roleId;\r\n            res = await updateRole(dataRole);\r\n            description = \"Cập nhật thành công!\";\r\n        } else {\r\n            res = await createRole(dataRole);\r\n            description = \"Tạo mới thành công!\";\r\n        }\r\n        if (res.status === \"successful\") {\r\n            fetchListRole();\r\n            notification.success({\r\n                message: \"Thành công\",\r\n                description: description,\r\n            });\r\n            handleCloseModal();\r\n        } else {\r\n            var errorMessage = \"\";\r\n            if (res.message && res.message != \"\") {\r\n                errorMessage = res.message;\r\n            } else {\r\n                errorMessage = res.result;\r\n            }\r\n            notification.error({\r\n                message: \"\",\r\n                description: errorMessage,\r\n            });\r\n        }\r\n    };\r\n\r\n    const validateData = useCallback(() => {\r\n        var retval = true;\r\n        if (typeof role.name === \"undefined\" || role.name === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập tên!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof role.description === \"undefined\" || role.description === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập mô tả!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof role.code === \"undefined\" || role.code === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập mã chức vụ!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof role.ranking === \"undefined\" || role.ranking === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập thứ hạng của chức vụ!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (role.ranking <= 0) {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Thứ hạng của chức vụ không hợp lệ!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        return retval;\r\n    });\r\n\r\n    const buildUserData = () => {\r\n        var data = {};\r\n        var columns = [\"name\", \"description\", \"code\", \"ranking\"];\r\n        columns.forEach((element) => {\r\n            if (role[element] && role[element] != \"\") {\r\n                data[element] = role[element];\r\n            }\r\n        });\r\n        return data;\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setRole({});\r\n        setMode(\"\");\r\n        setVisible(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (message && message != \"\") {\r\n            if (message.type == \"error\") {\r\n                notification.error({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"warning\") {\r\n                notification.warning({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"success\") {\r\n                notification.success({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n        }\r\n    }, [message]);\r\n\r\n    return (\r\n        <Modal visible={visible} title={title} onOk={handleSave} onCancel={handleCloseModal} okText='Lưu' cancelText='Hủy'>\r\n            <Form>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='name' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>\r\n                            Họ tên <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            placeholder='Tên'\r\n                            value={role?.name}\r\n                            onChange={(e) =>\r\n                                setRole({\r\n                                    ...role,\r\n                                    name: e.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item name='username' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>\r\n                            Mô tả <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            type='text'\r\n                            placeholder='Mô tả'\r\n                            value={role?.description}\r\n                            onChange={(e) =>\r\n                                setRole({\r\n                                    ...role,\r\n                                    description: e.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='username' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>\r\n                            Thứ hạng <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            type='text'\r\n                            placeholder='Thứ hạng'\r\n                            value={role?.ranking}\r\n                            onChange={(e) =>\r\n                                setRole({\r\n                                    ...role,\r\n                                    ranking: e.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item name='role' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>Mã chức vụ </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            type='text'\r\n                            placeholder='Mã chức vụ'\r\n                            value={role?.code}\r\n                            onChange={(e) =>\r\n                                setRole({\r\n                                    ...role,\r\n                                    code: e.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    {mode == \"detail\" && (\r\n                        <Form.Item name='role' style={{ width: \"45%\" }}>\r\n                            <label htmlFor=''>Ngày tạo </label>\r\n                            <DatePicker disabled={mode == \"detail\"} value={role.created_at ? moment(role?.created_at, \"YYYY-MM-DD\") : \"\"} style={{ width: \"100%\" }} format={\"YYYY-MM-DD\"} />\r\n                        </Form.Item>\r\n                    )}\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ModalRole;\r\n","import React, { Fragment } from \"react\";\r\nimport { Col, Input, Row, Button, Select } from \"antd\";\r\nimport { FolderAddOutlined } from \"@ant-design/icons\";\r\n\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\n\r\nconst Filter = ({ filter, setFilter, setVisible, setMode }) => {\r\n\r\n    const handlResetFilter = () => {\r\n        setFilter({\r\n            page_id: 0,\r\n            page_size: 20,\r\n            search: \"\",\r\n        });\r\n    };\r\n\r\n    const handleCreate = () => {\r\n        setMode(\"create\");\r\n        setVisible(true);\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={12}>Danh sách chức vụ</Col>\r\n                <Col flex=\"right\" span={2} offset={10}>\r\n                    <Button\r\n                        block\r\n                        type=\"primary\"\r\n                        onClick={() => handleCreate()}\r\n                        style={{ width: 200, float: \"right\" }}\r\n                    >\r\n                        <FolderAddOutlined />\r\n                        Thêm chức vụ\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={8}>\r\n                    <Search\r\n                        placeholder=\"Tìm kiếm\"\r\n                        onChange={(e) =>\r\n                            setFilter({\r\n                                ...filter,\r\n                                search: e.target.value,\r\n                                page_id: 0,\r\n                            })\r\n                        }\r\n                    />\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={8}></Col>\r\n            </Row>\r\n            <Row>\r\n                <Col span={2} style={{ display: \"flex\", margin: \"0 auto\" }}>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        block\r\n                        style={{ marginBottom: 10 }}\r\n                        onClick={handlResetFilter}\r\n                    >\r\n                        Reset\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { Fragment, useCallback, useEffect, useState } from \"react\";\r\nimport StyleListRole from \"./index.style\";\r\nimport { Table, Space, Modal, notification } from \"antd\";\r\nimport { getListRoles, deleteRole } from \"../../store/services\";\r\nimport ModalRole from \"./ModalRole\";\r\nimport moment from \"moment\";\r\nimport Filter from \"./Filter\";\r\n\r\nconst ListRole = () => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [filter, setFilter] = useState({ page_size: 20, page_id: 0 });\r\n    const [listRole, setListRole] = useState([]);\r\n    const [meta, setMeta] = useState([]);\r\n    const [roleId, setRoleId] = useState(\"\");\r\n    const [mode, setMode] = useState(\"\");\r\n\r\n    const fetchListRole = useCallback(async () => {\r\n        const res = await getListRoles(filter);\r\n        if (res.status === \"successful\") {\r\n            setMeta(res.meta);\r\n            setListRole(res.result);\r\n        } else {\r\n            setMeta({ page_size: 20, page_id: 0 });\r\n            setListRole([]);\r\n            notification.error({\r\n                message: \"Lỗi\",\r\n                description:\r\n                    res.message && res.message !== \"\"\r\n                        ? res.message\r\n                        : \"Có lỗi. Vui lòng thử lại!\",\r\n            });\r\n        }\r\n    }, [filter]);\r\n\r\n    useEffect(() => {\r\n        fetchListRole();\r\n    }, [fetchListRole]);\r\n\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setRoleId(\"\");\r\n        }\r\n    }, [visible]);\r\n\r\n    const handleDelete = async (role) => {\r\n        Modal.confirm({\r\n            title: \"Xác nhận?\",\r\n            content: \"Bạn có thực sự muốn xóa chức vụ này\",\r\n            okText: \"Xác nhận\",\r\n            cancelText: \"Hủy\",\r\n            onOk() {\r\n                const res = new Promise((resolve, reject) => {\r\n                    resolve(deleteRole(role.id));\r\n                }).catch(() => console.log(\"Oops errors!\"));\r\n                Promise.resolve(res).then((e) => {\r\n                    if (e.status == \"successful\") {\r\n                        notification.success({\r\n                            message: \"Thành công\",\r\n                            description: \"Xóa chức vụ thành công\",\r\n                        });\r\n                        fetchListRole();\r\n                    } else {\r\n                        notification.error({\r\n                            message: \"Lỗi\",\r\n                            description: e.message,\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            onCancel() {},\r\n        });\r\n    };\r\n\r\n    const columns = [\r\n        {\r\n            title: \"#\",\r\n            render: (text, record, index) => <a onClick={() => handleView(record)}>{index + 1}</a>,\r\n        },\r\n        {\r\n            title: \"Tên\",\r\n            dataIndex: \"name\",\r\n            key: \"name\",\r\n            render: (text, record) => <a onClick={() => handleView(record)}>{text}</a>,\r\n        },\r\n        { title: \"Mô tả\", dataIndex: \"description\", key: \"description\" },\r\n        { title: \"Mã chức vụ\", dataIndex: \"code\", key: \"code\" },\r\n        { title: \"Xếp hạng\", dataIndex: \"ranking\", key: \"ranking\" },\r\n        {\r\n            title: \"Ngày tạo\",\r\n            dataIndex: \"created_at\",\r\n            key: \"created_at\",\r\n            render: (text) => <p>{moment(text).format(\"mm:hh DD-MM-YYYY\")}</p>,\r\n        },\r\n        {\r\n            title: \"Hành động\",\r\n            key: \"action\",\r\n            render: (text, record) => (\r\n                <Fragment>\r\n                    <Space size=\"middle\" style={{ marginRight: 10 }}>\r\n                        <a onClick={() => handleEdit(record)}>Sửa</a>\r\n                    </Space>\r\n                    <Space size=\"middle\">\r\n                        <a onClick={() => handleDelete(record)}>Xóa</a>\r\n                    </Space>\r\n                </Fragment>\r\n            ),\r\n            width: \"10%\",\r\n        },\r\n    ];\r\n\r\n    const changePagination = (value, pageSize) => {\r\n        setFilter({ ...filter, page_id: value - 1, page_size: pageSize });\r\n    };\r\n\r\n    const handleEdit = (record) => {\r\n        setVisible(true);\r\n        setMode(\"update\");\r\n        setRoleId(record.id);\r\n    };\r\n\r\n    const handleView = (record) => {\r\n        setVisible(true);\r\n        setMode(\"detail\");\r\n        setRoleId(record.id);\r\n    };\r\n\r\n    return (\r\n        <StyleListRole>\r\n            <Filter\r\n                setFilter={setFilter}\r\n                setVisible={setVisible}\r\n                filter={filter}\r\n                setMode={setMode}\r\n            />\r\n            <Table\r\n                rowKey=\"id\"\r\n                columns={columns}\r\n                pagination={{\r\n                    total: meta.total_count,\r\n                    pageSize: meta.page_size,\r\n                    onChange: changePagination,\r\n                }}\r\n                dataSource={listRole}\r\n            />\r\n            <ModalRole\r\n                mode={mode}\r\n                setMode={setMode}\r\n                visible={visible}\r\n                roleId={roleId}\r\n                setVisible={setVisible}\r\n                fetchListRole={fetchListRole}\r\n            />\r\n        </StyleListRole>\r\n    );\r\n};\r\nexport default ListRole;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleListPermission = styled.div`\r\n    .input-box {\r\n        border-radius: 5px;\r\n    }\r\n    .select-box {\r\n        border-radius: 5px;\r\n    }\r\n`;\r\nexport default StyleListPermission;\r\n","import { Form, Input, Modal, Row, notification, Select, DatePicker } from \"antd\";\r\nimport { getPermission, createPermission, updatePermission } from \"../../store/services\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nconst { Option } = Select;\r\n\r\nconst ModalPermission = ({ permissionId, setVisible, visible, fetchListPermission, mode, setMode }) => {\r\n    const [permission, setPermission] = useState({});\r\n    const [message, setMessage] = useState({});\r\n    const [title, setTitle] = useState(\"\");\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setPermission({\r\n                type: \"Chưa xác định\",\r\n            });\r\n        }\r\n    }, [visible]);\r\n\r\n    useEffect(() => {\r\n        if (mode == \"create\") {\r\n            setTitle(\"Thêm mới quyền\");\r\n        } else if (mode == \"update\") {\r\n            setTitle(\"Cập nhật quyền\");\r\n        } else {\r\n            setTitle(\"Thông tin quyền\");\r\n        }\r\n    }, [mode]);\r\n\r\n    const fetchPermission = useCallback(async () => {\r\n        try {\r\n            const res = await getPermission(permissionId);\r\n            if (res.status === \"successful\") {\r\n                setPermission(res.result);\r\n            }\r\n        } catch (error) {}\r\n    }, [permissionId]);\r\n\r\n    useEffect(() => {\r\n        if (permissionId) {\r\n            fetchPermission();\r\n        } else {\r\n            setPermission({});\r\n        }\r\n    }, [fetchPermission, setPermission]);\r\n\r\n    const handleSave = async () => {\r\n        var res = {};\r\n        if (!validateData()) {\r\n            return;\r\n        }\r\n        const dataRole = buildUserData();\r\n        var description = \"\";\r\n        if (permissionId && permissionId != \"\") {\r\n            dataRole.id = permissionId;\r\n            res = await updatePermission(dataRole);\r\n            description = \"Cập nhật thành công!\";\r\n        } else {\r\n            res = await createPermission(dataRole);\r\n            description = \"Tạo mới thành công!\";\r\n        }\r\n        if (res.status === \"successful\") {\r\n            fetchListPermission();\r\n            notification.success({\r\n                message: \"Thành công\",\r\n                description: description,\r\n            });\r\n            handleCloseModal();\r\n        } else {\r\n            var errorMessage = \"\";\r\n            if (res.message && res.message != \"\") {\r\n                errorMessage = res.message;\r\n            } else {\r\n                errorMessage = res.result;\r\n            }\r\n            notification.error({\r\n                message: \"\",\r\n                description: errorMessage,\r\n            });\r\n        }\r\n    };\r\n\r\n    const validateData = useCallback(() => {\r\n        var retval = true;\r\n        if (typeof permission.name === \"undefined\" || permission.name === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập tên!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof permission.description === \"undefined\" || permission.description === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập mô tả!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        if (typeof permission.resource === \"undefined\" || permission.resource === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng nhập tài nguyên!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        return retval;\r\n    });\r\n\r\n    const buildUserData = () => {\r\n        var data = {};\r\n        var columns = [\"name\", \"description\", \"resource\"];\r\n        columns.forEach((element) => {\r\n            if (permission[element] && permission[element] != \"\") {\r\n                data[element] = permission[element];\r\n            }\r\n        });\r\n        return data;\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setPermission({});\r\n        setMode(\"\");\r\n        setVisible(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (message && message != \"\") {\r\n            if (message.type == \"error\") {\r\n                notification.error({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"warning\") {\r\n                notification.warning({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"success\") {\r\n                notification.success({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n        }\r\n    }, [message]);\r\n\r\n    return (\r\n        <Modal visible={visible} title={title} onOk={handleSave} onCancel={handleCloseModal} okText='Lưu' cancelText='Hủy'>\r\n            <Form>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='name' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>\r\n                            Tên <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            placeholder='Tên'\r\n                            value={permission?.name}\r\n                            onChange={(e) =>\r\n                                setPermission({\r\n                                    ...permission,\r\n                                    name: e.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item name='username' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>\r\n                            Mô tả <span style={{ color: \"red\" }}>*</span>\r\n                        </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            type='text'\r\n                            placeholder='Mô tả'\r\n                            value={permission?.description}\r\n                            onChange={(e) =>\r\n                                setPermission({\r\n                                    ...permission,\r\n                                    description: e.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='permission' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>Mã quyền </label>\r\n                        <Input\r\n                            disabled={mode == \"detail\"}\r\n                            className='input-box'\r\n                            type='text'\r\n                            placeholder='Tài nguyên'\r\n                            value={permission?.resource}\r\n                            onChange={(e) =>\r\n                                setPermission({\r\n                                    ...permission,\r\n                                    resource: e.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Form.Item>\r\n                    {mode == \"detail\" && (\r\n                        <Form.Item name='permission' style={{ width: \"45%\" }}>\r\n                            <label htmlFor=''>Ngày tạo </label>\r\n                            <DatePicker disabled={mode == \"detail\"} value={permission.created_at ? moment(permission?.created_at, \"YYYY-MM-DD\") : \"\"} style={{ width: \"100%\" }} format={\"YYYY-MM-DD\"} />\r\n                        </Form.Item>\r\n                    )}\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ModalPermission;\r\n","import React, { Fragment } from \"react\";\r\nimport { Col, Input, Row, Button, Select } from \"antd\";\r\nimport { FolderAddOutlined } from \"@ant-design/icons\";\r\n\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\n\r\nconst Filter = ({ filter, setFilter, setVisible, setMode }) => {\r\n\r\n    const handlResetFilter = () => {\r\n        setFilter({\r\n            page_id: 0,\r\n            page_size: 20,\r\n            search: \"\",\r\n        });\r\n    };\r\n\r\n    const handleCreate = () => {\r\n        setMode(\"create\");\r\n        setVisible(true);\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={12}>Danh sách quyền</Col>\r\n                <Col flex=\"right\" span={2} offset={10}>\r\n                    <Button\r\n                        block\r\n                        type=\"primary\"\r\n                        onClick={() => handleCreate()}\r\n                        style={{ width: 200, float: \"right\" }}\r\n                    >\r\n                        <FolderAddOutlined />\r\n                        Thêm quyền\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={8}>\r\n                    <Search\r\n                        placeholder=\"Tìm kiếm\"\r\n                        onChange={(e) =>\r\n                            setFilter({\r\n                                ...filter,\r\n                                search: e.target.value,\r\n                                page_id: 0,\r\n                            })\r\n                        }\r\n                    />\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={8}></Col>\r\n            </Row>\r\n            <Row>\r\n                <Col span={2} style={{ display: \"flex\", margin: \"0 auto\" }}>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        block\r\n                        style={{ marginBottom: 10 }}\r\n                        onClick={handlResetFilter}\r\n                    >\r\n                        Reset\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { Fragment, useCallback, useEffect, useState } from \"react\";\r\nimport StyleListPermission from \"./index.style\";\r\nimport { Table, Space, Modal, notification } from \"antd\";\r\nimport { getListPermissions, deletePermission } from \"../../store/services\";\r\nimport ModalPermission from \"./ModalPermission\";\r\nimport moment from \"moment\";\r\nimport Filter from \"./Filter\";\r\n\r\nconst ListRole = () => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [filter, setFilter] = useState({ page_size: 20, page_id: 0 });\r\n    const [listPermission, setListPermission] = useState([]);\r\n    const [meta, setMeta] = useState([]);\r\n    const [permissionId, setPermissionId] = useState(\"\");\r\n    const [mode, setMode] = useState(\"\");\r\n\r\n    const fetchListPermission = useCallback(async () => {\r\n        const res = await getListPermissions(filter);\r\n        if (res.status === \"successful\") {\r\n            setMeta(res.meta);\r\n            setListPermission(res.result);\r\n        } else {\r\n            setMeta({ page_size: 20, page_id: 0 });\r\n            setListPermission([]);\r\n            notification.error({\r\n                message: \"Lỗi\",\r\n                description:\r\n                    res.message && res.message !== \"\"\r\n                        ? res.message\r\n                        : \"Có lỗi. Vui lòng thử lại!\",\r\n            });\r\n        }\r\n    }, [filter]);\r\n\r\n    useEffect(() => {\r\n        fetchListPermission();\r\n    }, [fetchListPermission]);\r\n\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setPermissionId(\"\");\r\n        }\r\n    }, [visible]);\r\n\r\n    const handleDelete = async (role) => {\r\n        Modal.confirm({\r\n            title: \"Xác nhận?\",\r\n            content: \"Bạn có thực sự muốn xóa quyền này\",\r\n            okText: \"Xác nhận\",\r\n            cancelText: \"Hủy\",\r\n            onOk() {\r\n                const res = new Promise((resolve, reject) => {\r\n                    resolve(deletePermission(role.id));\r\n                }).catch(() => console.log(\"Oops errors!\"));\r\n                Promise.resolve(res).then((e) => {\r\n                    if (e.status == \"successful\") {\r\n                        notification.success({\r\n                            message: \"Thành công\",\r\n                            description: \"Xóa quyền thành công\",\r\n                        });\r\n                        fetchListPermission();\r\n                    } else {\r\n                        notification.error({\r\n                            message: \"Lỗi\",\r\n                            description: e.message,\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            onCancel() {},\r\n        });\r\n    };\r\n\r\n    const columns = [\r\n        {\r\n            title: \"#\",\r\n            render: (text, record, index) => <a onClick={() => handleView(record)}>{index + 1}</a>,\r\n        },\r\n        {\r\n            title: \"Tên\",\r\n            dataIndex: \"name\",\r\n            key: \"name\",\r\n            render: (text, record) => <a onClick={() => handleView(record)}>{text}</a>,\r\n        },\r\n        { title: \"Mô tả\", dataIndex: \"description\", key: \"description\" },\r\n        { title: \"Tài nguyên\", dataIndex: \"resource\", key: \"resource\" },\r\n        {\r\n            title: \"Ngày tạo\",\r\n            dataIndex: \"created_at\",\r\n            key: \"created_at\",\r\n            render: (text) => <p>{moment(text).format(\"mm:hh DD-MM-YYYY\")}</p>,\r\n        },\r\n        {\r\n            title: \"Hành động\",\r\n            key: \"action\",\r\n            render: (text, record) => (\r\n                <Fragment>\r\n                    <Space size=\"middle\" style={{ marginRight: 10 }}>\r\n                        <a onClick={() => handleEdit(record)}>Sửa</a>\r\n                    </Space>\r\n                    <Space size=\"middle\">\r\n                        <a onClick={() => handleDelete(record)}>Xóa</a>\r\n                    </Space>\r\n                </Fragment>\r\n            ),\r\n            width: \"10%\",\r\n        },\r\n    ];\r\n\r\n    const changePagination = (value, pageSize) => {\r\n        setFilter({ ...filter, page_id: value - 1, page_size: pageSize });\r\n    };\r\n\r\n    const handleEdit = (record) => {\r\n        setVisible(true);\r\n        setMode(\"update\");\r\n        setPermissionId(record.id);\r\n    };\r\n\r\n    const handleView = (record) => {\r\n        setVisible(true);\r\n        setMode(\"detail\");\r\n        setPermissionId(record.id);\r\n    };\r\n\r\n    return (\r\n        <StyleListPermission>\r\n            <Filter\r\n                setFilter={setFilter}\r\n                setVisible={setVisible}\r\n                filter={filter}\r\n                setMode={setMode}\r\n            />\r\n            <Table\r\n                rowKey=\"id\"\r\n                columns={columns}\r\n                pagination={{\r\n                    total: meta.total_count,\r\n                    pageSize: meta.page_size,\r\n                    onChange: changePagination,\r\n                }}\r\n                dataSource={listPermission}\r\n            />\r\n            <ModalPermission\r\n                mode={mode}\r\n                setMode={setMode}\r\n                visible={visible}\r\n                permissionId={permissionId}\r\n                setVisible={setVisible}\r\n                fetchListPermission={fetchListPermission}\r\n            />\r\n        </StyleListPermission>\r\n    );\r\n};\r\nexport default ListRole;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleListPermission = styled.div`\r\n    .input-box {\r\n        border-radius: 5px;\r\n    }\r\n    .select-box {\r\n        border-radius: 5px;\r\n    }\r\n`;\r\nexport default StyleListPermission;\r\n","import { Form, Input, Modal, Row, notification, Select, DatePicker } from \"antd\";\r\nimport { getRolePermission, updateRolePermission } from \"../../store/services\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nconst { Option } = Select;\r\nexport const accesses = [\r\n    {\r\n        name: \"Truy cập\",\r\n        code: \"ACTIVE\",\r\n    },\r\n    {\r\n        name: \"Vô hiệu hóa\",\r\n        code: \"INACTIVE\",\r\n    },\r\n];\r\n\r\nconst ModalRolePermission = ({ rolePermissionId, setVisible, visible, fetchListRolePermission, mode, setMode, listPermissions, listRoles }) => {\r\n    const [rolePermission, setRolePermission] = useState({});\r\n    const [message, setMessage] = useState({});\r\n    const [title, setTitle] = useState(\"\");\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setRolePermission({\r\n                type: \"Chưa xác định\",\r\n            });\r\n        }\r\n    }, [visible]);\r\n\r\n    useEffect(() => {\r\n        if (mode == \"update\") {\r\n            setTitle(\"Cập nhật\");\r\n        } else {\r\n            setTitle(\"Thông tin chi tiết\");\r\n        }\r\n    }, [mode]);\r\n\r\n    const fetchRolePermission = useCallback(async () => {\r\n        try {\r\n            const res = await getRolePermission(rolePermissionId);\r\n            if (res.status === \"successful\") {\r\n                setRolePermission(res.result);\r\n            }\r\n        } catch (error) {}\r\n    }, [rolePermissionId]);\r\n\r\n    useEffect(() => {\r\n        if (rolePermissionId) {\r\n            fetchRolePermission();\r\n        } else {\r\n            setRolePermission({});\r\n        }\r\n    }, [fetchRolePermission, setRolePermission]);\r\n\r\n    const handleSave = async () => {\r\n        var res = {};\r\n        if (!validateData()) {\r\n            return;\r\n        }\r\n        const dataRolePermission = buildUserData();\r\n        var description = \"\";\r\n        if (rolePermissionId && rolePermissionId != \"\") {\r\n            dataRolePermission.id = rolePermissionId;\r\n            res = await updateRolePermission(dataRolePermission);\r\n            description = \"Cập nhật thành công!\";\r\n        }\r\n        if (res.status === \"successful\") {\r\n            fetchListRolePermission();\r\n            notification.success({\r\n                message: \"Thành công\",\r\n                description: description,\r\n            });\r\n            handleCloseModal();\r\n        } else {\r\n            var errorMessage = \"\";\r\n            if (res.message && res.message != \"\") {\r\n                errorMessage = res.message;\r\n            } else {\r\n                errorMessage = res.result;\r\n            }\r\n            notification.error({\r\n                message: \"\",\r\n                description: errorMessage,\r\n            });\r\n        }\r\n    };\r\n\r\n    const validateData = useCallback(() => {\r\n        var retval = true;\r\n        if (typeof rolePermission.access === \"undefined\" || rolePermission.access === \"\") {\r\n            retval = false;\r\n            setMessage({\r\n                value: \"Vui lòng chọn trạng thái truy cập!\",\r\n                type: \"error\",\r\n                title: \"Lỗi\",\r\n            });\r\n            return retval;\r\n        }\r\n        return retval;\r\n    });\r\n\r\n    const renderSelectAccess = () => (\r\n        <Select\r\n            disabled={mode == \"detail\"}\r\n            className='select-box'\r\n            value={rolePermission?.access}\r\n            onChange={(value) => setRolePermission({ ...rolePermission, access: value })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"100%\" }}>\r\n            {accesses.map((access, index) => {\r\n                return (\r\n                    <Option key={index} value={access.code}>\r\n                        {access.name}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectRole = () => (\r\n        <Select\r\n            disabled={true}\r\n            className='select-box'\r\n            value={rolePermission ? rolePermission.role_id : \"Chưa xác định\"}\r\n            onChange={(value) => setRolePermission({ ...rolePermission, role: value })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"100%\" }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {listRoles && listRoles.map((role, index) => {\r\n                return (\r\n                    <Option key={index} value={role.id}>\r\n                        {role.code}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectPermission = () => (\r\n        <Select\r\n            disabled={true}\r\n            className='select-box'\r\n            value={rolePermission ? rolePermission.permission_id : \"Chưa xác định\"}\r\n            onChange={(value) => setRolePermission({ ...rolePermission, permission: value })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"100%\" }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {listPermissions && listPermissions.map((permission, index) => {\r\n                return (\r\n                    <Option key={index} value={permission.id}>\r\n                        {permission.resource}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const buildUserData = () => {\r\n        var data = {};\r\n        if (rolePermission.access) {\r\n            data[\"access\"] = rolePermission.access;\r\n        }\r\n        return data;\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setRolePermission({});\r\n        setMode(\"\");\r\n        setVisible(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (message && message != \"\") {\r\n            if (message.type == \"error\") {\r\n                notification.error({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"warning\") {\r\n                notification.warning({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n            if (message.type == \"success\") {\r\n                notification.success({\r\n                    message: message.title,\r\n                    description: message.value,\r\n                });\r\n            }\r\n        }\r\n    }, [message]);\r\n\r\n    return (\r\n        <Modal visible={visible} title={title} onOk={handleSave} onCancel={handleCloseModal} okText='Lưu' cancelText='Hủy'>\r\n            <Form>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='name' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>Chức vụ </label>\r\n                        {renderSelectRole()}\r\n                    </Form.Item>\r\n                    <Form.Item name='permission' style={{ width: \"45%\" }}>\r\n                        <label htmlFor=''>Quyền </label>\r\n                        {renderSelectPermission()}\r\n                    </Form.Item>\r\n                </Row>\r\n                <Row gutter={[16, 16]}>\r\n                    <Form.Item name='status' style={{ width: \"45%\", marginRight: 10 }}>\r\n                        <label htmlFor=''>Trạng thái truy cập </label>\r\n                        {renderSelectAccess()}\r\n                    </Form.Item>\r\n                    {mode == \"detail\" && (\r\n                        <Form.Item name='rolePermission' style={{ width: \"45%\" }}>\r\n                            <label htmlFor=''>Ngày tạo </label>\r\n                            <DatePicker\r\n                                disabled={mode == \"detail\"}\r\n                                value={rolePermission.created_at ? moment(rolePermission?.created_at, \"YYYY-MM-DD\") : \"\"}\r\n                                style={{ width: \"100%\" }}\r\n                                format={\"YYYY-MM-DD\"}\r\n                            />\r\n                        </Form.Item>\r\n                    )}\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ModalRolePermission;\r\n","import React, { Fragment } from \"react\";\r\nimport { Col, Input, Row, Button, Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\nconst { Search } = Input;\r\n\r\nconst Filter = ({ filter, setFilter, listPermissions, listRoles }) => {\r\n\r\n    const handlResetFilter = () => {\r\n        setFilter({\r\n            page_id: 0,\r\n            page_size: 20,\r\n            search: \"\",\r\n            role_id: 'Chưa xác định',\r\n            permission_id: 'Chưa xác định',\r\n        });\r\n    };\r\n\r\n    const renderSelectRole = () => (\r\n        <Select\r\n            className='select-box'\r\n            value={filter ? filter.role_id : \"Chưa xác định\"}\r\n            onChange={(value) => setFilter({ ...filter, role_id: value })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"100%\" }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {listRoles && listRoles.map((role, index) => {\r\n                return (\r\n                    <Option key={index} value={role.id}>\r\n                        {role.code}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    const renderSelectPermission = () => (\r\n        <Select\r\n            className='select-box'\r\n            value={filter ? filter.permission_id : \"Chưa xác định\"}\r\n            onChange={(value) => setFilter({ ...filter, permission_id: value })}\r\n            defaultValue='Chưa xác định'\r\n            style={{ width: \"100%\" }}>\r\n            <Option key={-1} value='Chưa xác định'>\r\n                Chưa xác định\r\n            </Option>\r\n            {listPermissions && listPermissions.map((permission, index) => {\r\n                return (\r\n                    <Option key={index} value={permission.id}>\r\n                        {permission.resource}\r\n                    </Option>\r\n                );\r\n            })}\r\n        </Select>\r\n    );\r\n\r\n    return (\r\n        <Fragment>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={12}>Danh sách quyền theo chức năng</Col>\r\n                <Col flex=\"right\" span={2} offset={10}>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor=\"\" style={{ width: \"20%\" }}>\r\n                        Chức vụ\r\n                    </label>\r\n                    {renderSelectRole()}\r\n                </Col>\r\n                <Col span={7} style={{ display: \"flex\" }}>\r\n                    <label htmlFor=\"\" style={{ width: \"20%\" }}>\r\n                        Quyền\r\n                    </label>\r\n                    {renderSelectPermission()}\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={[16, 16]}>\r\n                <Col span={8}></Col>\r\n            </Row>\r\n            <Row>\r\n                <Col span={2} style={{ display: \"flex\", margin: \"0 auto\" }}>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        block\r\n                        style={{ marginBottom: 10 }}\r\n                        onClick={handlResetFilter}\r\n                    >\r\n                        Reset\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { Fragment, useCallback, useEffect, useState } from \"react\";\r\nimport StyleListPermission from \"./index.style\";\r\nimport { Table, Space, Modal, notification, Tag } from \"antd\";\r\nimport { getAllPermissions, getAllRoles, getListRolePermissions } from \"../../store/services\";\r\nimport ModalRolePermission from \"./ModalRolePermission\";\r\nimport moment from \"moment\";\r\nimport Filter from \"./Filter\";\r\n\r\nconst ListRole = () => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [filter, setFilter] = useState({ page_size: 20, page_id: 0 });\r\n    const [listRolePermission, setListRolePermission] = useState([]);\r\n    const [meta, setMeta] = useState([]);\r\n    const [rolePermissionId, setRolePermissionId] = useState(\"\");\r\n    const [mode, setMode] = useState(\"\");\r\n    const [listRoles, setListRoles] = useState([]);\r\n    const [listPermissions, setListPermissions] = useState([]);\r\n\r\n    const fetchRoles = async () => {\r\n        const res = await getAllRoles();\r\n        setListRoles(res.result);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchRoles();\r\n    }, []);\r\n\r\n    const fetchPermissions = async () => {\r\n        const res = await getAllPermissions();\r\n        setListPermissions(res.result);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchPermissions();\r\n    }, []);\r\n\r\n    const fetchListRolePermission = useCallback(async () => {\r\n        const res = await getListRolePermissions(filter);\r\n        if (res.status === \"successful\") {\r\n            setMeta(res.meta);\r\n            setListRolePermission(res.result);\r\n        } else {\r\n            setMeta({ page_size: 20, page_id: 0 });\r\n            setListRolePermission([]);\r\n            notification.error({\r\n                message: \"Lỗi\",\r\n                description: res.message && res.message !== \"\" ? res.message : \"Có lỗi. Vui lòng thử lại!\",\r\n            });\r\n        }\r\n    }, [filter]);\r\n\r\n    useEffect(() => {\r\n        fetchListRolePermission();\r\n    }, [fetchListRolePermission]);\r\n\r\n    useEffect(() => {\r\n        if (!visible) {\r\n            setRolePermissionId(\"\");\r\n        }\r\n    }, [visible]);\r\n\r\n    const columns = [\r\n        {\r\n            title: \"#\",\r\n            render: (text, record, index) => <a onClick={() => handleView(record)}>{index + 1}</a>,\r\n        },\r\n        {\r\n            title: \"Chức vụ\",\r\n            dataIndex: \"role\",\r\n            key: \"role\",\r\n            render: (role) => <div>{role ? role.code : \"\"}</div>,\r\n        },\r\n        {\r\n            title: \"Quyền\",\r\n            dataIndex: \"permission\",\r\n            key: \"permission\",\r\n            render: (permission) => <div>{permission ? permission.resource : \"\"}</div>,\r\n        },\r\n        {\r\n            title: \"Truy cập\",\r\n            dataIndex: \"access\",\r\n            key: \"access\",\r\n            render: (type) => (\r\n                <Tag color={type == \"ACTIVE\" ? \"green\" : \"purple\"} key={type}>\r\n                    {type}\r\n                </Tag>\r\n            ),\r\n        },\r\n        {\r\n            title: \"Ngày tạo\",\r\n            dataIndex: \"created_at\",\r\n            key: \"created_at\",\r\n            render: (text) => <p>{moment(text).format(\"mm:hh DD-MM-YYYY\")}</p>,\r\n        },\r\n        {\r\n            title: \"Hành động\",\r\n            key: \"action\",\r\n            render: (text, record) => (\r\n                <Fragment>\r\n                    <Space size='middle' style={{ marginRight: 10 }}>\r\n                        <a onClick={() => handleEdit(record)}>Sửa</a>\r\n                    </Space>\r\n                </Fragment>\r\n            ),\r\n            width: \"10%\",\r\n        },\r\n    ];\r\n\r\n    const changePagination = (value, pageSize) => {\r\n        setFilter({ ...filter, page_id: value - 1, page_size: pageSize });\r\n    };\r\n\r\n    const handleEdit = (record) => {\r\n        setVisible(true);\r\n        setMode(\"update\");\r\n        setRolePermissionId(record.id);\r\n    };\r\n\r\n    const handleView = (record) => {\r\n        setVisible(true);\r\n        setMode(\"detail\");\r\n        setRolePermissionId(record.id);\r\n    };\r\n\r\n    return (\r\n        <StyleListPermission>\r\n            <Filter setFilter={setFilter} setVisible={setVisible} filter={filter} setMode={setMode} listPermissions={listPermissions} listRoles={listRoles} />\r\n            <Table\r\n                rowKey='id'\r\n                columns={columns}\r\n                pagination={{\r\n                    total: meta.total_count,\r\n                    pageSize: meta.page_size,\r\n                    onChange: changePagination,\r\n                }}\r\n                dataSource={listRolePermission}\r\n            />\r\n            <ModalRolePermission\r\n                mode={mode}\r\n                setMode={setMode}\r\n                visible={visible}\r\n                rolePermissionId={rolePermissionId}\r\n                setVisible={setVisible}\r\n                fetchListRolePermission={fetchListRolePermission}\r\n                listRoles={listRoles}\r\n                listPermissions={listPermissions}\r\n            />\r\n        </StyleListPermission>\r\n    );\r\n};\r\nexport default ListRole;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div``;\r\n\r\nexport const StyleSpinContainer = styled.div`\r\n    width: 100%;\r\n    min-height: 300px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;","import styled from 'styled-components';\r\n\r\nexport const StyleTitle = styled.div`\r\n  font-size: 1.2em;\r\n  font-weight: 500;\r\n  color: #000000;\r\n  margin: 0 0 12px;\r\n`;\r\n\r\nexport const StyleSeparator = styled.div`\r\n  height: ${(props) => props.height || 16}px;\r\n`;\r\n\r\nexport const StyleTable = styled.div`\r\n  .ant-table-cell {\r\n    padding: 8px;\r\n  }\r\n`;\r\n\r\nexport const StyleSearchForm = styled.div`\r\n  padding: 16px;\r\n  background: rgba(0, 0, 0, 0.015);\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 2px;\r\n  .ant-form-item {\r\n    display: flex;\r\n  }\r\n  .ant-form-item-control-wrapper {\r\n    flex: 1;\r\n  }\r\n`;\r\n","import moment from 'moment';\r\nimport { DATE_TIME_FORMAT } from '../../../../configs';\r\n\r\nexport const covertMomentToDate = (dateMoment) => {\r\n  return new Date(moment(dateMoment).valueOf());\r\n};\r\n\r\nexport const convertTimeRangeToData = (timeRange) => {\r\n  return {\r\n    startTime: covertMomentToDate(timeRange[0]),\r\n    endTime: covertMomentToDate(timeRange[1]),\r\n  };\r\n};\r\n\r\nexport const convertDateToTimeRange = ({ startTime, endTime }) => {\r\n  return [\r\n    moment(startTime, DATE_TIME_FORMAT),\r\n    moment(endTime, DATE_TIME_FORMAT),\r\n  ];\r\n};\r\n\r\nexport const convertInitialDataToFieldValues = (data) => {\r\n  \r\n  const { startTime, endTime, monitoredZone, monitoredObjects } = data;\r\n  if (startTime && endTime) {\r\n    const timeRange = convertDateToTimeRange({ startTime, endTime });\r\n    data.timeRange = timeRange;\r\n    delete data.startTime;\r\n    delete data.endTime;\r\n  }\r\n\r\n  if (monitoredZone) {\r\n    data.monitoredZone = data.monitoredZone._id;\r\n  }\r\n\r\n  if (monitoredObjects) {\r\n    data.monitoredObjects = data.monitoredObjects.map((element) => {\r\n      return element.content._id;\r\n    });\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\nexport const convertFieldValuesToDataSubmit = (fieldValues) => {\r\n  let dataSubmit = { ...fieldValues };\r\n\r\n  const { timeRange } = dataSubmit;\r\n  if (timeRange) {\r\n    const timeRangeDate = convertTimeRangeToData(timeRange);\r\n    dataSubmit = { ...dataSubmit, ...timeRangeDate };\r\n    delete dataSubmit.timeRange;\r\n  }\r\n  return dataSubmit;\r\n};\r\n\r\nexport const formatMomentDateToDateTimeString = (momentDate) => {\r\n  return moment(momentDate).format(DATE_TIME_FORMAT);\r\n};\r\n\r\nexport const randomDateTime = (start, end) => {\r\n  const diff = end.getTime() - start.getTime();\r\n  const newDiff = Math.round(diff * Math.random());\r\n  const date = new Date(start.getTime() + newDiff);\r\n  return date;\r\n};\r\n","import axios from 'axios';\r\nimport { API_DOMAIN, REQUEST_TIMEOUT } from '../configs';\r\n\r\nconst instance = axios.create({\r\n  baseURL: API_DOMAIN,\r\n  responseType: 'json',\r\n  timeout: REQUEST_TIMEOUT,\r\n});\r\n\r\ninstance.interceptors.request.use(async (config) => {\r\n  const token = localStorage.getItem('token');\r\n  const projectType = localStorage.getItem('project-type');\r\n\r\n  // eslint-disable-next-line no-param-reassign\r\n  config.headers.Authorization = `Bearer ${token}`;\r\n  config.headers.projectType = projectType;\r\n  return config;\r\n});\r\n\r\nexport default instance;\r\n","import axiosInstance from './api';\r\n\r\nconst createMonitorCampaign = async (data) => {\r\n  const result = await axiosInstance({\r\n    method: 'POST',\r\n    url: `/api/monitor-campaigns`,\r\n    data,\r\n  });\r\n  return result;\r\n};\r\n\r\nconst getListMonitorCampaigns = async (params) => {\r\n  const result = await axiosInstance({\r\n    method: 'GET',\r\n    url: `/api/monitor-campaigns`,\r\n    params,\r\n  });\r\n  return result;\r\n};\r\n\r\nconst getMonitorCampaign = async (monitorCampaignId) => {\r\n  const result = await axiosInstance({\r\n    method: 'GET',\r\n    url: `/api/monitor-campaigns/${monitorCampaignId}`,\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nconst updateMonitorCampaign = async (data) => {\r\n  const result = await axiosInstance({\r\n    method: 'PATCH',\r\n    url: `/api/monitor-campaigns`,\r\n    data,\r\n  });\r\n  return result;\r\n};\r\nconst deleteMonitorCampaign = async (monitorCampaignId) => {\r\n  const result = await axiosInstance({\r\n    method: 'DELETE',\r\n    url: `/api/monitor-campaigns`,\r\n    data: { _id: monitorCampaignId },\r\n  });\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  createMonitorCampaign,\r\n  getListMonitorCampaigns,\r\n  getMonitorCampaign,\r\n  updateMonitorCampaign,\r\n  deleteMonitorCampaign,\r\n};\r\n","import axiosInstance from './api';\r\n\r\nexport const addLabelApi = async (data) => {\r\n  const result = await axiosInstance({\r\n    method: 'POST',\r\n    url: '/api/labels',\r\n    data,\r\n  });\r\n\r\n  return {\r\n    status: result.data.status,\r\n    result: result.data.result.otherLabel,\r\n  };\r\n  // return {\r\n  //   status: 1,\r\n  //   result: {\r\n  //     id: Math.floor(Math.random() * 1000000000),\r\n  //     name: 'Độ ẩm',\r\n  //     description: 'Độ ẩm của không khí',\r\n  //     isDefault: true,\r\n  //     createdAt: Date.now(),\r\n  //     updatedAt: Date.now(),\r\n  //     ...data,\r\n  //   },\r\n  // };\r\n};\r\n\r\nexport const getListLabelsApi = async () => {\r\n  const result = await axiosInstance({\r\n    method: 'GET',\r\n    url: '/api/labels',\r\n  });\r\n\r\n  return {\r\n    status: result.data.status,\r\n    result: result.data.result.labels,\r\n  };\r\n\r\n  // return {\r\n  //   status: 1,\r\n  //   result: [\r\n  //     {\r\n  //       id: '1234123124124',\r\n  //       name: 'Tập huấn',\r\n  //       description: 'Đợt tập huấn phòng cháy chữa cháy',\r\n  //       createdAt: '2020-08-24 09:16:06.051Z',\r\n  //       updatedAt: '2020-08-25 09:16:06.051Z',\r\n  //     },\r\n  //     {\r\n  //       id: '156546465465321',\r\n  //       name: 'Cao điểm mùa nóng',\r\n  //       description: 'Đợt giám sát cao điểm trong mùa nắng nóng',\r\n  //       createdAt: '2020-08-24 09:16:06.051Z',\r\n  //       updatedAt: '2020-08-25 09:16:06.051Z',\r\n  //     },\r\n  //   ],\r\n  // };\r\n};\r\n\r\n// export const getLabelDetailsApi = async id => {\r\n//   const result = await axiosInstance({\r\n//     method: 'GET',\r\n//     url: `/labels/${id}`,\r\n//   });\r\n\r\n//   return result;\r\n// };\r\n\r\nexport const updateLabelApi = async (data) => {\r\n  // const result = await axiosInstance({\r\n  //   method: 'PUT',\r\n  //   url: `/labels/${id}`,\r\n  //   data\r\n  // });\r\n\r\n  const result = await axiosInstance({\r\n    method: 'PATCH',\r\n    url: `/api/labels`,\r\n    data,\r\n  });\r\n\r\n  return {\r\n    status: result.data.status,\r\n    result: result.data.result.otherLabel,\r\n  };\r\n  // return {\r\n  //   status: 1,\r\n  //   result: {\r\n  //     id: '1234123124124',\r\n  //     name: 'Độ ẩm',\r\n  //     property: 'humidity',\r\n  //     description: 'Độ ẩm của không khí',\r\n  //     isDefault: true,\r\n  //     createdAt: '2020-08-24 09:16:06.051Z',\r\n  //     updatedAt: new Date(),\r\n  //     ...data,\r\n  //   },\r\n  // };\r\n};\r\n\r\nexport const deleteLabelApi = async (_id) => {\r\n  // const result = await axiosInstance({\r\n  //   method: 'DELETE',\r\n  //   url: `/labels/${id}`,\r\n  // });\r\n\r\n  const result = await axiosInstance({\r\n    method: 'DELETE',\r\n    url: `/api/labels`,\r\n    data: { _id },\r\n  });\r\n\r\n  return {\r\n    status: result.data.status,\r\n  };\r\n\r\n  // return {\r\n  //   status: 1,\r\n  // };\r\n};\r\n\r\nexport default {\r\n  addLabelApi,\r\n  getListLabelsApi,\r\n  updateLabelApi,\r\n  deleteLabelApi,\r\n};\r\n","import axios from 'axios';\r\n\r\nconst getDroneAvailable = async (params) => {\r\n  const result = await axios({\r\n    method: 'GET',\r\n    url: `http://skyrone.cf:6789/droneState/getAllDroneAvailable`,\r\n    params,\r\n  });\r\n  return result;\r\n};\r\nconst getAllPath = async (params) => {\r\n  const result = await axios({\r\n    method: 'GET',\r\n    url: `http://skyrone.cf:6789/flightPath/getAllPath`,\r\n    params,\r\n  });\r\n  return result;\r\n};\r\n\r\nexport default { getDroneAvailable, getAllPath };\r\n","import axios from 'axios';\r\n\r\nconst getAllPayload = async (params) => {\r\n  const result = await axios({\r\n    method: 'GET',\r\n    url: 'https://dsd06.herokuapp.com/api/payloadtype',\r\n    params,\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nexport default { getAllPayload };\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Row,\r\n  Input,\r\n  Col,\r\n  Table,\r\n  Modal,\r\n  Space,\r\n  Button,\r\n  Select,\r\n  Form,\r\n  DatePicker,\r\n  notification,\r\n  Spin,\r\n} from 'antd';\r\nimport {\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  ExclamationCircleOutlined,\r\n  HistoryOutlined,\r\n  PlusOutlined,\r\n} from '@ant-design/icons';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport StyleListMonitorCampaign, { StyleSpinContainer } from './index.style';\r\nimport {\r\n  StyleTitle,\r\n  StyleSeparator,\r\n  StyleTable,\r\n  StyleSearchForm,\r\n} from '../../../../themes/default';\r\nimport {\r\n  convertFieldValuesToDataSubmit,\r\n  formatMomentDateToDateTimeString,\r\n} from '../services';\r\nimport moment from 'moment';\r\nimport { DATE_TIME_FORMAT } from '../../../../configs';\r\nimport { MECHANISM, METADATA_TYPES, RESOLUTION } from '../../../../constants';\r\n\r\nimport { monitorCampaignApi } from '../../../../apis';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst ListMonitorCampaign = () => {\r\n  const [listMonitorCampaignsData, setListMonitorCampaignsData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [form] = Form.useForm();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const fetchListMonitorCampaignsData = async (params) => {\r\n    try {\r\n      setLoading(true);\r\n      const resp = await monitorCampaignApi.getListMonitorCampaigns(params);\r\n      setListMonitorCampaignsData(resp.data.result.monitorCampaigns);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 400) return;\r\n      notification.error({\r\n        message: 'Có lỗi xảy ra! Xin thử lại',\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    fetchListMonitorCampaignsData();\r\n  }, [location]);\r\n\r\n  const handleSearch = () => {\r\n    const newFieldValues = form.getFieldsValue();\r\n    const params = convertFieldValuesToDataSubmit(newFieldValues);\r\n    fetchListMonitorCampaignsData(params);\r\n  };\r\n\r\n  const onResetFieldValues = () => {\r\n    form.resetFields();\r\n  };\r\n\r\n  const goToUpdateMonitorCampaign = (item) => () => {\r\n    const { _id } = item;\r\n    history.push(`/flight-hub-monitor-campaigns/${_id}`);\r\n  };\r\n\r\n  const goToCreate = () => {\r\n    history.push(`/flight-hub-monitor-campaigns/create`);\r\n  };\r\n\r\n  const handleDeleteMonitorCampaign = (item, index) => async () => {\r\n    try {\r\n      await monitorCampaignApi.deleteMonitorCampaign(item._id);\r\n      const newListMonitorCampaignsData = [...listMonitorCampaignsData];\r\n      newListMonitorCampaignsData.splice(index, 1);\r\n      setListMonitorCampaignsData(newListMonitorCampaignsData);\r\n      notification.info({\r\n        message: 'Xóa thành công!',\r\n      });\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Có lỗi xảy ra! Xin thử lại',\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteConfirm = (item, index) => () => {\r\n    const { name } = item;\r\n    Modal.confirm({\r\n      title: 'Cảnh báo',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: (\r\n        <span>\r\n          Bạn có muốn xóa đợt giám sát <strong>{name}</strong> không?\r\n        </span>\r\n      ),\r\n      okText: 'Đồng ý',\r\n      cancelText: 'Hủy',\r\n      onOk: handleDeleteMonitorCampaign(item, index),\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      dataIndex: '_id',\r\n      title: 'Mã đợt giám sát',\r\n      width: '7.5%',\r\n      align: 'center',\r\n      sorter: (a, b) => a.id.localeCompare(b.id),\r\n    },\r\n    {\r\n      dataIndex: 'name',\r\n      title: 'Tên đợt giám sát',\r\n      width: '15%',\r\n      sorter: (a, b) => a.name.localeCompare(b.name),\r\n    },\r\n    {\r\n      dataIndex: 'task',\r\n      title: 'Loại sự cố',\r\n      width: '15%',\r\n      sorter: (a, b) => a.name.localeCompare(b.name),\r\n    },\r\n    {\r\n      dataIndex: 'startTime',\r\n      width: '12.5%',\r\n      title: 'Thời gian bắt đầu',\r\n      align: 'center',\r\n      sorter: (a, b) => moment(a.startTime).diff(moment(b.startTime)),\r\n      render: formatMomentDateToDateTimeString,\r\n    },\r\n    {\r\n      dataIndex: 'endTime',\r\n      width: '12.5%',\r\n      title: 'Thời gian kết thúc',\r\n      align: 'center',\r\n      sorter: (a, b) => moment(a.startTime).diff(moment(b.startTime)),\r\n      render: formatMomentDateToDateTimeString,\r\n    },\r\n    {\r\n      dataIndex: 'monitoredObjects',\r\n      title: 'Đối tượng giám sát',\r\n      width: '12.5%',\r\n      sorter: (a, b) => 1,\r\n      render: (data = []) => {\r\n        return data.map((elem) => {\r\n          const { name, createdAt } = elem.content;\r\n          return <div key={createdAt.toString()}>{name}</div>;\r\n        });\r\n      },\r\n    },\r\n    {\r\n      dataIndex: 'monitoredZone',\r\n      title: 'Miền giám sát',\r\n      width: '12.5%',\r\n      sorter: (a, b) => a.name.localeCompare(b.name),\r\n      render: (data) => data && <span>{data.name}</span>,\r\n    },\r\n    {\r\n      dataIndex: 'mechanism',\r\n      title: 'Chế độ điều khiển',\r\n      width: '7.5%',\r\n      align: 'center',\r\n      sorter: (a, b) => a.mechanism.localeCompare(b.mechanism),\r\n      render: (data) => <span>{data === 'auto' ? 'Tự động' : 'Thủ công'}</span>,\r\n    },\r\n    {\r\n      dataIndex: 'metadataType',\r\n      title: 'Dạng dữ liệu',\r\n      width: '7.5%',\r\n      align: 'center',\r\n      sorter: (a, b) => a.metadataType.localeCompare(b.metadataType),\r\n      render: (data) => (\r\n        <span>{data === METADATA_TYPES.VIDEO ? 'Video' : 'Ảnh'}</span>\r\n      ),\r\n    },\r\n    {\r\n      dataIndex: 'resolution',\r\n      title: 'Độ phân giải',\r\n      width: '7.5%',\r\n      align: 'center',\r\n      sorter: (a, b) => a.resolution.localeCompare(b.resolution),\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: 'Hành động',\r\n      width: '10%',\r\n      align: 'center',\r\n      render: (data, record, index) => {\r\n        return (\r\n          <Space size={4}>\r\n            <Button\r\n              icon={<EditOutlined />}\r\n              size=\"small\"\r\n              onClick={goToUpdateMonitorCampaign(record)}\r\n            >\r\n              Sửa\r\n            </Button>\r\n            <Button\r\n              icon={<DeleteOutlined />}\r\n              type=\"danger\"\r\n              size=\"small\"\r\n              onClick={deleteConfirm(record, index)}\r\n            >\r\n              Xóa\r\n            </Button>\r\n          </Space>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <StyleListMonitorCampaign>\r\n      <StyleTitle>Danh sách đợt giám sát</StyleTitle>\r\n\r\n      <Row type=\"flex\" justify=\"end\" align=\"middle\">\r\n        <Button\r\n          icon={<PlusOutlined />}\r\n          type=\"primary\"\r\n          size=\"middle\"\r\n          onClick={goToCreate}\r\n        >\r\n          Tạo đợt giám sát\r\n        </Button>\r\n      </Row>\r\n\r\n      <StyleSeparator />\r\n\r\n      <StyleSearchForm>\r\n        <Form\r\n          form={form}\r\n          layout=\"horizontal\"\r\n          labelCol={{ span: 10 }}\r\n          wrapperCol={{ span: 13 }}\r\n          labelAlign=\"left\"\r\n          onValuesChange={handleSearch}\r\n          size=\"small\"\r\n          // initialValues={initialValues}\r\n        >\r\n          <Row>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                name=\"id\"\r\n                label=\"Mã đợt giám sát\"\r\n                rules={[{ type: 'string' }]}\r\n              >\r\n                <Input placeholder=\"VD: MC01\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                name=\"name\"\r\n                label=\"Tên đợt giám sát\"\r\n                rules={[{ type: 'string' }]}\r\n              >\r\n                <Input placeholder=\"Nhập tên đợt giám sát\" />\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            {/* <Col span={8}>\r\n              <Form.Item name=\"monitoredObject\" label=\"Đối tượng giám sát\">\r\n                <Select allowClear placeholder=\"Chọn đối tượng giám sát\">\r\n                  {monitoredObjects.map(({ id, name }) => (\r\n                    <Option key={id} value={id}>\r\n                      {name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col span={8}>\r\n              <Form.Item name=\"monitoredZone\" label=\"Miền giám sát\">\r\n                <Select allowClear placeholder=\"Chọn miền giám sát\">\r\n                  {monitoredZones.map(({ id, name }) => (\r\n                    <Option key={id} value={id}>\r\n                      {name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col> */}\r\n\r\n            <Col span={8}>\r\n              <Form.Item name=\"mechanism\" label=\"Chế độ điều khiển\">\r\n                <Select allowClear placeholder=\"Tự động/Thủ công\">\r\n                  <Option value={MECHANISM.AUTO}>Tự động</Option>\r\n                  <Option value={MECHANISM.MANUALLY}>Thủ công</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col span={8}>\r\n              <Form.Item name=\"metadataType\" label=\"Dạng dữ liệu\">\r\n                <Select allowClear placeholder=\"Video/Ảnh\">\r\n                  <Option value={METADATA_TYPES.VIDEO}>Video</Option>\r\n                  <Option value={METADATA_TYPES.PHOTO}>Ảnh</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item name=\"resolution\" label=\"Độ phân giải\">\r\n                <Select allowClear placeholder=\"Chọn độ phân giải\">\r\n                  <Option value={RESOLUTION['480p']}>480p</Option>\r\n                  <Option value={RESOLUTION['720p']}>720p</Option>\r\n                  <Option value={RESOLUTION['1080p']}>1080p</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col span={16}>\r\n              <Form.Item\r\n                name=\"timeRange\"\r\n                label=\"Thời gian\"\r\n                labelCol={{ span: 5 }}\r\n                rules={[{ type: 'array' }]}\r\n              >\r\n                <RangePicker showTime format={DATE_TIME_FORMAT} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Col span={8} offset={16}>\r\n            <Col span={13} offset={10}>\r\n              <Row type=\"flex\" justify=\"end\">\r\n                <Button\r\n                  size=\"middle\"\r\n                  icon={<HistoryOutlined />}\r\n                  onClick={onResetFieldValues}\r\n                >\r\n                  Đặt lại\r\n                </Button>\r\n              </Row>\r\n            </Col>\r\n          </Col>\r\n        </Form>\r\n      </StyleSearchForm>\r\n\r\n      <StyleSeparator />\r\n      {loading ? (\r\n        <StyleSpinContainer>\r\n          <Spin />\r\n        </StyleSpinContainer>\r\n      ) : (\r\n        <StyleTable>\r\n          <Table\r\n            rowKey=\"_id\"\r\n            columns={columns}\r\n            dataSource={listMonitorCampaignsData}\r\n            scroll={{ x: 1560 }}\r\n          />\r\n        </StyleTable>\r\n      )}\r\n    </StyleListMonitorCampaign>\r\n  );\r\n};\r\n\r\nexport default ListMonitorCampaign;\r\n","import React from 'react';\r\nimport ListMonitorCampaign from '../../containers/FlightHub/MonitorCampaign/ListMonitorCampaign';\r\n\r\nconst ListMonitorCampaignPage = () => {\r\n  return <ListMonitorCampaign></ListMonitorCampaign>;\r\n};\r\n\r\nexport default ListMonitorCampaignPage;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const StyleContent = styled.div`\r\n  /* flex: 1; */\r\n  border: 1px dashed #e9e9e9;\r\n  border-radius: 2px;\r\n  background-color: rgba(0, 0, 0, 0.0015);\r\n  margin-top: 24px;\r\n  padding: 16px;\r\n`;\r\n\r\nexport const StyleIconBack = styled.div`\r\n  margin-bottom: 12px;\r\n  margin-right: 7.5px;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div``;\r\n","import React, { useEffect } from 'react';\r\nimport StyleStep1 from './index.style';\r\nimport { Button, Col, DatePicker, Form, Input, Row, Select } from 'antd';\r\nimport { VALIDATE_MESSAGES, LAYOUT } from '../config';\r\nimport { DATE_TIME_FORMAT } from '../../../../configs';\r\nimport { StepForwardOutlined } from '@ant-design/icons';\r\nimport { TASK } from '../../../../constants';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst Step1 = ({ nextStep, data, handleChangeData }) => {\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(data);\r\n  }, [data, form]);\r\n\r\n  const onFinish = (values) => {\r\n    handleChangeData(values);\r\n    nextStep();\r\n  };\r\n\r\n  return (\r\n    <StyleStep1>\r\n      <Form\r\n        {...LAYOUT}\r\n        form={form}\r\n        name=\"flight-hub-name\"\r\n        onFinish={onFinish}\r\n        validateMessages={VALIDATE_MESSAGES}\r\n        initialValues={data}\r\n      >\r\n        <Form.Item\r\n          name=\"name\"\r\n          label=\"Tên đợt giám sát\"\r\n          rules={[{ type: 'string', required: true }]}\r\n        >\r\n          <Input placeholder=\"VD: Đọt giám sát rừng phòng hộ quý 1\"></Input>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"timeRange\"\r\n          label=\"Thời gian\"\r\n          rules={[\r\n            {\r\n              type: 'array',\r\n              required: true,\r\n            },\r\n          ]}\r\n        >\r\n          <RangePicker showTime format={DATE_TIME_FORMAT} />\r\n        </Form.Item>\r\n\r\n        <Col offset={6}>\r\n          <Row>\r\n            <Button\r\n              icon={<StepForwardOutlined />}\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n            >\r\n              Tiếp theo\r\n            </Button>\r\n          </Row>\r\n        </Col>\r\n      </Form>\r\n    </StyleStep1>\r\n  );\r\n};\r\n\r\nexport default Step1;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div``;\r\n\r\nexport const StyleSpinContainer = styled.div`\r\n  width: 100%;\r\n  min-height: 300px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","export const convertDronesData = (drones = []) => {\r\n  return drones.map((drone) => {\r\n    const { id, flightPaths, payloads } = drone;\r\n    return { id, flightPaths, payloads };\r\n  });\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { StyleSeparator, StyleTitle } from '../../../../themes/default';\r\nimport StyleStep2, { StyleSpinContainer } from './index.style';\r\nimport { Button, Row, Table, message, notification, Select, Spin } from 'antd';\r\nimport { StepBackwardOutlined, StepForwardOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport { DATE_TIME_FORMAT } from '../../../../configs';\r\nimport { droneApi, payloadApi } from '../../../../apis';\r\nimport { formatMomentDateToDateTimeString } from '../services';\r\nimport { convertDronesData } from './service';\r\n\r\nconst Step2 = ({ nextStep, prevStep, handleChangeData, data }) => {\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [dronesData, setDronesData] = useState([]);\r\n\r\n  const [payloadsData, setPayloadsData] = useState([]);\r\n  const [flightPathsData, setFlightPathsData] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const { timeRange } = data;\r\n\r\n  const fetchDronesData = async (params) => {\r\n    setLoading(true);\r\n    try {\r\n      const resp = await droneApi.getDroneAvailable(params);\r\n      setDronesData(resp.data);\r\n\r\n      setLoading(false);\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Có lỗi xảy ra! Xin thử lại.',\r\n      });\r\n    }\r\n  };\r\n\r\n  const fetchPayloadsData = async (params) => {\r\n    setLoading(true);\r\n    try {\r\n      const resp = await payloadApi.getAllPayload(params);\r\n      setPayloadsData(resp.data);\r\n\r\n      setLoading(false);\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Có lỗi xảy ra! Xin thử lại.',\r\n      });\r\n    }\r\n  };\r\n\r\n  const fetchFlightPathsData = async (params) => {\r\n    setLoading(true);\r\n    try {\r\n      const resp = await droneApi.getAllPath(params);\r\n      setFlightPathsData(resp.data);\r\n\r\n      setLoading(false);\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Có lỗi xảy ra! Xin thử lại.',\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const timeStart = formatMomentDateToDateTimeString(timeRange[0]);\r\n    const timeEnd = formatMomentDateToDateTimeString(timeRange[1]);\r\n    const params = { timeStart, timeEnd };\r\n    fetchDronesData(params);\r\n    fetchPayloadsData();\r\n    fetchFlightPathsData();\r\n  }, [timeRange]);\r\n\r\n  const handleChangeFlightPath = (record, index) => (values) => {\r\n    const newDrones = [...dronesData];\r\n    newDrones[index].flightPaths = values;\r\n    setDronesData(newDrones);\r\n\r\n    const indexSelected = selectedRowKeys.findIndex(\r\n      (item) => record.id === item,\r\n    );\r\n    if (indexSelected > -1) {\r\n      const newSelectedRows = [...selectedRows];\r\n      newSelectedRows[indexSelected].flightPaths = values;\r\n      setSelectedRows(newSelectedRows);\r\n    }\r\n  };\r\n\r\n  const handleChangePayloads = (record, index) => (values) => {\r\n    const newDrones = [...dronesData];\r\n    newDrones[index].payloads = values;\r\n    setDronesData(newDrones);\r\n\r\n    const indexSelected = selectedRowKeys.findIndex(\r\n      (item) => record.id === item,\r\n    );\r\n    if (indexSelected > -1) {\r\n      const newSelectedRows = [...selectedRows];\r\n      newSelectedRows[indexSelected].payloads = values;\r\n      setSelectedRows(newSelectedRows);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const { drones = [] } = data;\r\n\r\n    if (dronesData.length) {\r\n      const newDronesData = [...dronesData];\r\n      drones.forEach((selectedDrone) => {\r\n        const indexSelected = newDronesData.findIndex(\r\n          (drone) => drone.id === selectedDrone.id,\r\n        );\r\n        if (indexSelected !== -1) {\r\n          newDronesData[indexSelected].payloads = selectedDrone.payloads;\r\n          newDronesData[indexSelected].flightPaths = selectedDrone.flightPaths;\r\n        }\r\n      });\r\n      console.log(\"data \", newDronesData)\r\n      setDronesData(newDronesData);\r\n    }\r\n\r\n    const rowKeys = drones.map((drone) => drone.id);\r\n    setSelectedRows(drones);\r\n    setSelectedRowKeys(rowKeys);\r\n  }, [data, dronesData.length]);\r\n\r\n  const columns = [\r\n    { dataIndex: 'name', title: 'Tên drone', width: 'auto' },\r\n    { dataIndex: 'dimensions', title: 'Kịch thước', width: '15%' },\r\n    { dataIndex: 'color', title: 'Màu', width: '15%' },\r\n    {\r\n      dataIndex: 'brand',\r\n      title: 'Nhà sản xuất',\r\n      width: '15%',\r\n    },\r\n\r\n    {\r\n      dataIndex: 'payloads',\r\n      title: 'Payload',\r\n      width: '20%',\r\n      align: 'center',\r\n      editable: true,\r\n      render: (data, record, index) => {\r\n        return (\r\n          <Select\r\n            style={{ width: 150 }}\r\n            mode=\"multiple\"\r\n            value={data}\r\n            onChange={handleChangePayloads(record, index)}\r\n            placeholder=\"Chọn payloads\"\r\n          >\r\n            {payloadsData.map(({ _id, name }) => (\r\n              <Select.Option key={_id.toString()} value={_id}>\r\n                {name}\r\n              </Select.Option>\r\n            ))}\r\n          </Select>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      dataIndex: 'flightPaths',\r\n      title: 'Đường bay',\r\n      width: '20%',\r\n      align: 'center',\r\n      editable: true,\r\n      render: (data, record, index) => {\r\n        return (\r\n          <Select\r\n            style={{ width: 150 }}\r\n            value={data}\r\n            mode=\"multiple\"\r\n            onChange={handleChangeFlightPath(record, index)}\r\n            placeholder=\"Chọn đường bay\"\r\n          >\r\n            {flightPathsData.map(({ id, name }) => (\r\n              <Select.Option key={id} value={id}>\r\n                {name}\r\n              </Select.Option>\r\n            ))}\r\n          </Select>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const handleNextStep = () => {\r\n    const drones = [...selectedRows];\r\n\r\n    console.log({drones});\r\n    \r\n    if (!drones.length) {\r\n      message.warning('Nhóm drones tham gia không được để trống!');\r\n      return;\r\n    }\r\n\r\n    for (const drone of drones) {\r\n      console.log(\"drrone : \" , drone)\r\n      const { payloads, flightPaths } = drone;\r\n      if (!payloads || !payloads.length) {\r\n      message.warning('Bạn chưa chọn payloads đính kèm drone!');\r\n        return;\r\n      }\r\n      if (!flightPaths || !flightPaths.length) {\r\n      message.warning('Bạn chưa chọn đường bay cho drone!');\r\n        return;\r\n      }\r\n    }\r\n\r\n    handleChangeData({ drones: convertDronesData(drones) });\r\n    nextStep();\r\n  };\r\n\r\n\r\n  return (\r\n    <StyleStep2>\r\n      <StyleTitle>\r\n        {'Danh sách drone sẵn sàng từ ' +\r\n          moment(timeRange[0]).format(DATE_TIME_FORMAT) +\r\n          ' đến ' +\r\n          moment(timeRange[1]).format(DATE_TIME_FORMAT)}\r\n      </StyleTitle>\r\n      <StyleSeparator />\r\n      {loading ? (\r\n        <StyleSpinContainer>\r\n          <Spin />\r\n        </StyleSpinContainer>\r\n      ) : (\r\n        <Table\r\n          rowKey=\"id\"\r\n          rowSelection={{\r\n            type: 'checkbox',\r\n            onChange: (selectedRowKeys, selectedRows) => {\r\n              setSelectedRows(selectedRows);\r\n              setSelectedRowKeys(selectedRowKeys);\r\n            },\r\n            selectedRowKeys: selectedRowKeys,\r\n          }}\r\n          // selections={true}\r\n          columns={columns}\r\n          dataSource={dronesData}\r\n        />\r\n      )}\r\n      <Row type=\"flex\">\r\n        <Button\r\n          type=\"default\"\r\n          icon={<StepBackwardOutlined />}\r\n          onClick={prevStep}\r\n        >\r\n          Quay lại\r\n        </Button>\r\n        &ensp;\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<StepForwardOutlined />}\r\n          onClick={handleNextStep}\r\n        >\r\n          Tiếp theo\r\n        </Button>\r\n      </Row>\r\n    </StyleStep2>\r\n  );\r\n};\r\n\r\nexport default Step2;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div``;\r\n","// eslint-disable-line\r\n/*eslint no-undef: 0*/\r\nexport const removeVietnameseTones = (str) => {\r\n  str = str.toLowerCase();\r\n  str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, 'a');\r\n  str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, 'e');\r\n  str = str.replace(/ì|í|ị|ỉ|ĩ/g, 'i');\r\n  str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, 'o');\r\n  str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, 'u');\r\n  str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, 'y');\r\n  str = str.replace(/đ/g, 'd');\r\n  str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, 'A');\r\n  str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, 'E');\r\n  str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, 'I');\r\n  str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, 'O');\r\n  str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, 'U');\r\n  str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, 'Y');\r\n  str = str.replace(/Đ/g, 'D');\r\n  // Some system encode vietnamese combining accent as individual utf-8 characters\r\n  // Một vài bộ encode coi các dấu mũ, dấu chữ như một kí tự riêng biệt nên thêm hai dòng này\r\n  str = str.replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, ''); // ̀ ́ ̃ ̉ ̣  huyền, sắc, ngã, hỏi, nặng\r\n  str = str.replace(/\\u02C6|\\u0306|\\u031B/g, ''); // ˆ ̆ ̛  Â, Ê, Ă, Ơ, Ư\r\n  str = str.trim();\r\n  // Remove punctuations\r\n  // Bỏ dấu câu, kí tự đặc biệt\r\n  str = str.replace(\r\n    /!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g,\r\n    ' ',\r\n  );\r\n  // Remove extra spaces\r\n  // Bỏ các khoảng trắng liền nhau\r\n  str = str.replace(/ + /g, ' ');\r\n  return str;\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  GoogleMap,\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  InfoWindow,\r\n  Rectangle,\r\n} from 'react-google-maps';\r\nimport { removeVietnameseTones } from '../../../../helpers/removeVietnameseTones';\r\n\r\nimport { Input } from 'antd';\r\nimport { HeatMapOutlined } from '@ant-design/icons';\r\nconst axios = require('axios');\r\nconst { Search } = Input;\r\n\r\nconst Map = ({\r\n  onChangeLocation,\r\n  onChangeMonitoredZone,\r\n  monitoredZoneInit,\r\n}) => {\r\n  const [monitoredZonesDataInit, setMonitoredZonesDataInit] = useState(null);\r\n  const [monitoredZonesData, setMonitoredZonesData] = useState(null);\r\n  const [currentMonitoredZone, setCurrentMonitoredZone] = useState(null);\r\n  const [selectedMonitoredZone, setSelectedMonitoredZone] = useState(null);\r\n  const [positionClick, setPositionClick] = useState(null);\r\n  const [searchText, searchTextValue] = useState('');\r\n  const [initLocation, setInitLocation] = useState({\r\n    lat: 21.017374,\r\n    lng: 105.859521,\r\n  });\r\n\r\n  useEffect(() => {\r\n    getMonitoredZone();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const getMonitoredZone = async () => {\r\n    const token = localStorage.getItem('token');\r\n    const projectType = localStorage.getItem('project-type');\r\n    const headers = {\r\n      Authorization: `Bearer ${token}`,\r\n      projectType: projectType,\r\n    };\r\n\r\n    await axios({\r\n      method: 'GET',\r\n      url: `https://monitoredzoneserver.herokuapp.com/monitoredzone/incident`,\r\n      params: {\r\n        type: projectType,\r\n      },\r\n      headers,\r\n    })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          setMonitoredZonesData(res.data.content.zone);\r\n          setMonitoredZonesDataInit(res.data.content.zone);\r\n\r\n          //Khởi tạo render ban đầu\r\n          if (res.data.content.zone) {\r\n            setInitLocation({\r\n              lat: parseFloat(res.data.content.zone[0].startPoint.latitude),\r\n              lng: parseFloat(res.data.content.zone[0].startPoint.longitude),\r\n            });\r\n          }\r\n\r\n          // khởi tạo park nếu đã có sẵn\r\n          if (monitoredZoneInit) {\r\n            let zone = res.data.content.zone.find(\r\n              (element) => element._id === monitoredZoneInit,\r\n            );\r\n            if (zone) {\r\n              setPositionClick({\r\n                lat: (zone.startPoint.latitude + zone.endPoint.latitude) / 2,\r\n                lng: (zone.startPoint.longitude + zone.endPoint.longitude) / 2,\r\n              });\r\n              setCurrentMonitoredZone(zone);\r\n            }\r\n            setSelectedMonitoredZone(monitoredZoneInit);\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  const searchOnChange = (e) => {\r\n    searchTextValue(e.target.value);\r\n  };\r\n\r\n  const submitSearch = (value) => {\r\n    let data = monitoredZonesDataInit.filter((element) => {\r\n      let textElement = removeVietnameseTones(element.name);\r\n      let textValue = removeVietnameseTones(value);\r\n      if (textElement.includes(textValue)) {\r\n        return element;\r\n      }\r\n      return false;\r\n    });\r\n    setMonitoredZonesData(data);\r\n  };\r\n\r\n  const handleClickMonitoredZones = (zone, e) => {\r\n    setPositionClick({ lat: e.latLng.lat(), lng: e.latLng.lng() });\r\n\r\n    setCurrentMonitoredZone(zone);\r\n  };\r\n\r\n  const handleCloseMonitoredZones = () => {\r\n    setCurrentMonitoredZone(null);\r\n  };\r\n\r\n  const handleMonitoredZoneChange = (monitoredZone, e) => {\r\n    e.preventDefault();\r\n    if (monitoredZone) {\r\n      onChangeMonitoredZone(monitoredZone._id);\r\n      searchTextValue(monitoredZone.code + ' - ' + monitoredZone.name);\r\n      setSelectedMonitoredZone(monitoredZone._id);\r\n    } else {\r\n      onChangeMonitoredZone(undefined);\r\n      searchTextValue('');\r\n      setSelectedMonitoredZone(undefined);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GoogleMap\r\n      defaultZoom={12}\r\n      defaultCenter={initLocation} // Hiển thị ra vùng trung tâm ban đầu\r\n    >\r\n      <Search\r\n        placeholder=\"Nhập vào miền giám sát\"\r\n        onChange={searchOnChange}\r\n        onSearch={submitSearch}\r\n        enterButton\r\n        style={{ position: 'absolute', top: '10px', left: '10px', width: 250 }}\r\n        value={searchText}\r\n      />\r\n      {/* {monitoredZonesData &&\r\n        monitoredZonesData.map((zone) => (\r\n          <Rectangle\r\n            defaultBounds={\r\n              new window.google.maps.LatLngBounds(\r\n                new window.google.maps.LatLng(\r\n                  zone.startPoint.latitude,\r\n                  zone.startPoint.longitude,\r\n                ),\r\n                new window.google.maps.LatLng(\r\n                  zone.endPoint.latitude,\r\n                  zone.endPoint.longitude,\r\n                ),\r\n              )\r\n            }\r\n          />\r\n        ))} */}\r\n\r\n      {monitoredZonesData &&\r\n        monitoredZonesData.map((zone) => (\r\n          <Rectangle\r\n            key={zone._id}\r\n            defaultBounds={\r\n              new window.google.maps.LatLngBounds(\r\n                new window.google.maps.LatLng(\r\n                  zone.startPoint.latitude,\r\n                  zone.startPoint.longitude,\r\n                ),\r\n                new window.google.maps.LatLng(\r\n                  zone.endPoint.latitude,\r\n                  zone.endPoint.longitude,\r\n                ),\r\n              )\r\n            }\r\n            onClick={(e) => handleClickMonitoredZones(zone, e)}\r\n            options={\r\n              selectedMonitoredZone === zone._id\r\n                ? {\r\n                    strokeColor: '#d34052',\r\n                    fillColor: '#d34052',\r\n                    strokeOpacity: '0.5',\r\n                    strokeWeight: '2',\r\n                  }\r\n                : {\r\n                    strokeColor: '#d34052',\r\n                    fillColor: '#70b8fb',\r\n                    strokeOpacity: '0.5',\r\n                    strokeWeight: '2',\r\n                  }\r\n            }\r\n          />\r\n        ))}\r\n\r\n      {currentMonitoredZone && (\r\n        <InfoWindow\r\n          position={{\r\n            lat: positionClick.lat,\r\n            lng: positionClick.lng,\r\n          }}\r\n          onCloseClick={() => {\r\n            handleCloseMonitoredZones();\r\n          }}\r\n        >\r\n          <div>\r\n            <h3>{currentMonitoredZone.name}</h3>\r\n            <div>Mã miền g/s: {currentMonitoredZone.code}</div>\r\n            <div>\r\n              Độ cao an toàn: &ensp;\r\n              <span style={{ color: 'red' }}>\r\n                {currentMonitoredZone.minHeight}\r\n              </span>\r\n              -\r\n              <span style={{ color: 'red' }}>\r\n                {currentMonitoredZone.maxHeight}\r\n              </span>\r\n              (m)\r\n            </div>\r\n            <div\r\n              style={{\r\n                marginTop: '10px',\r\n                width: '100%',\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n              }}\r\n            >\r\n              {currentMonitoredZone._id === selectedMonitoredZone ? (\r\n                <button onClick={(e) => handleMonitoredZoneChange('', e)}>\r\n                  <HeatMapOutlined /> &ensp;\r\n                  <a>Bỏ chọn miền g/s này</a>\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={(e) =>\r\n                    handleMonitoredZoneChange(currentMonitoredZone, e)\r\n                  }\r\n                >\r\n                  <HeatMapOutlined /> &ensp;\r\n                  <a>Chọn miền g/s này</a>\r\n                </button>\r\n              )}\r\n              {/* <button\r\n                onClick={(e) =>\r\n                  handleMonitoredZoneChange(currentMonitoredZone, e)\r\n                }\r\n              >\r\n                <HeatMapOutlined /> &ensp;\r\n                <a>Chọn miền g/s này</a>\r\n              </button> */}\r\n            </div>\r\n          </div>\r\n        </InfoWindow>\r\n      )}\r\n    </GoogleMap>\r\n  );\r\n};\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map));\r\nexport default WrappedMap;\r\n","import React, { useEffect, useState } from 'react';\r\nimport StyleStep3 from './index.style';\r\nimport { Button, Col, Form, Select, Row } from 'antd';\r\nimport { VALIDATE_MESSAGES, LAYOUT } from '../config';\r\nimport WrappedMap from './map';\r\nimport { FormOutlined, StepBackwardOutlined } from '@ant-design/icons';\r\nconst axios = require('axios');\r\n\r\nconst { Option } = Select;\r\n\r\nconst Step3 = ({\r\n  nextStep,\r\n  prevStep,\r\n  data,\r\n  handleChangeData,\r\n  monitoredObjects,\r\n}) => {\r\n  const [form] = Form.useForm();\r\n  const [objectData, setObjectData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (data && data.monitoredZone) getObjectData(data.monitoredZone);\r\n  }, [data]);\r\n\r\n  const getObjectData = (monitoredZone) => {\r\n    const token = localStorage.getItem('token');\r\n    const projectType = localStorage.getItem('project-type');\r\n    const headers = {\r\n      Authorization: `Bearer ${token}`,\r\n      projectType: projectType,\r\n    };\r\n\r\n    axios({\r\n      method: 'GET',\r\n      url: `https://dsd05-monitored-object.herokuapp.com/monitored-object/get-object-by-zone`,\r\n      params: { monitoredZone },\r\n      headers,\r\n    })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          setObjectData(res.data.content);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        // console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(data);\r\n  }, [data, form]);\r\n\r\n  const getObjectOptions = () => {\r\n    const options = objectData.map((item) => {\r\n      return (\r\n        <Option key={item._id} value={item._id}>\r\n          {item.name}\r\n        </Option>\r\n      );\r\n    });\r\n    return options;\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    handleChangeData(values);\r\n    nextStep();\r\n  };\r\n\r\n  const onChangeMonitoredZone = (zoneId) => {\r\n    let formData = data ? data : {};\r\n    formData.monitoredZone = zoneId;\r\n    formData.monitoredObject = [];\r\n    form.setFieldsValue(formData);\r\n    //Gọi các đối tượng trong miền\r\n    getObjectData([zoneId]);\r\n  };\r\n\r\n  return (\r\n    <StyleStep3>\r\n      <Form\r\n        {...LAYOUT}\r\n        form={form}\r\n        name=\"flight-hub-object\"\r\n        onFinish={onFinish}\r\n        validateMessages={VALIDATE_MESSAGES}\r\n        initialValues={data}\r\n      >\r\n        <Form.Item\r\n          name=\"monitoredZone\"\r\n          label=\"Miền giám sát\"\r\n          rules={[{ type: 'string', required: true }]}\r\n        >\r\n          <WrappedMap\r\n            monitoredObjects={monitoredObjects}\r\n            googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCV09KQtrmzDnyXYeC_UzB-HAwMKytXRpE\"\r\n            loadingElement={<div style={{ height: `100%` }} />}\r\n            containerElement={<div style={{ height: `400px` }} />}\r\n            mapElement={<div style={{ height: `100%` }} />}\r\n            onChangeMonitoredZone={onChangeMonitoredZone}\r\n            monitoredZoneInit={data ? data.monitoredZone : undefined}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"monitoredObjects\"\r\n          label=\"Đối tượng giám sát\"\r\n          rules={[{ type: 'array', required: true }]}\r\n        >\r\n          <Select\r\n            mode=\"multiple\"\r\n            showSearch\r\n            placeholder=\"Chọn đối tượng giám sát\"\r\n          >\r\n            {getObjectOptions()}\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Col offset={6}>\r\n          <Row type=\"flex\">\r\n            <Button\r\n              type=\"default\"\r\n              icon={<StepBackwardOutlined />}\r\n              onClick={prevStep}\r\n            >\r\n              Quay lại\r\n            </Button>\r\n            &ensp;\r\n            <Button type=\"primary\" icon={<FormOutlined />} htmlType=\"submit\">\r\n              Tiếp theo\r\n            </Button>\r\n          </Row>\r\n        </Col>\r\n      </Form>\r\n    </StyleStep3>\r\n  );\r\n};\r\n\r\nexport default Step3;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div``;\r\n","import React, { useEffect } from 'react';\r\nimport StyleStep4 from './index.style';\r\nimport { Button, Col, Form, Select, Row } from 'antd';\r\nimport { VALIDATE_MESSAGES, LAYOUT } from '../config';\r\nimport { StepBackwardOutlined, StepForwardOutlined } from '@ant-design/icons';\r\n\r\nimport { MECHANISM, METADATA_TYPES, RESOLUTION } from '../../../../constants';\r\n\r\nconst { Option } = Select;\r\n\r\nconst Step4 = ({ prevStep, nextStep, data, handleChangeData }) => {\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(data);\r\n  }, [data, form]);\r\n\r\n  const onFinish = (values) => {\r\n    handleChangeData(values);\r\n    nextStep();\r\n  };\r\n\r\n  return (\r\n    <StyleStep4>\r\n      <Form\r\n        {...LAYOUT}\r\n        form={form}\r\n        name=\"flight-hub-storage\"\r\n        onFinish={onFinish}\r\n        validateMessages={VALIDATE_MESSAGES}\r\n      >\r\n        <Form.Item\r\n          name=\"mechanism\"\r\n          label=\"Cơ chế thu thập\"\r\n          rules={[{ type: 'string', required: true }]}\r\n        >\r\n          <Select showSearch placeholder=\"Chọn cơ chế thu thập\">\r\n            <Option value={MECHANISM.AUTO}>Tự động</Option>\r\n            <Option value={MECHANISM.MANUALLY}>Thủ công</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"metadataType\"\r\n          label=\"Dạng lưu trữ\"\r\n          rules={[{ type: 'string', required: true }]}\r\n        >\r\n          <Select showSearch allowClear placeholder=\"Video/Ảnh\">\r\n            <Option value={METADATA_TYPES.VIDEO}>Video</Option>\r\n            <Option value={METADATA_TYPES.PHOTO}>Ảnh</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"resolution\"\r\n          label=\"Độ phân giải\"\r\n          rules={[{ type: 'string', required: true }]}\r\n        >\r\n          <Select showSearch placeholder=\"Chọn độ phân giải\">\r\n            <Option value={RESOLUTION['480p']}>480p</Option>\r\n            <Option value={RESOLUTION['720p']}>720p</Option>\r\n            <Option value={RESOLUTION['1080p']}>1080p</Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Col offset={6}>\r\n          <Row>\r\n            <Button\r\n              type=\"default\"\r\n              icon={<StepBackwardOutlined />}\r\n              onClick={prevStep}\r\n            >\r\n              Quay lại\r\n            </Button>\r\n            &ensp;\r\n            <Button\r\n              type=\"primary\"\r\n              icon={<StepForwardOutlined />}\r\n              htmlType=\"submit\"\r\n            >\r\n              Tiếp theo\r\n            </Button>\r\n          </Row>\r\n        </Col>\r\n      </Form>\r\n    </StyleStep4>\r\n  );\r\n};\r\n\r\nexport default Step4;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div``;\r\n","import React, { useEffect, useState } from 'react';\r\nimport StyleStep5 from './index.style';\r\nimport {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Row,\r\n  Modal,\r\n  notification,\r\n} from 'antd';\r\nimport { VALIDATE_MESSAGES, LAYOUT } from '../config';\r\nimport {\r\n  ExclamationCircleOutlined,\r\n  FormOutlined,\r\n  StepBackwardOutlined,\r\n} from '@ant-design/icons';\r\nimport { convertFieldValuesToDataSubmit } from '../services';\r\n\r\nimport { getListLabelsApi } from '../../../../apis/label';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst Step5 = ({ prevStep, data, handleChangeData, handleSubmit }) => {\r\n  const [labelsData, setLabelsData] = useState([]);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(data);\r\n  }, [data, form]);\r\n\r\n  useEffect(() => {\r\n    const fetchListLabelsData = async () => {\r\n      try {\r\n        const resp = await getListLabelsApi();\r\n        if (\r\n          !resp ||\r\n          !resp.status ||\r\n          !resp.result ||\r\n          !Array.isArray(resp.result)\r\n        ) {\r\n          throw new Error('Máy chủ lỗi');\r\n        }\r\n        setLabelsData(resp.result);\r\n      } catch (error) {\r\n        notification.error({\r\n          message: 'Máy chủ lỗi, vui lòng thử lại sau',\r\n        });\r\n      }\r\n    };\r\n    fetchListLabelsData();\r\n  }, []);\r\n\r\n  const handleCreate = (dataSubmit) => async () => {\r\n    await handleSubmit(dataSubmit);\r\n  };\r\n\r\n  const submitConfirm = (dataSubmit) => {\r\n    const { name } = dataSubmit;\r\n    Modal.confirm({\r\n      title: 'Xác nhận',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: (\r\n        <span>\r\n          Bạn có muốn {data.description ? 'sửa' : 'tạo'} đợt giám sát{' '}\r\n          <strong>{name}</strong>?\r\n        </span>\r\n      ),\r\n      okText: 'Đồng ý',\r\n      cancelText: 'Hủy',\r\n      onOk: handleCreate(dataSubmit),\r\n    });\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    handleChangeData(values);\r\n    const fieldValues = { ...data, ...values };\r\n    const dataSubmit = convertFieldValuesToDataSubmit(fieldValues);\r\n    submitConfirm(dataSubmit);\r\n  };\r\n\r\n  return (\r\n    <StyleStep5>\r\n      <Form\r\n        {...LAYOUT}\r\n        form={form}\r\n        name=\"flight-hub-create\"\r\n        onFinish={onFinish}\r\n        validateMessages={VALIDATE_MESSAGES}\r\n      >\r\n        <Form.Item\r\n          name=\"labels\"\r\n          label=\"Nhãn đính kèm\"\r\n          rules={[{ type: 'array', required: false }]}\r\n        >\r\n          <Select mode=\"multiple\" allowClear placeholder=\"Chọn nhãn đính kèm\">\r\n            {labelsData.map(({ _id, name }) => {\r\n              return (\r\n                <Select.Option key={_id} value={_id}>\r\n                  {name}\r\n                </Select.Option>\r\n              );\r\n            })}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"description\"\r\n          label=\"Ghi chú\"\r\n          rules={[{ type: 'string', required: false }]}\r\n        >\r\n          <TextArea\r\n            placeholder=\"Để lại lời nhắn...\"\r\n            autoSize={{ minRows: 2, maxRows: 6 }}\r\n          />\r\n        </Form.Item>\r\n        <Col offset={6}>\r\n          <Row>\r\n            <Button\r\n              type=\"default\"\r\n              icon={<StepBackwardOutlined />}\r\n              onClick={prevStep}\r\n            >\r\n              Quay lại\r\n            </Button>\r\n            &ensp;\r\n            <Button type=\"primary\" icon={<FormOutlined />} htmlType=\"submit\">\r\n              Lưu\r\n            </Button>\r\n          </Row>\r\n        </Col>\r\n      </Form>\r\n    </StyleStep5>\r\n  );\r\n};\r\n\r\nexport default Step5;\r\n","import Step1 from './Step1';\r\nimport Step2 from './Step2';\r\nimport Step3 from './Step3';\r\nimport Step4 from './Step4';\r\nimport Step5 from './Step5';\r\n\r\nexport const STEPS = [\r\n  { title: 'Bước 1', description: 'Tên đợt giám sát', content: Step1 },\r\n  {\r\n    title: 'Bước 2',\r\n    description: 'Chọn dạnh sách drone tham gia',\r\n    content: Step2,\r\n  },\r\n  {\r\n    title: 'Bước 3',\r\n    description: 'Chọn đối tượng và miền giám sát',\r\n    content: Step3,\r\n  },\r\n  { title: 'Bước 4', description: 'Cấu hình lưu trữ', content: Step4 },\r\n  { title: 'Bước 5', description: 'Chọn nhãn đính kèm', content: Step5 },\r\n];\r\n\r\nexport const LAYOUT = {\r\n  layout: 'horizontal',\r\n  labelCol: { offset: 2, span: 4 },\r\n  wrapperCol: { span: 16 },\r\n  labelAlign: 'left',\r\n};\r\n\r\nexport const VALIDATE_MESSAGES = {\r\n  required: `'\\${label}' không được để trống!`,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Row, Steps } from 'antd';\r\nimport { StyleTitle } from '../../../../themes/default';\r\nimport StyleMonitorCampaignForm, {\r\n  StyleContent,\r\n  StyleIconBack,\r\n} from './index.style';\r\nimport { STEPS } from '../config';\r\nimport { ArrowLeftOutlined } from '@ant-design/icons';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst { Step } = Steps;\r\n\r\nconst MonitorCampaignForm = ({ initialData, title, handleSubmit }) => {\r\n  const history = useHistory();\r\n  const [current, setCurrent] = React.useState(0);\r\n  const [data, setData] = useState({});\r\n\r\n  useEffect(() => {\r\n    setData(initialData);\r\n  }, [initialData]);\r\n\r\n  const nextStep = () => {\r\n    if (current === Object.keys(STEPS).length - 1) return;\r\n    setCurrent(current + 1);\r\n  };\r\n\r\n  const prevStep = () => {\r\n    if (current === 0) return;\r\n    setCurrent(current - 1);\r\n  };\r\n\r\n  const handleChangeData = (values) => {\r\n    setData({ ...data, ...values });\r\n  };\r\n\r\n  const renderContent = () => {\r\n    const Component = STEPS[current].content;\r\n    return (\r\n      <Component\r\n        nextStep={nextStep}\r\n        prevStep={prevStep}\r\n        data={data}\r\n        handleSubmit={handleSubmit}\r\n        handleChangeData={handleChangeData}\r\n      />\r\n    );\r\n  };\r\n\r\n  const goBack = () => {\r\n    history.goBack();\r\n  };\r\n  return (\r\n    <StyleMonitorCampaignForm>\r\n      <Row type=\"flex\" align=\"middle\">\r\n        <StyleIconBack>\r\n          <ArrowLeftOutlined size={32} onClick={goBack} />\r\n        </StyleIconBack>\r\n        <StyleTitle>{title}</StyleTitle>\r\n      </Row>\r\n      <Steps current={current}>\r\n        {STEPS.map(({ title, description }) => (\r\n          <Step key={title} title={title} description={description} />\r\n        ))}\r\n      </Steps>\r\n      <StyleContent>{renderContent()}</StyleContent>\r\n    </StyleMonitorCampaignForm>\r\n  );\r\n};\r\n\r\nexport default MonitorCampaignForm;\r\n","import React from 'react';\r\nimport MonitorCampaignForm from './MonitorCampaignForm';\r\nimport { notification } from 'antd';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { monitorCampaignApi } from '../../../apis';\r\n\r\nconst CreateMonitorCampaign = () => {\r\n  const history = useHistory();\r\n  const goBack = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  const createMonitorCampaign = async (data) => {\r\n    try {\r\n      await monitorCampaignApi.createMonitorCampaign(data);\r\n\r\n      notification.success({\r\n        message: 'Tạo thành công!',\r\n      });\r\n      goBack();\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Có lỗi xảy ra! Xin thử lại',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MonitorCampaignForm\r\n      title=\"Tạo đợt giám sát\"\r\n      handleSubmit={createMonitorCampaign}\r\n    ></MonitorCampaignForm>\r\n  );\r\n};\r\n\r\nexport default CreateMonitorCampaign;\r\n","import React from 'react';\r\nimport CreateMonitorCampaign from '../../containers/FlightHub/MonitorCampaign/CreateMonitorCampaign';\r\n\r\nconst CreateMonitorCampaignPage = () => {\r\n  return <CreateMonitorCampaign></CreateMonitorCampaign>;\r\n};\r\n\r\nexport default CreateMonitorCampaignPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport MonitorCampaignForm from './MonitorCampaignForm';\r\nimport { convertInitialDataToFieldValues } from './services';\r\nimport { monitorCampaignApi } from '../../../apis';\r\nimport { notification } from 'antd';\r\n\r\nconst UpdateMonitorCampaign = () => {\r\n  const [monitorCampaignData, setMonitorCampaignData] = useState({});\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  const goBack = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const { id } = params;\r\n    const fetchMonitorCampaignData = async () => {\r\n      try {\r\n        const resp = await monitorCampaignApi.getMonitorCampaign(id);\r\n        console.log('resp ', resp);\r\n        setMonitorCampaignData(resp.data.result.monitorCampaign);\r\n      } catch (error) {\r\n        notification.error({\r\n          message: 'Có lỗi xảy ra! Xin thử lại',\r\n        });\r\n      }\r\n    };\r\n    fetchMonitorCampaignData();\r\n  }, [params]);\r\n\r\n  const updateMonitorCampaign = async (values) => {\r\n    try {\r\n      const { id } = params;\r\n      const dataSubmit = { _id: id, ...values };\r\n      await monitorCampaignApi.updateMonitorCampaign(dataSubmit);\r\n\r\n      notification.success({\r\n        message: 'Cập nhật thành công!',\r\n      });\r\n      goBack();\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Có lỗi xảy ra! Xin thử lại',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MonitorCampaignForm\r\n      initialData={convertInitialDataToFieldValues(monitorCampaignData)}\r\n      title=\"Sửa đợt giám sát\"\r\n      handleSubmit={updateMonitorCampaign}\r\n    ></MonitorCampaignForm>\r\n  );\r\n};\r\n\r\nexport default UpdateMonitorCampaign;\r\n","import React from 'react';\r\nimport UpdateMonitorCampaign from '../../containers/FlightHub/MonitorCampaign/UpdateMonitorCampaign';\r\n\r\nconst UpdateMonitorCampaignPage = () => {\r\n  return <UpdateMonitorCampaign></UpdateMonitorCampaign>;\r\n};\r\n\r\nexport default UpdateMonitorCampaignPage;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  display: block;\r\n`;\r\n\r\nexport const StyledTable = styled.div`\r\n  margin-top: 20px;\r\n`;\r\n\r\n\r\nexport const StyleSpinContainer = styled.div`\r\n    width: 100%;\r\n    min-height: 300px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;","/* eslint-disable no-template-curly-in-string */\r\nimport React, { useEffect } from 'react';\r\nimport { Form, Input, Button, Modal, Row } from 'antd';\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 6,\r\n  },\r\n  wrapperCol: {\r\n    span: 18,\r\n  },\r\n  layout: 'horizontal',\r\n};\r\n\r\nconst validateMessages = {\r\n  required: '\"${label}\" không được để trống!',\r\n  types: {\r\n    email: '\"${label}\" không đúng định dạng!',\r\n    number: '\"${label}\" phải là số!',\r\n  },\r\n  number: {\r\n    range: '\"${label}\" phải nằm trong đoạn ${min} đến ${max}',\r\n  },\r\n};\r\n\r\nconst defaultValues = {};\r\n\r\nconst LabelForm = ({\r\n  visible,\r\n  onCancel,\r\n  title,\r\n  onOk,\r\n  okText = 'OK',\r\n  cancelText = 'Hủy',\r\n  initialValues = defaultValues,\r\n  isDetails = false,\r\n}) => {\r\n  const [form] = Form.useForm();\r\n  useEffect(() => {\r\n    form.resetFields();\r\n    form.setFieldsValue(initialValues);\r\n  }, [initialValues, form]);\r\n\r\n  const onFinish = (values) => {\r\n    onOk(values);\r\n    form.resetFields();\r\n  };\r\n\r\n  const showExpandDetails = () => {\r\n    return (\r\n      <>\r\n        <Form.Item name=\"createdAt\" label=\"Ngày tạo\">\r\n          <Input disabled />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"updatedAt\" label=\"Ngày cập nhật\">\r\n          <Input disabled />\r\n        </Form.Item>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      width=\"50vw\"\r\n      title={title}\r\n      visible={visible}\r\n      onCancel={onCancel}\r\n      footer={false}\r\n    >\r\n      <Form\r\n        {...layout}\r\n        form={form}\r\n        name=\"labelForm\"\r\n        validateMessages={validateMessages}\r\n        onFinish={onFinish}\r\n        initialValues={initialValues}\r\n        scrollToFirstError\r\n        className=\"label-form\"\r\n      >\r\n        <Form.Item\r\n          name=\"name\"\r\n          label=\"Tên nhãn\"\r\n          rules={[{ type: 'string', required: !isDetails }]}\r\n        >\r\n          <Input disabled={isDetails} placeholder=\"Nhập tên nhãn\" />\r\n        </Form.Item>\r\n\r\n        {/* <Form.Item\r\n          name=\"property\"\r\n          label=\"Trường dữ liệu\"\r\n          rules={[{ type: 'string', required: !isDetails }]}\r\n        >\r\n          <Input disabled={isDetails} placeholder=\"Nhập tên trường dữ liệu\" />\r\n        </Form.Item> */}\r\n\r\n        <Form.Item name=\"description\" label=\"Mô tả\">\r\n          <Input disabled={isDetails} placeholder=\"Nhập mô tả nhãn\" />\r\n        </Form.Item>\r\n\r\n        {isDetails && showExpandDetails()}\r\n\r\n        <Row type=\"flex\" justify=\"end\" align=\"middle\">\r\n          {!isDetails && (\r\n            <Button htmlType=\"button\" onClick={onCancel}>\r\n              {cancelText}\r\n            </Button>\r\n          )}\r\n          &ensp;\r\n          <Button htmlType=\"submit\" type=\"primary\">\r\n            {okText}\r\n          </Button>\r\n        </Row>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LabelForm;\r\n","import React from 'react';\r\nimport { notification } from 'antd';\r\n\r\nimport LabelForm from '../LabelForm';\r\nimport { omitIsNil } from '../../../../utils/omit';\r\nimport { addLabelApi } from '../../../../apis/label';\r\n\r\nconst AddLabel = ({ visible, hideModal, addLabel }) => {\r\n  const onAddLabel = async ({ name, description, property }) => {\r\n    let labelData = omitIsNil(\r\n      {\r\n        name,\r\n        // property,\r\n        description,\r\n        isDefault: true,\r\n      },\r\n      { deep: false },\r\n    );\r\n    try {\r\n      const resp = await addLabelApi(labelData);\r\n\r\n      if (!resp || !resp.status || !resp.result) throw new Error('Máy chủ lỗi');\r\n\r\n      const { result: newLabel } = resp;\r\n      addLabel(newLabel);\r\n\r\n      notification.success({\r\n        message: 'Thêm nhãn thành công',\r\n      });\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Máy chủ lỗi, vui lòng thử lại sau',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LabelForm\r\n      title=\"Thêm nhãn\"\r\n      okText=\"Thêm\"\r\n      cancelText=\"Hủy\"\r\n      onOk={onAddLabel}\r\n      onCancel={hideModal}\r\n      visible={visible}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AddLabel;\r\n","import React from 'react';\r\n\r\nimport { notification } from 'antd';\r\nimport LabelForm from '../LabelForm';\r\nimport { omitIsNil } from '../../../../utils/omit';\r\nimport { updateLabelApi } from '../../../../apis/label';\r\n\r\nconst UpdateLabel = ({ visible, hideModal, labelDetails, updateLabel }) => {\r\n  const onUpdateLabel = async ({ name, description, property }) => {\r\n    const labelData = omitIsNil(\r\n      {\r\n        _id: labelDetails._id || '',\r\n        name,\r\n        description,\r\n        property,\r\n      },\r\n      { deep: false },\r\n    );\r\n    try {\r\n      const resp = await updateLabelApi(labelData);\r\n\r\n      if (!resp || !resp.status || !resp.result) throw new Error('Máy chủ lỗi');\r\n\r\n      const { result: updatedLabel } = resp;\r\n      updateLabel(updatedLabel);\r\n\r\n      notification.success({\r\n        message: 'Cập nhật nhãn thành công',\r\n      });\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Máy chủ lỗi, vui lòng thử lại sau',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LabelForm\r\n      title=\"Cập nhật nhãn\"\r\n      okText=\"Cập nhật\"\r\n      cancelText=\"Hủy\"\r\n      onOk={onUpdateLabel}\r\n      onCancel={hideModal}\r\n      visible={visible}\r\n      initialValues={labelDetails}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UpdateLabel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Col,\r\n  Input,\r\n  Row,\r\n  Table,\r\n  Modal,\r\n  notification,\r\n  Button,\r\n  Spin,\r\n} from 'antd';\r\nimport { removeVietnameseTones } from '../../../../helpers/removeVietnameseTones';\r\nimport moment from 'moment';\r\n\r\nimport {\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  ExclamationCircleOutlined,\r\n  PlusOutlined,\r\n} from '@ant-design/icons';\r\nimport StyleListLabels, {\r\n  StyledTable,\r\n  StyleSpinContainer,\r\n} from './index.style';\r\nimport AddLabel from '../AddLabel';\r\nimport UpdateLabel from '../UpdateLabel';\r\n\r\nimport { deleteLabelApi, getListLabelsApi } from '../../../../apis/label';\r\nimport { formatMomentDateToDateTimeString } from '../../MonitorCampaign/services';\r\n\r\nconst { Search } = Input;\r\n\r\nconst ListLabels = () => {\r\n  const [modalCreateVisible, setModalCreateVisible] = useState(false);\r\n  const [modalUpdateVisible, setModalUpdateVisible] = useState(false);\r\n  const [labelUpdateData, setLabelUpdateData] = useState();\r\n  const [listLabels, setListLabels] = useState();\r\n  const [listLabelsInit, setListLabelsInit] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (listLabels) return;\r\n    const fetchListLabels = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const resp = await getListLabelsApi();\r\n        if (\r\n          !resp ||\r\n          !resp.status ||\r\n          !resp.result ||\r\n          !Array.isArray(resp.result)\r\n        ) {\r\n          throw new Error('Máy chủ lỗi');\r\n        }\r\n\r\n        setListLabels(resp.result);\r\n        setListLabelsInit(resp.result);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        notification.error({\r\n          message: 'Máy chủ lỗi, vui lòng thử lại sau',\r\n        });\r\n      }\r\n    };\r\n    fetchListLabels();\r\n  }, [listLabels]);\r\n\r\n  const handleSearch = (value) => {\r\n    let dataSearchResult = listLabelsInit.filter((label) => {\r\n      let labelNameConvert = removeVietnameseTones(label.name);\r\n      let labelDescriptionConvert = removeVietnameseTones(label.description);\r\n      let valueConvert = removeVietnameseTones(value);\r\n\r\n      if (\r\n        labelNameConvert.includes(valueConvert) ||\r\n        labelDescriptionConvert.includes(valueConvert)\r\n      ) {\r\n        return label;\r\n      }\r\n      return null;\r\n    });\r\n\r\n    setListLabels(dataSearchResult);\r\n  };\r\n\r\n  const showModalCreate = () => {\r\n    setModalCreateVisible(true);\r\n  };\r\n\r\n  const hideModalCreate = () => {\r\n    setModalCreateVisible(false);\r\n  };\r\n\r\n  const showModalUpdate = (record) => () => {\r\n    setLabelUpdateData(record);\r\n    setModalUpdateVisible(true);\r\n  };\r\n\r\n  const hideModalUpdate = () => {\r\n    setModalUpdateVisible(false);\r\n  };\r\n\r\n  const addLabel = (label) => {\r\n    setListLabels([label, ...listLabels]);\r\n    hideModalCreate();\r\n  };\r\n\r\n  const updateLabel = (label) => {\r\n    const { _id } = label;\r\n    const updatedListLabels = listLabels.map((element) =>\r\n      element._id === _id ? label : element,\r\n    );\r\n\r\n    setListLabels(updatedListLabels);\r\n    hideModalUpdate();\r\n  };\r\n\r\n  const handleDeleteLabel = (labelId) => async () => {\r\n    try {\r\n      const resp = await deleteLabelApi(labelId);\r\n\r\n      if (!resp || !resp.status) throw new Error('Máy chủ lỗi');\r\n\r\n      const newListLabels = listLabels.filter((label) => {\r\n        const { id = '' } = label;\r\n        return labelId !== id;\r\n      });\r\n\r\n      setListLabels(newListLabels);\r\n\r\n      notification.success({\r\n        message: 'Xóa nhãn thành công',\r\n      });\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Máy chủ lỗi, vui lòng thử lại sau',\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteConfirm = (item) => {\r\n    const { _id, name } = item;\r\n\r\n    Modal.confirm({\r\n      title: 'Cảnh báo',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: (\r\n        <span>\r\n          Bạn có muốn xóa nhãn <strong>{name}</strong> không?\r\n        </span>\r\n      ),\r\n      okText: 'Xóa',\r\n      cancelText: 'Hủy',\r\n      onOk: handleDeleteLabel(_id),\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      key: 'name',\r\n      dataIndex: 'name',\r\n      title: 'Tên nhãn',\r\n      width: '15%',\r\n      sorter: (a, b) => a.name.localeCompare(b.name),\r\n    },\r\n\r\n    {\r\n      key: 'description',\r\n      dataIndex: 'description',\r\n      title: 'Mô tả',\r\n      width: '20%',\r\n      sorter: (a, b) => a.description.localeCompare(b.description),\r\n    },\r\n    {\r\n      key: 'createdAt',\r\n      dataIndex: 'createdAt',\r\n      title: 'Ngày tạo',\r\n      width: '20%',\r\n      render: formatMomentDateToDateTimeString,\r\n      sorter: (a, b) => moment(a.startTime).diff(moment(b.startTime)),\r\n    },\r\n    {\r\n      key: 'updatedAt',\r\n      dataIndex: 'updatedAt',\r\n      title: 'Ngày cập nhật',\r\n      width: '20%',\r\n      render: formatMomentDateToDateTimeString,\r\n      sorter: (a, b) => moment(a.startTime).diff(moment(b.startTime)),\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: 'Hành động',\r\n      width: 'auto',\r\n      align: 'center',\r\n      render: (data, record) => {\r\n        return (\r\n          <Row type=\"flex\" gutter={[8, 8]} justify=\"center\" align=\"middle\">\r\n            <Col>\r\n              <Button\r\n                icon={<EditOutlined />}\r\n                size=\"small\"\r\n                onClick={showModalUpdate(record)}\r\n              >\r\n                Cập nhật\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                icon={<DeleteOutlined />}\r\n                danger\r\n                size=\"small\"\r\n                onClick={() => deleteConfirm(record)}\r\n              >\r\n                Xóa\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <StyleListLabels>\r\n      <AddLabel\r\n        visible={modalCreateVisible}\r\n        hideModal={hideModalCreate}\r\n        addLabel={addLabel}\r\n      />\r\n\r\n      <UpdateLabel\r\n        visible={modalUpdateVisible}\r\n        hideModal={hideModalUpdate}\r\n        labelDetails={labelUpdateData}\r\n        updateLabel={updateLabel}\r\n      />\r\n\r\n      <h3>Danh sách nhãn</h3>\r\n\r\n      <Row type=\"flex\" justify=\"space-between\" align=\"middle\">\r\n        <Col span={8}>\r\n          <Search\r\n            placeholder=\"Tìm tên nhãn, mô tả...\"\r\n            onSearch={handleSearch}\r\n            enterButton\r\n          />\r\n        </Col>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<PlusOutlined />}\r\n          onClick={showModalCreate}\r\n        >\r\n          Thêm nhãn\r\n        </Button>\r\n      </Row>\r\n      {loading ? (\r\n        <StyleSpinContainer>\r\n          <Spin />\r\n        </StyleSpinContainer>\r\n      ) : (\r\n        <StyledTable>\r\n          <Table columns={columns} dataSource={listLabels} />\r\n        </StyledTable>\r\n      )}\r\n    </StyleListLabels>\r\n  );\r\n};\r\n\r\nexport default ListLabels;\r\n","import React from 'react';\r\nimport ListLabels from '../../containers/FlightHub/Labels/ListLabels';\r\n\r\nconst ListLabelsPage = () => {\r\n  return <ListLabels></ListLabels>;\r\n};\r\n\r\nexport default ListLabelsPage;\r\n","import React from 'react';\r\nimport {compose, withProps} from \"recompose\"\r\nimport 'antd/dist/antd.css';\r\nimport {Table, Checkbox, Col, Row, Input, Select, Button, Modal, Tabs} from 'antd';\r\nimport {Spin, Space} from 'antd';\r\nimport {SearchOutlined, DeleteOutlined, FolderAddOutlined} from '@ant-design/icons';\r\nimport {withRouter} from 'react-router-dom'\r\nimport { withGoogleMap, withScriptjs, GoogleMap, Polygon} from \"react-google-maps\";\r\nimport axios from 'axios';\r\nimport { render } from 'react-dom';\r\n\r\nconst {TabPane} = Tabs\r\nconst {Option} = Select\r\n\r\nfunction callback(key) {\r\n    console.log(key);\r\n}\r\n\r\nconst MyMapComponent = compose(\r\n    withProps({\r\n        googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU\",\r\n        loadingElement: <div style={{height: `100%`}}/>,\r\n        containerElement: <div style={{height: `400px`}}/>,\r\n        mapElement: <div style={{height: `100%`}}/>,\r\n    }),\r\n    withScriptjs,\r\n    withGoogleMap\r\n)((props) =>\r\n    <GoogleMap\r\n        defaultZoom={12}\r\n        defaultCenter={{lat: 21.0245, lng: 105.84117}}\r\n        onClick={props.onMarkerClick}\r\n        \r\n    >\r\n        {props.showDomain.map((domain, index) => {\r\n            return (\r\n                <Polygon\r\n                    path={domain}\r\n                    key={index}\r\n                    editable={true}\r\n                    onClick={props.onMarkerClick}\r\n                    options={{\r\n                        strokeColor: \"#00FF00\",\r\n                        strokeWeight: 0.5,\r\n                    }}\r\n                >\r\n                </Polygon>\r\n            );\r\n        })}\r\n        <Polygon\r\n            path={props.triangleCoords}\r\n            key={1}\r\n            editable={true}\r\n            options={{\r\n                strokeColor: \"#0000FF\",\r\n                strokeWeight: 1,\r\n            }}\r\n        />\r\n    </GoogleMap>\r\n\r\n    \r\n)\r\n\r\nclass DetailDomain extends React.Component {\r\n\r\n    render() {\r\n        return(\r\n            <div style = {{visibility: this.props.show, width: '80vh'}} >\r\n                <h1 style={{fontWeight:'700'}}>Thông tin miền giám sát</h1>\r\n                <table className=\"table table-hover table-responsive table-borderless\">\r\n                <tr>\r\n                    <th style= {{width:'30vh'}}>Mã miền giám sát:</th>\r\n                    <td style= {{width:'40vh'}}>{this.props.selectedDomain.code}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style= {{width:'30vh'}}>Tên miền giám sát:</th>\r\n                    <td style= {{width:'40vh'}}>{this.props.selectedDomain.name}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style= {{width:'25vh'}}>Chiều cao tối đa:</th>\r\n                    <td style= {{width:'40vh'}}>{this.props.selectedDomain.maxHeight}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style= {{width:'25vh'}}>Chiều cao tối thiểu:</th>\r\n                    <td style= {{width:'40vh'}}>{this.props.selectedDomain.minHeight}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style= {{width:'25vh'}}>Mô tả:</th>\r\n                    <td style= {{width:'55vh'}}>{this.props.selectedDomain.description}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style= {{width:'25vh'}}>Độ ưu tiên:</th>\r\n                    <td style= {{width:'40vh'}}>{this.props.selectedDomain.priority}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style= {{width:'25vh'}}>Số lần đã xảy ra sự cố:</th>\r\n                    <td style= {{width:'40vh'}}>{this.props.selectedDomain.times}</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style= {{width:'25vh'}}>Mức độ nguy hiểm:</th>\r\n                    <td style= {{width:'40vh'}}>{this.props.selectedDomain.level}</td>\r\n                </tr>\r\n            </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nclass DetailArea extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            triangleCoords: [],\r\n            oldarea: {},\r\n            id: this.props.location.state.id,\r\n            newarea: {\r\n                \"startPoint\": {\r\n                    \"longitude\": 105.79941430192696,\r\n                    \"latitude\": 21.050373019230733\r\n                },\r\n                \"endPoint\": {\r\n                    \"latitude\": 21.023990392074978,\r\n                    \"longitude\": 105.83088096859359\r\n                },\r\n                \"monitoredZone\": [\r\n                    \"5fcf79eda122370017d3ae2b\",\r\n                    \"5fd340adfb276d0017ec7aea\"\r\n                ],\r\n                \"_id\": \"5fcf79c4a122370017d3ae2a\",\r\n                \"name\": \"Quận Ba Đình, Hà Nội\",\r\n                \"code\": \"AREA0231\",\r\n                \"maxHeight\": 280,\r\n                \"minHeight\": 45,\r\n                \"priority\": 0,\r\n                \"level\": 0,\r\n                \"times\": 0,\r\n                \"description\": 'Day la khu vuc quan Ba Dinh'\r\n            },\r\n            showDetail: 'hidden',\r\n            selectedDomain: {},\r\n            listDomain: [],\r\n            listDomainToShow: [],\r\n            openModalshow: false,\r\n            showMarkerMouseover: false,\r\n            openModalAdd: false,\r\n            openModalDelete: false,\r\n            pathCoordinates: [],\r\n    \r\n        }\r\n        this._handleChange = this._handleChange.bind(this);\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.setArea(this.state.id);\r\n        setTimeout(300);\r\n        this.getZoneByArea(this.state.id);\r\n    }\r\n    \r\n    diff(obj1, obj2) {\r\n        let difference = Object.keys(obj1).filter(k => obj1[k] !== obj2[k]);\r\n        return difference.length === 0;\r\n    }\r\n    \r\n    _handleChange(e) {\r\n        let key = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState(prevState => {\r\n            let newarea = Object.assign({}, prevState.newarea);\r\n            newarea[key] = value;\r\n            return { newarea };\r\n        })\r\n    }\r\n    handleMarkerClick = (e) => {\r\n        let lat = e.latLng.lat();\r\n        let long = e.latLng.lng();\r\n        let selectedDomain = {};\r\n        if (this.state.listDomain.length > 0) {\r\n            let i =0;\r\n            for (i = 0; i < this.state.listDomain.length; i++) {\r\n                if ( (lat - this.state.listDomain[i].startPoint.latitude)*(lat - this.state.listDomain[i].endPoint.latitude)< 0 && \r\n                     (long - this.state.listDomain[i].startPoint.longitude)*(long - this.state.listDomain[i].endPoint.longitude)< 0\r\n                ) {\r\n                    selectedDomain = Object.assign({}, this.state.listDomain[i]); break;\r\n                }\r\n            }\r\n        }\r\n        this.setState({selectedDomain});\r\n        this.setState({\r\n            showDetail: 'visible'\r\n        })\r\n        console.log(this.state.selectedDomain.name);\r\n    }\r\n\r\n    onMarkerMouseover = () => {\r\n        let showMarkerMouseover = true;\r\n        this.setState({ showMarkerMouseover });\r\n        this.setState({\r\n            showDetail: 'hidden'\r\n        })\r\n    }\r\n    handleMouseExit = () => {\r\n        let showMarkerMouseover = false;\r\n        this.setState({ showMarkerMouseover });\r\n    }\r\n    \r\n    setStatusModalAdd(openModalAdd) {\r\n        this.setState({openModalAdd});\r\n    }\r\n    \r\n    setStatusModalDelete(openModalDelete) {\r\n        this.setState({openModalDelete});\r\n    }\r\n    showDomain() {\r\n        if (this.state.newarea.startPoint.latitude && this.state.newarea.endPoint.latitude) {\r\n            let triangleCoords = [\r\n                {lat: this.state.newarea.startPoint.latitude, lng: this.state.newarea.startPoint.longitude},\r\n                {lat: this.state.newarea.startPoint.latitude, lng: this.state.newarea.endPoint.longitude},\r\n                {lat: this.state.newarea.endPoint.latitude, lng: this.state.newarea.endPoint.longitude},\r\n                {lat: this.state.newarea.endPoint.latitude, lng: this.state.newarea.startPoint.longitude},\r\n            ];\r\n            this.setState({triangleCoords});\r\n        }\r\n    }\r\n    setArea(id) {\r\n        axios.get(`https://monitoredzoneserver.herokuapp.com/area/areainfo/${id}`)\r\n            .then(res => {\r\n                    const area = res.data.content.area;\r\n                    let newarea = {};\r\n                    newarea = Object.assign({}, area);\r\n                    this.setState({newarea});\r\n                }\r\n            )\r\n            .catch(error => console.log(error));\r\n    }\r\n    getZoneByArea(id) {\r\n        let listDomainToShow = [];\r\n        let Area = this.state.newarea;\r\n        let area = [\r\n            {lat: Area.startPoint.latitude, lng: Area.startPoint.longitude},\r\n            {lat: Area.startPoint.latitude, lng: Area.endPoint.longitude},\r\n            {lat: Area.endPoint.latitude, lng: Area.endPoint.longitude},\r\n            {lat: Area.endPoint.latitude, lng: Area.startPoint.longitude}\r\n        ];\r\n        listDomainToShow.push(area);\r\n        axios.get(`https://monitoredzoneserver.herokuapp.com/monitoredzone/area/${id}`)\r\n            .then(res => {\r\n                const list = res.data.content.zone;\r\n                let listDomain =[];\r\n                let i = 0;\r\n                for ( i = 0; i < list.length; i++){\r\n                    let c = Object.assign({}, list[i]);\r\n                    listDomain.push(c);\r\n                    let domain = [\r\n                        {lat: c.startPoint.latitude, lng: c.startPoint.longitude},\r\n                        {lat: c.startPoint.latitude, lng: c.endPoint.longitude},\r\n                        {lat: c.endPoint.latitude, lng: c.endPoint.longitude},\r\n                        {lat: c.endPoint.latitude, lng: c.startPoint.longitude}\r\n                    ];\r\n                    listDomainToShow.push(domain);\r\n                }\r\n                this.setState({listDomain});\r\n                this.setState({listDomainToShow});\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"main\">\r\n                <Tabs defaultActiveKey=\"1\" onChange={callback}>\r\n                    <TabPane tab=\"Thông tin khu vực giám sát\" key=\"1\">\r\n                        <div className=\"content\">\r\n                            <table className=\"table table-hover table-responsive table-borderless\" >\r\n                                <tr>\r\n                                    <th style= {{width:'20%'}}>Mã khu vực giám sát:</th>\r\n                                    <td style= {{width:'20%'}}>\r\n                                        {this.state.newarea.code}\r\n                                    </td>\r\n                                    <td style= {{width:'20%', fontWeight: '700'}}>\r\n                                        Tên khu vực giám sát:\r\n                                    </td>\r\n                                    <td style= {{width:'20%'}}>\r\n                                    <   Input name=\"name\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newarea.name} onChange={this._handleChange}/> \r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style= {{width:'20%'}}>Chiều cao tối đa:</th>\r\n                                    <td style= {{width:'20%'}}>\r\n                                        <Input name=\"maxH\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newarea.maxHeight} onChange={this._handleChange}/>    \r\n                                    </td>\r\n                                    <td style= {{width:'20%', fontWeight: '700'}}>Chiều cao tối thiểu:</td>\r\n                                    <td style= {{width:'20%'}}>\r\n                                        <Input name=\"minH\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newarea.minHeight} onChange={this._handleChange}/>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style= {{width:'20%'}}>Mô tả:</th>\r\n                                    <td colSpan =\"3\">\r\n                                    <   Input name=\"description\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newarea.description} onChange={this._handleChange}/>  \r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style= {{width:'20%', fontWeight: '700'}}>Độ ưu tiên:</th>\r\n                                    <td style= {{width:'20%'}}>\r\n                                        <Input name=\"priority\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newarea.priority} onChange={this._handleChange}/>\r\n                                    </td>\r\n                                    <td style= {{width:'20%', fontWeight: '700'}}>Số lần đã xảy ra sự cố:</td>\r\n                                    <td style= {{width:'20%'}}>\r\n                                        {this.state.newarea.times}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>Mức độ nguy hiểm:</th>\r\n                                    <td colSpan = \"3\">\r\n                                        <Input name=\"level\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newarea.level} onChange={this._handleChange}/>\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                        </div>\r\n                        <br/>\r\n                        <div>\r\n                        <span style={{width: \"80vh\", float: \"Left\"}}>\r\n                            <MyMapComponent\r\n                                onMarkerClick={this.handleMarkerClick}\r\n                                onMarkerMouseover={this.onMarkerMouseover}\r\n                                handleMouseExit={this.handleMouseExit}\r\n                                triangleCoords={this.state.triangleCoords}\r\n                                showDomain={this.state.listDomainToShow}\r\n                                showMarkerMouseover={this.state.showMarkerMouseover}\r\n                            />\r\n                        </span>\r\n                        <span className=\"domain\" style={{float: \"Left\", paddingLeft: '5%'}}>\r\n                            <DetailDomain \r\n                                selectedDomain ={this.state.selectedDomain}\r\n                                show = {this.state.showDetail}\r\n                            />\r\n                        </span>\r\n                        </div>\r\n                        <div className=\"action center\" style={{clear: \"Left\"}}>\r\n                            <br/>\r\n                            <div className=\"save\">\r\n                                {\r\n                                    !this.diff(this.state.oldarea, this.state.newarea) && <Button type=\"primary\">Lưu</Button>\r\n                                }\r\n                                {\r\n                                    (this.diff(this.state.oldarea, this.state.newarea)) && <Button disabled>Lưu</Button>\r\n                                }\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </TabPane>\r\n                    <TabPane tab=\" \" key=\"2\">                        \r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(DetailArea);\r\n","import React from 'react';\r\nimport {compose, withProps} from \"recompose\"\r\nimport 'antd/dist/antd.css';\r\nimport {Table, Checkbox, Col, Row, Input, Select, Button, Modal} from 'antd';\r\nimport {Spin, Space} from 'antd';\r\nimport {SearchOutlined, DeleteOutlined, FolderAddOutlined} from '@ant-design/icons';\r\nimport {withRouter} from 'react-router'\r\nimport { withGoogleMap, withScriptjs, GoogleMap, Polygon} from \"react-google-maps\";\r\nimport axios from 'axios';\r\n\r\nconst MyMapComponent = compose(\r\n    withProps({\r\n        googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU\",\r\n        loadingElement: <div style={{height: `100%`}}/>,\r\n        containerElement: <div style={{height: `400px`}}/>,\r\n        mapElement: <div style={{height: `100%`}}/>,\r\n    }),\r\n    withScriptjs,\r\n    withGoogleMap\r\n)((props) =>\r\n    <GoogleMap\r\n        defaultZoom={8}\r\n        defaultCenter={{lat: 21.0245, lng: 105.84117}}\r\n        onClick={props.onMarkerClick}\r\n    >\r\n        {props.chooseArea.map((area, index) => {\r\n            return (\r\n                <Polygon\r\n                    path={area}\r\n                    key={index}\r\n                    editable={true}\r\n                    onClick={props.onMarkerClick}\r\n                    options={{\r\n                        strokeColor: \"#FF0000\",\r\n                        strokeWeight: 1,\r\n                    }}\r\n                >\r\n                </Polygon>\r\n            );\r\n        })}\r\n        <Polygon\r\n            path={props.triangleCoords}\r\n            onClick={props.onMarkerClick}\r\n            key={1}\r\n            editable={true}\r\n            options={{\r\n                strokeColor: \"#0000FF\",\r\n                strokeWeight: 1,\r\n            }}\r\n        />\r\n    </GoogleMap>\r\n)\r\n\r\nclass ManageArea extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            triangleCoords: [],\r\n            isMarkerShown: false,\r\n            arrayDelete: [],\r\n            listArea: [\r\n            ],\r\n            openModalAdd: false,\r\n            columns: [\r\n                {\r\n                    title: 'Mã khu vực',\r\n                    dataIndex: 'code',\r\n                    key: 'key',\r\n                    render: text => <a onClick={() => {\r\n                        this.editArea(text)\r\n                    }}>{text}</a>\r\n                },\r\n                {\r\n                    title: 'Tên khu vực',\r\n                    dataIndex: 'name',\r\n                    key: 'name',\r\n                },\r\n                {\r\n                    title: 'Mô tả',\r\n                    dataIndex: 'description',\r\n                    key: 'description',\r\n                },\r\n                {\r\n                    title: 'Số miền trong khu vực',\r\n                    key: 'total',\r\n                    dataIndex: 'total',\r\n                },\r\n                {\r\n                    title: 'Số lần đã xảy ra sự cố',\r\n                    dataIndex: 'times',\r\n                    key: 'times',\r\n                },\r\n                {\r\n                    title: '',\r\n                    render: val => (\r\n                        <Button type=\"primary\" danger icon={<DeleteOutlined/>} style={{marginRight: 10}}\r\n                                onClick={() => this.deleteArea(val)}>\r\n                            Xóa\r\n                        </Button>\r\n                    )\r\n                }\r\n            ],\r\n            create: {\r\n                startPoint: {\r\n                    latitude: '',\r\n                    longitude: '',\r\n                },\r\n                endPoint: {\r\n                    latitude: '',\r\n                    longitude: '',\r\n                },\r\n                name: 'Nui NamDL',\r\n                code: 'namDL',\r\n                maxHeight: 100,\r\n                minHeight: 10,\r\n                priority: 0,\r\n                level: 0,\r\n                times: 0,\r\n                description: '',\r\n            },\r\n            loading: true,\r\n            chooseArea: [],\r\n            zoneByArea: [],\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.editArea = this.editArea.bind(this);\r\n        this._handleChange = this._handleChange.bind(this);\r\n    }\r\n\r\n    delayedShowMarker = () => {\r\n        setTimeout(() => {\r\n            this.setState({isMarkerShown: true})\r\n        }, 3000)\r\n    }\r\n    \r\n    handleMarkerClick = (e) => {\r\n        let lat = e.latLng.lat();\r\n        let lng = e.latLng.lng();\r\n        let latStartPoint = this.state.create.startPoint.latitude;\r\n        let latEndPoint = this.state.create.endPoint.latitude;\r\n        if (!latStartPoint) {\r\n            this.setState(prevState => {\r\n                let create = Object.assign({}, prevState.create);\r\n                create.startPoint.latitude = lat;\r\n                create.startPoint.longitude = lng;\r\n                return {create};\r\n            });\r\n        } else if (!latEndPoint) {\r\n            this.setState(prevState => {\r\n                let create = Object.assign({}, prevState.create);\r\n                create.endPoint.latitude = lat;\r\n                create.endPoint.longitude = lng;\r\n                return {create};\r\n            });\r\n        } else {\r\n            this.setState(prevState => {\r\n                let create = Object.assign({}, prevState.create);\r\n                create.startPoint.latitude = lat;\r\n                create.startPoint.longitude = lng;\r\n                create.endPoint.latitude = '';\r\n                create.endPoint.longitude = '';\r\n                return {create};\r\n            });\r\n        }\r\n        if (this.state.create.startPoint.latitude && this.state.create.endPoint.latitude) {\r\n            let triangleCoords = [\r\n                {lat: this.state.create.startPoint.latitude, lng: this.state.create.startPoint.longitude},\r\n                {lat: this.state.create.startPoint.latitude, lng: this.state.create.endPoint.longitude},\r\n                {lat: this.state.create.endPoint.latitude, lng: this.state.create.endPoint.longitude},\r\n                {lat: this.state.create.endPoint.latitude, lng: this.state.create.startPoint.longitude},\r\n            ];\r\n            this.setState({triangleCoords});\r\n        }\r\n        this.setState({isMarkerShown: false});\r\n        this.delayedShowMarker();\r\n    }\r\n    \r\n    _handleChange(e) {\r\n        let key = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState(prevState => {\r\n            let create = Object.assign({}, prevState.create);\r\n            create[key] = value;\r\n            return { create };\r\n        })\r\n    }\r\n    setStatusModalAdd(openModalAdd) {\r\n         this.setState({openModalAdd});\r\n     }\r\n    getAllArea() {\r\n        axios.get(`https://monitoredzoneserver.herokuapp.com/area?pageSize=1000`)\r\n          .then(res => {\r\n            let loading = false;\r\n            this.setState({loading});\r\n            const list = res.data.content.monitoredArea;\r\n            let listArea = [];\r\n            let i = 0;\r\n            for ( i = 0; i < list.length; i++){\r\n              let Object = {\r\n                  code: '',\r\n                  name: '',\r\n                  total: 0,\r\n                  _id: '',\r\n                  description: '',\r\n                  times: 0\r\n              };\r\n              Object.code = list[i].code;\r\n              Object.name = list[i].name;\r\n              Object._id = list[i]._id;\r\n              Object.total = list[i].monitoredZone.length;\r\n              Object.description = list[i].description;\r\n              Object.times = list[i].times;\r\n              listArea.push(Object);\r\n            }\r\n            this.setState({\r\n                listArea : listArea\r\n            })\r\n          })\r\n          .catch(error => console.log(error));\r\n      }\r\n    createArea() {\r\n        this.setStatusModalAdd(false);\r\n        let data = this.state.create;\r\n        axios.post(`https://monitoredzoneserver.herokuapp.com/area`, data, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.data.success) {\r\n                    this.getAllArea();\r\n                }\r\n                console.log('ok');\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n    deleteArea(area) {\r\n        let id = area._id;\r\n        if(window.confirm(`Xóa khu vực này : ${area.name}? `)) {\r\n            axios.delete(`https://monitoredzoneserver.herokuapp.com/area/${id}`)\r\n                .then(res => {\r\n                    if (res.data.success) {\r\n                        this.getAllArea();\r\n                        console.log('da xoa');\r\n                    }\r\n                })\r\n                .catch(error => console.log(error));\r\n        } else {\r\n        \r\n        }\r\n    }\r\n    \r\n\r\n\r\n    setStatusModalDelete(openModalDelete) {\r\n        this.setState({openModalDelete});\r\n    }\r\n    \r\n    onChange(e) {\r\n        let val = e.target['data-key'];\r\n        let status = e.target.checked;\r\n        let arrayDelete = [...this.state.arrayDelete];\r\n        if (status) {\r\n            let index = arrayDelete.findIndex(elm => elm === val);\r\n            if (index === -1) {\r\n                arrayDelete.push(val);\r\n                this.setState({arrayDelete: arrayDelete});\r\n            }\r\n        } else {\r\n            let index = arrayDelete.findIndex(elm => elm === val);\r\n            if (index !== -1) {\r\n                arrayDelete.splice(index, 1);\r\n                this.setState({arrayDelete: arrayDelete});\r\n            }\r\n        }\r\n    }\r\n    \r\n    editArea(val) {\r\n        let area = this.state.listArea.find(area => area.code === val);\r\n        console.log(typeof(area));\r\n        this.props.history.push({\r\n            pathname: '/surveillance-area-detail',\r\n            state: {\r\n                area: area,\r\n                id: area._id\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllArea();\r\n        this.delayedShowMarker();\r\n      }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"filter\">\r\n                    <Row>\r\n                        <Col span={6}>\r\n                            <Input style={{width: 250}} placeholder=\"Tìm kiếm\" prefix={<SearchOutlined/>}/>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Button type=\"primary\" icon={<FolderAddOutlined/>}\r\n                                    onClick={() => this.setStatusModalAdd(true)}>\r\n                                Thêm mới\r\n                            </Button>\r\n                            <Modal\r\n                                title=\"Thêm mới khu vực giám sát\"\r\n                                visible={this.state.openModalAdd}\r\n                                onOk={() => this.createArea()}\r\n                                onCancel={() => this.setStatusModalAdd(false)}\r\n                                okText=\"Lưu\"\r\n                                cancelText=\"Hủy\"\r\n                                centered\r\n                            >\r\n                                <table className=\"table table-hover table-responsive table-borderless\">\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Mã khu vực giám sát</th>\r\n                                        <td>\r\n                                            <Input name = 'code' style={{width: 200}} onChange={this._handleChange} placeholder=\"Nhập\"/>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Tên khu vực giám sát</th>\r\n                                        <td>\r\n                                            <Input name = 'name' style={{width: 200}} onChange={this._handleChange} placeholder=\"Nhập\"/>\r\n                                        </td>\r\n                                    </tr>\r\n\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Chiều cao tối đa</th>\r\n                                        <td>\r\n                                            <Input name = 'maxHeight' style={{width: 200}} onChange={this._handleChange}  placeholder=\"Nhập\"/>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Chiều cao tối thiểu</th>\r\n                                        <td>\r\n                                            <Input name = 'minHeight' style={{width: 200}} onChange={this._handleChange} placeholder=\"Nhập\"/>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Độ ưu tiên</th>\r\n                                        <td>\r\n                                            <Input name = 'priority' style={{width: 200}} onChange={this._handleChange} placeholder=\"Nhập\"/>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Mô tả</th>\r\n                                        <td>\r\n                                            <Input name = 'description' style={{width: 200}} onChange={this._handleChange} placeholder=\"Nhập\"/>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                                <br></br>\r\n                                <div >\r\n                                    <MyMapComponent\r\n                                        onMarkerClick={this.handleMarkerClick}\r\n                                        triangleCoords={this.state.triangleCoords}\r\n                                        chooseArea={this.state.chooseArea}\r\n                                    />\r\n                                </div>\r\n                            </Modal>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                <br/>\r\n                <div className=\"content\">   \r\n                {\r\n                        this.state.loading ? (\r\n                            <div style={{'text-align': 'center', 'lineHeight': '30'}}>\r\n                                <Space size=\"middle\">\r\n                                    <Spin tip=\"Loading...\" size=\"large\"/>\r\n                                </Space>\r\n                            </div>\r\n                        ) : (\r\n                            <Table columns={this.state.columns} dataSource={this.state.listArea} rowKey=\"key\"/>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(ManageArea);\r\n","import React from 'react';\r\nimport {compose, withProps} from \"recompose\"\r\nimport 'antd/dist/antd.css';\r\nimport {Table, Col, Row, Input, Select, Button, Modal} from 'antd';\r\nimport {SearchOutlined, DeleteOutlined, FolderAddOutlined} from '@ant-design/icons';\r\nimport {Spin, Space} from 'antd';\r\nimport {withRouter} from 'react-router';\r\nimport axios from 'axios';\r\nimport {\r\n    withGoogleMap,\r\n    withScriptjs,\r\n    GoogleMap,\r\n    Polygon,\r\n} from \"react-google-maps\";\r\n\r\nconst {Option} = Select;\r\n\r\nconst MyMapComponent = compose(\r\n    withProps({\r\n        googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU\",\r\n        loadingElement: <div style={{height: `100%`}}/>,\r\n        containerElement: <div style={{height: `400px`}}/>,\r\n        mapElement: <div style={{height: `100%`}}/>,\r\n    }),\r\n    withScriptjs,\r\n    withGoogleMap\r\n)((props) =>\r\n    <GoogleMap\r\n        defaultZoom={12}\r\n        defaultCenter={{lat: 21.0245, lng: 105.84117}}\r\n        onClick={props.onMarkerClick}\r\n    >\r\n        \r\n        {props.chooseArea.map((area, index) => {\r\n            return (\r\n                <Polygon\r\n                    path={area}\r\n                    key={index}\r\n                    editable={true}\r\n                    onClick={props.onMarkerClick}\r\n                    options={{\r\n                        strokeColor: \"#FF0000\",\r\n                        strokeWeight: 1,\r\n                    }}\r\n                >\r\n                </Polygon>\r\n            );\r\n        })}\r\n        <Polygon\r\n            path={props.triangleCoords}\r\n            onClick={props.onMarkerClick}\r\n            key={1}\r\n            editable={true}\r\n            options={{\r\n                strokeColor: \"#0000FF\",\r\n                strokeWeight: 1,\r\n            }}\r\n        />\r\n    </GoogleMap>\r\n)\r\n\r\nclass Manage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            triangleCoords: [],// chưa 4 diem hien thi tren ban do\r\n            isMarkerShown: false,\r\n            arrayDelete: [],\r\n            listDomain: [],\r\n            openModalAdd: false,\r\n            openModalDelete: false,\r\n            columns: [\r\n                {\r\n                    title: 'Mã miền',\r\n                    render: val => <a onClick={() => {\r\n                        this.editDomain(val._id)\r\n                    }}>{val.code}</a>\r\n                },\r\n                \r\n                {\r\n                    title: 'Tên miền',\r\n                    render: val => <p>{val.name}</p>\r\n                },\r\n                {\r\n                    title: 'Chiều cao tối thiểu',\r\n                    render: val => <p>{val.minHeight}</p>\r\n                },\r\n                \r\n                {\r\n                    title: 'Chiều cao tối đa',\r\n                    render: val => <p>{val.maxHeight}</p>\r\n                },\r\n                {\r\n                    title: 'Mô tả',\r\n                    render: val => <p>{val.description}</p>\r\n                },\r\n                {\r\n                    title: 'Thời gian cập nhật',\r\n                    render: val => <p>{val.updatedAt}</p>\r\n                },\r\n                {\r\n                    title: 'Khu vực',\r\n                    render: val => <p>{this.getNameArea(val.area)}</p>\r\n                },\r\n                {\r\n                    title: '',\r\n                    render: val => (\r\n                        <Button type=\"primary\" danger icon={<DeleteOutlined/>} style={{marginRight: 10}}\r\n                                onClick={() => this.deleteZone(val)}>\r\n                            Xóa\r\n                        </Button>\r\n                    )\r\n                }\r\n            ],\r\n            listArea: [],\r\n            create: {\r\n                _id: '',\r\n                data: {\r\n                    \"name\": \"\",\r\n                    \"startPoint\": {\r\n                        \"longitude\": '',\r\n                        \"latitude\": ''\r\n                    },\r\n                    \"endPoint\": {\r\n                        \"longitude\": '',\r\n                        \"latitude\": ''\r\n                    },\r\n                    \"priority\": '',\r\n                    \"description\": \"\",\r\n                    \"code\": \"MGS\" + (Math.floor(Math.random() * (9999 - 1000 + 1)) + 1000),\r\n                    \"level\": 1,\r\n                    \"maxHeight\": \"\",\r\n                    \"minHeight\": \"\",\r\n                }\r\n            },\r\n            loading: true,\r\n            chooseArea: [],\r\n            zoneByArea: [],\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.editDomain = this.editDomain.bind(this);\r\n        this._handleChange = this._handleChange.bind(this);\r\n    }\r\n    \r\n    delayedShowMarker = () => {\r\n        setTimeout(() => {\r\n            this.setState({isMarkerShown: true})\r\n        }, 3000)\r\n    }\r\n    \r\n    handleMarkerClick = (e) => {\r\n        //get kinh do vi do khi click ban do\r\n        let lat = e.latLng.lat();\r\n        let lng = e.latLng.lng();\r\n        // check xem co ton tai startPoint va endPoint\r\n        let latStartPoint = this.state.create.data.startPoint.latitude;\r\n        let latEndPoint = this.state.create.data.endPoint.latitude;\r\n        \r\n        if (!latStartPoint) {\r\n            this.setState(prevState => {\r\n                let create = Object.assign({}, prevState.create);\r\n                create.data.startPoint.latitude = lat;\r\n                create.data.startPoint.longitude = lng;\r\n                return {create};\r\n            });\r\n        } else if (!latEndPoint) {\r\n            this.setState(prevState => {\r\n                let create = Object.assign({}, prevState.create);\r\n                create.data.endPoint.latitude = lat;\r\n                create.data.endPoint.longitude = lng;\r\n                return {create};\r\n            });\r\n        } else {\r\n            this.setState(prevState => {\r\n                let create = Object.assign({}, prevState.create);\r\n                create.data.startPoint.latitude = lat;\r\n                create.data.startPoint.longitude = lng;\r\n                create.data.endPoint.latitude = '';\r\n                create.data.endPoint.longitude = '';\r\n                return {create};\r\n            });\r\n        }\r\n        if (this.state.create.data.startPoint.latitude && this.state.create.data.endPoint.latitude) {\r\n            let triangleCoords = [\r\n                {lat: this.state.create.data.startPoint.latitude, lng: this.state.create.data.startPoint.longitude},\r\n                {lat: this.state.create.data.startPoint.latitude, lng: this.state.create.data.endPoint.longitude},\r\n                {lat: this.state.create.data.endPoint.latitude, lng: this.state.create.data.endPoint.longitude},\r\n                {lat: this.state.create.data.endPoint.latitude, lng: this.state.create.data.startPoint.longitude},\r\n            ];\r\n            this.setState({triangleCoords});\r\n        }\r\n        this.setState({isMarkerShown: false});\r\n        this.delayedShowMarker();\r\n    }\r\n    \r\n    _handleChange(e) {\r\n        let key = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState(prevState => {\r\n            let create = Object.assign({}, prevState.create);\r\n            create.data[key] = value;\r\n            return {create};\r\n        })\r\n    }\r\n    \r\n    setStatusModalAdd(openModalAdd) {\r\n        this.setState({openModalAdd});\r\n    }\r\n    \r\n    createDomain() {\r\n        this.setStatusModalAdd(false);\r\n        let dataCreate = this.state.create;\r\n        axios.post(`https://monitoredzoneserver.herokuapp.com/monitoredzone/area`, dataCreate, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.data.success) {\r\n                    this.getAllZone();\r\n                }\r\n                console.log('1');\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n    \r\n    getAllZone() {\r\n        axios.get(`https://monitoredzoneserver.herokuapp.com/monitoredzone?pageSize=1000`)\r\n            .then(res => {\r\n                let loading = false;\r\n                this.setState({loading});\r\n                const listDomain = res.data.content.zone;\r\n                this.setState({listDomain});\r\n            })\r\n            .catch(error => console.log(error));\r\n        \r\n    }\r\n    \r\n    deleteZone(zone) {\r\n        let id = zone._id;\r\n        if(window.confirm(`Bạn muốn xóa miền : ${zone.name}? `)) {\r\n            axios.delete(`https://monitoredzoneserver.herokuapp.com/monitoredzone/${id}`)\r\n                .then(res => {\r\n                    if (res.data.success) {\r\n                        this.getAllZone();\r\n                    }\r\n                })\r\n                .catch(error => console.log(error));\r\n        } else {\r\n        \r\n        }\r\n    }\r\n    \r\n    getArea() {\r\n        axios.get(`https://monitoredzoneserver.herokuapp.com/area?pageSize=1000`)\r\n            .then(res => {\r\n                const listArea = res.data.content.monitoredArea;\r\n                this.setState({listArea});\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n    \r\n    getNameArea(id) {\r\n        let area = this.state.listArea.find(area => area._id === id);\r\n        if (area) {\r\n            return area.name;\r\n        } else {\r\n            return id;\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.delayedShowMarker();\r\n        this.getArea();\r\n        this.getAllZone();\r\n    }\r\n    \r\n    \r\n    onChange(e) {\r\n        let val = e.target['data-key'];\r\n        let status = e.target.checked;\r\n        let arrayDelete = [...this.state.arrayDelete];\r\n        if (status) {\r\n            let index = arrayDelete.findIndex(elm => elm === val);\r\n            if (index === -1) {\r\n                arrayDelete.push(val);\r\n                this.setState({arrayDelete: arrayDelete});\r\n            }\r\n        } else {\r\n            let index = arrayDelete.findIndex(elm => elm === val);\r\n            if (index !== -1) {\r\n                arrayDelete.splice(index, 1);\r\n                this.setState({arrayDelete: arrayDelete});\r\n            }\r\n        }\r\n    }\r\n    \r\n    async editDomain(id) {\r\n        let domain = this.state.listDomain.find(domain => domain._id === id);\r\n        domain.nameArea = this.getNameArea(domain.area);\r\n        domain.description = domain.description ? domain.description : '';\r\n        let getMonitoredObjectByZone = await this.getMonitoredObjectByZone(id);\r\n        let objectByZone = getMonitoredObjectByZone.filter(elm => {\r\n            if(elm.lat && elm.lng) {\r\n                return elm;\r\n            }\r\n        });\r\n        \r\n        this.props.history.push({\r\n            pathname: '/surveillance-domain-manage/edit',\r\n            state: {\r\n                domain: domain,\r\n                objectByZone: objectByZone,\r\n                id: id\r\n            }\r\n        });\r\n    }\r\n    \r\n    async getMonitoredObjectByZone(zoneId) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(`https://dsd05-monitored-object.herokuapp.com/monitored-object/get-object-by-zone?monitoredZone=${zoneId}`)\r\n                .then(res => {\r\n                    const objectByZone = res.data.content;\r\n                    resolve(objectByZone);\r\n                })\r\n                .catch(error => console.log(error));\r\n        });\r\n    }\r\n    \r\n    async getZonebyArea(idArea) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(`https://monitoredzoneserver.herokuapp.com/monitoredzone/area/${idArea}`)\r\n                .then(res => {\r\n                    const zoneByArea = res.data.content.zone;\r\n                    resolve(zoneByArea);\r\n                })\r\n                .catch(error => console.log(error));\r\n        });\r\n    }\r\n    \r\n    toggleActive = name => async (value) => {\r\n        let chooseArea = [];\r\n        this.setState(prevState => {\r\n            let create = Object.assign({}, prevState.create);\r\n            create._id = value;\r\n            return {create};\r\n        });\r\n        \r\n        let zoneByArea = await this.getZonebyArea(value);\r\n        let area = this.state.listArea.find(area => area._id === value);\r\n        if(area) {\r\n            let locationArea = [\r\n                {lat: area.startPoint.latitude, lng: area.startPoint.longitude},\r\n                {lat: area.startPoint.latitude, lng: area.endPoint.longitude},\r\n                {lat: area.endPoint.latitude, lng: area.endPoint.longitude},\r\n                {lat: area.endPoint.latitude, lng: area.startPoint.longitude},\r\n            ];\r\n            chooseArea.push(locationArea);\r\n        }\r\n        if(zoneByArea.length > 0) {\r\n            for (const zone of zoneByArea) {\r\n                let zoneArea = [\r\n                    {lat: zone.startPoint.latitude, lng: zone.startPoint.longitude},\r\n                    {lat: zone.startPoint.latitude, lng: zone.endPoint.longitude},\r\n                    {lat: zone.endPoint.latitude, lng: zone.endPoint.longitude},\r\n                    {lat: zone.endPoint.latitude, lng: zone.startPoint.longitude},\r\n                ];\r\n                chooseArea.push(zoneArea);\r\n            }\r\n        }\r\n        this.setState({chooseArea});\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"filter\">\r\n                    <Row>\r\n                        <Col span={4}>\r\n                            <Input style={{width: 150}} placeholder=\"Search\" prefix={<SearchOutlined/>}/>\r\n                        </Col>\r\n                        <Col span={4}>\r\n                            <Select placeholder=\"Độ ưu tiên\" style={{width: 150}}>\r\n                                <Option value=\"1\">Cao </Option>\r\n                                <Option value=\"2\">Thấp</Option>\r\n                                <Option value=\"3\">Trung bình</Option>\r\n                            </Select>\r\n                        </Col>\r\n                        <Col span={5}>\r\n                            {/* <Select placeholder=\"Khu vực\" style={{width: 150}}>\r\n                                <Option value=\"1\">Khu vực 1</Option>\r\n                                <Option value=\"2\">Khu vực 2</Option>\r\n                                <Option value=\"3\">Khu vực 3</Option>\r\n                            </Select> */}\r\n                            <Select name=\"_id\" placeholder=\"Khu vực\" style={{width: 200}}\r\n                                                    onChange={this.toggleActive(\"Active!\")}>\r\n                                                {this.state.listArea.map(area => {\r\n                                                    return <Option value={area._id}>{area.name}</Option>\r\n                                                })}\r\n                                            </Select>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <Button type=\"primary\" icon={<FolderAddOutlined/>}\r\n                                    onClick={() => this.setStatusModalAdd(true)}>\r\n                                Thêm mới\r\n                            </Button>\r\n                            <Modal\r\n                                title=\"Thêm mới miền giám sát\"\r\n                                visible={this.state.openModalAdd}\r\n                                onOk={() => this.createDomain()}\r\n                                onCancel={() => this.setStatusModalAdd(false)}\r\n                                okText=\"Lưu\"\r\n                                cancelText=\"Hủy\"\r\n                                centered\r\n                            >\r\n                                <table className=\"table table-hover table-responsive table-borderless\">\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Khu vực giám sát</th>\r\n                                        <td>\r\n                                            <Select name=\"_id\" placeholder=\"Khu vực\" style={{width: 200}}\r\n                                                    onChange={this.toggleActive(\"Active!\")}>\r\n                                                {this.state.listArea.map(area => {\r\n                                                    return <Option value={area._id}>{area.name}</Option>\r\n                                                })}\r\n                                            </Select>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Tên miền giám sát</th>\r\n                                        <td>\r\n                                            <Input name=\"name\" style={{width: 200}} placeholder=\"Nhập tên miền giám sát\"\r\n                                                   onChange={this._handleChange}/>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Mã miền giám sát</th>\r\n                                        <td>\r\n                                            <Input name=\"code\" style={{width: 200}} placeholder=\"Nhập mã miền giám sát\" value={this.state.create.data.code}\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Độ ưu tiên</th>\r\n                                        <td>\r\n                                            <Input name=\"priority\" style={{width: 200}} placeholder=\"Nhập độ ưu tiên\"\r\n                                                   onChange={this._handleChange}/>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Chiều cao tối thiểu</th>\r\n                                        <td>\r\n                                            <Input name=\"minHeight\" style={{width: 200}} placeholder=\"Nhập chiều cao tối thiểu\"\r\n                                                   onChange={this._handleChange}/>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Chiều cao tối đa</th>\r\n                                        <td>\r\n                                            <Input name=\"maxHeight\" style={{width: 200}} placeholder=\"Nhập chiều cao tối đa\"\r\n                                                   onChange={this._handleChange}/>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th style={{width: '50%'}}>Mô tả</th>\r\n                                        <td>\r\n                                            <Input name=\"description\" style={{width: 200}} placeholder=\"Nhập mô tả\"\r\n                                                   onChange={this._handleChange}/>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                                <br/>\r\n                                <div>\r\n                                    <MyMapComponent\r\n                                        onMarkerClick={this.handleMarkerClick}\r\n                                        triangleCoords={this.state.triangleCoords}\r\n                                        chooseArea={this.state.chooseArea}\r\n                                    />\r\n                                </div>\r\n                            </Modal>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                <br/>\r\n                <div className=\"content\">\r\n                    {\r\n                        this.state.loading ? (\r\n                            <div style={{'text-align': 'center', 'lineHeight': '30'}}>\r\n                                <Space size=\"middle\">\r\n                                    <Spin tip=\"Loading...\" size=\"large\"/>\r\n                                </Space>\r\n                            </div>\r\n                        ) : (\r\n                            <Table columns={this.state.columns} dataSource={this.state.listDomain} rowKey=\"key\"/>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Manage);\r\n","import React from 'react';\r\nimport {compose, withProps} from \"recompose\"\r\nimport {withRouter} from 'react-router-dom';\r\nimport 'antd/dist/antd.css';\r\nimport CustomMarker from \"./CustomMaker\";\r\nimport {Input, Select, Tabs, Button, Checkbox, Table, Modal} from 'antd';\r\nimport {GoogleMap, withGoogleMap, withScriptjs, Polygon, Polyline, Marker} from \"react-google-maps\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nconst {TabPane} = Tabs\r\nconst {Option} = Select;\r\n\r\nfunction callback(key) {\r\n    console.log(key);\r\n}\r\n\r\nconst MyMapComponent = compose(\r\n    withProps({\r\n        googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU\",\r\n        loadingElement: <div style={{height: `100%`}}/>,\r\n        containerElement: <div style={{height: `400px`}}/>,\r\n        mapElement: <div style={{height: `100%`}}/>,\r\n    }),\r\n    withScriptjs,\r\n    withGoogleMap\r\n)((props) =>\r\n    <GoogleMap\r\n        defaultZoom={12}\r\n        defaultCenter={{lat: 21.0245, lng: 105.84117}}\r\n        onClick={props.onMarkerClick}\r\n    >\r\n        <Polygon\r\n            path={props.triangleCoords}\r\n            key={1}\r\n            editable={true}\r\n            options={{\r\n                strokeColor: \"#0000FF\",\r\n                strokeWeight: 1,\r\n            }}\r\n        />\r\n        {props.objectByZone.map(marker => {\r\n            return (\r\n                <Marker onClick={props.showDetailMaker}\r\n                        label={marker.name}\r\n                        position={{lat: parseFloat(marker.lat), lng: parseFloat(marker.lng)}}/>\r\n            )\r\n        })}\r\n    </GoogleMap>\r\n)\r\n\r\n\r\nconst MyMapComponent1 = compose(\r\n    withProps({\r\n        googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA15qz81pHiNfVEV3eeniSNhAu64SsJKgU\",\r\n        loadingElement: <div style={{height: `100%`}}/>,\r\n        containerElement: <div style={{height: `400px`}}/>,\r\n        mapElement: <div style={{height: `100%`}}/>,\r\n    }),\r\n    withScriptjs,\r\n    withGoogleMap\r\n)((props) =>\r\n    \r\n    <GoogleMap\r\n        key={props.forceUpdate}\r\n        defaultZoom={8}\r\n        defaultCenter={{lat: 21.0245, lng: 105.84117}}\r\n    >\r\n        <Polygon\r\n            key={props.forceUpdate}\r\n            path={props.triangleCoords}\r\n            key={1}\r\n            editable={true}\r\n            options={{\r\n                strokeColor: \"#0000FF\",\r\n                strokeWeight: 1,\r\n            }}\r\n        />\r\n    \r\n        <Polyline\r\n            path={props.pathCoordinates}\r\n            geodesic={true}\r\n            key={props.forceUpdate}\r\n            options={{\r\n                strokeColor: \"#ff2527\",\r\n                strokeOpacity: 0.75,\r\n                strokeWeight: 2,\r\n                icons: [\r\n                    {\r\n                        offset: \"0\",\r\n                        repeat: \"20px\"\r\n                    }\r\n                ]\r\n            }}\r\n        />\r\n        <Marker position={{lat: parseFloat(props.pathCoordinates[0].lat), lng: parseFloat(props.pathCoordinates[0].lng)}}/>\r\n        \r\n    </GoogleMap>\r\n)\r\n\r\nclass ManageEdit extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            triangleCoords: [],\r\n            olddomain: {\r\n                ...this.props.location.state.domain\r\n            },\r\n            newdomain: {\r\n                ...this.props.location.state.domain\r\n            },\r\n            id: this.props.location.state.id,\r\n            objectByZone: this.props.location.state.objectByZone,\r\n            columnsDrone: [\r\n                {\r\n                    title: 'Tên đường bay',\r\n                    dataIndex: 'name',\r\n                    key: 'name',\r\n                },\r\n                \r\n                {\r\n                    title: 'Thời gian bắt đầu',\r\n                    render: val => <p>{ moment.unix(val.timeStart / 1000).format(\"HH:ss\")}</p>\r\n                },\r\n                {\r\n                    title: 'Thời gian kết thúc',\r\n                    render: val => <p>{ moment.unix(val.timeEnd / 1000).format(\"HH:ss\") }</p>\r\n                },\r\n                {\r\n                    title: 'Chiều cao',\r\n                    key: 'heightFlight',\r\n                    dataIndex: 'heightFlight',\r\n                },\r\n                {\r\n                    title: '',\r\n                    render: val => (\r\n                        <Button type=\"primary\" style={{marginRight: 10}}\r\n                                onClick={() => this.showDetail(val)}>\r\n                            Chi tiết\r\n                        </Button>\r\n                    )\r\n                }\r\n            ],\r\n            detailMaker: {},\r\n            openModalshow: false,\r\n            listDrone: [],\r\n            openModalAdd: false,\r\n            openModalDelete: false,\r\n            pathCoordinates: [],\r\n            forceUpdate: 0,\r\n        }\r\n        this.myRef = React.createRef();\r\n        this._handleChange = this._handleChange.bind(this);\r\n    }\r\n    \r\n    componentDidMount() {\r\n        if (this.state.newdomain.startPoint.latitude && this.state.newdomain.endPoint.latitude) {\r\n            let triangleCoords = [\r\n                {lat: this.state.newdomain.startPoint.latitude, lng: this.state.newdomain.startPoint.longitude},\r\n                {lat: this.state.newdomain.startPoint.latitude, lng: this.state.newdomain.endPoint.longitude},\r\n                {lat: this.state.newdomain.endPoint.latitude, lng: this.state.newdomain.endPoint.longitude},\r\n                {lat: this.state.newdomain.endPoint.latitude, lng: this.state.newdomain.startPoint.longitude},\r\n            ];\r\n            this.setState({triangleCoords});\r\n        }\r\n        this.getAllBySupervisedArea(this.state.id);\r\n    }\r\n    \r\n    showDetail(val) {\r\n        this.setModalshow(true);\r\n        let pathCoordinates = [];\r\n        if (val.flightPoints.length > 0) {\r\n            for (const point of val.flightPoints) {\r\n                let tmp = {\r\n                    lat: point.locationLat,\r\n                    lng: point.locationLng\r\n                }\r\n                pathCoordinates.push(tmp);\r\n            }\r\n            this.setState({pathCoordinates});\r\n        }\r\n        \r\n        let forceUpdate = this.state.forceUpdate + 1;\r\n        this.setState({forceUpdate});\r\n    }\r\n    \r\n    \r\n    setModalshow(openModalshow) {\r\n        this.setState({openModalshow});\r\n        if(!openModalshow) {\r\n            window.location.reload();\r\n        }\r\n    }\r\n    \r\n    diff(obj1, obj2) {\r\n        let difference = Object.keys(obj1).filter(k => obj1[k] !== obj2[k]);\r\n        return difference.length === 0;\r\n    }\r\n    \r\n    _handleChange(e) {\r\n        let key = e.target.name;\r\n        let value = e.target.value;\r\n        this.setState(prevState => {\r\n            let newdomain = Object.assign({}, prevState.newdomain);\r\n            newdomain[key] = value;\r\n            return {newdomain};\r\n        })\r\n    }\r\n    \r\n    setStatusModalAdd(openModalAdd) {\r\n        this.setState({openModalAdd});\r\n    }\r\n    \r\n    setStatusModalDelete(openModalDelete) {\r\n        this.setState({openModalDelete});\r\n    }\r\n    \r\n    showDetailMaker = (e) => {\r\n        let lat = e.latLng.lat();\r\n        let lng = e.latLng.lng();\r\n        let obj = this.state.objectByZone.find(obj => {\r\n           return obj.lat == lat && obj.lng == lng;\r\n        });\r\n        let detailMaker = obj ? obj : {};\r\n        this.setState({detailMaker});\r\n    }\r\n    \r\n    setDefault = () => {\r\n        let detailMaker = {};\r\n        this.setState({detailMaker});\r\n    };\r\n    \r\n    handleMarkerClick = (e) => {\r\n        let lat = e.latLng.lat();\r\n        let lng = e.latLng.lng();\r\n        let latStartPoint = this.state.newdomain.startPoint.latitude;\r\n        let latEndPoint = this.state.newdomain.endPoint.latitude;\r\n        if (!latStartPoint) {\r\n            this.setState(prevState => {\r\n                let newdomain = Object.assign({}, prevState.newdomain);\r\n                newdomain.startPoint.latitude = lat;\r\n                newdomain.startPoint.longitude = lng;\r\n                return {newdomain};\r\n            });\r\n        } else if (!latEndPoint) {\r\n            this.setState(prevState => {\r\n                let newdomain = Object.assign({}, prevState.newdomain);\r\n                newdomain.endPoint.latitude = lat;\r\n                newdomain.endPoint.longitude = lng;\r\n                return {newdomain};\r\n            });\r\n        } else {\r\n            this.setState(prevState => {\r\n                let newdomain = Object.assign({}, prevState.newdomain);\r\n                newdomain.startPoint.latitude = lat;\r\n                newdomain.startPoint.longitude = lng;\r\n                newdomain.endPoint.latitude = '';\r\n                newdomain.endPoint.longitude = '';\r\n                return {newdomain};\r\n            });\r\n        }\r\n        if (this.state.newdomain.startPoint.latitude && this.state.newdomain.endPoint.latitude) {\r\n            let triangleCoords = [\r\n                {lat: this.state.newdomain.startPoint.latitude, lng: this.state.newdomain.startPoint.longitude},\r\n                {lat: this.state.newdomain.startPoint.latitude, lng: this.state.newdomain.endPoint.longitude},\r\n                {lat: this.state.newdomain.endPoint.latitude, lng: this.state.newdomain.endPoint.longitude},\r\n                {lat: this.state.newdomain.endPoint.latitude, lng: this.state.newdomain.startPoint.longitude},\r\n            ];\r\n            this.setState({triangleCoords});\r\n        } else {\r\n            let triangleCoords = [];\r\n            this.setState({triangleCoords});\r\n        }\r\n    }\r\n\r\n    \r\n    save() {\r\n        let dataEdit = {\r\n            \"data\": {\r\n                \"startPoint\": this.state.newdomain.startPoint,\r\n                \"endPoint\": this.state.newdomain.endPoint,\r\n                \"priority\": this.state.newdomain.priority,\r\n                \"description\": this.state.newdomain.description,\r\n                \"code\": this.state.newdomain.code,\r\n            }\r\n        }\r\n        let idZone = this.state.newdomain._id;\r\n        axios.put(`https://monitoredzoneserver.herokuapp.com/monitoredzone/${idZone}`, dataEdit, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n            .then(res => {\r\n                this.props.history.push({\r\n                    pathname: '/surveillance-domain-manage',\r\n                });\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n    \r\n    getAllBySupervisedArea(idZone) {\r\n        axios.get(`http://skyrone.cf:6789/flightPath/getAllBySupervisedArea/${idZone}`)\r\n            .then(res => {\r\n                const listDrone = res.data;\r\n                this.setState({listDrone});\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"main\">\r\n                <Tabs defaultActiveKey=\"1\" onChange={callback}>\r\n                    <TabPane tab=\"Cấu hình miền giám sát\" key=\"1\">\r\n                        <div className=\"content\">\r\n                            <table className=\"table table-hover table-responsive table-borderless\">\r\n                                <tr>\r\n                                    <th style={{width: '50%'}}>Khu vực giám sát</th>\r\n                                    <td>\r\n                                        <Input name=\"key\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newdomain.nameArea}\r\n                                               disabled\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style={{width: '50%'}}>Tên miền giám sát</th>\r\n                                    <td>\r\n                                        <Input name=\"key\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newdomain.name}\r\n                                               disabled\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style={{width: '50%'}}>Mã miền giám sát</th>\r\n                                    <td>\r\n                                        <Input name=\"code\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newdomain.code}\r\n                                               onChange={this._handleChange}\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style={{width: '50%'}}>Chiều cao tối đa</th>\r\n                                    <td>\r\n                                        {this.state.newdomain.maxHeight} (mét)\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style={{width: '50%'}}>Chiều cao tối thiểu</th>\r\n                                    <td>\r\n                                        {this.state.newdomain.minHeight} (mét)\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style={{width: '50%'}}>Số lần xảy ra sự cố</th>\r\n                                    <td>\r\n                                        {\r\n                                            this.state.newdomain.times\r\n                                        }\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style={{width: '50%'}}>Thời gian cập nhật</th>\r\n                                    <td>\r\n                                        {\r\n                                            this.state.newdomain.updatedAt\r\n                                        }\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style={{width: '50%'}}>Độ ưu tiên</th>\r\n                                    <td>\r\n                                        <Input name=\"priority\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newdomain.priority} onChange={this._handleChange}/>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th style={{width: '50%'}}>Mô tả</th>\r\n                                    <td>\r\n                                        <Input name=\"description\" style={{width: 200}} placeholder=\"Nhập\"\r\n                                               value={this.state.newdomain.description} onChange={this._handleChange}/>\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                        </div>\r\n                        <br/>\r\n                        <div style={{width: \"70vh\"}}>\r\n                            <MyMapComponent\r\n                                onMarkerClick={this.handleMarkerClick}\r\n                                handleMouseExit={this.handleMouseExit}\r\n                                triangleCoords={this.state.triangleCoords}\r\n                                objectByZone={this.state.objectByZone}\r\n                                showDetailMaker={this.showDetailMaker}\r\n                            />\r\n                        </div>\r\n                        <br/>\r\n                        <div className=\"action center\">\r\n                            <div className=\"save\">\r\n                                {\r\n                                    !this.diff(this.state.olddomain, this.state.newdomain) &&\r\n                                    <Button type=\"primary\" onClick={() => this.save()}>Lưu</Button>\r\n                                }\r\n                                {\r\n                                    (this.diff(this.state.olddomain, this.state.newdomain)) &&\r\n                                    <Button disabled>Lưu</Button>\r\n                                }\r\n                            </div>\r\n                        \r\n                        </div>\r\n                    </TabPane>\r\n                    <TabPane tab=\"Danh sách hành trình bay\" key=\"2\" id=\"list\">\r\n                        <div className=\"content\">\r\n                            <Table columns={this.state.columnsDrone} dataSource={this.state.listDrone} rowKey=\"key\"/>\r\n                        </div>\r\n                    </TabPane>\r\n                </Tabs>\r\n                <Modal\r\n                    \r\n                    title=\"Hiển thị đường bay\"\r\n                    visible={this.state.openModalshow}\r\n                    onOk={() => this.setModalshow(false)}\r\n                    onCancel={() => this.setModalshow(false)}\r\n                >\r\n                    <div>\r\n                        <MyMapComponent1\r\n                            key={this.state.forceUpdate}\r\n                            triangleCoords={this.state.triangleCoords}\r\n                            pathCoordinates={this.state.pathCoordinates}\r\n                            forceUpdate={this.state.forceUpdate}\r\n                        />\r\n                    </div>\r\n                    <br/>\r\n                    <p>Chú thích</p>\r\n                    <p className=\"pin\">\r\n                    \r\n                    </p><span>Điểm bắt đầu đường bay</span>\r\n                </Modal>\r\n                <Modal\r\n                    title=\"Chi tiết\"\r\n                    visible={Object.keys(this.state.detailMaker).length > 0}\r\n                    onOk={() => this.setDefault()}\r\n                    onCancel={() => this.setDefault()}\r\n                >\r\n                    <table className=\"table table-hover table-responsive table-borderless\">\r\n                        <tr>\r\n                            <th style={{width: '50%'}}>Tên đối tượng</th>\r\n                            <td>\r\n                                {this.state.detailMaker.name}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th style={{width: '50%'}}>Mã đối tượng</th>\r\n                            <td>\r\n                                {this.state.detailMaker.code}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th style={{width: '50%'}}>Trạng thái</th>\r\n                            <td>\r\n                                {this.state.detailMaker.status == 1 ? 'Đang hoạt động' : 'Không hoạt động'}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th style={{width: '50%'}}>Ngày cập nhật</th>\r\n                            <td>\r\n                                {this.state.detailMaker.updatedAt}\r\n                            </td>\r\n                        </tr>\r\n    \r\n                        <tr>\r\n                            <th style={{width: '50%'}}>Mô tả</th>\r\n                            <td>\r\n                                {this.state.detailMaker.description}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th style={{width: '50%'}}>Kinh độ</th>\r\n                            <td>\r\n                                {this.state.detailMaker.lng}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th style={{width: '50%'}}>Vĩ độ</th>\r\n                            <td>\r\n                                {this.state.detailMaker.lat}\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(ManageEdit);\r\n","import React, { Component } from 'react';\r\nimport { Marker, InfoWindow } from 'react-google-maps';\r\nclass CustomMarker extends Component {\r\n    state = {\r\n        showInfoWindow: false\r\n    };\r\n    handleMouseOver = e => {\r\n        this.setState({\r\n            showInfoWindow: true\r\n        });\r\n    };\r\n    handleMouseExit = e => {\r\n        this.setState({\r\n            showInfoWindow: false\r\n        });\r\n    };\r\n    render() {\r\n        const { showInfoWindow } = this.state;\r\n        const { name, lat, lng, description } = this.props;\r\n        return (\r\n            <Marker position={{lat : parseFloat(lat), lng: parseFloat(lng)}} onMouseOver=\r\n                {this.handleMouseOver} onMouseOut={this.handleMouseExit}>\r\n                {showInfoWindow && (\r\n                    <InfoWindow>\r\n                        <h4>{name} <br/> {description}</h4>\r\n                    </InfoWindow>\r\n                )}\r\n            </Marker>\r\n        );\r\n    }\r\n}\r\nexport default CustomMarker;\r\n","import { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nfunction ControlledTabs() {\r\n  const [key, setKey] = useState('home');\r\n\r\n  return (\r\n   <div>dash board</div>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n    return (<ControlledTabs />)\r\n};","const URL_API = 'https://distributed-dsd08.herokuapp.com/api'\r\nexport default URL_API","import React, { useEffect, useState } from 'react';\r\nimport '../Styles/StyleListIncidents.css';\r\nimport { Table, Modal, Button, Input, Space, message } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport {\r\n  Form,\r\n  List,\r\n  Avatar,\r\n  Spin,\r\n  Badge,\r\n  Menu,\r\n  Dropdown,\r\n  Popconfirm,\r\n  Select,\r\n} from 'antd';\r\nimport {\r\n  CheckOutlined,\r\n  CloseOutlined,\r\n  InfoCircleOutlined,\r\n  DownOutlined,\r\n} from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport URL_API from './url';\r\n// import URL_API from \"./url\";\r\n\r\nconst menu = (\r\n  <Menu>\r\n    <Menu.Item>Action 1</Menu.Item>\r\n    <Menu.Item>Action 2</Menu.Item>\r\n  </Menu>\r\n);\r\n\r\nconst ListIncidents = () => {\r\n  const [dataIncidents, setDataIncidents] = useState([]);\r\n  const [filterTable, setFilterTable] = useState(null);\r\n  const [contentModal, setContentModal] = useState(null);\r\n  const [detailIncident, setDetailIncident] = useState(null);\r\n  const [loadingModal, setLoadingModal] = useState(false);\r\n  const [loadingTable, setLoadingTable] = useState(true);\r\n  const [loadingChildTable, setLoadingChildTable] = useState(true);\r\n  const [visibleModal, setVisibleModal] = useState(false);\r\n  const [listChildDataRecord, setListChildDataRecord] = useState([]);\r\n  const [dataEmployees, setDataEmployees] = useState([]);\r\n  const [listTypeWork, setListTypeWork] = useState([]);\r\n  const [typeWorkNew, setTypeWorkNew] = useState(null);\r\n  const [listEmployeesNew, setListEmployeesNew] = useState([]);\r\n  const [childData, setChildData] = useState([]);\r\n  const [idModalIncident, setIdModalIncident] = useState(null);\r\n  const [visibleModalDetailIncident, setVisibleModalDetailIncident] = useState(\r\n    false,\r\n  );\r\n\r\n  const { pathname } = useLocation();\r\n  const codeIncidents = {\r\n    CHAY_RUNG: { id: '222222', name: 'Sự cố  cháy rừng' },\r\n    DE_DIEU: { id: '111111', name: 'Sự cố  đê điều' },\r\n    CAY_TRONG: { id: '333333', name: 'Sự cố  cây trồng' },\r\n    LUOI_DIEN: { id: '000000', name: 'Sự cố lưới điện trên cao' },\r\n  };\r\n  const API_TOKEN = '4c901bcdba9f440a2a7c31c0bcbd78ec';\r\n  const CURRENT_TYPE = 'LUOI_DIEN';\r\n  const typeIncident = codeIncidents[CURRENT_TYPE];\r\n\r\n  const [searchText, setSearchText] = useState();\r\n  const [searchedColumn, setSearchedColumn] = useState();\r\n  const { Option } = Select;\r\n  useEffect(() => {\r\n    getListEmployees();\r\n    getListWork();\r\n    getDataIncidents();\r\n  }, []);\r\n\r\n  const getDataIncidents = () => {\r\n    setLoadingTable(true);\r\n    axios({\r\n      method: 'get',\r\n      url: URL_API + '/task/incident-listing',\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        // console.log(response);\r\n        //handle success\r\n        // setDataIncidents(response.data[0].tasks);\r\n        let data = [];\r\n        response.data.map((item) => {\r\n          let convertItem = {\r\n            id: item._id,\r\n            name: item.name,\r\n            type: item.type.name,\r\n            status: item.status.name,\r\n            statusCode: item.status.code,\r\n            level: item.level.name,\r\n            location: item.location,\r\n            levelCode: item.level.code,\r\n            images: item.images,\r\n            videos: item.videos,\r\n            description: item.description,\r\n          };\r\n          data.push(convertItem);\r\n        });\r\n        setDataIncidents(data);\r\n        setLoadingTable(false);\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n        setLoadingTable(false);\r\n      });\r\n  };\r\n\r\n  const handleReset = (clearFilters) => {\r\n    clearFilters();\r\n    setSearchText('');\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Tên sự cố',\r\n      dataIndex: 'name',\r\n    },\r\n    {\r\n      title: 'Trạng thái',\r\n      dataIndex: 'status',\r\n      filters: [\r\n        {\r\n          text: 'In Progress',\r\n          value: 'In Progress',\r\n        },\r\n        {\r\n          text: 'Open',\r\n          value: 'Open',\r\n        },\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.status.indexOf(value) === 0,\r\n      render: (value, dataRecord) => {\r\n        return (\r\n          <div>\r\n            {dataRecord.statusCode == 0 ? (\r\n              <Badge status=\"warning\" text={dataRecord.status} />\r\n            ) : dataRecord.statusCode == 1 ? (\r\n              <Badge status=\"processing\" text={dataRecord.status} />\r\n            ) : (\r\n              <Badge status=\"success\" text={dataRecord.status} />\r\n            )}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Mức độ',\r\n      dataIndex: 'level',\r\n      filters: [\r\n        {\r\n          text: 'Normal',\r\n          value: 'Normal',\r\n        },\r\n        {\r\n          text: 'Urgency',\r\n          value: 'Urgency',\r\n        },\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.level.indexOf(value) === 0,\r\n    },\r\n    {\r\n      title: 'Địa điểm',\r\n      dataIndex: 'location',\r\n      width: '15%',\r\n    },\r\n    {\r\n      title: 'Loại',\r\n      dataIndex: 'type',\r\n      filters: [\r\n        {\r\n          text: 'Sự cố cháy rừng',\r\n          value: 'Sự cố cháy rừng',\r\n        },\r\n        {\r\n          text: 'Sự cố đê điều',\r\n          value: 'Sự cố đê điều',\r\n        },\r\n        {\r\n          text: 'Sự cố cây trồng',\r\n          value: 'Sự cố cây trồng',\r\n        },\r\n        {\r\n          text: 'Sự cố lưới điện cao thế',\r\n          value: 'Sự cố lưới điện cao thế',\r\n        },\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.type.indexOf(value) === 0,\r\n    },\r\n    {\r\n      title: 'Mô tả',\r\n      dataIndex: 'description',\r\n      width: '20%',\r\n    },\r\n    {\r\n      title: 'Tác vụ',\r\n      key: 'operation',\r\n      width: '10%',\r\n      render: (record) => (\r\n        <div style={{ textAlign: 'center' }}>\r\n          <p>\r\n            <InfoCircleOutlined\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"top\"\r\n              title=\"Xem chi tiết\"\r\n              onClick={(value) => {\r\n                setLoadingModal(true);\r\n                setVisibleModalDetailIncident(true);\r\n                setChildData([]);\r\n                getInforIncident(record.id)\r\n                  .then((dataIncident) => {\r\n                    let listDetailChild = [];\r\n                    dataIncident.map((data) => {\r\n                      let listEmployees = '';\r\n                      if (data.task_type) {\r\n                        data.employees.map((person, index) => {\r\n                          if (index == 0) {\r\n                            listEmployees += person.full_name;\r\n                          } else {\r\n                            listEmployees += ', ' + person.full_name;\r\n                          }\r\n                        });\r\n                        let childDataObject = {\r\n                          name: data.task_type.name,\r\n                          employees: listEmployees,\r\n                          description: data.task_type.description,\r\n                        };\r\n                        listDetailChild.push(childDataObject);\r\n                      }\r\n                    });\r\n                    setChildData(listDetailChild);\r\n                    setLoadingModal(false);\r\n                  })\r\n                  .catch((err) => {\r\n                    setLoadingModal(false);\r\n                  });\r\n              }}\r\n              style={{ color: 'blue', marginLeft: 5 }}\r\n            />\r\n          </p>\r\n\r\n          <p style={record.statusCode == 0 ? {} : { display: 'none' }}>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                setVisibleModal(true);\r\n                setTypeWorkNew(null);\r\n                setListEmployeesNew([]);\r\n                setIdModalIncident(record.id);\r\n              }}\r\n            >\r\n              Tiến hành xử lý\r\n            </Button>\r\n          </p>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const getInforIncident = (idIncident) => {\r\n    return new Promise((resolve, reject) => {\r\n      axios({\r\n        method: 'get',\r\n        url: URL_API + '/task/detail',\r\n        headers: {\r\n          'api-token': API_TOKEN,\r\n          'project-type': CURRENT_TYPE,\r\n        },\r\n        params: { incident_id: idIncident },\r\n      })\r\n        .then(function (response) {\r\n          setLoadingChildTable(false);\r\n          resolve(response.data);\r\n        })\r\n        .catch(function (err) {\r\n          //handle error\r\n          // console.log(err);\r\n          setLoadingChildTable(false);\r\n          message.error(err.response.data.error.message);\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n\r\n  const getListEmployees = () => {\r\n    axios({\r\n      method: 'get',\r\n      url: URL_API + '/task/employee-listing',\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        const children = [];\r\n        response.data.map((item) => {\r\n          children.push(<Option key={item.id}>{item.full_name}</Option>);\r\n        });\r\n        setDataEmployees(children);\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getListWork = () => {\r\n    axios({\r\n      method: 'get',\r\n      url: URL_API + '/task-type/listing',\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        const children = [];\r\n        response.data.map((item) => {\r\n          children.push(<Option key={item.id}>{item.name}</Option>);\r\n        });\r\n        setListTypeWork(children);\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setVisibleModal(false);\r\n  };\r\n  const handleCancel = () => {\r\n    setVisibleModal(false);\r\n  };\r\n\r\n  const search = (value) => {\r\n    // console.log(\"PASS\", { value });\r\n    const filterTable = dataIncidents.filter((o) =>\r\n      Object.keys(o).some((k) => {\r\n        // console.log(String(o[k]).toLowerCase() + \" - \" + value.toLowerCase());\r\n        return (\r\n          k !== 'incident_id' &&\r\n          String(o[k]).normalize().toLowerCase().includes(value.toLowerCase())\r\n        );\r\n      }),\r\n    );\r\n    setFilterTable(filterTable);\r\n  };\r\n\r\n  const submitCreateNewChildWork = (value) => {\r\n    setLoadingModal(true);\r\n    let list = '';\r\n    value.listNewWorks.map((childWork, index) => {\r\n      if (index == 0) {\r\n        list = childWork.typeWork + ',' + childWork.listEmployee.toString();\r\n      } else {\r\n        list +=\r\n          ';' + childWork.typeWork + ',' + childWork.listEmployee.toString();\r\n      }\r\n    });\r\n    axios({\r\n      method: 'post',\r\n      url: URL_API + '/task/handler',\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n      data: {\r\n        incident_id: idModalIncident,\r\n        list: list,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        setLoadingModal(false);\r\n        setVisibleModal(false);\r\n        getDataIncidents();\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n        message.error(err.response.data.error.message);\r\n        setLoadingModal(false);\r\n      });\r\n  };\r\n\r\n  const EditableContext = React.createContext();\r\n\r\n  const childColumns = [\r\n    {\r\n      title: 'Loại công việc xử lý',\r\n      dataIndex: 'name',\r\n    },\r\n    {\r\n      title: 'Nhân viên thực hiện',\r\n      dataIndex: 'employees',\r\n    },\r\n    {\r\n      title: 'Mô tả công việc',\r\n      dataIndex: 'description',\r\n    },\r\n    {\r\n      title: '',\r\n      dataIndex: 'operation',\r\n      render: (text, record) =>\r\n        record.creatNew ? (\r\n          <Popconfirm\r\n            title=\"Sure to delete?\"\r\n            // onConfirm={() => handleDeleteRow(record.key)}\r\n          >\r\n            <a>Delete</a>\r\n          </Popconfirm>\r\n        ) : null,\r\n    },\r\n  ];\r\n\r\n  const EditableRow = (index) => {\r\n    // const [form] = Form.useForm();\r\n    return (\r\n      // <Form form={form} component={false}>\r\n      //   <EditableContext.Provider value={form}>\r\n      //     <tr {...props} />\r\n      //   </EditableContext.Provider>\r\n      // </Form>\r\n      <div>AAAAAAAAAAAAAA</div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"header\" onClick={() => {}}>\r\n        Danh sách công việc xử lý sự cố\r\n      </div>\r\n      <div>\r\n        <Input.Search\r\n          style={{ margin: '0 0 10px 0' }}\r\n          placeholder=\"Search by...\"\r\n          enterButton\r\n          onSearch={search}\r\n        />\r\n        <Spin spinning={loadingTable} tip=\"Loading...\">\r\n          <Table\r\n            rowKey={(record) => record.id}\r\n            columns={columns}\r\n            pagination={{ defaultPageSize: 5 }}\r\n            dataSource={filterTable == null ? dataIncidents : filterTable}\r\n            size=\"middle\"\r\n            // expandable={{\r\n            //   expandedRowRender: (record, index, indent, expand) => {\r\n            //     let childData = [];\r\n            //     const childColumns = [\r\n            //       {\r\n            //         title: \"Loại công việc xử lý\",\r\n            //         dataIndex: \"name\",\r\n            //       },\r\n            //       {\r\n            //         title: \"Nhân viên thực hiện\",\r\n            //         dataIndex: \"employees\",\r\n            //       },\r\n            //       {\r\n            //         title: \"Mô tả công việc\",\r\n            //         dataIndex: \"description\",\r\n            //       },\r\n            //       {\r\n            //         title: \"\",\r\n            //         dataIndex: \"operation\",\r\n            //         render: (text, record) =>\r\n            //           record.creatNew ? (\r\n            //             <Popconfirm\r\n            //               title=\"Sure to delete?\"\r\n            //             // onConfirm={() => handleDeleteRow(record.key)}\r\n            //             >\r\n            //               <a>Delete</a>\r\n            //             </Popconfirm>\r\n            //           ) : null,\r\n            //       },\r\n            //     ];\r\n            //     if (expand && loadingChildTable == false) {\r\n            //       if (listChildDataRecord.length > 0) {\r\n            //         let child = listChildDataRecord.find(\r\n            //           (item) => item.id == record.id\r\n            //         );\r\n            //         // console.log(\"Asd213\", listChildDataRecord);\r\n\r\n            //         if (child) {\r\n            //           child.map((data) => {\r\n            //             let listEmployees = \"\";\r\n            //             if(data.task_type){\r\n            //               data.employees.map((person, index) => {\r\n            //                 if (index == 0) {\r\n            //                   listEmployees += person.full_name;\r\n            //                 } else {\r\n            //                   listEmployees += \", \" + person.full_name;\r\n            //                 }\r\n            //               });\r\n            //               let childDataObject = {\r\n            //                 name: data.task_type.name,\r\n            //                 employees: listEmployees,\r\n            //                 description: data.task_type.description,\r\n            //               };\r\n            //               childData.push(childDataObject);\r\n            //               // console.log(\"dasd\", childDataObject);\r\n            //             }\r\n            //           });\r\n            //         }\r\n            //       }\r\n            //     }\r\n            //     return (\r\n            //       <Spin spinning={loadingChildTable} tip=\"Loading...\">\r\n            //         <Table\r\n            //           rowKey={(record) => record.id}\r\n            //           columns={childColumns}\r\n            //           dataSource={childData}\r\n            //           pagination={false}\r\n            //         />\r\n            //       </Spin>\r\n            //     );\r\n            //   },\r\n            //   onExpand: (expanded, record) => {\r\n            //     if (expanded) {\r\n            //       setLoadingChildTable(true);\r\n            //       getInforIncident(record.id).then((dataIncident) => {\r\n            //         dataIncident.id = record.id;\r\n            //         setListChildDataRecord([\r\n            //           ...listChildDataRecord,\r\n            //           dataIncident,\r\n            //         ]);\r\n            //       });\r\n            //     }\r\n            //   },\r\n            //   rowExpandable: (record) => record.name !== \"Not Expandable\",\r\n            // }}\r\n          />\r\n        </Spin>\r\n      </div>\r\n      <Modal\r\n        title={'Thêm công việc xử lý'}\r\n        visible={visibleModal}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        footer={null}\r\n      >\r\n        <Spin spinning={loadingModal} tip=\"Loading...\">\r\n          {/* <div>\r\n            <Select\r\n              style={{ width: \"100%\", marginTop: 20 }}\r\n              placeholder=\"Loại công việc\"\r\n              onChange={(value) => {\r\n                setTypeWorkNew(value);\r\n              }}\r\n            >\r\n              {listTypeWork}\r\n            </Select>\r\n            <Select\r\n              style={{ width: \"100%\", marginTop: 20 }}\r\n              mode=\"multiple\"\r\n              placeholder=\"Tên nhân viên\"\r\n              onChange={(value) => {\r\n                setListEmployeesNew(value);\r\n              }}\r\n            >\r\n              {dataEmployees}\r\n            </Select>\r\n            <Button\r\n              type=\"primary\"\r\n              style={{ marginTop: 20 }}\r\n              onClick={submitCreateNewChildWork}\r\n            >\r\n              Lưu\r\n            </Button>\r\n          </div> */}\r\n          <Form\r\n            name=\"dynamic_form_nest_item\"\r\n            onFinish={submitCreateNewChildWork}\r\n            autoComplete=\"off\"\r\n          >\r\n            <Form.List name=\"listNewWorks\">\r\n              {(fields, { add, remove }) => (\r\n                <>\r\n                  {fields.map((field) => (\r\n                    <Space\r\n                      key={field.key}\r\n                      style={{ display: 'flex', marginBottom: 8 }}\r\n                      align=\"baseline\"\r\n                    >\r\n                      <Form.Item\r\n                        {...field}\r\n                        name={[field.name, 'typeWork']}\r\n                        fieldKey={[field.fieldKey, 'typeWork']}\r\n                        rules={[\r\n                          { required: true, message: 'Thiếu loại công việc' },\r\n                        ]}\r\n                      >\r\n                        <Select\r\n                          style={{ minWidth: 200 }}\r\n                          placeholder=\"Loại công việc\"\r\n                          onChange={(value) => {\r\n                            setTypeWorkNew(value);\r\n                          }}\r\n                        >\r\n                          {listTypeWork}\r\n                        </Select>\r\n                      </Form.Item>\r\n                      <Form.Item\r\n                        {...field}\r\n                        name={[field.name, 'listEmployee']}\r\n                        fieldKey={[field.fieldKey, 'listEmployee']}\r\n                        rules={[\r\n                          { required: true, message: 'Thiếu tên nhân viên' },\r\n                        ]}\r\n                      >\r\n                        <Select\r\n                          style={{ minWidth: 200 }}\r\n                          mode=\"multiple\"\r\n                          placeholder=\"Tên nhân viên\"\r\n                          onChange={(value) => {\r\n                            setListEmployeesNew(value);\r\n                          }}\r\n                        >\r\n                          {dataEmployees}\r\n                        </Select>\r\n                      </Form.Item>\r\n                      <MinusCircleOutlined onClick={() => remove(field.name)} />\r\n                    </Space>\r\n                  ))}\r\n                  <Form.Item>\r\n                    <Button\r\n                      type=\"dashed\"\r\n                      onClick={() => add()}\r\n                      block\r\n                      icon={<PlusOutlined />}\r\n                    >\r\n                      Thêm công việc xử lý mới\r\n                    </Button>\r\n                  </Form.Item>\r\n                </>\r\n              )}\r\n            </Form.List>\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Submit\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Spin>\r\n      </Modal>\r\n      <Modal\r\n        title={'Chi tiết công việc xử lý sự cố'}\r\n        visible={visibleModalDetailIncident}\r\n        onCancel={() => {\r\n          setVisibleModalDetailIncident(false);\r\n        }}\r\n        width={'60%'}\r\n        footer={null}\r\n      >\r\n        <Spin spinning={loadingModal} tip=\"Loading...\">\r\n          <Table\r\n            rowKey={(record) => record.id}\r\n            columns={childColumns}\r\n            dataSource={childData}\r\n          />\r\n        </Spin>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListIncidents;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport '../Styles/StyleListIncidents.css';\r\nimport { Table, Modal, Button, Input, Space, Spin } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport validator from 'validate-image-url';\r\nimport ReactPlayer from 'react-player';\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport {\r\n  CheckOutlined,\r\n  CloseOutlined,\r\n  InfoCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport URL_API from './url';\r\n\r\nconst ListReport = () => {\r\n  const [dataReport, setDataReport] = useState([]);\r\n  const [contentModal, setContentModal] = useState(null);\r\n  const [visibleModal, setVisibleModal] = useState(false);\r\n  const [loadingTable, setLoadingTable] = useState(true);\r\n  const [filterTable, setFilterTable] = useState(null);\r\n  const { pathname } = useLocation();\r\n  const codeIncidents = {\r\n    CHAY_RUNG: { id: '222222', name: 'Sự cố  cháy rừng' },\r\n    DE_DIEU: { id: '111111', name: 'Sự cố  đê điều' },\r\n    CAY_TRONG: { id: '333333', name: 'Sự cố  cây trồng' },\r\n    LUOI_DIEN: { id: '000000', name: 'Sự cố lưới điện trên cao' },\r\n  };\r\n  const API_TOKEN = '4c901bcdba9f440a2a7c31c0bcbd78ec';\r\n  const CURRENT_TYPE = 'LUOI_DIEN';\r\n  const typeIncident = codeIncidents[CURRENT_TYPE];\r\n\r\n  const [searchText, setSearchText] = useState();\r\n  const [searchedColumn, setSearchedColumn] = useState();\r\n\r\n  const [currentImg, setCurrentImg] = useState();\r\n\r\n  useEffect(() => {\r\n    getDataInit();\r\n  }, []);\r\n\r\n  const getDataInit = () => {\r\n    axios({\r\n      method: 'get',\r\n      url: URL_API + '/report/listing',\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        //handle success\r\n        console.log(response);\r\n        setDataReport(response.data.list);\r\n        setLoadingTable(false);\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getColumnSearchProps = (dataIndex) => ({\r\n    filterDropdown: ({\r\n      setSelectedKeys,\r\n      selectedKeys,\r\n      confirm,\r\n      clearFilters,\r\n    }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          // ref={node => {\r\n          //   this.searchInput = node;\r\n          // }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={(e) =>\r\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n          }\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button\r\n            onClick={() => handleReset(clearFilters)}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: (filtered) => (\r\n      <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />\r\n    ),\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex]\r\n            .toString()\r\n            .toLowerCase()\r\n            .includes(value.toLowerCase())\r\n        : '',\r\n    // onFilterDropdownVisibleChange: visible => {\r\n    //   if (visible) {\r\n    //     setTimeout(() => this.searchInput.select(), 100);\r\n    //   }\r\n    // },\r\n    render: (text) =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    setSearchText(selectedKeys[0]);\r\n    setSearchedColumn(dataIndex);\r\n  };\r\n\r\n  const handleReset = (clearFilters) => {\r\n    clearFilters();\r\n    setSearchText('');\r\n  };\r\n\r\n  const search = (value) => {\r\n    // console.log(\"PASS\", { value });\r\n    const filterTable = dataReport.filter((o) =>\r\n      Object.keys(o).some((k) => {\r\n        // console.log(String(o[k]).toLowerCase() + \" - \" + value.toLowerCase());\r\n        return (\r\n          k !== 'incident_id' &&\r\n          String(o[k]).normalize().toLowerCase().includes(value.toLowerCase())\r\n        );\r\n      }),\r\n    );\r\n    setFilterTable(filterTable);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Tên công việc',\r\n      dataIndex: 'title',\r\n      // ...getColumnSearchProps(\"title\"),\r\n    },\r\n    {\r\n      title: 'Mã công việc',\r\n      dataIndex: 'task_id',\r\n      sorter: (a, b) => b.task_id - a.task_id,\r\n      sortDirections: ['descend'],\r\n      // ...getColumnSearchProps(\"task_id\"),\r\n    },\r\n    {\r\n      title: 'Nội dung xử lý sự cố',\r\n      dataIndex: 'content',\r\n      // ...getColumnSearchProps(\"content\"),\r\n    },\r\n    {\r\n      title: 'Trạng thái',\r\n      dataIndex: 'status',\r\n      sorter: (a, b) => b.status.charCodeAt(0) - a.status.charCodeAt(0),\r\n      sortDirections: ['descend'],\r\n      render: (text, record) =>\r\n        record.status == 'waiting' ? (\r\n          <div\r\n            style={{\r\n              flexDirection: 'row',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: 10,\r\n                height: 10,\r\n                backgroundColor: 'orange',\r\n                borderRadius: 5,\r\n              }}\r\n            ></div>\r\n            <p style={{ marginLeft: 10, fontSize: 18, marginTop: 10 }}>\r\n              {' '}\r\n              {record.status}\r\n            </p>\r\n          </div>\r\n        ) : record.status == 'accept' ? (\r\n          <div\r\n            style={{\r\n              flexDirection: 'row',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: 10,\r\n                height: 10,\r\n                backgroundColor: 'green',\r\n                borderRadius: 5,\r\n              }}\r\n            ></div>\r\n            <p style={{ marginLeft: 10, fontSize: 18, marginTop: 10 }}>\r\n              {' '}\r\n              {'Đã chấp nhận'}\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              flexDirection: 'row',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: 10,\r\n                height: 10,\r\n                backgroundColor: 'red',\r\n                borderRadius: 5,\r\n              }}\r\n            ></div>\r\n            <p style={{ marginLeft: 10, fontSize: 18, marginTop: 10 }}>\r\n              {' '}\r\n              {'Đã từ chối'}\r\n            </p>\r\n          </div>\r\n        ),\r\n    },\r\n    {\r\n      title: 'Loại sự cố',\r\n      dataIndex: 'type',\r\n      render: (text, record) => <p>{codeIncidents[record.type].name}</p>,\r\n      filters: [\r\n        {\r\n          text: 'Sự cố cháy rừng',\r\n          value: 'CHAY_RUNG',\r\n        },\r\n        {\r\n          text: 'Sự cố đê điều',\r\n          value: 'Sự cố đê điều',\r\n        },\r\n        {\r\n          text: 'Sự cố cây trồng',\r\n          value: 'CAY_TRONG',\r\n        },\r\n        {\r\n          text: 'Sự cố lưới điện trên cao',\r\n          value: 'LUOI_DIEN',\r\n        },\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.type.indexOf(value) === 0,\r\n    },\r\n    // {\r\n    //   title: \"Khởi tạo\",\r\n    //   dataIndex: \"created_at\",\r\n    //   sorter: (a, b) => b.created_at.charCodeAt(0) - a.created_at.charCodeAt(0),\r\n    //   sortDirections: [\"descend\"],\r\n    //   // ...getColumnSearchProps(\"created_at\"),\r\n    // },\r\n    // {\r\n    //   title: \"Cập nhật lần cuối\",\r\n    //   dataIndex: \"updated_at\",\r\n    //   sorter: (a, b) => b.updated_at.charCodeAt(0) - a.updated_at.charCodeAt(0),\r\n    //   sortDirections: [\"descend\"],\r\n    //   // ...getColumnSearchProps(\"updated_at\"),\r\n    // },\r\n    {\r\n      title: 'Tác vụ',\r\n      key: 'operation',\r\n      render: (text, record) =>\r\n        record.status == 'waiting' ? (\r\n          <div>\r\n            <InfoCircleOutlined\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"top\"\r\n              title=\"Xem chi tiết\"\r\n              onClick={(value) => {\r\n                getInforReport(record.image);\r\n              }}\r\n              style={{ color: 'blue', marginLeft: 5, fontSize: 22 }}\r\n            />\r\n            <CheckOutlined\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"top\"\r\n              title=\"Chấp nhận báo cáo\"\r\n              onClick={(value) => {\r\n                acceptReport(record);\r\n              }}\r\n              style={{ color: 'green', marginLeft: 15, fontSize: 22 }}\r\n            />\r\n            <CloseOutlined\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"top\"\r\n              title=\"Từ chối báo cáo\"\r\n              onClick={(value) => {\r\n                rejectReport(record);\r\n              }}\r\n              style={{ color: 'red', marginLeft: 15, fontSize: 22 }}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <InfoCircleOutlined\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"top\"\r\n              title=\"Xem chi tiết\"\r\n              onClick={(value) => {\r\n                getInforReport(record.image);\r\n              }}\r\n              style={{ color: 'blue', marginLeft: 5, fontSize: 22 }}\r\n            />\r\n          </div>\r\n        ),\r\n    },\r\n  ];\r\n\r\n  const getInforReport = (record) => {\r\n    setCurrentImg(record);\r\n    setVisibleModal(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setCurrentImg('');\r\n    setVisibleModal(false);\r\n  };\r\n  const handleCancel = () => {\r\n    setCurrentImg('');\r\n    setVisibleModal(false);\r\n  };\r\n\r\n  const acceptReport = (record) => {\r\n    confirmAlert({\r\n      title: 'Chấp nhận báo cáo',\r\n      message: 'Bạn chắc chắn muốn chấp nhận báo cáo?',\r\n      buttons: [\r\n        {\r\n          label: 'Yes',\r\n          onClick: () => {\r\n            axios({\r\n              method: 'post',\r\n              url: URL_API + `/report/accept?id=${record.id}`,\r\n              // url: URL_API + \"/report/listing\",\r\n              headers: {\r\n                'api-token': API_TOKEN,\r\n                'project-type': CURRENT_TYPE,\r\n              },\r\n            })\r\n              .then(function (response) {\r\n                //handle success\r\n                console.log(response);\r\n                setLoadingTable(true);\r\n                getDataInit();\r\n              })\r\n              .catch(function (err) {\r\n                //handle error\r\n                console.log('error nè', err);\r\n              });\r\n          },\r\n        },\r\n        {\r\n          label: 'No',\r\n          onClick: () => {},\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  const rejectReport = (record) => {\r\n    confirmAlert({\r\n      title: 'Từ chối báo cáo',\r\n      message: 'Bạn chắc chắn muốn từ chối báo cáo?',\r\n      buttons: [\r\n        {\r\n          label: 'Yes',\r\n          onClick: () => {\r\n            axios({\r\n              method: 'post',\r\n              url: URL_API + `/report/reject?id=${record.id}`,\r\n              // url: URL_API + \"/report/listing\",\r\n              headers: {\r\n                'api-token': API_TOKEN,\r\n                'project-type': CURRENT_TYPE,\r\n              },\r\n            })\r\n              .then(function (response) {\r\n                //handle success\r\n                console.log(response);\r\n                setLoadingTable(true);\r\n                getDataInit();\r\n              })\r\n              .catch(function (err) {\r\n                //handle error\r\n                console.log('error nè', err);\r\n              });\r\n          },\r\n        },\r\n        {\r\n          label: 'No',\r\n          onClick: () => {},\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"header\" onClick={() => {}}>\r\n        Danh sách báo cáo kết quả xử lý sự cố\r\n      </div>\r\n      <Input.Search\r\n        style={{ margin: '0 0 10px 0' }}\r\n        placeholder=\"Search by...\"\r\n        enterButton\r\n        onSearch={search}\r\n      />\r\n      <div>\r\n        <Spin spinning={loadingTable} tip=\"Loading...\">\r\n          <Table\r\n            rowKey={(record) => record.id}\r\n            columns={columns}\r\n            dataSource={filterTable == null ? dataReport : filterTable}\r\n            size=\"middle\"\r\n          />\r\n        </Spin>\r\n      </div>\r\n      <Modal\r\n        title={null}\r\n        visible={visibleModal}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        footer={null}\r\n        width={'fit-content'}\r\n      >\r\n        <img width=\"100%\" height=\"100%\" src={currentImg} />\r\n        <ReactPlayer url={currentImg} />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListReport;\r\n","import React, { useEffect, useState } from 'react';\r\nimport '../Styles/StyleListIncidents.css';\r\nimport { Table, Modal, Button, Input, Space, Spin } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport {\r\n  CheckOutlined,\r\n  CloseOutlined,\r\n  InfoCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport URL_API from './url';\r\n\r\nconst ListStaff = () => {\r\n  const [dataEmployee, setdataEmployee] = useState([]);\r\n  const [contentModal, setContentModal] = useState(null);\r\n  const [loadingModal, setLoadingModal] = useState(false);\r\n  const [visibleModal, setVisibleModal] = useState(false);\r\n  const [detailEmployee, setDetailEmployee] = useState(null);\r\n  const [loadingTable, setLoadingTable] = useState(true);\r\n  const { pathname } = useLocation();\r\n  const [dataAPI, setDataAPI] = useState([]);\r\n  const codeIncidents = {\r\n    CHAY_RUNG: { id: '222222', name: 'Sự cố  cháy rừng' },\r\n    DE_DIEU: { id: '111111', name: 'Sự cố  đê điều' },\r\n    CAY_TRONG: { id: '333333', name: 'Sự cố  cây trồng' },\r\n    LUOI_DIEN: { id: '000000', name: 'Sự cố lưới điện trên cao' },\r\n  };\r\n  const API_TOKEN = '4c901bcdba9f440a2a7c31c0bcbd78ec';\r\n  const CURRENT_TYPE = 'LUOI_DIEN';\r\n  const typeIncident = codeIncidents[CURRENT_TYPE];\r\n\r\n  const [searchText, setSearchText] = useState();\r\n  const [searchedColumn, setSearchedColumn] = useState();\r\n\r\n  useEffect(() => {\r\n    axios({\r\n      method: 'get',\r\n      url: URL_API + '/employee/listing',\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        //handle success\r\n        console.log(response);\r\n        setLoadingTable(false);\r\n        console.log(response.data.list);\r\n        setDataAPI(response.data.list);\r\n        // let data = [];\r\n        // response.data.list.map((item) => {\r\n        //   let convertItem = item.employee;\r\n        //   data.push(convertItem);\r\n        //   console.log(data)\r\n        // });\r\n        // setdataEmployee(data)\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Mã nhân viên',\r\n      dataIndex: 'id',\r\n      render: (text, record) => <p>{record.employee.id}</p>,\r\n      sorter: (a, b) => b.employee.id - a.employee.id,\r\n      sortDirections: ['descend'],\r\n    },\r\n    {\r\n      title: 'Tên nhân viên',\r\n      dataIndex: 'full_name',\r\n      render: (text, record) => <p>{record.employee.full_name}</p>,\r\n      sorter: (a, b) =>\r\n        b.employee.full_name.charCodeAt(0) - a.employee.full_name.charCodeAt(0),\r\n      sortDirections: ['descend'],\r\n    },\r\n    {\r\n      title: 'Số điện thoại',\r\n      dataIndex: 'phone',\r\n      render: (text, record) => <p>{record.employee.phone}</p>,\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n      render: (text, record) => <p>{record.employee.email}</p>,\r\n    },\r\n    {\r\n      title: 'Địa chỉ',\r\n      dataIndex: 'address',\r\n      render: (text, record) => <p>{record.employee.address}</p>,\r\n    },\r\n    {\r\n      title: 'Vai trò',\r\n      dataIndex: 'role',\r\n      render: (text, record) => <p>{record.employee.role}</p>,\r\n      // sorter: (a, b) => b.employee.role.charCodeAt(0) - a.employee.role.charCodeAt(0),\r\n      // sortDirections: ['descend'],\r\n      filters: [\r\n        {\r\n          text: 'ADMIN',\r\n          value: 'ADMIN',\r\n        },\r\n        {\r\n          text: 'INCIDENT_STAFF',\r\n          value: 'INCIDENT_STAFF',\r\n        },\r\n        {\r\n          text: 'MANAGER',\r\n          value: 'MANAGER',\r\n        },\r\n        {\r\n          text: 'SUPERVISOR',\r\n          value: 'SUPERVISOR',\r\n        },\r\n        {\r\n          text: 'DRONE_STAFT',\r\n          value: 'DRONE_STAFT',\r\n        },\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.employee.role.indexOf(value) === 0,\r\n    },\r\n    {\r\n      title: 'Loại sự cố',\r\n      dataIndex: 'type',\r\n      render: (text, record) => (\r\n        <p>\r\n          {record.employee.type == 'CHAY_RUNG'\r\n            ? 'Sự cố cháy rừng'\r\n            : record.employee.type == 'DE_DIEU'\r\n            ? 'Sự cố đê điều'\r\n            : record.employee.type == 'CAY_TRONG'\r\n            ? 'Sự cố cây trồng'\r\n            : 'Sự cố lưới điện cao thế'}\r\n        </p>\r\n      ),\r\n      // sorter: (a, b) => b.employee.type.charCodeAt(0) - a.employee.type.charCodeAt(0),\r\n      // sortDirections: ['descend'],\r\n      filters: [\r\n        {\r\n          text: 'Sự cố cháy rừng',\r\n          value: 'CHAY_RUNG',\r\n        },\r\n        {\r\n          text: 'Sự cố đê điều',\r\n          value: 'DE_DIEU',\r\n        },\r\n        {\r\n          text: 'Sự cố cây trồng',\r\n          value: 'CAY_TRONG',\r\n        },\r\n        {\r\n          text: 'Sự cố lưới điện cao thế',\r\n          value: 'LUOI_DIEN',\r\n        },\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.employee.type.indexOf(value) === 0,\r\n    },\r\n    {\r\n      title: 'Trạng thái hiện tại',\r\n      dataIndex: 'status_activation',\r\n      render: (text, record) => <p>{record.employee.status_activation}</p>,\r\n      filters: [\r\n        {\r\n          text: 'BUSY',\r\n          value: 'BUSY',\r\n        },\r\n        {\r\n          text: 'FREE',\r\n          value: 'FREE',\r\n        },\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) =>\r\n        record.employee.status_activation.indexOf(value) === 0,\r\n    },\r\n    {\r\n      title: '',\r\n      key: 'operation',\r\n      render: (text, record) => (\r\n        <div>\r\n          <InfoCircleOutlined\r\n            data-toggle=\"tooltip\"\r\n            data-placement=\"top\"\r\n            title=\"Xem chi tiết\"\r\n            onClick={(value) => {\r\n              getInforEmployee(record);\r\n            }}\r\n            style={{ color: 'blue', marginLeft: 5 }}\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const getInforEmployee = (record) => {\r\n    setDetailEmployee(record);\r\n    setVisibleModal(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setVisibleModal(false);\r\n  };\r\n  const handleCancel = () => {\r\n    setVisibleModal(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"header\" onClick={() => {}}>\r\n        Danh sách nhân viên\r\n      </div>\r\n      <div>\r\n        <Spin spinning={loadingTable} tip=\"Loading...\">\r\n          <Table\r\n            rowKey={(record) => record.employee.id}\r\n            columns={columns}\r\n            dataSource={dataAPI}\r\n            size=\"middle\"\r\n          />\r\n        </Spin>\r\n      </div>\r\n      <Modal\r\n        title={`Thông tin công việc của nhân viên: ${\r\n          detailEmployee ? detailEmployee.employee.full_name : ''\r\n        }`}\r\n        visible={visibleModal}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        footer={null}\r\n      >\r\n        <Spin spinning={loadingModal} tip=\"Loading...\">\r\n          {detailEmployee ? (\r\n            <div style={{ displayL: 'flex', flexWrap: 'wrap' }}>\r\n              <div style={{ flex: '75%' }}>\r\n                <div>\r\n                  <p>Mã nhân viên: {detailEmployee.employee.id}</p>\r\n                  <p>Vai trò: {detailEmployee.employee.role}</p>\r\n                  <p>\r\n                    Loại sự cố:{' '}\r\n                    <p>\r\n                      {detailEmployee.employee.type == 'CHAY_RUNG'\r\n                        ? 'Sự cố cháy rừng'\r\n                        : detailEmployee.employee.type == 'DE_DIEU'\r\n                        ? 'Sự cố đê điều'\r\n                        : detailEmployee.employee.type == 'CAY_TRONG'\r\n                        ? 'Sự cố cây trồng'\r\n                        : 'Sự cố lưới điện cao thế'}\r\n                    </p>\r\n                  </p>\r\n                </div>\r\n                {detailEmployee.current_task_type ? (\r\n                  <div style={{ marginTop: 20 }}>\r\n                    <p>***Công việc hiện tại***</p>\r\n                    <p>\r\n                      Tên công việc: {detailEmployee.current_task_type.name}\r\n                    </p>\r\n                    <p>Mô tả: {detailEmployee.current_task_type.description}</p>\r\n                    <p>\r\n                      Loại sự cố:{' '}\r\n                      <p>\r\n                        {detailEmployee.employee.type == 'CHAY_RUNG'\r\n                          ? 'Sự cố cháy rừng'\r\n                          : detailEmployee.employee.type == 'DE_DIEU'\r\n                          ? 'Sự cố đê điều'\r\n                          : detailEmployee.employee.type == 'CAY_TRONG'\r\n                          ? 'Sự cố cây trồng'\r\n                          : 'Sự cố lưới điện cao thế'}\r\n                      </p>\r\n                    </p>\r\n                  </div>\r\n                ) : (\r\n                  <p>***Nhân viên hiện tại không có công việc nào***</p>\r\n                )}\r\n\r\n                <div style={{ flex: '75%' }}>\r\n                  <img\r\n                    src={detailEmployee.employee.avatar}\r\n                    width={'100%'}\r\n                    height={'100%'}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </Spin>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListStaff;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Table,\r\n  Button,\r\n  Input,\r\n  ConfigProvider,\r\n  Spin,\r\n  Select,\r\n  Checkbox,\r\n  Calendar,\r\n  DatePicker,\r\n  message,\r\n} from 'antd';\r\nimport '../Styles/StyleSettingSchedule.css';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport URL_API from './url';\r\nconst { Option } = Select;\r\nconst SettingSchedule = () => {\r\n  const [dataSettingSchedule, setDataSettingSchedule] = useState([]);\r\n  const [itemSelected, setItemSelected] = useState(null);\r\n  const [loadingTable, setLoadingTable] = useState(true);\r\n  const [creatingNewItem, setCreatingNewItem] = useState(false);\r\n  const [edittingItem, setEdittingItem] = useState(false);\r\n  const [idItemEditing, setIdItemEditing] = useState(null);\r\n\r\n  const [valueDateEdit, setValueDateEdit] = useState(null);\r\n  const [checkboxSaturdayEdit, setCheckboxSaturdayEdit] = useState(false);\r\n  const [checkboxSundayEdit, setCheckboxSundayEdit] = useState(false);\r\n  const [listDayoffEdit, setListDayoffEdit] = useState([]);\r\n\r\n  const API_TOKEN = '4c901bcdba9f440a2a7c31c0bcbd78ec';\r\n  const CURRENT_TYPE = 'LUOI_DIEN';\r\n  const childrenDay = [];\r\n  for (let i = 1; i <= 31; i++) {\r\n    childrenDay.push(<Option key={i}>{i}</Option>);\r\n  }\r\n  const customFormat = (value) => {\r\n    return `Tháng ${value.format('MM/YYYY')}`;\r\n  };\r\n  const getDataSetting = () => {\r\n    axios({\r\n      method: 'get',\r\n      url: URL_API + '/schedule-setting/listing',\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        // console.log(response);\r\n        //handle success\r\n        // setDataIncidents(response.data[0].tasks);\r\n        response.data.map((item) => {\r\n          if (item.off_days) {\r\n            let listOffDays = item.off_days.split(',');\r\n            item.off_days = listOffDays;\r\n          }\r\n        });\r\n        setDataSettingSchedule([]);\r\n        setTimeout(() => {\r\n          setDataSettingSchedule(response.data);\r\n        }, 100);\r\n        setLoadingTable(false);\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n        setLoadingTable(false);\r\n      });\r\n  };\r\n  const submitEditItem = (item) => {\r\n    axios({\r\n      method: 'put',\r\n      url: URL_API + '/schedule-setting/update',\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n      params: {\r\n        id: item.id,\r\n        off_saturday: item.off_saturday,\r\n        off_sunday: item.off_sunday,\r\n        off_days: item.off_days,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        getDataSetting();\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n        setLoadingTable(false);\r\n      });\r\n  };\r\n  const removeItem = () => {\r\n    // setLoadingTable(true);\r\n    // axios({\r\n    //   method: \"put\",\r\n    //   url: URL_API + \"/schedule-setting/update\",\r\n    //   // url: URL_API + \"/report/listing\",\r\n    //   headers: {\r\n    //     \"api-token\": API_TOKEN,\r\n    //     \"project-type\": CURRENT_TYPE,\r\n    //   },\r\n    //   params: {\r\n    //     id: item.id,\r\n    //     off_saturday: item.off_saturday,\r\n    //     off_sunday: item.off_sunday,\r\n    //     off_days: item.off_days,\r\n    //   },\r\n    // })\r\n    //   .then(function (response) {\r\n    //     getDataSetting();\r\n    //   })\r\n    //   .catch(function (err) {\r\n    //     //handle error\r\n    //     console.log(err);\r\n    //     setLoadingTable(false);\r\n    //   });\r\n  };\r\n  const createNewItem = () => {\r\n    let month = valueDateEdit.split('/')[0];\r\n    let year = valueDateEdit.split('/')[1];\r\n    setLoadingTable(true);\r\n    axios({\r\n      method: 'post',\r\n      url: URL_API + '/schedule-setting/set',\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n      data: {\r\n        month: month,\r\n        year: year,\r\n        off_saturday: checkboxSaturdayEdit ? 1 : 0,\r\n        off_sunday: checkboxSundayEdit ? 1 : 0,\r\n        off_days: listDayoffEdit.toString(),\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        getDataSetting();\r\n        setCreatingNewItem(false);\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n        message.error(err.response.data.error.message);\r\n        setLoadingTable(false);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getDataSetting();\r\n  }, []);\r\n  const refDatePickerEdit = React.createRef();\r\n  const refCheckBoxSaturday = React.createRef();\r\n  const refCheckBoxSunday = React.createRef();\r\n  const refSelectDayOff = React.createRef();\r\n  const EditableCell = (itemBeforeEdit, onChange) => {\r\n    return (\r\n      <div className=\"itemSettingSelected\">\r\n        <div style={{ display: 'none' }}>Đang sửa bản ghi</div>\r\n        <span>\r\n          <DatePicker\r\n            ref={refDatePickerEdit}\r\n            defaultValue={moment(valueDateEdit, 'MM/YYYY')}\r\n            onChange={(date, dateString) => {\r\n              setValueDateEdit(moment(date).format('MM/YYYY'));\r\n            }}\r\n            picker=\"month\"\r\n            format={customFormat}\r\n          />\r\n        </span>\r\n        <span style={{ marginLeft: 20 }}>\r\n          <Checkbox\r\n            ref={refCheckBoxSaturday}\r\n            checked={checkboxSaturdayEdit}\r\n            onChange={() => {\r\n              setCheckboxSaturdayEdit(!checkboxSaturdayEdit);\r\n            }}\r\n          >\r\n            Nghỉ thứ 7\r\n          </Checkbox>\r\n          <Checkbox\r\n            ref={refCheckBoxSunday}\r\n            checked={checkboxSundayEdit}\r\n            onChange={() => {\r\n              setCheckboxSundayEdit(!checkboxSundayEdit);\r\n            }}\r\n          >\r\n            Nghỉ chủ nhật\r\n          </Checkbox>\r\n        </span>\r\n        <span style={{ marginLeft: 20 }}>\r\n          <Select\r\n            ref={refSelectDayOff}\r\n            size=\"small\"\r\n            mode=\"multiple\"\r\n            onChange={(value) => {\r\n              setListDayoffEdit(value);\r\n            }}\r\n            style={{ width: 200 }}\r\n            placeholder={'Ngày nghỉ trong tuần'}\r\n            defaultValue={listDayoffEdit ? listDayoffEdit : null}\r\n          >\r\n            {childrenDay}\r\n          </Select>\r\n        </span>\r\n      </div>\r\n    );\r\n  };\r\n  const starteditingItem = (idItem) => {\r\n    const newData = dataSettingSchedule;\r\n    const target = dataSettingSchedule.find((item) => idItem === item.id);\r\n    const preTarget = newData.find((item) => idItemEditing === item.id);\r\n    if (preTarget) {\r\n      preTarget.isEditing = false;\r\n    }\r\n    if (target) {\r\n      target.isEditing = true;\r\n      setIdItemEditing(idItem);\r\n      setDataSettingSchedule(newData);\r\n      setValueDateEdit(target.month + '/' + target.year);\r\n      setCheckboxSaturdayEdit(target.off_saturday);\r\n      setCheckboxSundayEdit(target.off_sunday);\r\n      setListDayoffEdit(target.off_days);\r\n    }\r\n  };\r\n  const editItemSetting = (idItem) => {\r\n    setIdItemEditing(null);\r\n    setItemSelected(null);\r\n    // setDataSettingSchedule(dataSettingSchedule);\r\n    let itemEdited = {\r\n      id: idItem,\r\n      off_saturday: checkboxSaturdayEdit ? 1 : 0,\r\n      off_sunday: checkboxSundayEdit ? 1 : 0,\r\n      off_days: listDayoffEdit.toString(),\r\n    };\r\n    setLoadingTable(true);\r\n    submitEditItem(itemEdited);\r\n  };\r\n  const setItemSetting = () => {};\r\n  const columns = [\r\n    {\r\n      title: null,\r\n      dataIndex: 'name',\r\n      render: (valueRow, item) => {\r\n        return item.id && item.isEditing == true ? (\r\n          EditableCell(item)\r\n        ) : item.id ? ( //select an item preset\r\n          <div\r\n            className=\"itemSetting\"\r\n            onClick={() => {\r\n              setItemSelected(item.id);\r\n            }}\r\n          >\r\n            <span>\r\n              <DatePicker\r\n                defaultValue={moment(item.month + '/' + item.year, 'MM/YYYY')}\r\n                onChange={null}\r\n                picker=\"month\"\r\n                format={customFormat}\r\n                disabled\r\n              />\r\n            </span>\r\n            <span style={{ marginLeft: 20 }}>\r\n              <Checkbox checked={item.off_sunday} onChange={null} disabled>\r\n                Nghỉ thứ 7\r\n              </Checkbox>\r\n              <Checkbox checked={item.off_saturday} onChange={null} disabled>\r\n                Nghỉ chủ nhật\r\n              </Checkbox>\r\n            </span>\r\n            <span style={{ marginLeft: 20 }}>\r\n              <Select\r\n                size=\"small\"\r\n                mode=\"multiple\"\r\n                // onChange={{}}\r\n                style={{ width: 200 }}\r\n                placeholder={'Ngày nghỉ trong tuần'}\r\n                defaultValue={item.off_days ? item.off_days : null}\r\n                disabled\r\n              >\r\n                {childrenDay}\r\n              </Select>\r\n            </span>\r\n            <span\r\n              className=\"actionButtonItem\"\r\n              style={\r\n                item.selected == true\r\n                  ? { float: 'right', marginRight: 5 }\r\n                  : { display: 'none' }\r\n              }\r\n              onClick={() => {\r\n                removeItem();\r\n              }}\r\n            >\r\n              Xóa\r\n            </span>\r\n            <span style={item.selected == true ? {} : { display: 'none' }}>\r\n              <span style={{ float: 'right', marginRight: 5 }}> | </span>\r\n              <span\r\n                className=\"actionButtonItem\"\r\n                style={{ float: 'right', marginRight: 5 }}\r\n                onClick={() => {\r\n                  starteditingItem(item.id);\r\n                }}\r\n              >\r\n                Sửa\r\n              </span>\r\n            </span>\r\n          </div>\r\n        ) : (\r\n          //create new preset\r\n          <div className=\"itemSetting\">\r\n            <span>\r\n              <DatePicker\r\n                onChange={(date, dateString) => {\r\n                  setValueDateEdit(moment(date).format('MM/YYYY'));\r\n                }}\r\n                picker=\"month\"\r\n                format={customFormat}\r\n              />\r\n            </span>\r\n            <span style={{ marginLeft: 20 }}>\r\n              <Checkbox\r\n                checked={checkboxSaturdayEdit}\r\n                onChange={() => {\r\n                  setCheckboxSaturdayEdit(!checkboxSaturdayEdit);\r\n                }}\r\n              >\r\n                Nghỉ thứ 7\r\n              </Checkbox>\r\n              <Checkbox\r\n                checked={checkboxSundayEdit}\r\n                onChange={() => {\r\n                  setCheckboxSundayEdit(!checkboxSundayEdit);\r\n                }}\r\n              >\r\n                Nghỉ chủ nhật\r\n              </Checkbox>\r\n            </span>\r\n            <span style={{ marginLeft: 20 }}>\r\n              <Select\r\n                size=\"small\"\r\n                mode=\"multiple\"\r\n                onChange={(value) => {\r\n                  setListDayoffEdit(value);\r\n                }}\r\n                style={{ width: 200 }}\r\n                placeholder={'Ngày nghỉ trong tuần'}\r\n              >\r\n                {childrenDay}\r\n              </Select>\r\n            </span>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <h1 style={{ textAlign: 'center' }}>Cấu hình lịch làm việc</h1>\r\n      <div className=\"listSettingSchedule\">\r\n        <Spin spinning={loadingTable} tip=\"Loading...\">\r\n          <Table\r\n            rowKey={(record) => record.id}\r\n            dataSource={dataSettingSchedule}\r\n            pagination={false}\r\n            onRow={(item) => {\r\n              return {\r\n                rowKey: item.id,\r\n                // onClick: () => {\r\n                //   this.gotoPresetPTZCamera(preset.token);\r\n                //   // console.log(preset);\r\n                // },\r\n              };\r\n            }}\r\n            rowClassName={(item) => {\r\n              if (item.id == itemSelected) {\r\n                item.selected = true;\r\n                return 'choosenItem';\r\n              } else {\r\n                item.selected = false;\r\n                return null;\r\n              }\r\n            }}\r\n            columns={columns}\r\n          >\r\n            {/* <Column title={null} dataIndex=\"name\" key=\"name\" /> */}\r\n          </Table>\r\n          <div className=\"button-save\">\r\n            <Button\r\n              type=\"primary\"\r\n              style={{ float: 'right', right: 30, width: 100 }}\r\n              disabled={creatingNewItem || idItemEditing ? false : true}\r\n              onClick={() => {\r\n                if (idItemEditing) {\r\n                  editItemSetting(idItemEditing);\r\n                } else {\r\n                  createNewItem();\r\n                }\r\n              }}\r\n            >\r\n              Lưu\r\n            </Button>\r\n            {creatingNewItem || idItemEditing ? (\r\n              <Button\r\n                type=\"primary\"\r\n                style={{ float: 'right', right: 45, width: 100 }}\r\n                disabled={creatingNewItem || idItemEditing ? false : true}\r\n                onClick={() => {\r\n                  // if (idItemTokenEditing == null) {\r\n                  //   dataPresets.pop();\r\n                  //   filterDataPresets.pop();\r\n                  // }\r\n                  // let newData = [...dataPresets];\r\n                  // newData.map((preset) => {\r\n                  //   preset.isEditing = false;\r\n                  // });\r\n                  // let newDataFilter = [...filterDataPresets];\r\n                  // newDataFilter.map((preset) => {\r\n                  //   preset.isEditing = false;\r\n                  // });\r\n                  // this.setState({\r\n                  //   dataPresets: newData,\r\n                  //   filterDataPresets: newDataFilter,\r\n                  //   creatingNewPreset: false,\r\n                  //   itemSelected: null,\r\n                  //   presetTokenEditing: null,\r\n                  // });\r\n                  dataSettingSchedule.map((item) => {\r\n                    item.isEditing = false;\r\n                  });\r\n                  setIdItemEditing(null);\r\n                  setItemSelected(null);\r\n                  if (idItemEditing == null) {\r\n                    setLoadingTable(true);\r\n                    getDataSetting();\r\n                  } else {\r\n                    setDataSettingSchedule(dataSettingSchedule);\r\n                  }\r\n                }}\r\n              >\r\n                Hủy\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                type=\"primary\"\r\n                style={{ float: 'right', right: 45, width: 100 }}\r\n                disabled={creatingNewItem || idItemEditing ? true : false}\r\n                onClick={() => {\r\n                  dataSettingSchedule.map((item) => {\r\n                    item.isEditing = false;\r\n                  });\r\n                  setIdItemEditing(null);\r\n                  setItemSelected(null);\r\n                  setDataSettingSchedule(dataSettingSchedule);\r\n                  setCreatingNewItem(true);\r\n                  let newItem = {\r\n                    id: null,\r\n                  };\r\n                  setDataSettingSchedule([...dataSettingSchedule, newItem]);\r\n                  // this.setState({\r\n                  //   dataPresets: [...dataPresets, newPreset],\r\n                  //   filterDataPresets: [...filterDataPresets, newPreset],\r\n                  //   creatingNewPreset: true,\r\n                  //   presetTokenEditing: null,\r\n                  //   invalidValueInput: false,\r\n                  //   itemSelected: null,\r\n                  // });\r\n                }}\r\n              >\r\n                Thêm\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Spin>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingSchedule;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport '../Styles/StyleListIncidents.css';\r\nimport { Table, Modal, Button, Input, Space, Spin, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport URL_API from './url';\r\n\r\nconst { Option } = Select;\r\n\r\nconst TypeTask = () => {\r\n  const [dataType, setdataType] = useState([]);\r\n  const [contentModal, setContentModal] = useState(null);\r\n  const [visibleModal, setVisibleModal] = useState(false);\r\n  const [visibleModal1, setVisibleModal1] = useState(false);\r\n  const [loadingTable, setLoadingTable] = useState(true);\r\n  const [filterTable, setFilterTable] = useState(null);\r\n  const [dataEdit, setDataEdit] = useState({\r\n    name: '',\r\n    description: '',\r\n    employee_number: 0,\r\n    prioritize: 0,\r\n  });\r\n  const { pathname } = useLocation();\r\n  const codeIncidents = {\r\n    CHAY_RUNG: { id: '222222', name: 'Sự cố  cháy rừng' },\r\n    DE_DIEU: { id: '111111', name: 'Sự cố  đê điều' },\r\n    CAY_TRONG: { id: '333333', name: 'Sự cố  cây trồng' },\r\n    LUOI_DIEN: { id: '000000', name: 'Sự cố lưới điện trên cao' },\r\n  };\r\n  const API_TOKEN = '4c901bcdba9f440a2a7c31c0bcbd78ec';\r\n  const CURRENT_TYPE = 'LUOI_DIEN';\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  const getData = () => {\r\n    axios({\r\n      method: 'get',\r\n      url: URL_API + '/task-type/listing',\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        //handle success\r\n        console.log(response);\r\n        setLoadingTable(false);\r\n        setdataType(response.data);\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const search = (value) => {\r\n    // console.log(\"PASS\", { value });\r\n    const filterTable = dataType.filter((o) =>\r\n      Object.keys(o).some((k) => {\r\n        // console.log(String(o[k]).toLowerCase() + \" - \" + value.toLowerCase());\r\n        return (\r\n          k !== 'incident_id' &&\r\n          String(o[k]).normalize().toLowerCase().includes(value.toLowerCase())\r\n        );\r\n      }),\r\n    );\r\n    setFilterTable(filterTable);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Tên công việc',\r\n      dataIndex: 'name',\r\n      //   ...getColumnSearchProps(\"title\"),\r\n    },\r\n    // {\r\n    //   title: \"Mã công việc\",\r\n    //   dataIndex: \"task_id\",\r\n    //   sorter: (a, b) => b.task_id - a.task_id,\r\n    //   sortDirections: [\"descend\"],\r\n    // //   ...getColumnSearchProps(\"task_id\"),\r\n    // },\r\n    {\r\n      title: 'Nội dung công việc',\r\n      dataIndex: 'description',\r\n      //   ...getColumnSearchProps(\"description\"),\r\n    },\r\n    {\r\n      title: 'Số lượng nhân viên',\r\n      dataIndex: 'employee_number',\r\n      sorter: (a, b) => b.employee_number - a.employee_number,\r\n      sortDirections: ['descend'],\r\n    },\r\n    {\r\n      title: 'Loại sự cố',\r\n      dataIndex: 'project_type',\r\n      render: (text, record) => (\r\n        <p>{codeIncidents[record.project_type].name}</p>\r\n      ),\r\n      filters: [\r\n        {\r\n          text: 'Sự cố cháy rừng',\r\n          value: 'CHAY_RUNG',\r\n        },\r\n        {\r\n          text: 'Sự cố đê điều',\r\n          value: 'Sự cố đê điều',\r\n        },\r\n        {\r\n          text: 'Sự cố cây trồng',\r\n          value: 'CAY_TRONG',\r\n        },\r\n        {\r\n          text: 'Sự cố lưới điện trên cao',\r\n          value: 'LUOI_DIEN',\r\n        },\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.project_type.indexOf(value) === 0,\r\n    },\r\n    {\r\n      title: 'Trạng thái ưu tiên',\r\n      dataIndex: 'prioritize',\r\n      render: (value, record) => (\r\n        <p>{record.prioritize == true ? 'true' : 'false'}</p>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Tác vụ',\r\n      key: 'operation',\r\n      render: (record) => (\r\n        <div>\r\n          <EditOutlined\r\n            style={{ fontSize: 22, color: 'orange' }}\r\n            onClick={(e) => editData(record)}\r\n            data-toggle=\"tooltip\"\r\n            data-placement=\"top\"\r\n            title=\"Sửa công việc\"\r\n          />\r\n          <DeleteOutlined\r\n            style={{ fontSize: 22, color: 'red', marginLeft: 30 }}\r\n            onClick={(e) => submit(record)}\r\n            data-toggle=\"tooltip\"\r\n            data-placement=\"top\"\r\n            title=\"Xóa công việc\"\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const submit = (record) => {\r\n    confirmAlert({\r\n      title: 'Xóa công việc',\r\n      message: 'Bạn chắc chắn muốn xóa công việc ' + record.name + '?',\r\n      buttons: [\r\n        {\r\n          label: 'Yes',\r\n          onClick: () => {\r\n            axios({\r\n              method: 'delete',\r\n              url: URL_API + '/task-type/delete?id=' + record.id,\r\n              // url: URL_API + \"/report/listing\",\r\n              headers: {\r\n                'api-token': API_TOKEN,\r\n                'project-type': CURRENT_TYPE,\r\n              },\r\n            })\r\n              .then(function (response) {\r\n                //handle success\r\n                console.log(response);\r\n                setLoadingTable(true);\r\n                getData();\r\n              })\r\n              .catch(function (err) {\r\n                //handle error\r\n                console.log(err);\r\n              });\r\n          },\r\n        },\r\n        {\r\n          label: 'No',\r\n          onClick: () => {},\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  const editData = (record) => {\r\n    setDataEdit(record);\r\n    setVisibleModal(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setVisibleModal(false);\r\n  };\r\n  const handleCancel = () => {\r\n    setVisibleModal(false);\r\n  };\r\n\r\n  const addData = () => {\r\n    setDataEdit({\r\n      name: '',\r\n      description: '',\r\n      employee_number: 0,\r\n      prioritize: 0,\r\n    });\r\n    setVisibleModal1(true);\r\n  };\r\n\r\n  const handleOk1 = () => {\r\n    setVisibleModal1(false);\r\n  };\r\n  const handleCancel1 = () => {\r\n    setVisibleModal1(false);\r\n  };\r\n\r\n  const onChangeValue = (key, value) => {\r\n    setDataEdit({\r\n      ...dataEdit,\r\n      [key]: value,\r\n    });\r\n  };\r\n\r\n  const submitEditData = () => {\r\n    console.log(dataEdit);\r\n    let id = dataEdit.id;\r\n    let name = dataEdit.name;\r\n    let description = dataEdit.description;\r\n    let employee_number = dataEdit.employee_number;\r\n    let prioritize = dataEdit.prioritize == true ? 1 : 0;\r\n    axios({\r\n      method: 'put',\r\n      url:\r\n        URL_API +\r\n        `/task-type/update?id=${id}&name=${name}&description=${description}&employee_number=${employee_number}&prioritize=${prioritize}`,\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        //handle success\r\n        console.log(response);\r\n        handleCancel();\r\n        setLoadingTable(true);\r\n        getData();\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const submitAddData = () => {\r\n    console.log(dataEdit);\r\n    let name = dataEdit.name;\r\n    let description = dataEdit.description;\r\n    let employee_number = dataEdit.employee_number;\r\n    let prioritize = dataEdit.prioritize == true ? 1 : 0;\r\n    axios({\r\n      method: 'post',\r\n      url: URL_API + `/task-type/create`,\r\n      // url: URL_API + \"/report/listing\",\r\n      headers: {\r\n        'api-token': API_TOKEN,\r\n        'project-type': CURRENT_TYPE,\r\n      },\r\n      body: {\r\n        name: name,\r\n        description: description,\r\n        employee_number: employee_number,\r\n        prioritize: prioritize,\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        //handle success\r\n        console.log(response);\r\n        handleCancel();\r\n        setLoadingTable(true);\r\n        getData();\r\n      })\r\n      .catch(function (err) {\r\n        //handle error\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"header\" onClick={() => {}}>\r\n        Danh sách các công việc để xử lý sự cố\r\n      </div>\r\n      <Input.Search\r\n        style={{ margin: '0 0 10px 0' }}\r\n        placeholder=\"Search by...\"\r\n        enterButton\r\n        onSearch={search}\r\n      />\r\n      <div>\r\n        <Spin spinning={loadingTable} tip=\"Loading...\">\r\n          <Table\r\n            rowKey={(record) => record.id}\r\n            columns={columns}\r\n            dataSource={filterTable == null ? dataType : filterTable}\r\n            size=\"middle\"\r\n          />\r\n        </Spin>\r\n\r\n        <Button type=\"primary\" onClick={addData} style={{ marginTop: 20 }}>\r\n          Thêm mới\r\n        </Button>\r\n      </div>\r\n      <Modal\r\n        title={'Sửa chi tiết công việc'}\r\n        visible={visibleModal}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        footer={null}\r\n        width={700}\r\n      >\r\n        <p>Tên công việc</p>\r\n        <Input\r\n          value={dataEdit.name}\r\n          onChange={(e) => onChangeValue('name', e.target.value)}\r\n        />\r\n\r\n        <p style={{ marginTop: 20 }}>Nội dung công việc</p>\r\n        <Input\r\n          value={dataEdit.description}\r\n          onChange={(e) => onChangeValue('description', e.target.value)}\r\n        />\r\n\r\n        <p style={{ marginTop: 20 }}>Số lượng nhân viêc</p>\r\n        <Input\r\n          value={dataEdit.employee_number}\r\n          type=\"number\"\r\n          onChange={(e) => onChangeValue('employee_number', e.target.value)}\r\n        />\r\n\r\n        <p style={{ marginTop: 20 }}>Trạng thái ưu tiên</p>\r\n        {/* <Input  value={dataEdit.prioritize} onChange={(e) => onChangeValue(\"employee_number\", e.target.value)} /> */}\r\n        <Select\r\n          defaultValue={dataEdit.prioritize}\r\n          onChange={(e) => onChangeValue('prioritize', e)}\r\n          style={{ width: '100%' }}\r\n        >\r\n          <Option value={true}>true</Option>\r\n          <Option value={false}>false</Option>\r\n        </Select>\r\n\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={submitEditData}\r\n          style={{ marginTop: 20 }}\r\n        >\r\n          Submit\r\n        </Button>\r\n      </Modal>\r\n\r\n      <Modal\r\n        title={'Thêm chi tiết công việc'}\r\n        visible={visibleModal1}\r\n        onOk={handleOk1}\r\n        onCancel={handleCancel1}\r\n        footer={null}\r\n        width={700}\r\n      >\r\n        <p>Tên công việc</p>\r\n        <Input\r\n          value={dataEdit.name}\r\n          onChange={(e) => onChangeValue('name', e.target.value)}\r\n        />\r\n\r\n        <p style={{ marginTop: 20 }}>Nội dung công việc</p>\r\n        <Input\r\n          value={dataEdit.description}\r\n          onChange={(e) => onChangeValue('description', e.target.value)}\r\n        />\r\n\r\n        <p style={{ marginTop: 20 }}>Số lượng nhân viêc</p>\r\n        <Input\r\n          value={dataEdit.employee_number}\r\n          type=\"number\"\r\n          onChange={(e) => onChangeValue('employee_number', e.target.value)}\r\n        />\r\n\r\n        <p style={{ marginTop: 20 }}>Trạng thái ưu tiên</p>\r\n        {/* <Input  value={dataEdit.prioritize} onChange={(e) => onChangeValue(\"employee_number\", e.target.value)} /> */}\r\n        <Select\r\n          defaultValue={dataEdit.prioritize}\r\n          onChange={(e) => onChangeValue('prioritize', e)}\r\n          style={{ width: '100%' }}\r\n        >\r\n          <Option value={true}>true</Option>\r\n          <Option value={false}>false</Option>\r\n        </Select>\r\n\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={submitAddData}\r\n          style={{ marginTop: 20 }}\r\n        >\r\n          Submit\r\n        </Button>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TypeTask;\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport {\r\n  UnorderedListOutlined,\r\n  AppleOutlined,\r\n  AndroidOutlined,\r\n} from '@ant-design/icons';\r\nimport './style.css';\r\nimport ListIncidents from '../../components/IncidentComponents/ListIncidents';\r\nimport ListReport from '../../components/IncidentComponents/ListReport';\r\nimport ListSupports from '../../components/IncidentComponents/ListSupports';\r\nimport Schedule from '../../components/IncidentComponents/Schedule';\r\nimport ListStaff from '../../components/IncidentComponents/ListStaff';\r\nimport SettingSchedule from '../../components/IncidentComponents/SettingSchedule';\r\nimport TypeTask from '../../components/IncidentComponents/TypeTask';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst Incident = () => {\r\n  return (\r\n    <div>\r\n      {' '}\r\n      <Tabs defaultActiveKey=\"1\">\r\n        <TabPane tab={<span> Danh sách công việc xử lý </span>} key=\"1\">\r\n          <ListIncidents />\r\n        </TabPane>\r\n        <TabPane tab={<span> Danh sách báo cáo kết quả </span>} key=\"2\">\r\n          <ListReport />\r\n        </TabPane>\r\n        {/* <TabPane tab={<span>Danh sách yêu cầu hỗ trợ</span>} key=\"3\">\r\n          <ListSupports />\r\n        </TabPane> */}\r\n        {/* <TabPane tab={<span>Lịch làm việc</span>} key=\"4\">\r\n          <Schedule />\r\n        </TabPane> */}\r\n        <TabPane tab={<span>Danh sách nhân viên</span>} key=\"5\">\r\n          <ListStaff />\r\n        </TabPane>\r\n        <TabPane tab={<span>Cấu hình lịch làm việc</span>} key=\"6\">\r\n          <SettingSchedule />\r\n        </TabPane>\r\n        <TabPane tab={<span>Loại công việc xử lý sự cố</span>} key=\"7\">\r\n          <TypeTask />\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Incident;\r\n","const pushServerPublicKey = \"BL-eBn1GmJUsvUaBuiretJuPyWuyiJqyazFBHEcZchR6EKGdVQE2axsaBD-oPj_Y_Q7upi5GuChjHiLfDJbQquY\";\r\nconst host = process.env.PUSH_SERVER_URL || \"https://dsd-pushnotification-server.herokuapp.com\"\r\n//const host = process.env.PUSH_SERVER_URL || \"http://localhost:5000\"\r\n// post function\r\nfunction post(path, body) {\r\n  console.log(JSON.stringify(body));\r\n  console.log(`${host}${path}`);\r\n  return fetch(`${host}${path}`, {\r\n    headers: { \"content-type\": \"application/json;charset=UTF-8\" },\r\n    body: JSON.stringify(body),\r\n    method: \"POST\"\r\n  })\r\n    .then(function (response) {\r\n      return response.json();\r\n    })\r\n    .then(function (data) {\r\n      return data;\r\n    });\r\n}\r\n\r\n\r\n// checks if Push notification and service workers are supported by your browser\r\nfunction isPushNotificationSupported() {\r\n  return \"serviceWorker\" in navigator && \"PushManager\" in window;\r\n}\r\n\r\n\r\n// asks user consent to receive push notifications and returns the response of the user, one of granted, default, denied\r\nfunction initializePushNotifications() {\r\n  // request user grant to show notification\r\n  return Notification.requestPermission(function (result) {\r\n    console.log(result);\r\n    return result;\r\n  });\r\n}\r\n\r\n\r\n// register service worker file to listen push event from server\r\nfunction registerServiceWorker() {\r\n  navigator.serviceWorker.register(\"serviceWorker.js\");\r\n}\r\n\r\n\r\n// using the registered service worker creates a push notification subscription and returns it\r\nfunction createNotificationSubscription() {\r\n  console.log(\"creating subscription\");\r\n  //wait for service worker installation to be ready, and then\r\n  return navigator.serviceWorker.ready.then(function (serviceWorker) {\r\n    // subscribe and return the subscription\r\n    return serviceWorker.pushManager\r\n      .subscribe({\r\n        userVisibleOnly: true,\r\n        applicationServerKey: urlBase64ToUint8Array(pushServerPublicKey)\r\n      })\r\n      .then(function (subscription) {\r\n        console.log(\"User is subscribed.\", subscription);\r\n        return subscription;\r\n      });\r\n  });\r\n}\r\n\r\n// helper function\r\nfunction urlBase64ToUint8Array(base64String) {\r\n  const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\r\n  const base64 = (base64String + padding)\r\n    .replace(/\\-/g, \"+\")\r\n    .replace(/_/g, \"/\");\r\n\r\n  const rawData = window.atob(base64);\r\n  const outputArray = new Uint8Array(rawData.length);\r\n\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\n\r\n// send the actual subscription to push server to register for project_type\r\nfunction sendSubscriptionToPushServer(body) {\r\n  post(\"/subscribe\", body).then(function (response) {\r\n    const { subscriptionId, code, message } = response;\r\n    if (!message) {\r\n      alert(\"Subcribe to receive notification successfully\");\r\n    } else {\r\n      alert(message)\r\n    }\r\n    console.log(`subscriptionId: ${subscriptionId}`);\r\n    console.log(`return code: ${code}`);\r\n    console.log(`message: ${message}`);\r\n  });\r\n}\r\n\r\n\r\n// request push server to push to all clients have project_type (eg. CHAY_RUNG)\r\nfunction sendPushNotification(body) {\r\n  post(\"/push_notification\", body).then(function (response) {\r\n    const { code, message } = response;\r\n    console.log(`return code: ${code}`);\r\n    console.log(`message: ${message}`);\r\n  });\r\n}\r\n\r\nexport {\r\n  isPushNotificationSupported,\r\n  initializePushNotifications,\r\n  registerServiceWorker,\r\n  createNotificationSubscription,\r\n  sendSubscriptionToPushServer,\r\n  sendPushNotification\r\n};\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { WarningFilled } from '@ant-design/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  boxContainer: {\r\n    display: \"flex\",\r\n    marginBottom: 0\r\n  },\r\n  rating: {\r\n    color: 'red'\r\n  }\r\n}));\r\n\r\n\r\nconst SimpleRating = (props) => {\r\n  const classes = useStyles();\r\n  const { level } = props;\r\n  console.log(`level: ${level}`);\r\n  return (\r\n    <Box component=\"fieldset\" mb={3} borderColor=\"transparent\" className={classes.boxContainer} >\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"flex-start\"\r\n        alignItems=\"center\"\r\n      >\r\n        <Rating className={classes.rating} name=\"read-only\" value={level} readOnly />\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default SimpleRating;","import styled from \"styled-components\";\r\nimport { ListItem, Button } from \"@material-ui/core\"\r\n\r\nconst ListItemStyle = styled(ListItem)`\r\n    background: #E8E0E0;\r\n    border-radius: 5px;\r\n    margin: 8px;\r\n    width: 1163px;\r\n    height: 116px;\r\n    cursor: pointer;\r\n`\r\n\r\nconst ButtonStyle = styled(Button)`\r\n    background: #E8E0E0;\r\n    border-radius: 5px;\r\n    margin: 8px;\r\n    width: 1163px;\r\n    height: 116px;\r\n`\r\n\r\nexport { ListItemStyle, ButtonStyle }","import { Avatar, Button, List, ListItemAvatar, ListItemText, TablePagination } from '@material-ui/core';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TimeAgo from 'javascript-time-ago';\r\n// English.\r\nimport vi from 'javascript-time-ago/locale/vi';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ReactTimeAgo from 'react-time-ago';\r\nimport {\r\n  createNotificationSubscription,\r\n  initializePushNotifications,\r\n  isPushNotificationSupported,\r\n  registerServiceWorker,\r\n  sendPushNotification, sendSubscriptionToPushServer\r\n} from '../../../services/pushNotifications';\r\nimport { ref } from '../config4';\r\nimport SimpleRating from '../Rating';\r\nimport { ListItemStyle } from './index.style';\r\n\r\n\r\nfunction LastSeen({ date }) {\r\n  return (\r\n    <ReactTimeAgo date={date} timeStyle=\"round-minute\" locale=\"en-US\" />\r\n  )\r\n}\r\n\r\nTimeAgo.addDefaultLocale(vi)\r\n\r\n\r\nvar axios = require('axios');\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  primary: {\r\n    fontWeight: \"bold\",\r\n    textTransform: \"uppercase\",\r\n  },\r\n\r\n  title: {\r\n    fontSize: 24\r\n  },\r\n\r\n  avatar: {\r\n    margin: \"auto\",\r\n    height: 116,\r\n    width: 120\r\n  },\r\n  description: {\r\n    marginLeft: 16,\r\n  },\r\n  item: {\r\n    margin: \"8px 0px\",\r\n    height: 116,\r\n    paddingLeft: 0,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\nconst TimeHistory = (props) => {\r\n  const { createdAt } = props;\r\n  return <div>\r\n    <Grid\r\n      container\r\n      direction=\"row\"\r\n      justify=\"flex-start\"\r\n      alignItems=\"center\"\r\n    >\r\n      <LastSeen date={createdAt}></LastSeen>\r\n    </Grid>\r\n  </div>\r\n}\r\n\r\nconst Primary = (props) => {\r\n  const classes = useStyles();\r\n  const { content } = props;\r\n  return <div>\r\n    <div className={classes.primary}>{content}</div>\r\n  </div>\r\n}\r\n\r\nconst Secondary = (props) => {\r\n  const classes = useStyles();\r\n  return <div>\r\n    <Grid\r\n      container\r\n      direction=\"column\"\r\n      justify=\"flex-start\"\r\n      alignItems=\"flex-start\"\r\n    >\r\n      <SimpleRating {...props}></SimpleRating>\r\n      <TimeHistory {...props} />\r\n    </Grid>\r\n  </div>\r\n}\r\n\r\nconst MyList = () => {\r\n\r\n  const [datas, setDatas] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const rowsPerPage = 5;\r\n  const [index, setIndex] = useState(0);\r\n  const [count, setCount] = useState(5);\r\n  const [total, setTotal] = useState(0);\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    var config = {\r\n      method: 'get',\r\n      url: 'https://it4483-dsd04.herokuapp.com/get_list_ntf',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'api-token': '1fa6b94047ba20d998b44ff1a2c78bba',\r\n        'project-type': 'CHAY_RUNG'\r\n      },\r\n      params: {\r\n        index: index,\r\n        count: count\r\n      }\r\n    };\r\n\r\n    axios(config)\r\n      .then(function (response) {\r\n        setDatas(datas.concat(response.data.data.notifications));\r\n        setTotal(response.data.data.total);\r\n        console.log(datas.length);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n\r\n  }, [index, count])\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n    setIndex(index + count);\r\n    console.log(`index: ${index} -- count: ${count}`)\r\n  }\r\n\r\n  const handleClick = (id) => {\r\n    console.log(`/warning-detail/${id}`);\r\n    history.push(`/warning-detail/${id}`)\r\n  }\r\n\r\n  const handleOnclickSubcribe = () => {\r\n    console.log(\"clicked to send subcription\")\r\n    if (isPushNotificationSupported()) {\r\n      initializePushNotifications().then(result => {\r\n        if (result === \"granted\") {\r\n          console.log(\"start registering sw\")\r\n          registerServiceWorker();\r\n          createNotificationSubscription().then(subscription => {\r\n            sendSubscriptionToPushServer({\r\n              subscription: subscription,\r\n              project_type: 'CHAY_RUNG'\r\n            })\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleOnclickSendNotification = () => {\r\n    console.log(\"clicked to send notification\")\r\n    sendPushNotification({\r\n      project_type: 'CHAY_RUNG',\r\n      payload: {\r\n        \"title\": \"chay rung\",\r\n        \"text\": \"da xay ra chay rung o khu vuc ABC\",\r\n        \"image\": \"logo512.png\",\r\n        \"url\": \"https://vtv.vn/chay-rung.html\"\r\n      }\r\n    })\r\n  }\r\n\r\n  return <div >\r\n    {/* <Button variant=\"contained\" color=\"primary\" onClick={handleOnclickSubcribe}>\r\n      Subcribe notification\r\n        </Button>\r\n    <Button style={{ margin: 2 }} variant=\"contained\" color=\"secondary\" onClick={handleOnclickSendNotification}>\r\n      Send notifications\r\n        </Button> */}\r\n    <div className={classes.title}>Danh sách cảnh báo</div>\r\n    <List>\r\n      {datas.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(data => (\r\n        <ListItemStyle className={classes.item} onClick={() => handleClick(data._id)}>\r\n          <ListItemAvatar className=\"name\">\r\n            <Avatar src={ref.prop[data.ref._type].img} className={classes.avatar} variant=\"rounded\">\r\n              {data.image}\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText className={classes.description} primary={<Primary {...data} />} secondary={<Secondary {...data} />} />\r\n        </ListItemStyle>\r\n      ))}\r\n    </List>\r\n    <TablePagination\r\n      rowsPerPageOptions={[5, 10, 25]}\r\n      component=\"div\"\r\n      count={total}\r\n      rowsPerPage={5}\r\n      page={page}\r\n      onChangePage={handleChangePage}\r\n    />\r\n  </div>\r\n\r\n}\r\n\r\nexport default MyList","import { CheckCircleTwoTone } from '@ant-design/icons';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport { Tooltip } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { PROJECT_TYPE_MAP_TITLE, ref } from '../config4';\r\nimport { Button, notification } from 'antd';\r\nimport { type } from 'os';\r\n\r\nvar axios = require('axios');\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    marginTop: 8,\r\n    maxWidth: 1400,\r\n  },\r\n  image: {\r\n    margin: 'auto',\r\n    display: 'block',\r\n    width: 650,\r\n    height: 410,\r\n  },\r\n  title: {\r\n    fontWeight: \"bold\",\r\n    textTransform: \"uppercase\",\r\n  },\r\n  header: {\r\n    fontSize: 24\r\n  },\r\n  gridDescription: {\r\n    direction: \"row\",\r\n    justify: \"flex-start\",\r\n    alignItems: \"center\"\r\n  }\r\n}));\r\n\r\n\r\nconst GridDetailed = (props) => {\r\n  const { title, content, link } = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item sm={3} xs={12}>\r\n        <Typography className={classes.gridDescription, classes.title}>{title}</Typography>\r\n      </Grid>\r\n      <Grid item sm={9} xs={12}>\r\n        {link ?\r\n          <Typography><Link href={content}>{content}</Link></Typography> :\r\n          <Typography>{content}</Typography>\r\n        }\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst DetailedNotification = () => {\r\n  const { id } = useParams();\r\n  const classes = useStyles();\r\n  const [notificationDetail, setNotificationDetail] = useState([]);\r\n  const [status, setStatus] = useState(false);\r\n\r\n\r\n  const onVerify = () => {\r\n    if (status) openNotificationWithIcon(\"success\", \"Notification\", \"Unverified Incident Successfully\")\r\n    else openNotificationWithIcon(\"success\", \"Notification\", \"Verified Incident Successfully\")\r\n    setStatus(!status);\r\n  }\r\n\r\n  const openNotificationWithIcon = (type, message, description) => {\r\n    notification[type]({\r\n      message: message,\r\n      description: description\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    var config = {\r\n      method: 'get',\r\n      url: 'https://it4483-dsd04.herokuapp.com/get_ntf',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'api-token': '1fa6b94047ba20d998b44ff1a2c78bba',\r\n        'project-type': 'CHAY_RUNG'\r\n      },\r\n      params: { \"idNtf\": id }\r\n    };\r\n    axios(config).then(function (response) {\r\n      setNotificationDetail(response.data.data);\r\n      console.log(response.data);\r\n    }).catch(function (error) {\r\n      console.log(error);\r\n    });\r\n\r\n  }, [])\r\n\r\n  console.log(`notificationDetail: ${notificationDetail}`);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.header}>Thông tin cảnh báo chi tiết</div>\r\n      <Paper className={classes.paper}>\r\n        <Grid container spacing={2}>\r\n          <Grid item>\r\n            <ButtonBase className={classes.image}>\r\n              {notificationDetail.ref && <img className={classes.image} alt=\"complex\" src={ref.prop[notificationDetail.ref._type].img} />}\r\n            </ButtonBase>\r\n          </Grid>\r\n          <Grid item xs={12} sm container>\r\n            <Grid item xs container direction=\"column\" spacing={2}>\r\n              <Grid item xs>\r\n                <Grid\r\n                  container\r\n                  direction=\"row\"\r\n                  justify=\"flex-start\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  {notificationDetail.project_type && <Typography gutterBottom variant=\"h4\" className={classes.title} >{PROJECT_TYPE_MAP_TITLE[notificationDetail.project_type]}</Typography>}\r\n                  <Tooltip title={status ? \"verified\" : \"unverified\"}>\r\n                    <CheckCircleTwoTone twoToneColor={status ? \"#52c41a\" : \"#8c8c8c\"} style={{ fontSize: 32, marginLeft: 8, marginBottom: 10, cursor: \"pointer\" }} onClick={onVerify} />\r\n                  </Tooltip>\r\n                </Grid>\r\n                <GridDetailed title={\"ID Sự cố:\"} content={notificationDetail._id}></GridDetailed>\r\n                <Grid container spacing={3}>\r\n                  <Grid item sm={3} xs={12}>\r\n                    <Typography className={classes.gridDescription, classes.title}>Mức độ:</Typography>\r\n                  </Grid>\r\n                  <Grid item sm={9} xs={12}>\r\n                    <Rating name=\"read-only\" value={notificationDetail.level || 0} readOnly style={{ color: \"red\" }} />\r\n                  </Grid>\r\n                </Grid>\r\n                <GridDetailed title={\"Mô tả:\"} content={notificationDetail.content}></GridDetailed>\r\n                {notificationDetail.fromUser && <GridDetailed title={\"From user:\"} content={notificationDetail.fromUser._id}></GridDetailed>}\r\n                <GridDetailed title={\"created At:\"} content={notificationDetail.createdAt}></GridDetailed>\r\n                {notificationDetail.ref && <GridDetailed title={\"Ref Link:\"} content={notificationDetail.ref._link} link={true}></GridDetailed>}\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default DetailedNotification;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Id người dùng',\r\n        dataIndex: 'targetId',\r\n        key: 'targetId',\r\n        sorter: (a, b) => a.targetId - b.targetId,\r\n    \r\n      },\r\n      {\r\n        title: 'Metadata',\r\n        dataIndex: 'metadata',\r\n        key: 'metadata',\r\n        ...this.getColumnSearchProps('metadata'),\r\n      },\r\n      {\r\n        title: 'Mã sự cố',\r\n        dataIndex: 'incidentId',\r\n        key: 'incidentId',\r\n        sorter: (a, b) => a.incidentId - b.incidentId,\r\n    \r\n      },\r\n      {\r\n        title: 'Mã giải quyết sự cố',\r\n        dataIndex: 'resolveProblemId',\r\n        key: 'resolveProblemId',\r\n        sorter: (a, b) => a.resolveProblemId - b.resolveProblemId,\r\n    \r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Mã miền',\r\n        dataIndex: 'regionId',\r\n        key: 'regionId',\r\n        ...this.getColumnSearchProps('regionId'),\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/user?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/user?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử hoạt động của người dùng\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Id',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Tên drone',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        ...this.getColumnSearchProps('name'),\r\n      },\r\n      {\r\n        title: 'Kinh độ',\r\n        dataIndex: 'longitude',\r\n        key: 'longitude',\r\n        ...this.getColumnSearchProps('longitude'),\r\n      },\r\n      {\r\n        title: 'Vĩ độ',\r\n        dataIndex: 'latitude',\r\n        key: 'latitude',\r\n        ...this.getColumnSearchProps('latitude'),\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      \r\n      {\r\n        title: 'Miền hoạt động',\r\n        dataIndex: 'regionName',\r\n        key: 'regionName',\r\n        ...this.getColumnSearchProps('regionName'),\r\n      },\r\n      {\r\n        title: 'Mã miền',\r\n        dataIndex: 'regionId',\r\n        key: 'regionId',\r\n        ...this.getColumnSearchProps('regionId'),\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/drones?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/drones?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử hoạt động của drone\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Tên cảnh báo',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        ...this.getColumnSearchProps('name'),\r\n    \r\n      },\r\n      {\r\n        title: 'Id cảnh báo',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Id miền giám sát',\r\n        dataIndex: 'regionId',\r\n        key: 'regionId',\r\n        sorter: (a, b) => a.regionId - b.regionId,\r\n    \r\n      },\r\n      {\r\n        title: 'trạng thái',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        sorter: (a, b) => a.state - b.state,\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/warning?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/warning?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử cảnh báo\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'sự cố',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        ...this.getColumnSearchProps('name'),\r\n    \r\n      },\r\n      {\r\n        title: 'Id sự cố',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Id hình ảnh',\r\n        dataIndex: 'imageId',\r\n        key: 'imageId',\r\n        sorter: (a, b) => a.imageId - b.imageId,\r\n    \r\n      },\r\n      {\r\n        title: 'Id video',\r\n        dataIndex: 'videoId',\r\n        key: 'videoId',\r\n        sorter: (a, b) => a.videoId - b.videoId,\r\n    \r\n      },\r\n      {\r\n        title: 'Id miền giám sát',\r\n        dataIndex: 'regionId',\r\n        key: 'regionId',\r\n        sorter: (a, b) => a.regionId - b.regionId,\r\n    \r\n      },\r\n      {\r\n        title: 'trạng thái',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        sorter: (a, b) => a.state - b.state,\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/incident?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/incident?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử sự cố\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Id',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Url video',\r\n        dataIndex: 'link',\r\n        key: 'link',\r\n      },\r\n      {\r\n        title: 'Id drone',\r\n        dataIndex: 'droneId',\r\n        key: 'droneId',\r\n        sorter: (a, b) => a.droneId - b.droneId,\r\n      },\r\n      {\r\n        title: 'trạng thái',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        sorter: (a, b) => a.state - b.state,\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/video?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/video?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử lưu trữ video\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass PayloadActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Id',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Tên payload',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        ...this.getColumnSearchProps('name'),\r\n      },\r\n      {\r\n        title: 'trạng thái payload',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        ...this.getColumnSearchProps('state'),\r\n      },\r\n      {\r\n        title: 'Id drone chứa payload',\r\n        dataIndex: 'droneId',\r\n        key: 'droneId',\r\n        ...this.getColumnSearchProps('droneId'),\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      \r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/payload?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/payload?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử hoạt động của payload\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <PayloadActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogPayload() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogPayload;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Id',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Url hình ảnh',\r\n        dataIndex: 'link',\r\n        key: 'link',\r\n      },\r\n      {\r\n        title: 'Id drone',\r\n        dataIndex: 'droneId',\r\n        key: 'droneId',\r\n        sorter: (a, b) => a.droneId - b.droneId,\r\n      },\r\n      {\r\n        title: 'trạng thái',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        sorter: (a, b) => a.state - b.state,\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/image?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/image?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử lưu trữ hình ảnh\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Id xử lý sự cố',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Id miền giám sát',\r\n        dataIndex: 'regionId',\r\n        key: 'regionId',\r\n        sorter: (a, b) => a.regionId - b.regionId,\r\n    \r\n      },\r\n      {\r\n        title: 'trạng thái',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        sorter: (a, b) => a.state - b.state,\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/resolve-problem?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/resolve-problem?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử xử lý sự cố\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Đối tượng giám sát',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        ...this.getColumnSearchProps('name'),\r\n    \r\n      },\r\n      {\r\n        title: 'Id đối tượng',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Id miền giám sát',\r\n        dataIndex: 'regionId',\r\n        key: 'regionId',\r\n        sorter: (a, b) => a.regionId - b.regionId,\r\n    \r\n      },\r\n      {\r\n        title: 'trạng thái',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        sorter: (a, b) => a.state - b.state,\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/monitor-object?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/monitor-object?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử hoạt động của đối tượng giám sát\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Tên miền giám sát',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        ...this.getColumnSearchProps('name'),\r\n    \r\n      },\r\n      {\r\n        title: 'Id miền giám sát',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'trạng thái',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        sorter: (a, b) => a.state - b.state,\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/monitor-region?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/monitor-region?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử hoạt động của miền giám sát\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Tên báo cáo thống kê',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        ...this.getColumnSearchProps('name'),\r\n    \r\n      },\r\n      {\r\n        title: 'Id báo cáo thống kê',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Id miền giám sát',\r\n        dataIndex: 'regionId',\r\n        key: 'regionId',\r\n        sorter: (a, b) => a.regionId - b.regionId,\r\n    \r\n      },\r\n      {\r\n        title: 'trạng thái',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        sorter: (a, b) => a.state - b.state,\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/receive-statistical?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/receive-statistical?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử báo cáo thống kê\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import React from 'react';\r\nimport { Table, Space, Button, BackTop, Input, Col, Card, DatePicker, Form, Select } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nvar axios = require('axios');\r\nconst { RangePicker } = DatePicker;\r\nconst {Option} = Select;\r\n\r\nclass DroneActivity extends React.Component {\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    filteredInfo: null,\r\n    sortedInfo: null,\r\n  };\r\n\r\n  handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  };\r\n\r\n  clearFilters = () => {\r\n    this.setState({ filteredInfo: null });\r\n  };\r\n\r\n  clearAll = () => {\r\n    this.setState({\r\n      filteredInfo: null,\r\n      sortedInfo: null,\r\n    });\r\n  };\r\n\r\n  setAgeSort = () => {\r\n    this.setState({\r\n      sortedInfo: {\r\n        order: 'descend',\r\n        columnKey: 'time',\r\n      },\r\n    });\r\n  };\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n    render: text =>\r\n      this.state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[this.state.searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : ''}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    \r\n    const columns = [\r\n      {\r\n        title: 'Tên kết nối UAV',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        ...this.getColumnSearchProps('name'),\r\n    \r\n      },\r\n      {\r\n        title: 'Id kết nối UAV',\r\n        dataIndex: 'entityId',\r\n        key: 'entityId',\r\n        sorter: (a, b) => a.entityId - b.entityId,\r\n    \r\n      },\r\n      {\r\n        title: 'Id miền giám sát',\r\n        dataIndex: 'regionId',\r\n        key: 'regionId',\r\n        sorter: (a, b) => a.regionId - b.regionId,\r\n    \r\n      },\r\n      {\r\n        title: 'trạng thái',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        sorter: (a, b) => a.state - b.state,\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        ...this.getColumnSearchProps('type'),\r\n        \r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        ...this.getColumnSearchProps('description'),\r\n      },\r\n      {\r\n        title: 'Thời gian',\r\n        dataIndex: 'timestamp',\r\n        key: 'timestamp',\r\n        sorter: (a, b) => new Date(a.timestamp) >= new Date(b.timestamp) ? 1: -1\r\n      },\r\n      {\r\n        title: 'Id người thực hiện',\r\n        dataIndex: 'authorId',\r\n        key: 'authorId',\r\n        ...this.getColumnSearchProps('authorId'),\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n        <Table columns={columns} dataSource={this.props.data} loading={this.props.loading} onChange={this.handleChange} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      projectType: 'de_dieu',\r\n      fromDate: '',\r\n      toDate: '',\r\n      logActivityData: null,\r\n      isLoadedLogActivityData: false,\r\n    };\r\n    this.onRangePickerChange = this.onRangePickerChange.bind(this);\r\n    this.setLogActivityData = this.setLogActivityData.bind(this);\r\n  }\r\n\r\n  onProjectTypeChange = (projectType) => {\r\n    console.log(\"hahahaha\" + projectType)\r\n    this.setState({projectType: projectType});\r\n  }\r\n\r\n  setLogActivityData() {\r\n    let url = null;\r\n    let fromDate = this.state.fromDate;\r\n    let toDate = this.state.toDate;\r\n    if (fromDate && toDate) {\r\n      url = 'https://it4883logging.herokuapp.com/api/uav-connect?minDate=' + fromDate +'&maxDate=' + toDate +'&projectType=' + this.state.projectType;\r\n    } else {\r\n      url = 'https://it4883logging.herokuapp.com/api/uav-connect?projectType=' + this.state.projectType;\r\n    }\r\n     \r\n    let config = {\r\n      method: 'get',\r\n      url: url,\r\n      headers: {}\r\n    };\r\n    axios(config)\r\n      .then((response) => {\r\n        let logActivityData = response.data.map((data, index) => ({\r\n          key: index,\r\n          ...data\r\n        }));\r\n        logActivityData.forEach((logData) => {\r\n          for(let key in logData) {\r\n            if (logData[key] == null) logData[key] ='';\r\n          }\r\n        });\r\n        this.setState({ logActivityData: logActivityData, isLoadedLogActivityData: true });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onRangePickerChange(dates, dateStrings) {\r\n    this.setState({isLoadedLogActivityData:false});\r\n    let fromDate = \"\";\r\n    let toDate = \"\";\r\n\r\n    if (dates) {\r\n      fromDate = dates[0].format('YYYY-MM-DDThh:mm:ss');\r\n      toDate = dates[1].format('YYYY-MM-DDThh:mm:ss');\r\n    }\r\n\r\n    this.setLogActivityData();\r\n    \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setLogActivityData();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col style={{ marginRight: '4%', marginTop: 20 }}>\r\n          <Card\r\n            hoverable\r\n            style={{ width: '100', marginLeft: 40 }}\r\n            cover={\r\n              <img\r\n                style={{ height: 400 }}\r\n                alt=\"example\"\r\n                src=\"https://i.pinimg.com/originals/11/9d/e3/119de34b79d90fc7ee2c175525726741.jpg\"\r\n              />\r\n            }\r\n          >\r\n            <h2>\r\n              Lịch sử kết nối UAV\r\n            </h2>\r\n            <br />\r\n            <Form layout=\"inline\" >\r\n              <Form.Item\r\n                label=\"Chọn khoảng thời gian\"\r\n              >\r\n                <RangePicker format='DD/MM/YYYY' onChange={(dates, dateStrings) => this.onRangePickerChange(dates, dateStrings)} />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Chọn loại dự án\"\r\n              >\r\n                <Select defaultValue=\"de_dieu\" style={{ width: 120 }} onChange={(value) => {this.setState({isLoadedLogActivityData:false});this.onProjectTypeChange(value); this.setLogActivityData()}}>\r\n                  <Option value=\"de_dieu\">Đê điều</Option>\r\n                  <Option value=\"luoi_dien\">Lưới điện</Option>\r\n                  <Option value=\"chay_rung\">Cháy rừng</Option>\r\n                  <Option value=\"cay_trong\">Cây trồng</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n            <br />\r\n              <DroneActivity data={this.state.logActivityData} loading={!this.state.isLoadedLogActivityData}/>\r\n            \r\n          </Card>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction LogDrone() {\r\n  return (\r\n    <>\r\n      <App />\r\n      <BackTop />\r\n    </>\r\n  );\r\n}\r\nexport default LogDrone;","import styled from \"styled-components\";\r\n\r\nconst StyleList = styled.div`\r\n  .action{\r\n    margin-right: 5px;\r\n  }\r\n  .searchtype {\r\n    margin-top: 20px;\r\n  }\r\n  .buttontype {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nexport default StyleList;\r\n","import React, { Component } from \"react\";\r\nimport { Table, Space, Input, Form, Select, Modal, notification , Row, Col } from 'antd';\r\nimport { Button } from 'antd';\r\nimport StyleList from './index.style';\r\nimport { useState } from 'react';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\n\r\nclass List extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      visible: false,\r\n      currentTable: null,\r\n      tables: [],\r\n      idPayload: null,\r\n      modalLoading: false,\r\n      detailBill: [],\r\n      detailPayload: {},\r\n      options: [],\r\n      payload: {},\r\n      visibleAdd: false,\r\n      visibleDelete: false,\r\n      visibleMaintenance: false,\r\n      idPayloadDelete: null,\r\n      status: [\r\n        { value: 'working', label: 'Đang sử dụng' },\r\n        { value: 'idle', label: 'Sẵn có' },\r\n        { value: 'fixing', label: 'Đang sửa' },\r\n        { value: 'charging', label: 'Đang sạc' }\r\n      ],\r\n      idPayloadFix: null\r\n    }\r\n  }\r\n\r\n   openNotificationSucess = (message) => {\r\n    notification.success({\r\n      message: message,\r\n    })\r\n  };\r\n\r\n  openNotificationError = (message) => {\r\n    notification.error({\r\n      message: message,\r\n    })\r\n  };\r\n\r\n  handleClick() {\r\n    let history = useHistory();\r\n    history.push(\"/edit-payload\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadAllPayload();\r\n    this.getAllTypePayload();\r\n  }\r\n\r\n  loadAllPayload() {\r\n    axios.get(`http://dsd06.herokuapp.com/api/payload`)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        //const persons = res.data;\r\n        this.setState({ tables: res.data });\r\n      })\r\n  }\r\n\r\n\r\n  showModal = (record) => {\r\n    this.setState({ visible: true });\r\n\r\n    this.setState({ detailPayload: record });\r\n    this.setState({ idPayload: record.id })\r\n    //this.getDetailPayload(record.id);\r\n  };\r\n\r\n  handleOk = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n  handleCancel = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n\r\n  handleCancelAdd = e => {\r\n    this.setState({ visibleAdd: false })\r\n  };\r\n\r\n  handleCancelDelete = e => {\r\n    this.setState({ visibleDelete: false })\r\n  }\r\n\r\n  getAllTypePayload() {\r\n    axios.get(`https://dsd06.herokuapp.com/api/payloadtype`)\r\n      .then(res => {\r\n        const options = res.data.map(payload =>\r\n          ({\r\n            label: payload.name,\r\n            value: payload._id,\r\n          })\r\n        )\r\n        this.setState({ Options: options });\r\n      })\r\n\r\n  }\r\n  handleFormSubmitEdit(values) {\r\n    const data = {\r\n      code: values.code,\r\n      name: values.name,\r\n      type: values.type,\r\n      detail: {\r\n        manufacturer: values.manufacturer,\r\n        weight: values.weight,\r\n        opticalZoom: values.opticalZoom,\r\n        digitalZoom: values.digitalZoom,\r\n        panning: {\r\n          min: values.panningmin,\r\n          max: values.panningmax,\r\n        },\r\n        tilting: {\r\n          min: values.tiltingmin,\r\n          max: values.tiltingmax\r\n        },\r\n        zoom: {\r\n          min: values.zoomingmin,\r\n          max: values.zoomingmax\r\n        },\r\n        size: {\r\n          width: values.sizewidth,\r\n          length: values.sizelength,\r\n          height: values.sizeheight\r\n        }\r\n      }\r\n\r\n    };\r\n    axios.put(`https://dsd06.herokuapp.com/api/payload/` + this.state.idPayload, data)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({ visible: false })\r\n        this.loadAllPayload();\r\n      })\r\n\r\n  }\r\n\r\n  renderModal() {\r\n    const layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 10 },\r\n    };\r\n    return <Form   {...layout} onFinish={(values) => this.handleFormSubmitEdit(values)} >\r\n\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item initialValue={this.state.detailPayload.code}\r\n            label=\"Mã\"\r\n            name=\"code\"\r\n            rules={[{ required: true, message: 'Hãy nhập mã!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item initialValue={this.state.detailPayload.name}\r\n            label=\"Tên\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: 'Hãy nhập tên payload!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item\r\n            label=\"Loại\" initialValue={this.state.detailPayload.type_id}\r\n            name=\"type\"\r\n            rules={[{ required: true, message: 'Please input your password!' }]}\r\n          >\r\n            <Select options={this.state.Options} />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item\r\n            label=\"Mô tả\"\r\n            name=\"desciption\"\r\n\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Weight\" name=\"weight\" initialValue={this.state.detailPayload.weight}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Nhà sản xuất\" name=\"manufacturer\" initialValue={this.state.detailPayload.manufacturer}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"OpticalZoom\" name=\"opticalZoom\" initialValue={this.state.detailPayload.opticalZoom} >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"DigitalZoom\" name=\"digitalZoom\" initialValue={this.state.detailPayload.digitalZoom}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Panning min\" name=\"panningmin\" initialValue={this.state.detailPayload.panningmin}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Panning max\" name=\"panningmax\" initialValue={this.state.detailPayload.panningmax}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Tilting min\" name=\"tiltingmin\" initialValue={this.state.detailPayload.tiltingmin} >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Tilting max\" name=\"tiltingmax\" initialValue={this.state.detailPayload.tiltingmax}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Zooming min\" name=\"zoomingmin\" initialValue={this.state.detailPayload.zoommin}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Zooming max\" name=\"zoomingmax\" initialValue={this.state.detailPayload.zoommax}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={8}>\r\n          <Form.Item label=\"Width\" name=\"sizewidth\" initialValue={this.state.detailPayload.sizewidth}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={8} >\r\n          <Form.Item label=\"Height\" name=\"sizeheight\" initialValue={this.state.detailPayload.sizeheight}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={8}>\r\n          <Form.Item label=\"Length\" name=\"sizelength\" initialValue={this.state.detailPayload.sizelength}>\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Submit\r\n   </Button>\r\n      </Form.Item>\r\n    </Form>\r\n\r\n\r\n\r\n  }\r\n\r\n  showModalAdd() {\r\n    this.setState({ visibleAdd: true });\r\n  }\r\n\r\n  handleFormSubmit(values) {\r\n    console.log(values)\r\n    const data = {\r\n      code: values.code,\r\n      name: values.name,\r\n      type: values.type,\r\n      detail: {\r\n        manufacturer: values.manufacturer,\r\n        weight: values.weight,\r\n        opticalZoom: values.opticalZoom,\r\n        digitalZoom: values.digitalZoom,\r\n        panning: {\r\n          min: values.panningmin,\r\n          max: values.panningmax,\r\n        },\r\n        tilting: {\r\n          min: values.tiltingmin,\r\n          max: values.tiltingmax\r\n        },\r\n        zoom: {\r\n          min: values.zoomingmin,\r\n          max: values.zoomingmax\r\n        },\r\n        size: {\r\n          width: values.sizewidth,\r\n          length: values.sizelength,\r\n          height: values.sizeheight\r\n        }\r\n      }\r\n\r\n    };\r\n    axios.post(`https://dsd06.herokuapp.com/api/payload`, data)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.openNotificationSucess(\"Thêm thành công\")\r\n        this.setState({ visibleAdd: false })\r\n        this.loadAllPayload();\r\n      })\r\n\r\n  }\r\n\r\n  renderModalAdd() {\r\n    const layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 10 },\r\n    };\r\n    return <Form   {...layout} onFinish={(values) => this.handleFormSubmit(values)} >\r\n\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item\r\n            label=\"Mã\"\r\n            name=\"code\"\r\n            rules={[{ required: true, message: 'Hãy nhập mã!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item\r\n            label=\"Tên\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: 'Hãy nhập tên payload!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item\r\n            label=\"Loại\"\r\n            name=\"type\"\r\n            rules={[{ required: true, message: 'Please input your password!' }]}\r\n          >\r\n            <Select options={this.state.Options} />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item\r\n            label=\"Mô tả\"\r\n            name=\"desciption\"\r\n            rules={[{ required: true, message: 'Please input your password!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Weight\" name=\"weight\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Nhà sản xuất\" name=\"manufacturer\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"OpticalZoom\" name=\"opticalZoom\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"DigitalZoom\" name=\"digitalZoom\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Panning min\" name=\"panningmin\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Panning max\" name=\"panningmax\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Tilting min\" name=\"tiltingmin\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Tilting max\" name=\"tiltingmax\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Zooming min\" name=\"zoomingmin\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={12}>\r\n          <Form.Item label=\"Zooming max\" name=\"zoomingmax\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={8}>\r\n          <Form.Item label=\"Width\" name=\"sizewidth\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={8} >\r\n          <Form.Item label=\"Height\" name=\"sizeheight\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={8}>\r\n          <Form.Item label=\"Length\" name=\"sizelength\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Submit\r\n      </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  }\r\n\r\n  showModalDelete(record) {\r\n    this.setState({ visibleDelete: true })\r\n    this.setState({ idPayloadDelete: record.id })\r\n  }\r\n\r\n  deleteRecord() {\r\n    axios.delete(`https://dsd06.herokuapp.com/api/payload/` + this.state.idPayloadDelete)\r\n      .then(res => {\r\n        this.openNotificationSucess(\"Xóa thành công\")\r\n        this.setState({ visibleDelete: false })\r\n        this.loadAllPayload();\r\n      })\r\n  }\r\n\r\n  renderModalDelete() {\r\n    return <div>\r\n      <p>Bạn có chắc xóa bản ghi này?</p>\r\n      <Button type=\"primary\" danger onClick={() => this.deleteRecord()}>Xóa</Button>\r\n    </div>\r\n\r\n  }\r\n\r\n  renderModalMaintenance() {\r\n    const { TextArea } = Input\r\n    return <div>\r\n      <Form onFinish={(values) => this.handleSubmitMaintenance(values)} >\r\n        <Form.Item label=\"Lý do\" name=\"reason\">\r\n          <TextArea rows={4} />\r\n        </Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Lưu\r\n      </Button>\r\n      </Form>\r\n    </div>\r\n  }\r\n\r\n  handleSubmitMaintenance(values) {\r\n    //console.log(values.reason);\r\n    axios.post(`https://dsd06.herokuapp.com/api/payloadregister/fix/` + this.state.idPayloadFix, values.reason)\r\n      .then(res => {\r\n        this.setState({ visibleMaintenance: false })\r\n        this.openNotificationSucess(\"Chuyển trạng thái thành công\")\r\n        this.loadAllPayload();\r\n      })\r\n\r\n  }\r\n\r\n\r\n\r\n  searchPayload(values) {\r\n    console.log(values)\r\n    axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { type: values.type, status: values.status } })\r\n      .then(res => {\r\n        //const persons = res.data;\r\n        this.setState({ tables: res.data });\r\n      })\r\n  }\r\n\r\n  showMaintenance(id) {\r\n    this.setState({idPayloadFix: id});\r\n    this.setState({ visibleMaintenance: true });\r\n  }\r\n\r\n  handleCancelMaintenance = e => {\r\n    this.setState({ visibleMaintenance: false })\r\n  }\r\n\r\n  showCharging(id) {\r\n    axios.post(`https://dsd06.herokuapp.com/api/payloadregister/charge/` + id)\r\n      .then(res => {\r\n        this.openNotificationSucess(\"Chuyển trạng thái sạc thành công\")\r\n        this.loadAllPayload();\r\n      })\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const dataSource = this.state.tables.map(payload =>\r\n      ({\r\n        id: payload._id,\r\n        code: payload.code,\r\n        name: payload.name,\r\n        status: payload.status,\r\n        manufacturer: payload.detail.manufacturer,\r\n        type: payload.type.name,\r\n        des: payload.type.description,\r\n        type_id: payload.type._id,\r\n        weight: payload.detail.weight,\r\n        opticalZoom: payload.detail.opticalZoom,\r\n        digitalZoom: payload.detail.digitalZoom,\r\n        sizewidth: payload.detail.size.width,\r\n        sizeheight: payload.detail.size.height,\r\n        sizelength: payload.detail.size.length,\r\n        panningmin: payload.detail.panning.min,\r\n        panningmax: payload.detail.panning.max,\r\n        tiltingmin: payload.detail.tilting.min,\r\n        tiltingmax: payload.detail.tilting.max,\r\n        zoommin: payload.detail.zoom.min,\r\n        zoommax: payload.detail.zoom.max,\r\n\r\n      })\r\n    )\r\n\r\n\r\n\r\n    const columns = [\r\n      {\r\n        title: 'Mã ',\r\n        dataIndex: 'code',\r\n        key: 'code',\r\n      },\r\n      {\r\n        title: 'Tên',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n      },\r\n      {\r\n        title: 'Nhà sản xuất',\r\n        dataIndex: 'manufacturer',\r\n        key: 'manufacturer',\r\n      },\r\n      {\r\n        title: 'Loại',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'des',\r\n        key: 'des',\r\n      },\r\n      {\r\n        title: 'Trạng thái',\r\n        dataIndex: 'status',\r\n        key: 'status',\r\n      },\r\n      {\r\n        title: 'Action',\r\n        key: 'operation',\r\n        width: 100,\r\n        render: (text, record) => (\r\n\r\n          <Space size=\"small\" >\r\n            <Button type=\"link\" onClick={() => this.showModal(record)} >Sửa</Button>\r\n            <Button danger type=\"text\" onClick={() => this.showModalDelete(record)}>Xóa</Button>\r\n            <Button type=\"link\" onClick={() => this.showMaintenance(record.id)}>Bảo dưỡng</Button>\r\n            <Button type=\"link\" onClick={() => this.showCharging(record.id)}>Sạc</Button>\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    const { visible, visibleAdd, visibleDelete, visibleMaintenance, tables } = this.state;\r\n\r\n    return (\r\n      <StyleList>\r\n        <div>\r\n          <h2>Quản lý Payload</h2>\r\n          <br />\r\n          <Form\r\n            layout=\"horizontal\"\r\n            className=\"searchtype\" onFinish={(values) => this.searchPayload(values)}\r\n          >\r\n            <Row justify=\"space-around\">\r\n              <Col span={4}>\r\n                <Form.Item label=\"Loại\" name=\"type\">\r\n                  <Select options={this.state.Options} />\r\n\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={4}>\r\n                <Form.Item label=\"Trạng thái\" name=\"status\">\r\n                  <Select options={this.state.status} />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={4}>\r\n                <Button type=\"primary\" htmlType=\"submit\" icon={<SearchOutlined />}>\r\n                  Tìm kiếm\r\n              </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n          <Button type=\"primary\" className=\"buttontype\" onClick={() => this.showModalAdd()} >Thêm</Button>\r\n          <Table dataSource={dataSource} columns={columns} />;\r\n        </div>\r\n        <Modal\r\n          title=\"Chi tiết\"\r\n          visible={visible}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          footer={null} width={800}\r\n        >\r\n          {\r\n            this.renderModal()\r\n          }\r\n        </Modal>\r\n\r\n        <Modal\r\n          title=\"Thêm Payload\" width={800}\r\n          visible={visibleAdd}\r\n          onOk={this.handleOkAdd}\r\n          onCancel={this.handleCancelAdd}\r\n          footer={null}\r\n        >\r\n          {\r\n            this.renderModalAdd()\r\n          }\r\n        </Modal>\r\n\r\n        <Modal\r\n          title=\"Xóa Payload\"\r\n          visible={visibleDelete}\r\n          onOk={this.handleOkDelete}\r\n          onCancel={this.handleCancelDelete}\r\n          footer={null}\r\n        >\r\n          {\r\n            this.renderModalDelete()\r\n          }\r\n        </Modal>\r\n        <Modal\r\n          title=\"Đăng ký bảo dưỡng\"\r\n          visible={visibleMaintenance}\r\n          onOk={this.handleOkDelete}\r\n          onCancel={this.handleCancelMaintenance}\r\n          footer={null}\r\n        >\r\n          {\r\n            this.renderModalMaintenance()\r\n          }\r\n        </Modal>\r\n      </StyleList>\r\n    );\r\n  }\r\n}\r\nexport default List; ","import styled from \"styled-components\";\r\n\r\nconst StyleList = styled.div`\r\n  .action{\r\n    margin-right: 5px;\r\n  }\r\n  .searchtype {\r\n    margin-top: 20px;\r\n  }\r\n  .buttontype {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nexport default StyleList;\r\n","import React, { Component } from \"react\";\r\nimport { Table, Space, Input, Form, Select, Modal, DatePicker, Row, Col } from 'antd';\r\nimport { Button } from 'antd';\r\nimport StyleList from './index.style';\r\nimport { useState } from 'react';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\n\r\nclass ListTypePayload extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      visible: false,\r\n      currentTable: null,\r\n      tables: [],\r\n      idPayloadType: null,\r\n      modalLoading: false,\r\n      detailBill: [],\r\n      detailPayloadType: {},\r\n      options: [],\r\n      payload: {},\r\n      visibleAdd: false,\r\n      visibleDelete: false,\r\n      idPayloadDelete: null,\r\n    }\r\n  }\r\n\r\n  handleClick() {\r\n    let history = useHistory();\r\n    history.push(\"/edit-payloadtype\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadAllPayloadType();\r\n  }\r\n\r\n  loadAllPayloadType() {\r\n    axios.get(`https://dsd06.herokuapp.com/api/payloadtype`)\r\n      .then(res => {\r\n        //const persons = res.data;\r\n        this.setState({ tables: res.data });\r\n      })\r\n  }\r\n\r\n\r\n  showModal = (record) => {\r\n    this.setState({ visible: true });\r\n\r\n    this.setState({ detailPayloadType: record });\r\n    this.setState({ idPayloadType: record.id })\r\n  };\r\n\r\n  handleOk = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n  handleCancel = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n\r\n  handleCancelAdd = e => {\r\n    this.setState({ visibleAdd: false })\r\n  };\r\n\r\n  handleCancelDelete = e => {\r\n    this.setState({ visibleDelete: false })\r\n  }\r\n\r\n  handleFormSubmitEdit(values) {\r\n    const data = {\r\n      name: values.name,\r\n      description: values.description,\r\n    };\r\n    axios.put(`https://dsd06.herokuapp.com/api/payload/` + this.state.idPayloadType, data)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({ visible: false })\r\n      })\r\n\r\n  }\r\n\r\n  renderModal() {\r\n    const layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 10 },\r\n    };\r\n    return <Form   {...layout} onFinish={(values) => this.handleFormSubmitEdit(values)} >\r\n\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={24}>\r\n          <Form.Item initialValue={this.state.detailPayloadType.name}\r\n            label=\"Tên\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: 'Hãy nhập tên loại payload!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={24}>\r\n          <Form.Item initialValue={this.state.detailPayloadType.description}\r\n                     label=\"Mô tả\"\r\n                     name=\"description\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Lưu\r\n   </Button>\r\n      </Form.Item>\r\n    </Form>\r\n\r\n\r\n\r\n  }\r\n\r\n  showModalAdd() {\r\n    this.setState({ visibleAdd: true });\r\n  }\r\n\r\n  handleFormSubmit(values) {\r\n    console.log(values)\r\n    const data = {\r\n      name: values.name,\r\n      description: values.description,\r\n    };\r\n    axios.post(`https://dsd06.herokuapp.com/api/payloadtype`, data)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({ visibleAdd: false })\r\n        this.loadAllPayloadType();\r\n      })\r\n\r\n  }\r\n\r\n  renderModalAdd() {\r\n    const layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 10 },\r\n    };\r\n    return <Form   {...layout} onFinish={(values) => this.handleFormSubmit(values)} >\r\n\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={24}>\r\n          <Form.Item\r\n            label=\"Tên\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: 'Hãy nhập tên loại payload!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={24}>\r\n          <Form.Item\r\n              label=\"Mô tả\"\r\n              name=\"description\">\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Submit\r\n      </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  }\r\n\r\n  showModalDelete(record) {\r\n    this.setState({ visibleDelete: true })\r\n    this.setState({ idPayloadDelete: record.id })\r\n  }\r\n\r\n  deleteRecord() {\r\n    axios.delete(`https://dsd06.herokuapp.com/api/payloadtype/` + this.state.idPayloadDelete)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({ visibleDelete: false })\r\n        this.loadAllPayloadType();\r\n      })\r\n  }\r\n\r\n  renderModalDelete() {\r\n    return <div>\r\n      <p>Bạn có chắc xóa bản ghi này?</p>\r\n      <Button type=\"primary\" danger onClick={() => this.deleteRecord()}>Xóa</Button>\r\n    </div>\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    const dataSource = this.state.tables.map(payloadtype =>\r\n      ({\r\n        id: payloadtype._id,\r\n        description: payloadtype.description,\r\n        name: payloadtype.name,\r\n      })\r\n    )\r\n\r\n\r\n\r\n    const columns = [\r\n      {\r\n        title: 'Tên loại Payload',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n      },\r\n\r\n      {\r\n        title: 'Action',\r\n        key: 'operation',\r\n        width: 100,\r\n        render: (text, record) => (\r\n\r\n          <Space size=\"small\" >\r\n            {/*  <Button type=\"link\" onClick={() => history.push('/payload-configuration')}>Cấu hình</Button> */}\r\n            <Button type=\"link\" onClick={() => this.showModal(record)} >Sửa</Button>\r\n            <Button danger type=\"text\" onClick={() => this.showModalDelete(record)}>Xóa</Button>\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    const { visible, visibleAdd, visibleDelete, currentTable, tables } = this.state;\r\n\r\n    return (\r\n      <StyleList>\r\n        <div>\r\n          <h2>Quản lý loại Payload</h2>\r\n          <br/>\r\n          <Button type=\"primary\" className=\"buttontype\" onClick={() => this.showModalAdd()} >Thêm loại mới</Button>\r\n          <Table dataSource={dataSource} columns={columns} />\r\n        </div>\r\n        <Modal\r\n          title=\"Chi tiết\"\r\n          visible={visible}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          footer={null} width={800}\r\n        >\r\n          {\r\n            this.renderModal()\r\n          }\r\n        </Modal>\r\n\r\n        <Modal\r\n          title=\"Thêm loại Payload\" width={800}\r\n          visible={visibleAdd}\r\n          onOk={this.handleOkAdd}\r\n          onCancel={this.handleCancelAdd}\r\n          footer={null}\r\n        >\r\n          {\r\n            this.renderModalAdd()\r\n          }\r\n        </Modal>\r\n\r\n        <Modal\r\n          title=\"Xóa loại Payload\"\r\n          visible={visibleDelete}\r\n          onOk={this.handleOkDelete}\r\n          onCancel={this.handleCancelDelete}\r\n          footer={null}\r\n        >\r\n          {\r\n            this.renderModalDelete()\r\n          }\r\n        </Modal>\r\n      </StyleList>\r\n    );\r\n  }\r\n}\r\nexport default ListTypePayload;","import styled from \"styled-components\";\r\n\r\nconst StyleList = styled.div`\r\n  .action{\r\n    margin-right: 5px;\r\n  }\r\n  .searchtype {\r\n    margin-top: 20px;\r\n  }\r\n  .buttontype {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nexport default StyleList;","import React, { useState } from 'react';\r\nimport { Form, Input, Button, Select, DatePicker} from 'antd';\r\nimport StyleEdit from '../index.style';\r\nconst layout = {\r\n  labelCol: { span: 5 },\r\n  wrapperCol: { span: 10 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst EditSchedule = ({ history }) => {\r\n  const onFinish = values => {\r\n    console.log('Success:', values);\r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <StyleEdit>\r\n      <div className=\"searchtype\">\r\n        <a onClick={() => history.push('/payload-maintenance')}>Lịch bảo dưỡng Payload</a> <span>/</span> <a onClick={() => history.push('/edit-payload')}>Chỉnh sửa Payload</a>\r\n      </div>\r\n\r\n      <Form\r\n        {...layout}\r\n        name=\"basic\"\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <h3 className=\"searchtype\"  >Thông tin chi tiết</h3>\r\n        <Form.Item\r\n          label=\"Thời gian\"\r\n          name=\"time\"\r\n          rules={[{ required: true, message: 'Please input your username!' }]}\r\n        >\r\n          <DatePicker/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Địa điểm\"\r\n          name=\"location\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Payload\"\r\n          name=\"payloadId\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Select />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Trạng thái\"\r\n          name=\"status\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Select>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Mô tả\"\r\n          name=\"status\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <TextArea/>\r\n        </Form.Item>\r\n\r\n        {/* <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\r\n        <Checkbox>Remember me</Checkbox>\r\n      </Form.Item> */}\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Submit\r\n        </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </StyleEdit>\r\n  );\r\n};\r\nexport default EditSchedule;","import React, { useState } from 'react';\r\nimport { Form, Input, Button, Select, DatePicker} from 'antd';\r\nimport StyleEdit from '../index.style';\r\nconst layout = {\r\n  labelCol: { span: 5 },\r\n  wrapperCol: { span: 10 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst AddSchedule = ({ history }) => {\r\n  const onFinish = values => {\r\n    console.log('Success:', values);\r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <StyleEdit>\r\n      <div className=\"searchtype\">\r\n        <a onClick={() => history.push('/payload-maintenance')}>Lịch bảo dưỡng Payload</a> <span>/</span> <a onClick={() => history.push('/edit-payload')}>Thêm lịch bảo dưỡng</a>\r\n      </div>\r\n\r\n      <Form\r\n        {...layout}\r\n        name=\"basic\"\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <h3 className=\"searchtype\"  >Thông tin chi tiết</h3>\r\n        <Form.Item\r\n          label=\"Thời gian\"\r\n          name=\"time\"\r\n          rules={[{ required: true, message: 'Please input your username!' }]}\r\n        >\r\n          <DatePicker/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Địa điểm\"\r\n          name=\"location\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Payload\"\r\n          name=\"payloadId\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Select />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Trạng thái\"\r\n          name=\"status\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Select>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Mô tả\"\r\n          name=\"status\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <TextArea/>\r\n        </Form.Item>\r\n\r\n        {/* <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\r\n        <Checkbox>Remember me</Checkbox>\r\n      </Form.Item> */}\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Submit\r\n        </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </StyleEdit>\r\n  );\r\n};\r\nexport default AddSchedule;","import styled from \"styled-components\";\r\n\r\nconst StyleSetting = styled.div`\r\n  .searchtype {\r\n     margin-bottom: 30px;\r\n  }\r\n`;\r\nexport default StyleSetting;\r\n","import React, { useState } from 'react';\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\nimport StyleSetting from './index.style';\r\n\r\nconst layout = {\r\n  labelCol: { span: 5 },\r\n  wrapperCol: { span: 10 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nconst PayloadSetting = ({ history }) => {\r\n  const onFinish = values => {\r\n    console.log('Success:', values);\r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <StyleSetting>\r\n      <div className=\"searchtype\">\r\n        <a  onClick={() => history.push('/payload-management')}>Quản lý Payload</a> <span>/</span> <a  onClick={() => history.push('/payload-configuration')}>Cấu hình Payload</a>\r\n      </div>\r\n      \r\n      <Form\r\n        {...layout}\r\n        name=\"basic\"\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <h3 className=\"searchtype\"  >Thông tin cấu hình</h3>\r\n        <Form.Item\r\n          label=\"Panning\"\r\n          name=\"username\"\r\n          rules={[{ required: true, message: 'Please input your username!' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Tilting\"\r\n          name=\"tilting\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Zooming\"\r\n          name=\"zooming\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        {/* <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\r\n        <Checkbox>Remember me</Checkbox>\r\n      </Form.Item> */}\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Submit\r\n        </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </StyleSetting>\r\n  );\r\n};\r\n\r\nexport default PayloadSetting;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleList = styled.div`\r\n  .action{\r\n    margin-right: 5px;\r\n  }\r\n  .searchtype {\r\n    margin-top: 20px;\r\n  }\r\n  .buttontype {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nexport default StyleList;","import React from 'react';\r\nimport {  Form, Row, Col} from 'antd';\r\nimport { Button } from 'antd';\r\nimport StyleList from './index.style';\r\n\r\n\r\nconst PayloadStatistic = ({ history }) => {\r\n  return (\r\n      <StyleList>\r\n        <div>\r\n          <h2>Thống kê Payload</h2>\r\n          <br/>\r\n          <Form>\r\n            <Row justify=\"space-around\">\r\n              {/* <Col span={4}>\r\n                <Button type=\"primary\" className=\"buttontype\" onClick={() => history.push('/payload-statistic-frequency')}>Thống kê theo tần suất sử dụng</Button>\r\n              </Col>\r\n              <Col span={4}>\r\n                <Button type=\"primary\" className=\"buttontype\" onClick={() => history.push('/payload-statistic-time')}>Thống kê theo thời gian sử dụng</Button>\r\n              </Col> */}\r\n              <Col span={4}>\r\n                <Button type=\"primary\" className=\"buttontype\" onClick={() => history.push('/payload-statistic-work')}>Thống kê lịch sử hoạt động của Payload</Button>\r\n              </Col>\r\n                <Col span={4}>\r\n                    <Button type=\"primary\" className=\"buttontype\" onClick={() => history.push('/payload-statistic-fix')}>Thống kê lịch sử sửa chữa của Payload</Button>\r\n                </Col>\r\n            </Row>\r\n            <br/>\r\n            <Row justify=\"space-around\">\r\n              <Col span={4}>\r\n                <Button type=\"primary\" className=\"buttontype\" onClick={() => history.push('/payload-statistic-status')}>Thống kê theo trạng thái Payload</Button>\r\n              </Col>\r\n                <Col span={4}>\r\n                    <Button type=\"primary\" className=\"buttontype\" onClick={() => history.push('/payload-statistic-type')}>Thống kê theo loại Payload</Button>\r\n                </Col>\r\n            </Row>\r\n          </Form>\r\n\r\n        </div>\r\n      </StyleList>\r\n      )\r\n\r\n};\r\n\r\nexport default PayloadStatistic;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleList = styled.div`\r\n  .action{\r\n    margin-right: 5px;\r\n  }\r\n  .searchtype {\r\n    margin-top: 20px;\r\n  }\r\n  .buttontype {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nexport default StyleList;\r\n","import React, { Component } from \"react\";\r\nimport { Table, Space, Input, Form, Select, Modal, DatePicker, Row, Col } from 'antd';\r\nimport { Button } from 'antd';\r\nimport StyleList from './index.style';\r\nimport { useState } from 'react';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\nimport {Pie} from \"ant-design-pro/lib/Charts\";\r\n\r\nclass List extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      visible: false,\r\n      currentTable: null,\r\n      tables: [],\r\n      idPayload: null,\r\n      modalLoading: false,\r\n      detailBill: [],\r\n      detailPayload: {},\r\n      options: [],\r\n      payload: {},\r\n      visibleAdd: false,\r\n      visibleDelete: false,\r\n      idPayloadDelete: null,\r\n      status: [\r\n        { value: 'working', label: 'Đang sử dụng' },\r\n        { value: 'idle', label: 'Sẵn có' },\r\n        { value: 'fixing', label: 'Đang sửa' }\r\n      ],\r\n        typeData: [\r\n            {\r\n                x: \"Camera góc rộng\",\r\n                y: 0,\r\n            },\r\n            {\r\n                x: \"Camera nhiệt\",\r\n                y: 0,\r\n            },\r\n            {\r\n                x: \"Camera hồng ngoại\",\r\n                y: 0,\r\n            },\r\n            {\r\n                x: \"Cảm biến nhiệt độ\",\r\n                y: 0,\r\n            },\r\n            {\r\n                x: \"Cảm biến tiệm cận\",\r\n                y: 0,\r\n            },\r\n        ],\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.loadAllPayload();\r\n    this.getAllTypePayload();\r\n  }\r\n\r\n  loadAllPayload() {\r\n    axios.get(`http://dsd06.herokuapp.com/api/payload`)\r\n        .then(res => {\r\n          //const persons = res.data;\r\n          this.setState({ tables: res.data });\r\n        })\r\n  }\r\n\r\n\r\n  handleOk = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n  handleCancel = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n\r\n    async getAllTypePayload() {\r\n        await axios.get(`https://dsd06.herokuapp.com/api/payloadtype`)\r\n        .then(res => {\r\n          const options = res.data.map(payload =>\r\n              ({\r\n                label: payload.name,\r\n                value: payload._id,\r\n              })\r\n          )\r\n          this.setState({ Options: options });\r\n        })\r\n\r\n  }\r\n\r\n    async componentWillMount() {\r\n        var that = this;\r\n        let valu = await axios.get('https://dsd06.herokuapp.com/api/payloadtype')\r\n            .then(function(response){\r\n                return response.data.map(payload =>\r\n                    ({\r\n                        x: payload.name,\r\n                        y: payload._id,\r\n                    })\r\n                );\r\n            })\r\n            .catch(function(error){\r\n                return [];\r\n            });\r\n\r\n            axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { type: valu[0].y }} )\r\n                .then(res => {\r\n                    const data = res.data;\r\n                    let { typeData } = that.state;\r\n                    typeData[0].y = data.length;\r\n                    this.setState(typeData);\r\n                })\r\n        axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { type: valu[1].y }} )\r\n            .then(res => {\r\n                const data = res.data;\r\n                let { typeData } = that.state;\r\n                typeData[1].y = data.length;\r\n                this.setState(typeData);\r\n            });\r\n        axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { type: valu[2].y }} )\r\n            .then(res => {\r\n                const data = res.data;\r\n                let { typeData } = that.state;\r\n                typeData[2].y = data.length;\r\n                this.setState(typeData);\r\n            });\r\n        axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { type: valu[3].y }} )\r\n            .then(res => {\r\n                const data = res.data;\r\n                let { typeData } = that.state;\r\n                typeData[3].y = data.length;\r\n                this.setState(typeData);\r\n            })\r\n        axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { type: valu[4].y }} )\r\n            .then(res => {\r\n                const data = res.data;\r\n                let { typeData } = that.state;\r\n                typeData[4].y = data.length;\r\n                this.setState(typeData);\r\n            });\r\n    }\r\n\r\n\r\n\r\n  searchPayload(values) {\r\n    axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { type: values.type, status: values.status } })\r\n        .then(res => {\r\n          //const persons = res.data;\r\n          this.setState({ tables: res.data });\r\n        })\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const dataSource = this.state.tables.map(payload =>\r\n        ({\r\n          id: payload._id,\r\n          code: payload.code,\r\n          name: payload.name,\r\n          status: payload.status,\r\n          manufacturer: payload.detail.manufacturer,\r\n          type: payload.type.name,\r\n          des: payload.type.description,\r\n          type_id: payload.type._id,\r\n          weight: payload.detail.weight,\r\n          opticalZoom: payload.detail.opticalZoom,\r\n          digitalZoom: payload.detail.digitalZoom,\r\n          sizewidth: payload.detail.size.width,\r\n          sizeheight: payload.detail.size.height,\r\n          sizelength: payload.detail.size.length,\r\n          panningmin: payload.detail.panning.min,\r\n          panningmax: payload.detail.panning.max,\r\n          tiltingmin: payload.detail.tilting.min,\r\n          tiltingmax: payload.detail.tilting.max,\r\n          zoommin: payload.detail.zoom.min,\r\n          zoommax: payload.detail.zoom.max,\r\n\r\n        })\r\n    )\r\n\r\n\r\n\r\n    const columns = [\r\n      {\r\n        title: 'Mã ',\r\n        dataIndex: 'code',\r\n        key: 'code',\r\n      },\r\n      {\r\n        title: 'Tên',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n      },\r\n      {\r\n        title: 'Nhà sản xuất',\r\n        dataIndex: 'manufacturer',\r\n        key: 'manufacturer',\r\n      },\r\n      {\r\n        title: 'Loại',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'des',\r\n        key: 'des',\r\n      },\r\n      {\r\n        title: 'Trạng thái',\r\n        dataIndex: 'status',\r\n        key: 'status',\r\n      },\r\n    ];\r\n\r\n    const { visible, visibleAdd, visibleDelete, currentTable, tables, typeData } = this.state;\r\n\r\n    return (\r\n        <StyleList>\r\n          <div>\r\n            <h2>Thống kê Payload theo loại</h2>\r\n            <div className=\"searchtype\">\r\n              <a onClick={() => this.props.history.push('/payload-statistic')}>Thống kê Payload</a> <span>/</span>\r\n              <a onClick={() => this.props.history.push('/payload-statistic-type')}>Theo loại Payload</a>\r\n            </div>\r\n            <Form\r\n                layout=\"horizontal\"\r\n                className=\"searchtype\" onFinish={(values) => this.searchPayload(values)}\r\n            >\r\n                <Row justify=\"space-around\">\r\n                    <Col span={16}>\r\n                        <Pie\r\n                            hasLegend\r\n                            title=\"Theo loại\"\r\n                            subTitle=\"Theo lọai\"\r\n                            total={() => (\r\n                                <span\r\n                                    dangerouslySetInnerHTML={{\r\n                                        __html: (typeData.reduce((pre, now) => now.y + pre, 0))+ \" payload\",\r\n                                    }}\r\n                                />\r\n                            )}\r\n                            data={typeData.filter(item => item.y > 0)}\r\n                            valueFormat={val => <span dangerouslySetInnerHTML={{ __html: (val) }} />}\r\n                            height={324}\r\n                        />\r\n\r\n                    </Col>\r\n                </Row>\r\n              <Row justify=\"space-around\">\r\n                <Col span={9}>\r\n                    <br/>\r\n                  <Form.Item label=\"Chọn loại Payload\" name=\"type\">\r\n                    <Select options={this.state.Options} />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={14}>\r\n                    <br/>\r\n                  <Button type=\"primary\" htmlType=\"submit\" icon={<SearchOutlined />}>\r\n                    Lọc\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n            <Table dataSource={dataSource} columns={columns} />;\r\n          </div>\r\n\r\n\r\n\r\n\r\n        </StyleList>\r\n    );\r\n  }\r\n}\r\nexport default List;","import React, { useState } from 'react';\r\nimport { Table, Space, Input, Form, Select, Modal, DatePicker, Row, Col} from 'antd';\r\nimport { Button } from 'antd';\r\nimport StyleList from '../index.style';\r\n\r\nconst PayloadStatisticTime = ({ history }) => {\r\n  const dataSource = [\r\n    {\r\n      stt: '1',\r\n      code: 'TT73623',\r\n      name: 'Sensor T',\r\n      type: 'Sensor',\r\n      use_number: '14',\r\n      drone_number: '4',\r\n    },\r\n    {\r\n      stt: '2',\r\n      code: 'PN62523',\r\n      name: 'Camera cảm biến nhiệt',\r\n      type: 'Camera',\r\n      use_number: '1',\r\n      drone_number: '1',\r\n    },\r\n    {\r\n      stt: '3',\r\n      code: 'TT73623',\r\n      name: 'Sensor T',\r\n      type: 'Sensor',\r\n      use_number: '4',\r\n      drone_number: '3',\r\n    },\r\n    {\r\n      stt: '4',\r\n      code: 'SN04628',\r\n      name: 'Camera SONY 04628',\r\n      type: 'Camera',\r\n      use_number: '5',\r\n      drone_number: '1',\r\n    },\r\n    {\r\n      stt: '5',\r\n      code: 'TT73623',\r\n      name: 'Sensor T',\r\n      type: 'Sensor',\r\n      use_number: '5',\r\n      drone_number: '2',\r\n    },\r\n    {\r\n      stt: '6',\r\n      code: 'SN04628',\r\n      name: 'Camera SONY 04628',\r\n      type: 'Camera',\r\n      use_number: '5',\r\n      drone_number: '2',\r\n    },\r\n\r\n  ];\r\n  \r\n  let visible = false ;\r\n\r\n\r\n  const columns = [\r\n    {\r\n      title: 'STT',\r\n      dataIndex: 'stt',\r\n      key: 'stt',\r\n    },\r\n    {\r\n      title: 'Mã Payload',\r\n      dataIndex: 'code',\r\n      key: 'code',\r\n    },\r\n    {\r\n      title: 'Tên Payload',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Phân loại',\r\n      dataIndex: 'type',\r\n      key: 'type',\r\n    },\r\n    {\r\n      title: 'Số lượt sử dụng',\r\n      dataIndex: 'use_number',\r\n      key: 'use_number',\r\n    },\r\n    {\r\n      title: 'Số drone được gắn',\r\n      dataIndex: 'drone_number',\r\n      key: 'drone_number',\r\n    },\r\n  ];\r\n  // const [componentSize, setComponentSize] = useState('default');\r\n  // const onFormLayoutChange = ({ size }) => {\r\n  //   setComponentSize(size);\r\n  // };\r\n\r\n  return (\r\n    <StyleList>\r\n      <div>\r\n        <h2>Thống kê Payload theo tần suất sử dụng</h2>\r\n        <div className=\"searchtype\">\r\n          <a onClick={() => history.push('/payload-statistic')}>Thống kê Payload</a> <span>/</span> <a onClick={() => history.push('/payload-statistic/time')}>Chỉnh sửa Payload</a>\r\n        </div>\r\n\r\n        <Form\r\n            // layout=\"horizontal\"\r\n            // initialValues={{ size: componentSize }} className=\"searchtype\"\r\n            // onValuesChange={onFormLayoutChange}\r\n            // size={componentSize}\r\n        >\r\n          <Row justify=\"space-around\">\r\n            <Col span={4}>\r\n              <Form.Item label=\"Chọn thời gian\">\r\n                <Select>\r\n                  <Select.Option value=\"demo\">Demo</Select.Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n          </Row>\r\n        </Form>\r\n\r\n        <Table dataSource={dataSource} columns={columns} />;\r\n        </div>\r\n\r\n        <Modal\r\n          title=\"Basic Modal\"\r\n          visible={visible}\r\n          //onOk={handleOk}\r\n          //onCancel={handleCancel}\r\n        >\r\n          <p>Some contents...</p>\r\n          <p>Some contents...</p>\r\n          <p>Some contents...</p>\r\n        </Modal>\r\n    </StyleList>\r\n  );\r\n};\r\n\r\nexport default PayloadStatisticTime;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleList = styled.div`\r\n  .action{\r\n    margin-right: 5px;\r\n  }\r\n  .searchtype {\r\n    margin-top: 20px;\r\n  }\r\n  .buttontype {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nexport default StyleList;\r\n","import React, { Component } from \"react\";\r\nimport 'ant-design-pro/dist/ant-design-pro.css';\r\nimport { Pie, yuan } from 'ant-design-pro/lib/Charts';\r\nimport { Table, Space, Input, Form, Select, Modal, DatePicker, Row, Col } from 'antd';\r\nimport { Button } from 'antd';\r\nimport StyleList from './index.style';\r\nimport { useState } from 'react';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\n\r\nclass List extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      visible: false,\r\n      currentTable: null,\r\n      tables: [],\r\n      idPayload: null,\r\n      modalLoading: false,\r\n      detailBill: [],\r\n      detailPayload: {},\r\n      options: [],\r\n      payload: {},\r\n      visibleAdd: false,\r\n      visibleDelete: false,\r\n      idPayloadDelete: null,\r\n      status: [\r\n        { value: 'working', label: 'Đang sử dụng' },\r\n        { value: 'idle', label: 'Sẵn có' },\r\n        { value: 'fixing', label: 'Đang sửa' }\r\n      ],\r\n\r\n        salesPieData: [\r\n            {\r\n                x: 'Đang hoạt động',\r\n                y: 1,\r\n            },\r\n            {\r\n                x: 'Sẵn có',\r\n                y: 1,\r\n            },\r\n            {\r\n                x: 'Đang sửa',\r\n                y: 1,\r\n            },\r\n        ]\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.loadAllPayload();\r\n    this.getAllTypePayload();\r\n  }\r\n\r\n  loadAllPayload() {\r\n    axios.get(`http://dsd06.herokuapp.com/api/payload`)\r\n        .then(res => {\r\n          //const persons = res.data;\r\n          this.setState({ tables: res.data });\r\n        })\r\n  }\r\n\r\n\r\n  handleOk = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n  handleCancel = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n\r\n  getAllTypePayload() {\r\n    axios.get(`https://dsd06.herokuapp.com/api/payloadtype`)\r\n        .then(res => {\r\n          const options = res.data.map(payload =>\r\n              ({\r\n                label: payload.name,\r\n                value: payload._id,\r\n              })\r\n          )\r\n\r\n\r\n          this.setState({ Options: options });\r\n        })\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  searchPayload(values) {\r\n    axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { type: values.type, status: values.status } })\r\n        .then(res => {\r\n          //const persons = res.data;\r\n          this.setState({ tables: res.data });\r\n        })\r\n  }\r\n\r\n\r\n  componentWillMount() {\r\n      var that = this;\r\n      axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { status: \"working\" } })\r\n          .then(res => {\r\n              const data = res.data;\r\n              let { salesPieData } = that.state;\r\n              salesPieData[0].y = data.length;\r\n              this.setState(salesPieData);\r\n          })\r\n      axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { status: \"idle\" } })\r\n          .then(res => {\r\n              const data = res.data;\r\n              let { salesPieData } = that.state;\r\n              salesPieData[1].y = data.length;\r\n              this.setState(salesPieData);\r\n          })\r\n      axios.get(`http://dsd06.herokuapp.com/api/payload`, { params: { status: \"fixing\" } })\r\n          .then(res => {\r\n              const data = res.data;\r\n              let { salesPieData } = that.state;\r\n              salesPieData[2].y = data.length;\r\n              this.setState(salesPieData);\r\n          })\r\n  }\r\n\r\n\r\n    render() {\r\n\r\n    const dataSource = this.state.tables.map(payload =>\r\n        ({\r\n          id: payload._id,\r\n          code: payload.code,\r\n          name: payload.name,\r\n          status: payload.status,\r\n          manufacturer: payload.detail.manufacturer,\r\n          type: payload.type.name,\r\n          des: payload.type.description,\r\n          type_id: payload.type._id,\r\n          weight: payload.detail.weight,\r\n          opticalZoom: payload.detail.opticalZoom,\r\n          digitalZoom: payload.detail.digitalZoom,\r\n          sizewidth: payload.detail.size.width,\r\n          sizeheight: payload.detail.size.height,\r\n          sizelength: payload.detail.size.length,\r\n          panningmin: payload.detail.panning.min,\r\n          panningmax: payload.detail.panning.max,\r\n          tiltingmin: payload.detail.tilting.min,\r\n          tiltingmax: payload.detail.tilting.max,\r\n          zoommin: payload.detail.zoom.min,\r\n          zoommax: payload.detail.zoom.max,\r\n\r\n        })\r\n    )\r\n\r\n\r\n\r\n    const columns = [\r\n      {\r\n        title: 'Mã ',\r\n        dataIndex: 'code',\r\n        key: 'code',\r\n      },\r\n      {\r\n        title: 'Tên',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n      },\r\n      {\r\n        title: 'Nhà sản xuất',\r\n        dataIndex: 'manufacturer',\r\n        key: 'manufacturer',\r\n      },\r\n      {\r\n        title: 'Loại',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n      },\r\n      {\r\n        title: 'Mô tả',\r\n        dataIndex: 'des',\r\n        key: 'des',\r\n      },\r\n      {\r\n        title: 'Trạng thái',\r\n        dataIndex: 'status',\r\n        key: 'status',\r\n      },\r\n    ];\r\n\r\n    const { visible, visibleAdd, visibleDelete, currentTable, tables, salesPieData } = this.state;\r\n\r\n    return (\r\n        <StyleList>\r\n          <div>\r\n            <h2>Thống kê Payload theo trạng thái hoạt động</h2>\r\n              <div className=\"searchtype\">\r\n                  <a onClick={() => this.props.history.push('/payload-statistic')}>Thống kê Payload</a> <span>/</span>\r\n                  <a onClick={() => this.props.history.push('/payload-statistic-status')}>Theo trạng thái hoạt động</a>\r\n              </div>\r\n            <Form\r\n                layout=\"horizontal\"\r\n                className=\"searchtype\" onFinish={(values) => this.searchPayload(values)}\r\n            >\r\n                <Row justify=\"space-around\">\r\n                    <Col span={16}>\r\n                        <Pie\r\n                            hasLegend\r\n                            title=\"Theo trạng thái\"\r\n                            subTitle=\"Theo trạng thái\"\r\n                            total={() => (\r\n                                <span\r\n                                    dangerouslySetInnerHTML={{\r\n                                        __html: (salesPieData.reduce((pre, now) => now.y + pre, 0))+ \" payload\",\r\n                                    }}\r\n                                />\r\n                            )}\r\n                            data={salesPieData.filter(item => item.y > 0)}\r\n                            valueFormat={val => <span dangerouslySetInnerHTML={{ __html: (val) }} />}\r\n                            height={324}\r\n                        />\r\n\r\n                    </Col>\r\n                    <br/>\r\n                </Row>\r\n              <Row justify=\"space-around\">\r\n                  <br/>\r\n                <Col span={9}>\r\n                  <Form.Item label=\"Trạng thái\" name=\"status\">\r\n                    <Select options={this.state.status} />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={14}>\r\n                  <Button type=\"primary\" htmlType=\"submit\" icon={<SearchOutlined />}>\r\n                    Lọc\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n            <Table dataSource={dataSource} columns={columns} />;\r\n          </div>\r\n\r\n\r\n\r\n\r\n        </StyleList>\r\n    );\r\n  }\r\n}\r\nexport default List;","// NEW COMPONENT\r\n\r\nimport React, { Component } from \"react\";\r\nimport { Table, Space, Input, Form, Select, Modal, DatePicker, Row, Col } from 'antd';\r\nimport { Button } from 'antd';\r\nimport { useState } from 'react';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport StyleList from '../index.style';\r\nimport {Bar} from \"ant-design-pro/lib/Charts\";\r\n\r\n\r\nclass PayloadStatisticWorking extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      listPayloadWorking:[],\r\n        workData:[\r\n            {\r\n                x: '2020-12-07',\r\n                y: 0,\r\n            },\r\n            {\r\n                x: '2020-12-08',\r\n                y: 0,\r\n            },\r\n            {\r\n                x: '2020-12-09',\r\n                y: 0,\r\n            },\r\n            {\r\n                x: '2020-12-10',\r\n                y: 0,\r\n            },\r\n            {\r\n                x: '2020-12-11',\r\n                y: 0,\r\n            },\r\n            {\r\n                x: '2020-12-12',\r\n                y: 0,\r\n            },\r\n            {\r\n                x: '2020-12-13',\r\n                y: 0,\r\n            },\r\n            {\r\n                x: '2020-12-05',\r\n                y: 0,\r\n            },\r\n            {\r\n                x: '2020-12-14',\r\n                y: 0,\r\n            },\r\n            {\r\n                x: '2020-12-15',\r\n                y: 0,\r\n            },\r\n        ],\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n     axios.get('https://dsd06.herokuapp.com/api/payloadStat/feeWorking')\r\n      .then(res => {\r\n        var listPayloadWorking = res.data;\r\n        listPayloadWorking = listPayloadWorking.filter( x => x.payload != null)\r\n                for( var i = 0; i < listPayloadWorking.length; i++){\r\n          listPayloadWorking[i].startedAt = listPayloadWorking[i].startedAt.replace(/\\:([0-9]+)(\\.[0-9a-zA-Z]+)?$/g, ':$1').replace(/T/, ' ');\r\n          if(listPayloadWorking[i].finishedAt != null){\r\n            listPayloadWorking[i].finishedAt = listPayloadWorking[i].finishedAt.replace(/\\:([0-9]+)(\\.[0-9a-zA-Z]+)?$/g, ':$1').replace(/T/, ' ');\r\n          }\r\n        }\r\n        this.setState({ listPayloadWorking });\r\n      })\r\n  }\r\n\r\n    componentWillMount() {\r\n        var that = this;\r\n        axios.get(`https://dsd06.herokuapp.com/api/payloadStat/feeWorking`)\r\n            .then(res => {\r\n                var listPayloadWorking = res.data;\r\n                let { workData } = that.state;\r\n                listPayloadWorking = listPayloadWorking.filter( x => x.payload != null)\r\n                for( var i = 0; i < listPayloadWorking.length; i++){\r\n                    listPayloadWorking[i].startedAt = listPayloadWorking[i].startedAt.split(\"T\")[0];\r\n                    for( var j = 0; j < workData.length; j++ ){\r\n                        if(listPayloadWorking[i].startedAt == workData[j].x){\r\n                            workData[j].y = workData[j].y + 1;\r\n                        }\r\n                    }\r\n                }\r\n                this.setState(workData);\r\n            })\r\n    }\r\n\r\n  render() {\r\n    //let history = useHistory();\r\n    const columns = [\r\n    {\r\n      title: 'Mã Payload',\r\n      dataIndex: 'payloadCode',\r\n      key: 'payloadCode',\r\n    },\r\n    {\r\n      title: 'Tên Payload',\r\n      dataIndex: 'payloadName',\r\n      key: 'payloadName',\r\n    },\r\n    {\r\n      title: 'Phân loại',\r\n      dataIndex: 'type',\r\n      key: 'type',\r\n    },\r\n    // {\r\n    //   title: 'Lý do',\r\n    //   dataIndex: 'reason',\r\n    //   key: 'reason',\r\n    // },\r\n    // {\r\n    //   title: 'DroneId',\r\n    //   dataIndex: 'droneId',\r\n    //   key: 'droneId',\r\n    // },\r\n    {\r\n      title: 'Chi phí',\r\n      dataIndex: 'fee',\r\n      key: 'fee',\r\n    },\r\n    {\r\n      title: 'Thời gian bắt đầu',\r\n      dataIndex: 'startedAt',\r\n      key: 'startedAt',\r\n    },\r\n    {\r\n      title: 'Thời gian kết thúc',\r\n      dataIndex: 'finishedAt',\r\n      key: 'finishedAt',\r\n    },\r\n\r\n  ];\r\n    const dataSource = \r\n      this.state.listPayloadWorking.map(payloadWorking =>\r\n        ({\r\n          id: payloadWorking._id,\r\n          payloadCode: payloadWorking.payload.code,\r\n          payloadName: payloadWorking.payload.name,\r\n          type: payloadWorking.type,\r\n          reason: payloadWorking.reason,\r\n          droneId: payloadWorking.droneId,\r\n          fee: payloadWorking.fee,\r\n          startedAt: payloadWorking.startedAt,\r\n          finishedAt: payloadWorking.finishedAt\r\n        })\r\n      )\r\n      const {  workData } = this.state;\r\n    \r\n    return (\r\n    <StyleList>\r\n      <div>\r\n        <h2>Thống kê lịch sử hoạt động Payload </h2>\r\n        <div className=\"searchtype\">\r\n          <a onClick={() => this.props.history.push('/payload-statistic')}>Thống kê Payload</a> <span>/</span> \r\n          <a onClick={() => this.props.history.push('/payload-statistic/drone')}>Lịch sử hoạt động</a>\r\n        </div>\r\n\r\n        <Form>\r\n          <Row justify=\"space-around\">\r\n                <Col span={18}>\r\n                    <Bar height={300} title=\"Lịch sử hoạt động theo ngày\" data={workData.filter( item => item.y >= 0)} />\r\n                    <br/>\r\n                </Col>\r\n              <br/>\r\n\r\n\r\n          </Row>\r\n        </Form>\r\n\r\n        <Table dataSource={dataSource} columns={columns} />\r\n        </div>\r\n    </StyleList>\r\n    );\r\n  }\r\n}\r\nexport default PayloadStatisticWorking; \r\n","import React, { Component } from \"react\";\r\nimport { Table, Space, Input, Form, Select, Modal, DatePicker, Row, Col } from 'antd';\r\nimport 'ant-design-pro/dist/ant-design-pro.css';\r\nimport { Bar } from 'ant-design-pro/lib/Charts';\r\nimport { Button } from 'antd';\r\nimport { useState } from 'react';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport StyleList from '../index.style';\r\n\r\n\r\nclass PayloadStatisticDrone extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      listPayloadFixing:[],\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  componentDidMount() {\r\n    axios.get('https://dsd06.herokuapp.com/api/payloadStat/feeFixing')\r\n      .then(res => {\r\n        var listPayloadFixing = res.data;\r\n        listPayloadFixing = listPayloadFixing.filter( x => x.payload != null)\r\n        for( var i = 0; i < listPayloadFixing.length; i++){\r\n          listPayloadFixing[i].startedAt = listPayloadFixing[i].startedAt.replace(/\\:([0-9]+)(\\.[0-9a-zA-Z]+)?$/g, ':$1').replace(/T/, ' ');;\r\n        }\r\n        this.setState({ listPayloadFixing });\r\n      })\r\n  }\r\n\r\n\r\n  render() {\r\n    //let history = useHistory();\r\n    const columns = [\r\n    {\r\n      title: 'Mã Payload',\r\n      dataIndex: 'payloadCode',\r\n      key: 'payloadCode',\r\n    },\r\n    {\r\n      title: 'Tên Payload',\r\n      dataIndex: 'payloadName',\r\n      key: 'payloadName',\r\n    },\r\n    {\r\n      title: 'Phân loại',\r\n      dataIndex: 'type',\r\n      key: 'type',\r\n    },\r\n    {\r\n      title: 'Lý do',\r\n      dataIndex: 'reason',\r\n      key: 'reason',\r\n    },\r\n    {\r\n      title: 'Chi phí',\r\n      dataIndex: 'fee',\r\n      key: 'fee'\r\n    },\r\n    {\r\n      title: 'Thời gian bắt đầu',\r\n      dataIndex: 'startedAt',\r\n      key: 'startedAt',\r\n    },\r\n    {\r\n      title: 'Thời gian kết thúc',\r\n      dataIndex: 'finishedAt',\r\n      key: 'finishedAt',\r\n    },\r\n\r\n  ];\r\n\r\n    const dataSource = \r\n      this.state.listPayloadFixing.map(payloadFixing =>\r\n        ({\r\n          // id: payloadFixing._id,\r\n          payloadCode: payloadFixing.payload.code,\r\n          payloadName: payloadFixing.payload.name,\r\n          type: payloadFixing.type,\r\n          reason: payloadFixing.reason,\r\n          fee: payloadFixing.fee,\r\n          startedAt: payloadFixing.startedAt,\r\n          finishedAt: payloadFixing.finishedAt\r\n        })\r\n      )\r\n\r\n    \r\n    return (\r\n    <StyleList>\r\n      <div>\r\n        <h2>Thống kê lịch sử sửa chữa Payload</h2>\r\n        <div className=\"searchtype\">\r\n          <a onClick={() => this.props.history.push('/payload-statistic')}>Thống kê Payload</a> <span>/</span>\r\n          <a onClick={() => this.props.history.push('/payload-statistic/moment')}>Lịch sử sửa chữa</a>\r\n        </div>\r\n\r\n        <Form>\r\n          <Row justify=\"space-around\">\r\n            <Col span={18}>\r\n              <br/>\r\n            </Col>\r\n\r\n          </Row>\r\n        </Form>\r\n\r\n        <Table dataSource={dataSource} columns={columns} />\r\n        </div>\r\n\r\n        <Modal\r\n          title=\"Basic Modal\"\r\n        >\r\n          <p>Some contents...</p>\r\n          <p>Some contents...</p>\r\n          <p>Some contents...</p>\r\n        </Modal>\r\n    </StyleList>\r\n    );\r\n  }\r\n}\r\nexport default PayloadStatisticDrone; \r\n","import styled from \"styled-components\";\r\n\r\nconst StyleList = styled.div`\r\n  .action{\r\n    margin-right: 5px;\r\n  }\r\n  .searchtype {\r\n    margin-top: 20px;\r\n  }\r\n  .buttontype {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nexport default StyleList;","\r\n// New COMPONENT\r\n\r\nimport React, { Component } from 'react';\r\nimport { Table, Space, Input, Form, Select, Modal, DatePicker, Row, Col} from 'antd';\r\nimport { Button } from 'antd';\r\nimport StyleList from '../index.style';\r\nimport { useState } from 'react';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Moment from 'moment';\r\n \r\n\r\nclass PayloadDroneHistory extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      listPayloadDroneHistory:[],\r\n      payloadId: '',\r\n      PayloadOptions: [],\r\n      PayloadTypeOptions: [],\r\n      idPayloadReturn: null,\r\n      visableReturnModal: false,\r\n\r\n      payloadCode: '',\r\n      payloadName: '',\r\n      status: '',\r\n      startedAt: '',\r\n      type: '',\r\n\r\n      droneName: '',\r\n      isGetAllHistoryPayload: true,\r\n      listAllHistories: [],\r\n    }\r\n  }\r\n\r\n \r\n\r\n  componentDidMount() {\r\n    this.setState({isGetAllHistoryPayload: true});\r\n    this.getAllPayload();\r\n    this.getAllTypePayload();\r\n    this.getAllHistories();\r\n  }\r\n\r\n  getAllHistories () {\r\n    axios.get('https://dsd06.herokuapp.com/api/payloadregister/allHistories')\r\n    .then(res => {\r\n      var listAllHistoriesFromServer = res.data;\r\n      var listHistoriesHasPayloadNull = [];\r\n      var listHistoriesHasPayload = [];\r\n\r\n      listAllHistoriesFromServer.map(history => {\r\n        if (history.payload == null || history.sdCardId == null || history.sdCardId == '') {\r\n          listHistoriesHasPayloadNull.push(history);\r\n        } else {\r\n          listHistoriesHasPayload.push(history);\r\n        }\r\n      })\r\n\r\n      this.setState({listAllHistories: listHistoriesHasPayload});\r\n    })\r\n  }\r\n\r\n  getAllPayload() {\r\n    axios.get('https://dsd06.herokuapp.com/api/payload')\r\n    .then(res => {\r\n      const options = res.data.map(payload =>\r\n        ({\r\n          label: payload.name,\r\n          value: payload._id,\r\n        })\r\n      )\r\n      this.setState({PayloadOptions: options});\r\n    })\r\n  }\r\n\r\n  getAllTypePayload() {\r\n    axios.get(`https://dsd06.herokuapp.com/api/payloadtype`)\r\n      .then(res => {\r\n        const options = res.data.map(payload =>\r\n          ({\r\n            label: payload.name,\r\n            value: payload._id,\r\n          })\r\n        )\r\n        this.setState({ PayloadTypeOptions: options });\r\n      })\r\n    \r\n  }\r\n\r\n  handleFindPayloadHistory(values){\r\n    // const payloadId = { payloadId: values.payloadId };\r\n    this.setState({isGetAllHistoryPayload: false});\r\n    axios.get('https://dsd06.herokuapp.com/api/payloadregister/histories/' + values.payloadId)\r\n      .then(res => {\r\n        const listPayloadDroneHistoryFromServer = res.data;\r\n        console.log(values.payloadId);\r\n        listPayloadDroneHistoryFromServer.map(payloadHistory => {\r\n          const droneId = payloadHistory.droneId;\r\n        \r\n          this.findDroneById(droneId);\r\n\r\n        })\r\n        this.setState({ listPayloadDroneHistory: listPayloadDroneHistoryFromServer });\r\n        // this.setState({ payloadId: res.data.payload});\r\n      })\r\n\r\n  }\r\n\r\n  findDroneById(droneId) {\r\n       axios.get('http://skyrone.cf:6789/drone/getById/' + droneId)\r\n    .then(res => {\r\n      const drone = res.data;\r\n      console.log(drone);\r\n      this.setState({\r\n        droneName: drone.name,\r\n      })\r\n    })\r\n  }\r\n\r\n  handleCancelReturnPayload = e => {\r\n    this.setState({ visableReturnModal: false })\r\n  }\r\n\r\n  showModalReturnPayload(record) {\r\n    console.log(record);\r\n    this.setState({ visableReturnModal: true })\r\n    // this.setState({ idPayloadReturn: this.state.payloadId })\r\n    this.setState({ idPayloadReturn: record.payloadId })\r\n  }\r\n\r\n  returnPayload(valuesOfReturnPayload) {\r\n    const fee = valuesOfReturnPayload.fee;\r\n    const qs = require('qs');\r\n    axios.post('https://dsd06.herokuapp.com/api/payloadregister/return/' + this.state.idPayloadReturn, qs.stringify({'fee': fee}))\r\n    .then(res => {\r\n      console.log(res.data);\r\n        this.setState({ visableReturnModal: false })\r\n        // this.handleFindPayloadHistory(this.state.idPayloadReturn);\r\n        setTimeout(function() {\r\n          window.location.reload(false);\r\n        }, 2000)\r\n    })\r\n  }\r\n\r\n  renderModalReturnPayload() {\r\n    return <div>\r\n      <Form onFinish= {(valuesOfReturnPayload) => this.returnPayload(valuesOfReturnPayload)}>\r\n      <p>Bạn có chắc trả lại payload này?</p>\r\n      <Form.Item label=\"Chi phí\" name=\"fee\" rules={[{required: true, message: 'Vui lòng nhập chi phí!'}]}>\r\n        <Input></Input>\r\n      </Form.Item>\r\n      <Button type=\"primary\" htmlType=\"submit\" danger>Trả payload</Button>\r\n      </Form>\r\n   \r\n    </div>\r\n  }\r\n\r\n  render() {\r\n    //let history = useHistory();\r\n    const typeDeviceOption = [\r\n      { value: 'camera', label: 'Camera' },\r\n      { value: 'micro', label: 'Micro' },\r\n      { value: 'sensor', label: 'Sensor' }\r\n    ]\r\n    \r\n    const columns = [\r\n      // {\r\n      //   title: 'STT',\r\n      //   dataIndex: 'id',\r\n      //   key: 'id',\r\n      // },\r\n      {\r\n        title: 'Mã payload',\r\n        dataIndex: 'payloadCode',\r\n        key: 'payloadCode',\r\n      },\r\n      {\r\n        title: 'Tên payload',\r\n        dataIndex: 'payloadName',\r\n        key: 'payloadName',\r\n      },\r\n      {\r\n        title: 'Trạng thái',\r\n        dataIndex: 'status',\r\n        key: 'status',\r\n      },\r\n      {\r\n        title: 'Tên Drone',\r\n        dataIndex: 'droneName',\r\n        key: 'droneName',\r\n      },\r\n      {\r\n        title: 'Thẻ nhớ',\r\n        dataIndex: 'memory',\r\n        key: 'memory',\r\n      },\r\n      {\r\n        title: 'Phí dịch vụ',\r\n        dataIndex: 'fee',\r\n        key: 'fee'\r\n      },\r\n      {\r\n        title:  'Lý do',\r\n        dataIndex: 'reason',\r\n        key: 'reason'\r\n      },\r\n      // {\r\n      //   title: 'Ngày đăng ký',\r\n      //   dataIndex: 'createdTime',\r\n      //   key: 'createdTime',\r\n      // },\r\n      // {\r\n      //   title: 'Payload',\r\n      //   dataIndex: 'payloadId',\r\n      //   key: 'payloadId'\r\n      // },\r\n      {\r\n        title: 'Thời gian bắt đầu',\r\n        dataIndex: 'startedAt',\r\n        key: 'startedAt'\r\n      },\r\n      {\r\n        title: 'Thời gian kết thúc',\r\n        dataIndex: 'finishedAt',\r\n        key: 'finishedAt'\r\n      },\r\n      {\r\n        title: 'Loại hoạt động',\r\n        dataIndex: 'type',\r\n        key: 'type'\r\n      },\r\n      {\r\n        title: 'Hành động',\r\n        key: 'operation',\r\n        width: 100,\r\n        // dataIndex: 'payloadId',\r\n        render: (text, record) => (\r\n          <Space size=\"small\" >\r\n            {/* <Button type=\"link\" onClick={() => this.props.history.push('/edit-signup-payload-drone')}>Sửa</Button> */}\r\n            {/* <Button danger type=\"text\">Trả payload</Button> */}\r\n            <Button style={{backgroundColor: \"red\", color:\"white\"}} danger type=\"text\" onClick={() => this.showModalReturnPayload(record)}>Trả payload</Button>\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n    var dataSource = [{}];\r\n    if (this.state.isGetAllHistoryPayload === true) {\r\n      dataSource = \r\n      this.state.listAllHistories.map(payloadDroneHistory =>\r\n        ({\r\n            // droneId: payloadDroneHistory._id,\r\n            droneName: this.state.droneName,\r\n            payloadId: payloadDroneHistory.payload._id,\r\n            payloadCode: payloadDroneHistory.payload.code,\r\n            payloadName: payloadDroneHistory.payload.name,\r\n            startedAt: Moment(payloadDroneHistory.startedAt).format(\"YYYY-MM-DD hh:mm:ss\"),\r\n            finishedAt: Moment(payloadDroneHistory.finishedAt).format(\"YYYY-MM-DD hh:mm:ss\"),\r\n            type: payloadDroneHistory.type,\r\n            fee: payloadDroneHistory.fee,\r\n            status: payloadDroneHistory.payload.status,\r\n            memory: payloadDroneHistory.sdCardId.name + payloadDroneHistory.sdCardId.volume,\r\n            reason: payloadDroneHistory.reason,\r\n        })\r\n      )\r\n    } else {\r\n      dataSource = \r\n      this.state.listPayloadDroneHistory.map(payloadDroneHistory =>\r\n        ({\r\n            // droneId: payloadDroneHistory._id,\r\n            droneName: this.state.droneName,\r\n            payloadId: payloadDroneHistory.payload._id,\r\n            payloadCode: payloadDroneHistory.payload.code,\r\n            payloadName: payloadDroneHistory.payload.name,\r\n            startedAt: Moment(payloadDroneHistory.startedAt).format(\"YYYY-MM-DD hh:mm:ss\"),\r\n            finishedAt: Moment(payloadDroneHistory.finishedAt).format(\"YYYY-MM-DD hh:mm:ss\"),\r\n            type: payloadDroneHistory.type,\r\n            fee: payloadDroneHistory.fee,\r\n            status: payloadDroneHistory.payload.status,\r\n            memory: payloadDroneHistory.sdCardId.name + payloadDroneHistory.sdCardId.volume,\r\n            reason: payloadDroneHistory.reason,\r\n        })\r\n      )\r\n    }\r\n    // const dataSource = \r\n    //   this.state.listPayloadDroneHistory.map(payloadDroneHistory =>\r\n    //     ({\r\n    //         // droneId: payloadDroneHistory._id,\r\n    //         droneName: this.state.droneName,\r\n    //         payloadId: payloadDroneHistory.payload._id,\r\n    //         payloadCode: payloadDroneHistory.payload.code,\r\n    //         payloadName: payloadDroneHistory.payload.name,\r\n    //         startedAt: payloadDroneHistory.startedAt,\r\n    //         finishedAt: payloadDroneHistory.finishedAt,\r\n    //         type: payloadDroneHistory.type,\r\n    //         fee: payloadDroneHistory.fee,\r\n    //         status: payloadDroneHistory.payload.status,\r\n    //         memory: payloadDroneHistory.sdCardId.name + payloadDroneHistory.sdCardId.volume,\r\n    //     })\r\n    //   )\r\n    //   console.log(dataSource);\r\n  \r\n    const { visible, visibleAdd, visableReturnModal, currentTable, tables } = this.state;\r\n\r\n    \r\n    return (\r\n    <StyleList>\r\n      <div>\r\n      <h1 style={{fontWeight:'bold', fontSize:16}}>Danh sách lịch sử đăng ký payload drone</h1>\r\n        <Form\r\n          layout=\"horizontal\"\r\n           className=\"searchtype\"\r\n           onFinish={(values) => this.handleFindPayloadHistory(values)}\r\n          // onValuesChange={onFormLayoutChange}\r\n          // size={componentSize}\r\n        >\r\n          <Row justify=\"space-around\">\r\n            {/* <Col span={4}>\r\n              <Form.Item label=\"Từ ngày\">\r\n                <DatePicker />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={4}>\r\n              <Form.Item label=\"Đến ngày\">\r\n               <DatePicker></DatePicker>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={4}>\r\n              <Form.Item label=\"Loại thiết bị\">\r\n               <Select options = {typeDeviceOption}/>\r\n              </Form.Item>\r\n            </Col> */}\r\n            <Col span={9}>\r\n              <Form.Item label=\"Payload\" name=\"payloadId\">\r\n                <Select options={this.state.PayloadOptions}></Select>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col span={3}>\r\n              <Button type=\"primary\" htmlType=\"submit\" icon={<SearchOutlined />} >\r\n                Tìm kiếm\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n        <Button type=\"primary\" className=\"buttontype\" onClick={() => this.props.history.push('/add-signup-payload-drone')}>Đăng ký mới</Button>\r\n        <Table dataSource={dataSource} columns={columns} />;\r\n        </div>\r\n\r\n        <Modal\r\n          title=\"Basic Modal\"\r\n          // visible={visible}\r\n          //onOk={handleOk}\r\n          //onCancel={handleCancel}\r\n        >\r\n          <p>Some contents...</p>\r\n          <p>Some contents...</p>\r\n          <p>Some contents...</p>\r\n        </Modal>\r\n\r\n        <Modal\r\n          title=\"Xóa Payload\"\r\n          visible={visableReturnModal}\r\n          // onOk={this.handleOkDelete}\r\n          onCancel={this.handleCancelReturnPayload}\r\n          footer={null}\r\n        >\r\n          {\r\n            this.renderModalReturnPayload()\r\n          }\r\n        </Modal>\r\n    </StyleList>\r\n    );\r\n  }\r\n}\r\nexport default PayloadDroneHistory; \r\n","import React, { useState } from 'react';\r\nimport { Form, Input, Button, Select, DatePicker} from 'antd';\r\nimport StyleEdit from '../index.style';\r\nconst layout = {\r\n  labelCol: { span: 5 },\r\n  wrapperCol: { span: 10 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst EditSignupPayloadDrone = ({ history }) => {\r\n  const onFinish = values => {\r\n    console.log('Success:', values);\r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <StyleEdit>\r\n      <div className=\"searchtype\">\r\n        <a onClick={() => history.push('/payload-drone')}>Danh sách đăng ký payload drone</a> <span>/</span> <a onClick={() => history.push('/edit-signup-payload-drone')}>Chỉnh sửa đăng ký</a>\r\n      </div>\r\n\r\n      <Form\r\n        {...layout}\r\n        name=\"basic\"\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <h3 className=\"searchtype\"  >Thông tin đăng ký</h3>\r\n        <Form.Item\r\n          label=\"Thời gian\"\r\n          name=\"time\"\r\n          rules={[{ required: true, message: 'Please input your username!' }]}\r\n        >\r\n          <DatePicker/>\r\n          </Form.Item>\r\n        <Form.Item\r\n            label=\"Loại thiết bị\"\r\n            name=\"payloadId\"\r\n            rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n            <Select>\r\n                <option value=\"camera\">Camera</option>\r\n                <option value=\"micro\">Micro</option>\r\n                <option value=\"sensor\">Sensor</option>\r\n            </Select>\r\n                \r\n            \r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Payload\"\r\n          name=\"payloadId\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n            <Select>\r\n                <option>Payload 1</option>\r\n                <option>Payload 2</option>\r\n                <option>Payload 3</option>\r\n\r\n            </Select>\r\n          \r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Trạng thái\"\r\n          name=\"status\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Select>\r\n              <option>Hoạt động</option>\r\n              <option>Không hoạt động</option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Mô tả\"\r\n          name=\"status\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <TextArea/>\r\n        </Form.Item>\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Cập nhật\r\n        </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </StyleEdit>\r\n  );\r\n};\r\nexport default EditSignupPayloadDrone;","\r\n//NEW COMPONENT\r\nimport React, { Component } from \"react\";\r\nimport { Form, Input, Button, Select, DatePicker, TimePicker, Alert} from 'antd';\r\nimport StyleEdit from '../index.style';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nconst layout = {\r\n  labelCol: { span: 5 },\r\n  wrapperCol: { span: 10 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nconst { TextArea } = Input;\r\n\r\nclass AddSignupPayloadDrone extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      options: [],\r\n      droneOptions: [],\r\n      sdCardOptions: [],\r\n      visable: false,\r\n      visableAdd: false,\r\n      time: '',\r\n      payloadType: '',\r\n      payloadId: '',\r\n      panning: '',\r\n      titling: '',\r\n      zoom: '',\r\n      manufacturer: '',\r\n      opticalZoom: '',\r\n      digitalZoom: '',\r\n      shooting: [\r\n        {value: '10', label: '10s'},\r\n        {value: '20', label: '20s'},\r\n        {value: '30', label: '30s'},\r\n\r\n      ],\r\n      tracking: [\r\n        { value: 'true', label: 'Bật tự động theo dõi' },\r\n        { value: 'false', label: 'tắt tự động theo dõi' },\r\n      ],\r\n\r\n      numberOfConfigs: [\r\n         {value: '1', label: '1'},\r\n         {value: '2', label: '2'},{value: '3', label: '3'},\r\n      ],\r\n      numberConfig: '',\r\n      configs: [],\r\n      showSuccessAlert: false,\r\n      showFailAlert: false,\r\n    }\r\n  }\r\n\r\n      componentDidMount() {\r\n        this.getAllPayload();\r\n        this.getAllDrone();\r\n        this.getAllSDCard();\r\n      }\r\n    \r\n      handleChange = event => {\r\n            this.setState({\r\n              // time: event.target.value,\r\n              panning: event.target.value,\r\n              tilting: event.target.value,\r\n\r\n              zoom: event.target.value,\r\n\r\n              autoTracking: event.target.value,\r\n\r\n              shootInterval: event.target.value,\r\n              reason: event.target.value,\r\n              droneId: event.target.value,\r\n              numberOfConfigs: event.target.value,\r\n            });\r\n          }\r\n        \r\n      handleFormSubmit(values) {\r\n        const configsPayload = [];\r\n\r\n        for (var i = 0; i < values.numberOfConfigs; i ++) {\r\n          var startTimeName = 'configsStartTime' + i; \r\n          var endTimeName = \"configsEndTime\" + i; \r\n          var objectName = \"configsObject\" + i; \r\n          var panName = \"configsPan\" + i; \r\n          var tiltName = \"configsTilt\" + i; \r\n          var zoomName = \"configsZoom\" + i; \r\n          var trackingName = \"configsTracking\" + i; \r\n          var shootName = \"configsShoot\" + i; \r\n\r\n          configsPayload.push({\r\n                  startTime: values[startTimeName].format(\"HH:mm:ss\"),\r\n                  endTime: values[endTimeName].format(\"HH:mm:ss\"),\r\n                  object: values[objectName],\r\n                  config: {\r\n                    panning: values[panName],\r\n                    tilting: values[tiltName],\r\n                    zoom: values[zoomName],\r\n                    autoTracking: values[trackingName],\r\n                    shootInterval: values[shootName]\r\n                  },\r\n\r\n          })\r\n        }\r\n\r\n            const payloadToDrone = {\r\n              configs: configsPayload,\r\n              droneId: values.droneId,\r\n              payloadId: values.payloadId,\r\n              reason: values.reason,\r\n              sdCardId: values.sdCardId,\r\n            }\r\n            console.log(payloadToDrone.droneId);\r\n        \r\n            axios.post('https://dsd06.herokuapp.com/api/payloadregister/working/' + payloadToDrone.payloadId, payloadToDrone)\r\n                .then(res => {\r\n                console.log(res.data);\r\n                this.setState({showSuccessAlert: true});\r\n                this.props.history.push('/payload-drone');\r\n\r\n                // setTimeout(function() {\r\n                // }, 2000)\r\n              })\r\n          }\r\n        \r\n          getAllPayload() {\r\n            axios.get('https://dsd06.herokuapp.com/api/payload?status=idle')\r\n            .then(res => {\r\n              const options = res.data.map(payload =>\r\n                ({\r\n                  label: payload.name,\r\n                  value: payload._id,\r\n                })\r\n              )\r\n              this.setState({Options: options});\r\n            })\r\n          }\r\n\r\n          getAllDrone() {\r\n            axios.get('http://skyrone.cf:6789/drone/getAll')\r\n            .then(res => {\r\n              console.log(res.data);\r\n              const options = res.data.map(drone => \r\n                ({\r\n                  label: drone.code,\r\n                  value: drone.id\r\n                })  \r\n              )\r\n              this.setState({DroneOptions: options});\r\n            })\r\n          }\r\n          \r\n          getAllSDCard() {\r\n            axios.get('https://dsd06.herokuapp.com/api/sdcard')\r\n            .then(res => {\r\n              const optionSDCard = res.data.map(card => \r\n                ({\r\n                    label: card.name + card.volume,\r\n                    value: card._id\r\n                })\r\n              )\r\n              this.setState({sdCardOptions: optionSDCard});\r\n            })\r\n          }\r\n\r\n          handleSelectNumberOfConfig = (e) => {\r\n            const valueSelected = e;\r\n            this.setState({ numberConfig : valueSelected});\r\n         }\r\n        \r\n         configNumbers() {\r\n          return [...Array(parseInt(this.state.numberConfig || 0)).keys()];\r\n        }\r\n\r\n    render() {\r\n      const { visible, visibleAdd, visibleDelete, currentTable, tables} = this.state;\r\n\r\n      return (\r\n      <StyleEdit>\r\n      <div className=\"searchtype\">\r\n        {/* <a onClick={() => history.push('/payload-drone')}>Danh sách đăng ký payload drone</a> <span>/</span> <a onClick={() => history.push('/add-signup-payload-drone')}>Đăng ký mới</a> */}\r\n        <a onClick={() => this.props.history.push('/payload-drone')}>Danh sách đăng ký payload drone</a> <span>/</span> \r\n        <a onClick={() => this.props.history.push('/add-signup-payload-drone')}>Đăng ký mới</a>\r\n\r\n      </div>\r\n\r\n      <Form\r\n        {...layout} onFinish= {(values) =>  this.handleFormSubmit(values)}\r\n        // initialValues={{ remember: true }}\r\n        // onFinish={onFinish}\r\n        // onFinishFailed={onFinishFailed}\r\n      >\r\n        { this.state.showSuccessAlert && <Alert type={\"success\"} data={\"Update succesfully\"} /> }\r\n        <h3 className=\"searchtype\"  >Thông tin đăng ký</h3>\r\n        {/* <Form.Item\r\n          label=\"Thời gian\"\r\n          name=\"time\"\r\n          rules={[{ required: true  }]}\r\n        >\r\n          <DatePicker/>\r\n          </Form.Item> */}\r\n        <Form.Item label=\"Số lượng cấu hình\" name=\"numberOfConfigs\">\r\n            <Select options={this.state.numberOfConfigs} onChange ={this.handleSelectNumberOfConfig}>\r\n            </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Drone\" name =\"droneId\" rules={[{ required: true }]}>\r\n          <Select options={this.state.DroneOptions}>\r\n          </Select>\r\n        </Form.Item>\r\n        {/* <Form.Item\r\n          label=\"Mô tả\"\r\n          name=\"status\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <TextArea/>\r\n        </Form.Item> */}\r\n        <Form.Item label=\"Lý do\" name=\"reason\">\r\n          <Input placeholder=\"Lý do\"></Input>\r\n\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n            label=\"Thiết bị\"\r\n            name=\"payloadId\"\r\n            rules={[{required: true }]}\r\n        >\r\n            <Select options = {this.state.Options}>\r\n            </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n            label=\"Loại thẻ nhớ\"\r\n            name=\"sdCardId\"\r\n            rules={[{required: true }]}\r\n        >\r\n            <Select options = {this.state.sdCardOptions}>\r\n            </Select>\r\n        </Form.Item>\r\n      \r\n        {/* <Form.Item label=\"Thời gian bắt đâu\" name=\"startTime\" rules={[{required: true, message: 'Please select time!'}]}>\r\n          <TimePicker></TimePicker>\r\n        </Form.Item>\r\n        <Form.Item label=\"Thời gian kết thúc\" name=\"endTime\" rules={[{required: true, message: 'Please select time!'}]}>\r\n          <TimePicker></TimePicker>\r\n        </Form.Item>\r\n        <Form.Item label=\"Đối tượng\" name=\"object\">\r\n          <Input></Input>\r\n        </Form.Item>\r\n        <Form.Item label=\"Panning(Từ trái qua phải)\" name =\"pan\" rules={[{  message: 'Please input panning!' }]}>\r\n          <Input placeholder=\"0 độ - 360 độ\"></Input>\r\n        </Form.Item>\r\n        <Form.Item label=\"Tilting(Từ trên xuống dưới)\" name =\"tilt\" rules={[{  message: 'Please input tilting!' }]}>\r\n          <Input placeholder=\"0 độ - 360 độ\"></Input>\r\n        </Form.Item>\r\n        <Form.Item label=\"Zooming\" name =\"zoom\" rules={[{  message: 'Please input zooming!' }]}>\r\n          <Input placeholder=\"2.0 Megapixel trở lên\"></Input>\r\n        </Form.Item>\r\n        <Form.Item label=\"Auto Tracking\" name =\"tracking\" rules={[{ }]}>\r\n          <Select options={this.state.tracking}>\r\n          \r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"Shoot interval\" name =\"shoot\" rules={[{  }]}>\r\n          <Select options={this.state.shooting}>\r\n            \r\n          </Select>\r\n        </Form.Item> */}\r\n\r\n        {/* FORM DYNAMIC */}\r\n        \r\n        {this.configNumbers().map(i => (\r\n            <Form.Item key={i} name=\"configs\" {...layout} style={{marginLeft: '200px'}}>\r\n               <h4>Cấu hình {i+1}</h4>\r\n              <Form.Item label=\"Thời gian bắt đâu\" name={`configsStartTime${i}`} rules={[{required: true, message: 'Please select time!'}]}>\r\n                <TimePicker></TimePicker>\r\n              </Form.Item>\r\n              <Form.Item label=\"Thời gian kết thúc\" name={`configsEndTime${i}`} rules={[{required: true, message: 'Please select time!'}]}>\r\n                <TimePicker></TimePicker>\r\n              </Form.Item>\r\n              <Form.Item label=\"Đối tượng\" name={`configsObject${i}`}>\r\n                <Input></Input>\r\n              </Form.Item>\r\n              <Form.Item label=\"Panning(Từ trái qua phải)\" name ={`configsPan${i}`} rules={[{  message: 'Please input panning!' }]}>\r\n                <Input placeholder=\"0 độ - 360 độ\"></Input>\r\n              </Form.Item>\r\n              <Form.Item label=\"Tilting(Từ trên xuống dưới)\" name ={`configsTilt${i}`} rules={[{  message: 'Please input tilting!' }]}>\r\n                <Input placeholder=\"0 độ - 360 độ\"></Input>\r\n              </Form.Item>\r\n              <Form.Item label=\"Zooming\" name ={`configsZoom${i}`} rules={[{  message: 'Please input zooming!' }]}>\r\n                <Input placeholder=\"2.0 Megapixel trở lên\"></Input>\r\n              </Form.Item>\r\n              <Form.Item label=\"Auto Tracking\" name ={`configsTracking${i}`} rules={[{ }]}>\r\n                <Select options={this.state.tracking}>\r\n                </Select>\r\n              </Form.Item>\r\n              <Form.Item label=\"Shoot interval\" name ={`configsShoot${i}`} rules={[{  }]}>\r\n                <Select options={this.state.shooting}>\r\n                  \r\n                </Select>\r\n              </Form.Item> \r\n          </Form.Item>\r\n        ))}\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n           Đăng ký\r\n        </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </StyleEdit>\r\n      )\r\n    }\r\n  \r\n  \r\n}\r\nexport default AddSignupPayloadDrone; ","import styled from \"styled-components\";\r\n\r\nconst StyleList = styled.div`\r\n  .action{\r\n    margin-right: 5px;\r\n  }\r\n  .searchtype {\r\n    margin-top: 20px;\r\n  }\r\n  .buttontype {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\nexport default StyleList;\r\n","import React, { Component } from \"react\";\r\nimport { Table, Space, Input, Form, Select, Modal, DatePicker, Row, Col } from 'antd';\r\nimport { Button } from 'antd';\r\nimport StyleList from './index.style';\r\nimport { useState } from 'react';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\n\r\nclass ListTypePayload extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      visible: false,\r\n      currentTable: null,\r\n      tables: [],\r\n      idPayloadType: null,\r\n      modalLoading: false,\r\n      detailBill: [],\r\n      detailPayloadType: {},\r\n      options: [],\r\n      payload: {},\r\n      visibleAdd: false,\r\n      visibleDelete: false,\r\n      idPayloadDelete: null,\r\n    }\r\n  }\r\n\r\n  handleClick() {\r\n    let history = useHistory();\r\n    history.push(\"/edit-payloadtype\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadAllPayloadDScard();\r\n  }\r\n\r\n  loadAllPayloadDScard() {\r\n    axios.get(`https://dsd06.herokuapp.com/api/sdcard`)\r\n      .then(res => {\r\n        //const persons = res.data;\r\n        this.setState({ tables: res.data });\r\n      })\r\n  }\r\n\r\n\r\n  showModal = (record) => {\r\n    this.setState({ visible: true });\r\n    this.setState({ detailPayloadType: record });\r\n    this.setState({ idPayloadType: record.id })\r\n  };\r\n\r\n  handleOk = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n  handleCancel = e => {\r\n    this.setState({ visible: false })\r\n  };\r\n\r\n\r\n  handleCancelAdd = e => {\r\n    this.setState({ visibleAdd: false })\r\n  };\r\n\r\n  handleCancelDelete = e => {\r\n    this.setState({ visibleDelete: false })\r\n  }\r\n\r\n  handleFormSubmitEdit(values) {\r\n    const data = {\r\n      name: values.name,\r\n      //volume: values.volume,\r\n    };\r\n    axios.put(`https://dsd06.herokuapp.com/api/sdcard/` + this.state.idPayloadType, data)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({ visible: false })\r\n        this.loadAllPayloadDScard()\r\n      })\r\n      \r\n\r\n  }\r\n\r\n  renderModal() {\r\n    const layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 10 },\r\n    };\r\n    return <Form   {...layout} onFinish={(values) => this.handleFormSubmitEdit(values)} >\r\n\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={24}>\r\n          <Form.Item initialValue={this.state.detailPayloadType.name}\r\n            label=\"Tên\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: 'Hãy nhập tên loại payload!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Lưu\r\n   </Button>\r\n      </Form.Item>\r\n    </Form>\r\n\r\n\r\n\r\n  }\r\n\r\n  showModalAdd() {\r\n    this.setState({ visibleAdd: true });\r\n  }\r\n\r\n  handleFormSubmit(values) {\r\n    console.log(values)\r\n    const data = {\r\n      name: values.name,\r\n      volume: values.volume,\r\n    };\r\n    axios.post(`https://dsd06.herokuapp.com/api/sdcard`, data)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({ visibleAdd: false })\r\n        this.loadAllPayloadDScard();\r\n      })\r\n\r\n  }\r\n\r\n  renderModalAdd() {\r\n    const layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 10 },\r\n    };\r\n    return <Form   {...layout} onFinish={(values) => this.handleFormSubmit(values)} >\r\n\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={24}>\r\n          <Form.Item\r\n            label=\"Tên\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: 'Hãy nhập tên loại thẻ nhớ!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={16}>\r\n        <Col className=\"gutter-row\" span={24}>\r\n          <Form.Item\r\n              label=\"Dung lượng\"\r\n              name=\"volume\"\r\n              rules={[{ required: true, message: 'Hãy nhập dung lượng thẻ nhớ!' }]}\r\n              >\r\n            <Input />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Submit\r\n      </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  }\r\n\r\n  showModalDelete(record) {\r\n    this.setState({ visibleDelete: true })\r\n    this.setState({ idPayloadDelete: record.id })\r\n  }\r\n\r\n  deleteRecord() {\r\n    axios.delete(`https://dsd06.herokuapp.com/api/sdcard/` + this.state.idPayloadDelete)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({ visibleDelete: false })\r\n        this.loadAllPayloadDScard();\r\n      })\r\n  }\r\n\r\n  renderModalDelete() {\r\n    return <div>\r\n      <p>Bạn có chắc xóa bản ghi này?</p>\r\n      <Button type=\"primary\" danger onClick={() => this.deleteRecord()}>Xóa</Button>\r\n    </div>\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    const dataSource = this.state.tables.map(payloadtype =>\r\n      ({\r\n        id: payloadtype._id,\r\n        volume: payloadtype.volume,\r\n        name: payloadtype.name,\r\n      })\r\n    )\r\n\r\n    const columns = [\r\n      {\r\n        title: 'Tên thẻ nhớ',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n      },\r\n      {\r\n        title: 'Dung lượng',\r\n        dataIndex: 'volume',\r\n        key: 'volume',\r\n      },\r\n\r\n      {\r\n        title: 'Action',\r\n        key: 'operation',\r\n        width: 100,\r\n        render: (text, record) => (\r\n\r\n          <Space size=\"small\" >\r\n            {/*  <Button type=\"link\" onClick={() => history.push('/payload-configuration')}>Cấu hình</Button> */}\r\n            <Button type=\"link\" onClick={() => this.showModal(record)} >Sửa</Button>\r\n            <Button danger type=\"text\" onClick={() => this.showModalDelete(record)}>Xóa</Button>\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    const { visible, visibleAdd, visibleDelete, currentTable, tables } = this.state;\r\n\r\n    return (\r\n      <StyleList>\r\n        <div>\r\n          <h2>Quản lý thẻ nhớ Payload</h2>\r\n          <br/>\r\n          <Button type=\"primary\" className=\"buttontype\" onClick={() => this.showModalAdd()} >Thêm thẻ mới</Button>\r\n          <Table dataSource={dataSource} columns={columns} />;\r\n        </div>\r\n        <Modal\r\n          title=\"Chi tiết\"\r\n          visible={visible}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          footer={null} width={800}\r\n        >\r\n          {\r\n            this.renderModal()\r\n          }\r\n        </Modal>\r\n\r\n        <Modal\r\n          title=\"Thêm loại Payload\" width={800}\r\n          visible={visibleAdd}\r\n          onOk={this.handleOkAdd}\r\n          onCancel={this.handleCancelAdd}\r\n          footer={null}\r\n        >\r\n          {\r\n            this.renderModalAdd()\r\n          }\r\n        </Modal>\r\n\r\n        <Modal\r\n          title=\"Xóa loại Payload\"\r\n          visible={visibleDelete}\r\n          onOk={this.handleOkDelete}\r\n          onCancel={this.handleCancelDelete}\r\n          footer={null}\r\n        >\r\n          {\r\n            this.renderModalDelete()\r\n          }\r\n        </Modal>\r\n      </StyleList>\r\n    );\r\n  }\r\n}\r\nexport default ListTypePayload;","import { Image, Tag } from 'antd';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const problemTypes = [\"Cháy rừng\", \"Lưới điện\", \"Đê điều\", \"Cây trồng\"];\r\n\r\nexport const problemTypesKD = [\"CHAY_RUNG\", \"LUOI_DIEN\", \"DE_DIEU\", \"CAY_TRONG\"];\r\n\r\nexport const problemColumns = [\r\n    {\r\n        title: \"Tên sự cố\",\r\n        dataIndex: \"name\"\r\n    },\r\n    {\r\n        title: \"Ảnh\",\r\n        dataIndex: \"images\",\r\n        render: images => <Image preview={false} src={images[0]?.link} />\r\n    },\r\n    {\r\n        title: \"Video\",\r\n        dataIndex: \"videos\",\r\n        render: videos => <video src={videos[0]?.link} />\r\n    },\r\n    {\r\n        title: \"Mô tả\",\r\n        dataIndex: \"description\"\r\n    },\r\n    {\r\n        title: \"Loại sự cố\",\r\n        dataIndex: \"type\",\r\n        render: type => <span>{type.name}</span>\r\n    },\r\n    {\r\n        title: 'Vị trí',\r\n        dataIndex: 'location',\r\n    },\r\n    {\r\n        title: 'Ngày xảy ra',\r\n        dataIndex: 'dueDate',\r\n    },\r\n]\r\n\r\nexport const columns = [\r\n    {\r\n        title: 'Mã',\r\n        dataIndex: 'id',\r\n    },\r\n    {\r\n        title: 'Tên',\r\n        dataIndex: 'title',\r\n    },\r\n    {\r\n        title: 'Ảnh/video',\r\n        dataIndex: 'link'\r\n    },\r\n    {\r\n        title: 'Thể loại',\r\n        dataIndex: 'type',\r\n    },\r\n    {\r\n        title: 'Mô tả',\r\n        dataIndex: 'description',\r\n    },\r\n    {\r\n        title: 'Kinh độ',\r\n        dataIndex: 'longitude',\r\n    },\r\n    {\r\n        title: 'Vĩ độ',\r\n        dataIndex: 'latitude',\r\n    },\r\n    {\r\n        title: 'Vị trí',\r\n        dataIndex: 'location',\r\n    },\r\n    {\r\n        title: 'Loại sự cố',\r\n        dataIndex: 'problemType'\r\n    },\r\n    {\r\n        title: 'Ngày tạo',\r\n        dataIndex: 'createdAt',\r\n    },\r\n    {\r\n        title: '',\r\n        dataIndex: 'id',\r\n        render: id => <Link to={`/image-video-detail/${id}`} >Xem chi tiết</Link>\r\n    }\r\n];\r\n\r\nexport const data = [\r\n    {\r\n        key: '1',\r\n        title: 'Kiểm tra lá úa',\r\n        image_video: 'https://croplifevietnam.org/wp-content/uploads/2016/06/bigstock.jpg',\r\n        type: 'image',\r\n        description: 'Lá bị úa do lượng nắng nóng đỉnh điểm, cây thiếu nước trầm trọng',\r\n        longitude: '-77.01',\r\n        latitude: '42.02',\r\n        status: true,\r\n        createdAtDate: '2020-11-11',\r\n        createdAtTime: '05:02:04',\r\n        problemId: 'P3',\r\n        droneId: 'D34'\r\n    },\r\n    {\r\n        key: '2',\r\n        title: 'Kiếm tra lá khô',\r\n        image_video: 'https://vietpat.vn/wp-content/uploads/2015/06/cong-bo-chung-nhan-hop-quy-giong-cay-trong.jpg',\r\n        type: 'image',\r\n        description: 'Lá cây khỏe mạnh, tình trạng thiếu nước không diễn ra',\r\n        longitude: '-77.02',\r\n        latitude: '42.03',\r\n        status: false,\r\n        createdAtDate: '2020-11-15',\r\n        createdAtTime: '07:02:04',\r\n        problemId: 'P6',\r\n        droneId: 'D56'\r\n    },\r\n    {\r\n        key: '3',\r\n        title: 'Kiểm tra nhiệt độ',\r\n        image_video: 'https://vnreview.vn/image/18/98/30/1898306.jpg?t=1547703200405',\r\n        type: 'image',\r\n        description: 'Hình ảnh được thu thập để kiểm tra nhiệt độ của cây',\r\n        longitude: '-77.03',\r\n        latitude: '42.05',\r\n        status: false,\r\n        createdAtDate: '2020-7-11',\r\n        createdAtTime: '09:02:04',\r\n        problemId: 'P1',\r\n        droneId: 'D05'\r\n    },\r\n    {\r\n        key: '4',\r\n        title: 'Kiểm tra nhiệt độ',\r\n        image_video: <iframe width=\"230\" height=\"150\" src=\"https://www.youtube.com/embed/shccS5kJvtQ\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>,\r\n        type: 'video',\r\n        description: 'Video kiểm tra nhiệt độ của cây',\r\n        longitude: '-77.04',\r\n        latitude: '42.07',\r\n        status: false,\r\n        createdAtDate: '2020-11-10',\r\n        createdAtTime: '02:02:04',\r\n        problemId: 'P05',\r\n        droneId: 'D05'\r\n    },\r\n    {\r\n        key: '5',\r\n        title: 'Kiểm tra lá úa',\r\n        image_video: <iframe width=\"230\" height=\"150\" src=\"https://www.youtube.com/embed/u2SU8tWWp_Y\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>,\r\n        type: 'video',\r\n        description: 'Video kiểm tra tình trạng lá cây bị úa',\r\n        longitude: '-77.05',\r\n        latitude: '42.00',\r\n        status: true,\r\n        createdAtDate: '2019-11-10',\r\n        createdAtTime: '01:02:04',\r\n        problemId: 'P3',\r\n        droneId: 'D34'\r\n    }\r\n];","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components';\r\nimport { Typography, Table, Progress, DatePicker, Space, TimePicker, Select, Image, Button, Input } from 'antd'\r\n\r\nimport { columns, data, problemTypes } from './config';\r\nimport axios from 'axios';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { Option } = Select;\r\n\r\nfunction ImageVideo() {\r\n    const [imageVideos, setImageVideos] = useState([]);\r\n    const [filterFields, setFilterFields] = useState({\r\n        createdAt: null,\r\n        problemType: null,\r\n    })\r\n    const [searchString, setSearchString] = useState();\r\n\r\n    const onChangeDate = (date, dateString) => {\r\n        console.log(date, dateString);\r\n        setFilterFields({ ...filterFields, createdAt: dateString });\r\n    }\r\n\r\n    const onChangeProblem = (problemType) => {\r\n        console.log(\"problemType: \", problemType);\r\n        setFilterFields({ ...filterFields, problemType })\r\n    };\r\n\r\n    const handleSearch = () => {\r\n        axios({\r\n            method: \"POST\",\r\n            url: \"https://it4483team2.herokuapp.com/api/records/search-image-video\",\r\n            params: {\r\n                skip: 0,\r\n                take: 29\r\n            },\r\n            data: {\r\n                title: searchString\r\n            }\r\n        }).then(({ data }) => {\r\n            console.log(data);\r\n            setImageVideos(data.result.map((i, index) => ({\r\n                ...i,\r\n                link: i.type === 0 ?\r\n                    <Image\r\n                        width={230}\r\n                        height={150}\r\n                        src={i.link || \"error\"}\r\n                        fallback=\"data:image/png;base64,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\"\r\n                    /> :\r\n                    i.link,\r\n                type: i.type === 0 ? \"Image\" : \"Video\",\r\n                problemType: problemTypes[i.problemType],\r\n                location: <a target=\"_blank\" href={`https://www.google.com/maps/place/${i.latitude},${i.longitude}`} >Xem trên bản đồ</a >\r\n            })));\r\n        })\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: \"POST\",\r\n            url: \"https://it4483team2.herokuapp.com/api/records/search-image-video\",\r\n            params: {\r\n                skip: 0,\r\n                take: 29\r\n            },\r\n            data: {}\r\n        }).then(({ data }) => {\r\n            console.log(data);\r\n            setImageVideos(data.result.map((i, index) => ({\r\n                ...i,\r\n                link: i.type === 0 ?\r\n                    <Image\r\n                        width={230}\r\n                        height={150}\r\n                        src={i.link || \"error\"}\r\n                        fallback=\"data:image/png;base64,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\"\r\n                    /> :\r\n                    i.link,\r\n                type: i.type === 0 ? \"Image\" : \"Video\",\r\n                problemType: problemTypes[i.problemType],\r\n                location: <a target=\"_blank\" href={`https://www.google.com/maps/place/${i.latitude},${i.longitude}`} >Xem trên bản đồ</a >\r\n            })));\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: \"POST\",\r\n            url: \"https://it4483team2.herokuapp.com/api/records/search-image-video\",\r\n            params: {\r\n                skip: 0,\r\n                take: 30\r\n            },\r\n            data: {}\r\n        }).then(({ data }) => {\r\n            let result = data.result.map((i, index) => ({\r\n                ...i,\r\n                link: i.type === 0 ?\r\n                    <Image\r\n                        width={230}\r\n                        height={150}\r\n                        src={i.link || \"error\"}\r\n                        fallback=\"data:image/png;base64,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\"\r\n                    /> :\r\n                    i.link,\r\n                type: i.type === 0 ? \"Image\" : \"Video\",\r\n                problemType: problemTypes[i.problemType],\r\n                location: <a target=\"_blank\" href={`https://www.google.com/maps/place/${i.latitude},${i.longitude}`} >Xem trên bản đồ</a >\r\n            }));\r\n\r\n            const isFiltered = Object.values(filterFields).every(i => [null, undefined, \"\"].includes(i))\r\n\r\n            if (!isFiltered) {\r\n                Object.keys(filterFields).forEach(filterField => {\r\n                    if (![null, undefined, \"\"].includes(filterFields[filterField])) {\r\n                        console.log(filterFields);\r\n                        console.log({ result });\r\n                        if (`${filterField}` === \"createdAt\") {\r\n                            result = result.filter(i => {\r\n                                console.log(i[filterField].split(\"T\"));\r\n\r\n                                return i[filterField].split(\"T\")[0] === filterFields[filterField]\r\n                            });\r\n                        }\r\n                        else {\r\n                            result = result.filter(i => i[filterField] === problemTypes[filterFields[filterField]]);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            setImageVideos(result);\r\n        })\r\n    }, [filterFields])\r\n\r\n    return (\r\n        <Container>\r\n            <TitleCustom level={2}>Quản lý hình ảnh, video</TitleCustom>\r\n            <SpaceCustom>\r\n                <Space direction=\"horizontal\">\r\n                    <Text>Ngày:</Text>\r\n                    <DatePicker placeholder=\"Chọn ngày\" onChange={onChangeDate} />\r\n                </Space>\r\n                <Space direction=\"horizontal\">\r\n                    <Text>Sự cố:</Text>\r\n                    <Select placeholder=\"Chọn sự cố\" style={{ minWidth: 100 }} allowClear onChange={onChangeProblem}>\r\n                        {[0, 1, 2, 3].map(problemType => <Option value={problemType}>{problemTypes[problemType]}</Option>)}\r\n                    </Select>\r\n                </Space>\r\n                <Space direction=\"horizontal\">\r\n                    <Input\r\n                        placeholder=\"Nhập tên tìm kiếm\"\r\n                        onChange={(e) => {\r\n                            setSearchString(e.target.value)\r\n                        }} />\r\n                    <Button type=\"primary\" onClick={handleSearch}>Tìm kiếm</Button>\r\n                </Space>\r\n            </SpaceCustom>\r\n            <TableCustom columns={columns} dataSource={imageVideos} onChange={() => { }} pagination />\r\n        </Container >\r\n    )\r\n}\r\n\r\nconst Container = styled.div`\r\n`;\r\n\r\nconst TitleCustom = styled(Title)`\r\n    text-align: center;\r\n    padding: 10px 0;\r\n`;\r\n\r\nconst SpaceCustom = styled(Space)`\r\n    margin-bottom: 10px;\r\n`;\r\n\r\nconst TableCustom = styled(Table)`\r\n    overflow-x: scroll;\r\n`;\r\n\r\nexport default ImageVideo;","import { Col, Image, Row, Table } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { problemColumns, problemTypesKD, problemTypes } from './config';\r\n\r\nfunction Detail() {\r\n    const { params } = useRouteMatch();\r\n\r\n    const [imageVideo, setImageVideo] = useState({});\r\n    const [imageVideoRelated, setImageVideoRelated] = useState([]);\r\n    const [problems, setProblems] = useState([]);\r\n\r\n    const renderDescription = (description) => {\r\n        if (description) {\r\n            const arr = description?.split(\" \");\r\n            const objId = arr.pop();\r\n\r\n            return <div>{arr.join(\" \")} <Link to=\"#\">{objId}</Link></div>;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const res1 = await axios({\r\n                method: \"GET\",\r\n                url: `https://it4483team2.herokuapp.com/api/records/${params.id}`\r\n            });\r\n\r\n\r\n            const res2 = await axios({\r\n                method: \"GET\",\r\n                url: `https://it4483team2.herokuapp.com/api/records/monitored/images/${res1.data.monitoredObjectId}`\r\n            });\r\n\r\n\r\n            const res3 = await axios({\r\n                method: \"POST\",\r\n                url: `https://it4483.cf/api/incidents/search`,\r\n                headers: {\r\n                    \"api-token\": localStorage.getItem(\"token\"),\r\n                    \"project-type\": localStorage.getItem(\"project-type\")\r\n                },\r\n                data: {\r\n                    imageIds: [\r\n                        res1.data.id\r\n                    ]\r\n                }\r\n            })\r\n\r\n            console.log({ res3 });\r\n\r\n\r\n\r\n            setImageVideo(res1.data);\r\n            setImageVideoRelated(res2.data.result);\r\n            setProblems(res3.data.incidents);\r\n        }\r\n\r\n        fetchData();\r\n    }, [])\r\n\r\n    return <Container>\r\n        <Title>Thông tin chi tiết</Title>\r\n\r\n        <Row gutter={24}>\r\n            <Col md={10}>\r\n                <Image\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    src={imageVideo.link}\r\n                />\r\n            </Col>\r\n            <Col md={14}>\r\n                <Info>\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <strong>Id:</strong>\r\n                        </Col>\r\n                        <Col md={20}>\r\n                            <span>{imageVideo.id}</span>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <strong>Tên:</strong>\r\n                        </Col>\r\n                        <Col md={20}>\r\n                            <span>{imageVideo.title}</span>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <strong>Mô tả:</strong>\r\n                        </Col>\r\n                        <Col md={20}>\r\n                            <span>{renderDescription(imageVideo.description)}</span>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <strong>Đối tượng:</strong>\r\n                        </Col>\r\n                        <Col md={20}>\r\n                            <Link to=\"#\">{imageVideo.monitoredObjectId}</Link>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <strong>Loại dữ liệu:</strong>\r\n                        </Col>\r\n                        <Col md={20}>\r\n                            <span>{imageVideo.type === 0 ? \"Ảnh\" : \"Video\"}</span>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <strong>Loại sự cố:</strong>\r\n                        </Col>\r\n                        <Col md={20}>\r\n                            <span>{problemTypes[imageVideo.problemType]}</span>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <strong>Kinh độ:</strong>\r\n                        </Col>\r\n                        <Col md={20}>\r\n                            <span>{imageVideo.longitude}</span>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <strong>Vĩ độ:</strong>\r\n                        </Col>\r\n                        <Col md={20}>\r\n                            <span>{imageVideo.latitude}</span>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <strong>Tạo lúc:</strong>\r\n                        </Col>\r\n                        <Col md={20}>\r\n                            <span>{imageVideo.createdAt}</span>\r\n                        </Col>\r\n                    </Row>\r\n                </Info>\r\n            </Col>\r\n        </Row>\r\n\r\n        <Title><p>\r\n            <span>{imageVideo.type === 0 ? \"Ảnh\" : \"Video\"} liên quan</span>\r\n        </p></Title>\r\n        <Row gutter={[24, 24]}>\r\n            {imageVideoRelated.map((item, index) => {\r\n                console.log({ item });\r\n                return <Col md={4}>\r\n                    <Image\r\n                        style={{\r\n                            cursor: \"pointer\"\r\n                        }}\r\n                        key={index}\r\n                        src={item.link}\r\n                        preview={false}\r\n                        onClick={() => setImageVideo(item)}\r\n                    />\r\n                </Col>\r\n            })}\r\n        </Row>\r\n\r\n        <Title><p style={{ margin: 0 }}>\r\n            <span>Các sự cố</span>\r\n        </p></Title>\r\n        <TableCustom columns={problemColumns} dataSource={problems} onChange={() => { }} pagination />\r\n    </Container >;\r\n}\r\n\r\nconst TableCustom = styled(Table)`\r\n\r\n`;\r\n\r\nconst Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    font-size: 40px;\r\n    text-align: center;\r\n\r\n    p {\r\n        text-align: left;\r\n      \r\n        span {\r\n            display: inline-block;\r\n            font-size: 25px;\r\n            margin-top: 30px;\r\n            width: auto;\r\n    \r\n            &:after{\r\n                display: block;\r\n                content: \"\";\r\n                border-bottom: 2px solid #ccc;\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst Info = styled.div`\r\n    font-size: 18px;\r\n\r\n    .ant-row{\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    div{\r\n        strong{\r\n\r\n        }\r\n    }\r\n`;\r\n\r\nexport default Detail;","import React from 'react';\r\nimport videojs from 'video.js'\r\n\r\nexport default class VideoPlayer extends React.Component {\r\n    componentDidMount() {\r\n        // instantiate Video.js\r\n        this.player = videojs(this.videoNode, this.props, function onPlayerReady() {\r\n            console.log('onPlayerReady', this)\r\n        });\r\n    }\r\n\r\n    // destroy player on unmount\r\n    componentWillUnmount() {\r\n        if (this.player) {\r\n            this.player.dispose()\r\n        }\r\n    }\r\n\r\n    // wrap the player in a div with a `data-vjs-player` attribute\r\n    // so videojs won't create additional wrapper in the DOM\r\n    // see https://github.com/videojs/video.js/pull/3856\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div data-vjs-player>\r\n                    <video ref={node => this.videoNode = node} className=\"video-js\"></video>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button, Col, Divider, List, Row, Space, Tabs, Tag } from 'antd';\r\nimport axios from 'axios';\r\nimport VideoPlayer from \"./VideoPlayer\";\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Item } = List;\r\n\r\nconst urlStreams = [\r\n    \"https://media.istockphoto.com/videos/aerial-view-of-amazon-rainforest-in-brazil-video-id1169794330\",\r\n    \"https://media.istockphoto.com/videos/aerial-view-of-amazon-rainforest-in-brazil-video-id1169794330\",\r\n]\r\n\r\nfunction Stream() {\r\n    const [currentDrone, setCurrentDrone] = useState({});\r\n    const [drones, setDrones] = useState([]);\r\n\r\n    // const videoJsOptions = {\r\n    //     autoplay: true,\r\n    //     controls: true,\r\n    //     width: \"100%\",\r\n    //     sources: [{\r\n    //         src: \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/SubaruOutbackOnStreetAndDirt.mp4\",\r\n    //         type: 'video/mp4'\r\n    //     }]\r\n    // }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const { data } = await axios({\r\n                method: \"GET\",\r\n                url: \"http://skyrone.cf:6789/droneState/getAllDroneActive\",\r\n                // params: {\r\n                //     timeStart: new Date(Date.now()),\r\n                //     timeEnd: new Date(Date.now() + 60000),\r\n                // }\r\n            });\r\n\r\n            const res = await axios({\r\n                method: \"GET\",\r\n                url: `http://skyrone.cf:6789/drone/getById/${data[0].idDrone}`\r\n            })\r\n\r\n            setDrones(data.map(drone => ({ ...drone, urlStream: urlStreams[Math.floor(Math.random() * urlStreams.length)] })));\r\n            setCurrentDrone({ ...data[0], urlStream: urlStreams[Math.floor(Math.random() * urlStreams.length)], ...res.data })\r\n        }\r\n\r\n        fetchData();\r\n    }, [])\r\n\r\n    const fetchCurrentDrone = async idDrone => {\r\n        const res = await axios({\r\n            method: \"GET\",\r\n            url: `http://skyrone.cf:6789/drone/getById/${idDrone}`\r\n        })\r\n\r\n        setCurrentDrone({ ...res.data, urlStream: urlStreams[Math.floor(Math.random() * urlStreams.length)] })\r\n    }\r\n\r\n    return <Container>\r\n        <Row gutter={16}>\r\n            <Col md={16}>\r\n                <HeaderList>Stream từ: {currentDrone.name}</HeaderList>\r\n\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <strong>Drone Id:</strong> <span>{currentDrone.id}</span>\r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <strong>Pin:</strong> <span>{currentDrone.rangeBattery}</span>\r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <strong>Tốc độ:</strong> <span>{currentDrone.maxFlightSpeed}</span>\r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <strong>Độ cao:</strong> <span>{currentDrone.maxFlightHeight}</span>\r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <strong>Độ cao:</strong> <span>{currentDrone.maxFlightHeight}</span>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <div style={{\r\n                    marginTop: \"20px\"\r\n                }}>\r\n                    <video controls autoPlay width=\"100%\" src={currentDrone.urlStream} style={{ marginBottom: \"15px\" }} />\r\n                </div>\r\n                <div>\r\n\r\n                </div>\r\n                {/* <div>\r\n                    <video controls autoPlay width=\"100%\" src={currentDrone.urlStream} style={{ marginBottom: \"15px\" }} />\r\n                </div> */}\r\n                {/* <VideoPlayer {...videoJsOptions} /> */}\r\n            </Col>\r\n            <Col md={8}>\r\n                <HeaderList>Danh sách drones</HeaderList>\r\n                <List\r\n                    bordered\r\n                    dataSource={drones}\r\n                    renderItem={drone => <ItemCustom onClick={() => fetchCurrentDrone(drone.idDrone)}>\r\n                        <h1>{drone.name}</h1>\r\n                        <p>{drone.used ? <Tag color=\"green\">Active</Tag> : <Tag color=\"red\">Not Active</Tag>}</p>\r\n                    </ItemCustom>}\r\n                />\r\n            </Col>\r\n        </Row>\r\n    </Container >\r\n}\r\n\r\nconst Container = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nconst HeaderList = styled.div`\r\n    font-size: 30px;\r\n    margin-bottom: 10px;\r\n    text-align: center;\r\n    font-weight: 500;\r\n`;\r\n\r\nconst ItemCustom = styled(Item)`\r\n    cursor: pointer;\r\n`;\r\n\r\nexport default Stream;","export const CategoryConstants = {\r\n  GET_PAGINATE_REQUEST: \"GET_PAGINATE_REQUEST\",\r\n  GET_PAGINATE_SUCCESS: \"GET_PAGINATE_SUCCESS\",\r\n  GET_PAGINATE_FAILURE: \"GET_PAGINATE_FAILURE\",\r\n\r\n  GET_ALL_CATEGORY_REQUEST: \"GET_ALL_CATEGORY_REQUEST\",\r\n  GET_ALL_CATEGORY_SUCCESS: \"GET_ALL_CATEGORY_SUCCESS\",\r\n  GET_ALL_CATEGORY_FAILURE: \"GET_ALL_CATEGORY_FAILURE\",\r\n\r\n  CREATE_CATEGORY_MONITORED_REQUEST: \"CREATE_CATEGORY_MONITORED_REQUEST\",\r\n  CREATE_CATEGORY_MONITORED_SUCCESS: \"CREATE_CATEGORY_MONITORED_SUCCESS\",\r\n  CREATE_CATEGORY_MONITORED_FAILURE: \"CREATE_CATEGORY_MONITORED_FAILURE\",\r\n\r\n  EDIT_CATEGORY_MONITORED_REQUEST: \"EDIT_CATEGORY_MONITORED_REQUEST\",\r\n  EDIT_CATEGORY_MONITORED_SUCCESS: \"EDIT_CATEGORY_MONITORED_SUCCESS\",\r\n  EDIT_CATEGORY_MONITORED_FAILURE: \"EDIT_CATEGORY_MONITORED_FAILURE\",\r\n\r\n  DELETE_MONITORED_REQUEST: \"DELETE_MONITORED_REQUEST\",\r\n  DELETE_MONITORED_SUCCESS: \"DELETE_MONITORED_SUCCESS\",\r\n  DELETE_MONITORED_FAILURE: \"DELETE_MONITORED_FAILURE\",\r\n\r\n  NOTIFICATION_MESSAGE: \"NOTIFICATION_MESSAGE\",\r\n  CAT_MONITORED_FAILURE: \"CAT_MONITORED_FAILURE\",\r\n  CAT_MONITORED_SUCCESS: \"CAT_MONITORED_SUCCESS\",\r\n};\r\n","import axios from 'axios';\r\nimport { getStorage } from '../config';\r\nimport React from 'react';\r\nimport FingerprintJS from '@fingerprintjs/fingerprintjs';\r\n\r\nexport async function sendRequest(options) {\r\n  const requestOptions = {\r\n    url: options.url,\r\n    method: options.method,\r\n    data: options.data,\r\n    params: options.params\r\n  };\r\n\r\n  return axios(requestOptions).then(res => {\r\n    return Promise.resolve(res);\r\n  }).catch(err => {\r\n    return Promise.reject(err);\r\n  })\r\n}","import { sendRequest } from '../../../../helpers/sendRequest';\r\n\r\nexport const CategoryServices = {\r\n  getAllCategories,\r\n  createCategory,\r\n  editCategory,\r\n  deleteManyCategories,\r\n};\r\n\r\nfunction getAllCategories(params) {\r\n  return sendRequest({\r\n    url:\r\n      'https://dsd05-monitored-object.herokuapp.com/category-monitored-object',\r\n    method: 'GET',\r\n    params,\r\n  });\r\n}\r\n\r\nfunction createCategory(data) {\r\n  return sendRequest({\r\n    url: `https://dsd05-monitored-object.herokuapp.com/category-monitored-object`,\r\n    method: 'POST',\r\n    data,\r\n  });\r\n}\r\n\r\nfunction editCategory(id, data) {\r\n  return sendRequest({\r\n    url: `https://dsd05-monitored-object.herokuapp.com/category-monitored-object/${id}`,\r\n    method: 'PATCH',\r\n    data,\r\n  });\r\n}\r\n\r\nfunction deleteManyCategories(arrayId) {\r\n  return sendRequest({\r\n    url: `https://dsd05-monitored-object.herokuapp.com/category-monitored-object/delete-many-category-monitored-objects\r\n    `,\r\n    method: 'POST',\r\n    data: { arrayId },\r\n  });\r\n}\r\n","import { CategoryConstants } from \"./constants\";\r\nimport { CategoryServices } from \"./services\";\r\n\r\nexport const CategoryActions = {\r\n  getAllCategories,\r\n  createCategory,\r\n  editCategory,\r\n  deleteManyCategories,\r\n};\r\n\r\nfunction getAllCategories(data) {\r\n  if (data === undefined) {\r\n    return (dispatch) => {\r\n      dispatch({\r\n        type: CategoryConstants.GET_ALL_CATEGORY_REQUEST,\r\n      });\r\n      CategoryServices.getAllCategories()\r\n        .then((res) => {\r\n          dispatch({\r\n            type: CategoryConstants.GET_ALL_CATEGORY_SUCCESS,\r\n            payload: res.data.content,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          dispatch({\r\n            type: CategoryConstants.GET_ALL_CATEGORY_FAILURE,\r\n            error: err,\r\n          });\r\n        });\r\n    };\r\n  } else {\r\n    return (dispatch) => {\r\n      dispatch({\r\n        type: CategoryConstants.GET_PAGINATE_REQUEST,\r\n      });\r\n      CategoryServices.getAllCategories(data)\r\n        .then((res) => {\r\n          dispatch({\r\n            type: CategoryConstants.GET_PAGINATE_SUCCESS,\r\n            payload: res.data.content,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          dispatch({\r\n            type: CategoryConstants.GET_PAGINATE_FAILURE,\r\n            error: err,\r\n          });\r\n        });\r\n    };\r\n  }\r\n}\r\n\r\nfunction createCategory(data) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: CategoryConstants.CREATE_CATEGORY_MONITORED_REQUEST,\r\n    });\r\n    CategoryServices.createCategory(data)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: CategoryConstants.CREATE_CATEGORY_MONITORED_SUCCESS,\r\n          payload: res.data.content,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.CAT_MONITORED_SUCCESS,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Tạo mới danh mục đối tượng giám sát thành công\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: CategoryConstants.CAT_MONITORED_FAILURE,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Tạo danh mục đối tượng giám sát thất bại\",\r\n        });\r\n      });\r\n  };\r\n}\r\n\r\nfunction editCategory(id, data) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: CategoryConstants.EDIT_CATEGORY_MONITORED_REQUEST,\r\n    });\r\n    CategoryServices.editCategory(id, data)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: CategoryConstants.EDIT_CATEGORY_MONITORED_SUCCESS,\r\n          payload: res.data.content,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.CAT_MONITORED_SUCCESS,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Chỉnh sửa danh mục đối tượng giám sát thành công\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: CategoryConstants.CAT_MONITORED_FAILURE,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Chỉnh sửa danh mục đối tượng giám sát thất bại\",\r\n        });\r\n      });\r\n  };\r\n}\r\n\r\nfunction deleteManyCategories(arrayId) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: CategoryConstants.DELETE_MONITORED_REQUEST,\r\n    });\r\n    CategoryServices.deleteManyCategories(arrayId)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: CategoryConstants.DELETE_MONITORED_SUCCESS,\r\n          payload: res.data.content,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.CAT_MONITORED_SUCCESS,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Xóa danh mục đối tượng giám sát thành công\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: CategoryConstants.DELETE_MONITORED_FAILURE,\r\n          error: err,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.CAT_MONITORED_SUCCESS,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: CategoryConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Xóa danh mục đối tượng giám sát thành công\",\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { CategoryActions } from '../redux/actions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction CatMonitorCreate({ value, handleChange, setCatMonitored, option }) {\r\n  const dispatch = useDispatch();\r\n  const handleChangeCatMonitored = () => {\r\n    if (!!value._id) {\r\n      dispatch(\r\n        CategoryActions.editCategory(value._id, {\r\n          code: value.code,\r\n          name: value.name,\r\n          description: value.description,\r\n        }),\r\n      );\r\n    } else {\r\n      dispatch(\r\n        CategoryActions.createCategory({\r\n          code: value.code,\r\n          name: value.name,\r\n          description: value.description,\r\n        }),\r\n      );\r\n    }\r\n    setCatMonitored({\r\n      code: '',\r\n      name: '',\r\n      description: '',\r\n    });\r\n  };\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"modalCreate\"\r\n      tabIndex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLongTitle\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">\r\n              {option === 'add' && 'Thêm mới danh mục giám sát'}\r\n              {option === 'view' && 'Xem chi tiết danh mục giám sát'}\r\n              {option === 'edit' && 'Sửa danh mục giám sát'}\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <form>\r\n              <div className=\"form-group row\">\r\n                <label\r\n                  htmlFor=\"inputAreaNumber\"\r\n                  className=\"col-sm-2 col-form-label\"\r\n                >\r\n                  Mã danh mục\r\n                </label>\r\n                <div className=\"col-sm-10\">\r\n                  <input\r\n                    disabled={option === 'view'}\r\n                    className=\"form-control\"\r\n                    id=\"inputAreaNumber\"\r\n                    placeholder=\"Mã danh mục\"\r\n                    name=\"code\"\r\n                    value={value.code}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label\r\n                  htmlFor=\"inputAreaName\"\r\n                  className=\"col-sm-2 col-form-label\"\r\n                >\r\n                  Tên danh mục\r\n                </label>\r\n                <div className=\"col-sm-10\">\r\n                  <input\r\n                    disabled={option === 'view'}\r\n                    className=\"form-control\"\r\n                    id=\"inputAreaName\"\r\n                    placeholder=\"Tên danh mục\"\r\n                    name=\"name\"\r\n                    value={value.name}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label\r\n                  htmlFor=\"inputDescription\"\r\n                  className=\"col-sm-2 col-form-label\"\r\n                >\r\n                  Mô tả\r\n                </label>\r\n                <div className=\"col-sm-10\">\r\n                  <textarea\r\n                    disabled={option === 'view'}\r\n                    className=\"form-control\"\r\n                    id=\"inputDescription\"\r\n                    rows=\"3\"\r\n                    placeholder=\"Mô tả\"\r\n                    name=\"description\"\r\n                    value={value.description}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Đóng\r\n            </button>\r\n            {option !== 'view' && (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                data-dismiss=\"modal\"\r\n                onClick={handleChangeCatMonitored}\r\n              >\r\n                {option === 'add' && 'Thêm thông tin'}\r\n                {option === 'edit' && 'Sửa thông tin'}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default CatMonitorCreate;\r\n","import React from \"react\";\r\nimport { CategoryActions } from \"../redux/actions\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nfunction Modals({ value, setCatMonitored }) {\r\n  const dispatch = useDispatch();\r\n  const onHandleDelete = () => {\r\n    dispatch(CategoryActions.deleteManyCategories([value._id]));\r\n  };\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"modal\"\r\n      tabIndex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLongTitle\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-body\">\r\n            <h5>Bạn có muốn xóa không?</h5>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Không\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              data-dismiss=\"modal\"\r\n              onClick={() => onHandleDelete()}\r\n            >\r\n              Có\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Modals;\r\n","import React from 'react';\r\n\r\nfunction FileUpload() {\r\n    // State to store uploaded file\r\n    const [file, setFile] = React.useState(\"\");\r\n  \r\n    // Handles file upload event and updates state\r\n    function handleUpload(event) {\r\n      setFile(event.target.files[0]);\r\n      // Add code here to upload file to server\r\n      // ...\r\n    }\r\nreturn (\r\n    <div className=\"modal fade\" id=\"modalImport\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLongTitle\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">Thêm mới danh mục giám sát</h5>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <div id=\"upload-box\">\r\n                        <input type=\"file\" onChange={handleUpload} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Đóng</button>\r\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={() => alert(\"Thêm mới thành công\")}>Lưu</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n}\r\nexport default function AreaMonitorImport(){\r\n    return <FileUpload />\r\n};","import React from \"react\";\r\n\r\nfunction SuccessNotification({ formatStyle, messages }) {\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"modalSuccessNotification\"\r\n      tabIndex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLongTitle\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog    \" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">\r\n              {messages}\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"modal-footer justify-content-center\">\r\n            <button type=\"button\" className={formatStyle} data-dismiss=\"modal\">\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SuccessNotification;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport CatMonitorCreate from './catMonitoredCreate';\r\nimport Modals from './modal';\r\nimport AreaMonitorImport from './areaMonitoredImport';\r\nimport { Menu, Dropdown, Button } from 'antd';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport { CategoryActions } from '../redux/actions';\r\nimport { CategoryConstants } from '../redux/constants';\r\nimport SuccessNotification from './SuccessNotification';\r\n\r\nfunction AreaMonitored(props) {\r\n  const dispatch = useDispatch();\r\n  const category = useSelector((state) => state.category);\r\n  const {\r\n    listPaginate,\r\n    totalPages,\r\n    isError,\r\n    messages,\r\n    isCatSuccess,\r\n  } = category;\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 5,\r\n  });\r\n  const { page, limit } = pagination;\r\n  const [formatStyle, setFormatStyle] = useState('');\r\n  const [itemSearch, setItemSearch] = useState({\r\n    code: '',\r\n    name: '',\r\n  });\r\n\r\n  const [option, setOption] = useState('');\r\n  const [catMonitored, setCatMonitored] = useState({\r\n    code: '',\r\n    name: '',\r\n    description: '',\r\n  });\r\n  useEffect(() => {\r\n    dispatch(CategoryActions.getAllCategories({ page, limit }));\r\n  }, [page]);\r\n  useEffect(() => {}, [listPaginate]);\r\n\r\n  useEffect(() => {\r\n    if (isError) {\r\n      setFormatStyle('btn btn-danger');\r\n      window.$('#modalSuccessNotification').modal('show');\r\n    }\r\n    if (isCatSuccess) {\r\n      setFormatStyle('btn btn-success');\r\n      window.$('#modalSuccessNotification').modal('show');\r\n      dispatch(CategoryActions.getAllCategories({ page, limit }));\r\n    }\r\n    dispatch({\r\n      type: CategoryConstants.CAT_MONITORED_FAILURE,\r\n      payload: false,\r\n    });\r\n    dispatch({\r\n      type: CategoryConstants.CAT_MONITORED_SUCCESS,\r\n      payload: false,\r\n    });\r\n  }, [isError, isCatSuccess]);\r\n  const onChangePagination = (event, value) => {\r\n    setPagination({\r\n      ...pagination,\r\n      page: value,\r\n    });\r\n  };\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setCatMonitored((formState) => ({\r\n      ...formState,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n  };\r\n  const handleCatCreate = () => {\r\n    window.$('#modalCreate').modal('show');\r\n    setOption('add');\r\n  };\r\n  const handleCatImport = () => {\r\n    window.$('#modalImport').modal('show');\r\n  };\r\n\r\n  const handleSubmitSearch = () => {\r\n    dispatch(\r\n      CategoryActions.getAllCategories({\r\n        ...itemSearch,\r\n        page: page,\r\n        limit: limit,\r\n      }),\r\n    );\r\n  };\r\n  const handleACatView = (item) => {\r\n    setCatMonitored(item);\r\n    setOption('view');\r\n    window.$('#modalCreate').modal('show');\r\n  };\r\n  const handleCatEdit = (item) => {\r\n    setCatMonitored(item);\r\n    setOption('edit');\r\n    window.$('#modalCreate').modal('show');\r\n  };\r\n  const handleCatDelete = (item) => {\r\n    setCatMonitored(item);\r\n    window.$('#modal').modal('show');\r\n  };\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item>\r\n        <a\r\n          data-target=\"#modalCreate\"\r\n          title=\"Add area\"\r\n          onClick={handleCatCreate}\r\n        >\r\n          Thêm bằng tay\r\n        </a>\r\n      </Menu.Item>\r\n      <Menu.Item>\r\n        <a\r\n          data-target=\"#modalImport\"\r\n          title=\"ImportForm\"\r\n          onClick={handleCatImport}\r\n        >\r\n          Import File\r\n        </a>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <div id=\"area-monitored\">\r\n      <div className=\"row\" style={{ marginLeft: 10 }}>\r\n        <h3>Quản lý danh mục giám sát</h3>\r\n      </div>\r\n      <div className=\"box-body\">\r\n        <div style={{ marginLeft: '90%' }}>\r\n          <Dropdown overlay={menu} placement=\"bottomLeft\" arrow>\r\n            <Button\r\n              type=\"button\"\r\n              className=\"btn btn-success\"\r\n              style={{ borderRadius: 4, width: 90.64, height: 36 }}\r\n            >\r\n              Thêm mới\r\n            </Button>\r\n          </Dropdown>\r\n        </div>\r\n        <div className=\"form-inline\" style={{ margin: '15px' }}>\r\n          <div className=\"form-group\" style={{ marginRight: '30px' }}>\r\n            <label className=\"form-control-static\" style={{ margin: '10px' }}>\r\n              <b>Mã danh mục</b>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"code\"\r\n              value={itemSearch.code}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setItemSearch((prev) => ({\r\n                  ...prev,\r\n                  code: e.target.value,\r\n                }));\r\n              }}\r\n              placeholder=\"Mã danh mục\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-control-static\" style={{ margin: '10px' }}>\r\n              <b>Tên danh mục</b>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"name\"\r\n              value={itemSearch.name}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setItemSearch((prev) => ({\r\n                  ...prev,\r\n                  name: e.target.value,\r\n                }));\r\n              }}\r\n              placeholder=\"Tên danh mục\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-success\"\r\n              title=\"Tìm kiếm\"\r\n              onClick={handleSubmitSearch}\r\n            >\r\n              Tìm kiếm\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>STT</th>\r\n              <th>Mã danh mục</th>\r\n              <th>Tên danh mục</th>\r\n              <th>Mô tả</th>\r\n              <th>Hành động</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {!!listPaginate &&\r\n              listPaginate.length > 0 &&\r\n              listPaginate.map((item, index) => (\r\n                <tr key={index}>\r\n                  <td>{index + 1}</td>\r\n                  <td>{item.code}</td>\r\n                  <td>{item.name}</td>\r\n                  <td>{item.description}</td>\r\n                  <td>\r\n                    <a\r\n                      className=\"text-green\"\r\n                      onClick={() => handleACatView(item)}\r\n                    >\r\n                      <i className=\"material-icons\">visibility</i>\r\n                    </a>\r\n                    <a\r\n                      className=\"text-yellow\"\r\n                      onClick={() => handleCatEdit(item)}\r\n                    >\r\n                      <i className=\"material-icons\">edit</i>\r\n                    </a>\r\n                    <a\r\n                      className=\"text-red\"\r\n                      onClick={() => handleCatDelete(item)}\r\n                    >\r\n                      <i className=\"material-icons\">delete</i>\r\n                    </a>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            {!!listPaginate && listPaginate.length === 0 && (\r\n              <tr>Không có dữ liệu</tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n        <Pagination\r\n          count={totalPages}\r\n          page={page}\r\n          onChange={onChangePagination}\r\n        />\r\n      </div>\r\n      {/* Modal Thêm mới */}\r\n      <CatMonitorCreate\r\n        value={catMonitored}\r\n        handleChange={handleChange}\r\n        setCatMonitored={setCatMonitored}\r\n        isError={isError}\r\n        messages={messages}\r\n        option={option}\r\n      />\r\n\r\n      {/* Modal Import */}\r\n      <AreaMonitorImport />\r\n      {/* Modal */}\r\n      <Modals value={catMonitored} setCatMonitored={setCatMonitored} />\r\n      <SuccessNotification formatStyle={formatStyle} messages={messages} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AreaMonitored;\r\n","import React from 'react';\r\n\r\nfunction FileUpload() {\r\n  // State to store uploaded file\r\n  const [file, setFile] = React.useState('');\r\n\r\n  // Handles file upload event and updates state\r\n  function handleUpload(event) {\r\n    setFile(event.target.files[0]);\r\n    // Add code here to upload file to server\r\n    // ...\r\n  }\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"modalImport\"\r\n      tabIndex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLongTitle\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">\r\n              Thêm mới đối tượng giám sát\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <div id=\"upload-box\">\r\n              <input type=\"file\" onChange={handleUpload} />\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Đóng\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              data-dismiss=\"modal\"\r\n              onClick={() => alert('Thêm mới thành công')}\r\n            >\r\n              Lưu\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default function AreaMonitorImport() {\r\n  return <FileUpload />;\r\n}\r\n","export const MonitoredObjectConstants = {\r\n  GET_PAGINATE_REQUEST: \"GET_PAGINATE_REQUEST\",\r\n  GET_PAGINATE_SUCCESS: \"GET_PAGINATE_SUCCESS\",\r\n  GET_PAGINATE_FAILURE: \"GET_PAGINATE_FAILURE\",\r\n\r\n  GET_ALL_MONITORED_OBJECT_REQUEST: \"GET_ALL_MONITORED_OBJECT_REQUEST\",\r\n  GET_ALL_MONITORED_OBJECT_SUCCESS: \"GET_ALL_MONITORED_OBJECT_SUCCESS\",\r\n  GET_ALL_MONITORED_OBJECT_FAILURE: \"GET_ALL_MONITORED_OBJECT_FAILURE\",\r\n\r\n  CREATE_MONITORED_REQUEST: \"CREATE_MONITORED_REQUEST\",\r\n  CREATE_MONITORED_SUCCESS: \"CREATE_MONITORED_SUCCESS\",\r\n  CREATE_MONITORED_FAILURE: \"CREATE_MONITORED_FAILURE\",\r\n\r\n  EDIT_MONITORED_REQUEST: \"EDIT_MONITORED_REQUEST\",\r\n  EDIT_MONITORED_SUCCESS: \"EDIT_MONITORED_SUCCESS\",\r\n  EDIT_MONITORED_FAILURE: \"EDIT_MONITORED_FAILURE\",\r\n\r\n  DELETE_MONITORED_REQUEST: \"DELETE_MONITORED_REQUEST\",\r\n  DELETE_MONITORED_SUCCESS: \"DELETE_MONITORED_SUCCESS\",\r\n  DELETE_MONITORED_FAILURE: \"DELETE_MONITORED_FAILURE\",\r\n\r\n  NOTIFICATION_MESSAGE: \"NOTIFICATION_MESSAGE\",\r\n  OBJECT_SUCCESS: \"OBJECT_SUCCESS\",\r\n  OBJECT_FAILURE: \"OBJECT_FAILURE\",\r\n};\r\n","import { sendRequest } from '../../../../helpers/sendRequest';\r\n\r\nexport const MonitoredObjectServices = {\r\n  getAllMonitoredObjects,\r\n\r\n  createMonitoredObject,\r\n  editMonitoredObject,\r\n  deleteManyMonitoredObjects,\r\n};\r\n\r\nfunction getAllMonitoredObjects(params) {\r\n  return sendRequest({\r\n    url: 'https://dsd05-monitored-object.herokuapp.com/monitored-object',\r\n    method: 'GET',\r\n    params,\r\n  });\r\n}\r\n\r\nfunction createMonitoredObject(data) {\r\n  return sendRequest({\r\n    url: `https://dsd05-monitored-object.herokuapp.com/monitored-object`,\r\n    method: 'POST',\r\n    data,\r\n  });\r\n}\r\n\r\nfunction editMonitoredObject(id, data) {\r\n  return sendRequest({\r\n    url: `https://dsd05-monitored-object.herokuapp.com/monitored-object/${id}`,\r\n    method: 'PATCH',\r\n    data,\r\n  });\r\n}\r\n\r\nfunction deleteManyMonitoredObjects(arrayId) {\r\n  return sendRequest({\r\n    url: `https://dsd05-monitored-object.herokuapp.com/monitored-object/delete-many-monitored-objects`,\r\n    method: 'POST',\r\n    data: { arrayId },\r\n  });\r\n}\r\n","import { MonitoredObjectConstants } from \"./constants\";\r\nimport { MonitoredObjectServices } from \"./services\";\r\n\r\nexport const MonitoredObjectActions = {\r\n  getAllMonitoredObjects,\r\n  // getDetailMonitoredObject,\r\n  createMonitoredObject,\r\n  editMonitoredObject,\r\n  deleteManyMonitoredObjects,\r\n};\r\n\r\nfunction getAllMonitoredObjects(data) {\r\n  if (data === undefined) {\r\n    return (dispatch) => {\r\n      dispatch({\r\n        type: MonitoredObjectConstants.GET_ALL_MONITORED_OBJECT_REQUEST,\r\n      });\r\n      MonitoredObjectServices.getAllMonitoredObjects()\r\n        .then((res) => {\r\n          dispatch({\r\n            type: MonitoredObjectConstants.GET_ALL_MONITORED_OBJECT_SUCCESS,\r\n            payload: res.data.content,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          dispatch({\r\n            type: MonitoredObjectConstants.GET_ALL_MONITORED_OBJECT_FAILURE,\r\n            error: err,\r\n          });\r\n        });\r\n    };\r\n  } else {\r\n    return (dispatch) => {\r\n      dispatch({\r\n        type: MonitoredObjectConstants.GET_PAGINATE_REQUEST,\r\n      });\r\n      MonitoredObjectServices.getAllMonitoredObjects(data)\r\n        .then((res) => {\r\n          dispatch({\r\n            type: MonitoredObjectConstants.GET_PAGINATE_SUCCESS,\r\n            payload: res.data.content,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          dispatch({\r\n            type: MonitoredObjectConstants.GET_PAGINATE_FAILURE,\r\n            error: err,\r\n          });\r\n        });\r\n    };\r\n  }\r\n}\r\n\r\nfunction createMonitoredObject(data) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: MonitoredObjectConstants.CREATE_MONITORED_REQUEST,\r\n    });\r\n    MonitoredObjectServices.createMonitoredObject(data)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: MonitoredObjectConstants.CREATE_MONITORED_SUCCESS,\r\n          payload: res.data.content,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.OBJECT_SUCCESS,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Tạo đối tượng giám sát thành công\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: MonitoredObjectConstants.CREATE_MONITORED_FAILURE,\r\n          error: err,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.OBJECT_FAILURE,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Tạo đối tượng giám sát thất bại\",\r\n        });\r\n      });\r\n  };\r\n}\r\n\r\nfunction editMonitoredObject(id, data) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: MonitoredObjectConstants.EDIT_MONITORED_REQUEST,\r\n    });\r\n    MonitoredObjectServices.editMonitoredObject(id, data)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: MonitoredObjectConstants.EDIT_MONITORED_SUCCESS,\r\n          payload: res.data.content,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.OBJECT_SUCCESS,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Chỉnh sửa đối tượng giám sát thành công\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: MonitoredObjectConstants.EDIT_MONITORED_FAILURE,\r\n          error: err,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.OBJECT_FAILURE,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Chỉnh sửa đối tượng giám sát thất bại\",\r\n        });\r\n      });\r\n  };\r\n}\r\n\r\nfunction deleteManyMonitoredObjects(arrayId) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: MonitoredObjectConstants.DELETE_MONITORED_REQUEST,\r\n    });\r\n    MonitoredObjectServices.deleteManyMonitoredObjects(arrayId)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: MonitoredObjectConstants.DELETE_MONITORED_SUCCESS,\r\n          payload: res.data.content,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.OBJECT_SUCCESS,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Xóa đối tượng giám sát thành công \",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: MonitoredObjectConstants.DELETE_MONITORED_FAILURE,\r\n          error: err,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.OBJECT_FAILURE,\r\n          payload: true,\r\n        });\r\n        dispatch({\r\n          type: MonitoredObjectConstants.NOTIFICATION_MESSAGE,\r\n          payload: \"Xóa đối tượng giám sát thất bại\",\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { MonitoredObjectActions } from \"../redux/actions\";\r\nfunction Modals({ value }) {\r\n  const dispatch = useDispatch();\r\n  const onHandleDelete = () => {\r\n    dispatch(MonitoredObjectActions.deleteManyMonitoredObjects([value._id]));\r\n  };\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"modal\"\r\n      tabIndex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLongTitle\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-body\">\r\n            <h5>Bạn có muốn xóa không?</h5>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Không\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              data-dismiss=\"modal\"\r\n              onClick={() => onHandleDelete()}\r\n            >\r\n              Có\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Modals;\r\n","import React from \"react\";\r\n\r\nfunction SuccessNotification({ formatStyle, messages, history }) {\r\n  const onChangePage = () => {\r\n    if (history) {\r\n      history.push({\r\n        pathname: `/monitored-object-management`,\r\n      });\r\n    }\r\n  }\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"modalSuccessNotification\"\r\n      tabIndex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLongTitle\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog    \" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">\r\n              {messages}\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"modal-footer justify-content-center\">\r\n            <button type=\"button\" className={formatStyle} data-dismiss=\"modal\" onClick={onChangePage}>\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default SuccessNotification;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withTranslate } from 'react-redux-multilingual';\r\nimport MultiSelect from 'react-multi-select-component';\r\nimport AreaMonitorImport from './areaMonitoredImport';\r\nimport Modals from './modal';\r\nimport { Menu, Dropdown, Button } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { MonitoredObjectActions } from '../redux/actions';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport SuccessNotification from './SuccessNotification';\r\nimport { MonitoredObjectConstants } from '../redux/constants';\r\n\r\nfunction AreaMonitored(props) {\r\n  const { history } = props;\r\n  const dispatch = useDispatch();\r\n  const monitoredObjects = useSelector((state) => state.monitoredObjects);\r\n  const {\r\n    listPaginate,\r\n    totalPages,\r\n    isObjectSuccess,\r\n    isObjectFailure,\r\n    objectMessages,\r\n  } = monitoredObjects;\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 5,\r\n  });\r\n  const { page, limit } = pagination;\r\n  const [formatStyle, setFormatStyle] = useState('');\r\n  const [selected, setSelected] = useState([]);\r\n  const [selectItemDelete, setSelectItemDelete] = useState({});\r\n  const [itemSearch, setItemSearch] = useState({\r\n    code: '',\r\n    name: '',\r\n    status: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(MonitoredObjectActions.getAllMonitoredObjects({ page, limit }));\r\n  }, [page]);\r\n  useEffect(() => {\r\n    let arr = [];\r\n    selected.map((item) => arr.push(item.value));\r\n    setItemSearch((prev) => ({\r\n      ...prev,\r\n      status: arr,\r\n    }));\r\n  }, [selected]);\r\n  useEffect(() => {\r\n    if (isObjectFailure) {\r\n      setFormatStyle('btn btn-danger');\r\n      window.$('#modalSuccessNotification').modal('show');\r\n    }\r\n    if (isObjectSuccess) {\r\n      setFormatStyle('btn btn-success');\r\n      window.$('#modalSuccessNotification').modal('show');\r\n      dispatch(MonitoredObjectActions.getAllMonitoredObjects({ page, limit }));\r\n    }\r\n    dispatch({\r\n      type: MonitoredObjectConstants.OBJECT_FAILURE,\r\n      payload: false,\r\n    });\r\n    dispatch({\r\n      type: MonitoredObjectConstants.OBJECT_SUCCESS,\r\n      payload: false,\r\n    });\r\n  }, [isObjectSuccess, isObjectFailure]);\r\n\r\n  const handleSubmitSearch = () => {\r\n    dispatch(\r\n      MonitoredObjectActions.getAllMonitoredObjects({\r\n        ...itemSearch,\r\n        page: page,\r\n        limit: limit,\r\n      }),\r\n    );\r\n  };\r\n  const onChangePagination = (event, value) => {\r\n    setPagination({\r\n      ...pagination,\r\n      page: value,\r\n    });\r\n  };\r\n  const handleAreaCreate = () => {\r\n    history.push({\r\n      pathname: `/monitored-object-management/create`,\r\n    });\r\n  };\r\n  const handleMonitoredEdit = (item) => {\r\n    history.push({\r\n      pathname: `/monitored-object-management/edit/${item._id}`,\r\n    });\r\n  };\r\n  const handleMonitoredView = (item) => {\r\n    history.push({\r\n      pathname: `/monitored-object-management/view/${item._id}`,\r\n    });\r\n  };\r\n  const handleAreaImport = () => {\r\n    window.$('#modalImport').modal('show');\r\n  };\r\n\r\n  const handleMonitoredDelete = (item) => {\r\n    setSelectItemDelete(item);\r\n    window.$('#modal').modal('show');\r\n  };\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item>\r\n        <a\r\n          data-target=\"#modalCreate\"\r\n          title=\"Add area\"\r\n          onClick={() => handleAreaCreate()}\r\n        >\r\n          Thêm bằng tay\r\n        </a>\r\n      </Menu.Item>\r\n      <Menu.Item>\r\n        <a\r\n          data-target=\"#modalImport\"\r\n          title=\"ImportForm\"\r\n          onClick={() => handleAreaImport()}\r\n        >\r\n          Import File\r\n        </a>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div id=\"area-monitored\">\r\n      <div className=\"row\" style={{ marginLeft: 10 }}>\r\n        <h3>Quản lý đối tượng giám sát</h3>\r\n      </div>\r\n      <div className=\"box-body\">\r\n        <div style={{ marginLeft: '90%' }}>\r\n          <Dropdown overlay={menu} placement=\"bottomLeft\" arrow>\r\n            <Button\r\n              type=\"button\"\r\n              className=\"btn btn-success\"\r\n              style={{ borderRadius: 4, width: 90.64, height: 36 }}\r\n            >\r\n              Thêm mới\r\n            </Button>\r\n          </Dropdown>\r\n        </div>\r\n        <div className=\"form-inline\" style={{ margin: '15px' }}>\r\n          <div className=\"form-group\" style={{ marginRight: '30px' }}>\r\n            <label className=\"form-control-static\" style={{ margin: '10px' }}>\r\n              <b>Mã đối tượng</b>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"code\"\r\n              value={itemSearch.code}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setItemSearch((prev) => ({\r\n                  ...prev,\r\n                  code: e.target.value,\r\n                }));\r\n              }}\r\n              placeholder=\"Mã đối tượng\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-control-static\" style={{ margin: '10px' }}>\r\n              <b>Tên đối tượng</b>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"name\"\r\n              value={itemSearch.name}\r\n              onChange={(e) => {\r\n                e.persist();\r\n                setItemSearch((prev) => ({\r\n                  ...prev,\r\n                  name: e.target.value,\r\n                }));\r\n              }}\r\n              placeholder=\"Tên đối tượng\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-inline\" style={{ margin: '15px' }}>\r\n          <div className=\"form-group\" style={{ marginRight: '15px' }}>\r\n            <label className=\"form-control-static\" style={{ margin: '10px' }}>\r\n              <b>Trạng thái</b>\r\n            </label>\r\n            <MultiSelect\r\n              id={`select-multi-status`}\r\n              style={{ width: '100%' }}\r\n              options={[\r\n                { label: 'Bình thường', value: '1' },\r\n                { label: 'Đã hỏng', value: '2' },\r\n                { label: 'Đang được sửa chữa', value: '3' },\r\n              ]}\r\n              value={selected}\r\n              onChange={setSelected}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-success\"\r\n              title=\"Tìm kiếm\"\r\n              onClick={handleSubmitSearch}\r\n            >\r\n              Tìm kiếm\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>STT</th>\r\n              <th>Mã đối tượng</th>\r\n              <th>Tên đối tượng</th>\r\n              <th>Trạng thái</th>\r\n              <th>Mô tả</th>\r\n              <th>Thuộc danh mục</th>\r\n              <th>Thuộc khu vực</th>\r\n              <th>Hành động</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {!!listPaginate &&\r\n              listPaginate.length > 0 &&\r\n              listPaginate.map((item, index) => (\r\n                <tr key={index}>\r\n                  <td>{index + 1}</td>\r\n                  <td>{item.code}</td>\r\n                  <td>{item.name}</td>\r\n                  <td style={{ color: 'green' }}>\r\n                    {item.status === 1 ? 'Bình thường' : 'Đang được sửa chữa'}\r\n                  </td>\r\n                  <td>{item.description}</td>\r\n                  <td>\r\n                    {!!item.category ? item.category.name : 'Chưa có giá trị'}\r\n                  </td>\r\n                  <td>\r\n                    {!!item.areaMonitored\r\n                      ? item.areaMonitored.name\r\n                      : 'Chưa có giá trị'}\r\n                  </td>\r\n                  <td>\r\n                    <a\r\n                      className=\"text-green\"\r\n                      onClick={() => handleMonitoredView(item)}\r\n                    >\r\n                      <i className=\"material-icons\">visibility</i>\r\n                    </a>\r\n                    <a\r\n                      className=\"text-yellow\"\r\n                      onClick={() => handleMonitoredEdit(item)}\r\n                    >\r\n                      <i className=\"material-icons\">edit</i>\r\n                    </a>\r\n                    <a\r\n                      className=\"text-red\"\r\n                      onClick={() => handleMonitoredDelete(item)}\r\n                    >\r\n                      <i className=\"material-icons\">delete</i>\r\n                    </a>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            {!!listPaginate && listPaginate.length === 0 && (\r\n              <tr>Không có dữ liệu</tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n        <Pagination\r\n          count={totalPages}\r\n          page={page}\r\n          onChange={onChangePagination}\r\n        />\r\n        ;\r\n      </div>\r\n      {/* Modal Import */}\r\n      <AreaMonitorImport />\r\n      {/* Modal Delete */}\r\n      <Modals value={selectItemDelete} />\r\n      <SuccessNotification\r\n        formatStyle={formatStyle}\r\n        messages={objectMessages}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withTranslate(AreaMonitored);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  GoogleMap,\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  Marker,\r\n  InfoWindow,\r\n  Rectangle,\r\n} from \"react-google-maps\";\r\n\r\nimport { Input } from \"antd\";\r\nimport { HeatMapOutlined } from \"@ant-design/icons\";\r\nconst axios = require(\"axios\");\r\nconst { Search } = Input;\r\n\r\nconst Map = ({\r\n  onChangeMonitoredZone,\r\n  monitoredZoneInit,\r\n  option,\r\n  monitoredObject,\r\n  setMonitoredObject,\r\n  getCoodinate,\r\n}) => {\r\n  const [monitoredZonesDataInit, setMonitoredZonesDataInit] = useState(null);\r\n  const [monitoredZonesData, setMonitoredZonesData] = useState(null);\r\n  const [currentMonitoredZone, setCurrentMonitoredZone] = useState(null);\r\n  const [selectedMonitoredZone, setSelectedMonitoredZone] = useState([]);\r\n  const [positionClick, setPositionClick] = useState(null);\r\n  const [searchText, searchTextValue] = useState(\"\");\r\n  const [selectedMonitor, setSelectedMonitor] = useState(null);\r\n  const [initLocation, setInitLocation] = useState({\r\n    lat: 21.017374,\r\n    lng: 105.859521,\r\n  });\r\n\r\n  useEffect(() => {\r\n    getMonitoredZone();\r\n    if (option !== \"create\") {\r\n      setInitLocation({\r\n        lat: parseFloat(monitoredObject.lat),\r\n        lng: parseFloat(monitoredObject.lng),\r\n      });\r\n      setSelectedMonitoredZone(monitoredObject.monitoredZone);\r\n    }\r\n  }, []);\r\n\r\n  const getMonitoredZone = async () => {\r\n    await axios({\r\n      method: \"GET\",\r\n      url: `https://monitoredzoneserver.herokuapp.com/monitoredzone`,\r\n    })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          setMonitoredZonesData(res.data.content.zone);\r\n          setMonitoredZonesDataInit(res.data.content.zone);\r\n\r\n          //Khởi tạo render ban đầu\r\n          if (res.data.content.zone && option === \"create\") {\r\n            setInitLocation({\r\n              lat: parseFloat(res.data.content.zone[0].startPoint.latitude),\r\n              lng: parseFloat(res.data.content.zone[0].startPoint.longitude),\r\n            });\r\n          }\r\n          // khởi tạo park nếu đã có sẵn\r\n          if (monitoredZoneInit) {\r\n            let zone = res.data.content.zone.find(\r\n              (element) => element._id == monitoredZoneInit\r\n            );\r\n            if (zone) {\r\n              setPositionClick({\r\n                lat: (zone.startPoint.latitude + zone.endPoint.latitude) / 2,\r\n                lng: (zone.startPoint.longitude + zone.endPoint.longitude) / 2,\r\n              });\r\n              setCurrentMonitoredZone(zone);\r\n            }\r\n            setSelectedMonitoredZone(monitoredZoneInit);\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const searchOnChange = (e) => {\r\n    searchTextValue(e.target.value);\r\n  };\r\n\r\n  const submitSearch = (value) => {\r\n    let data = monitoredZonesDataInit.filter((element) => {\r\n      let textElement = element.name;\r\n      let textValue = value;\r\n      if (textElement.includes(textValue)) {\r\n        return element;\r\n      }\r\n    });\r\n    setMonitoredZonesData(data);\r\n  };\r\n\r\n  const handleClickMonitoredZones = (zone, e) => {\r\n    setPositionClick({ lat: e.latLng.lat(), lng: e.latLng.lng() });\r\n    getCoodinate(zone);\r\n    if (selectedMonitoredZone && selectedMonitoredZone.indexOf(zone._id) >= 0) {\r\n      setMonitoredObject((prev) => ({\r\n        ...prev,\r\n        lat: e.latLng.lat(),\r\n        lng: e.latLng.lng(),\r\n      }));\r\n    } else {\r\n      setCurrentMonitoredZone(zone);\r\n    }\r\n  };\r\n\r\n  const handleCloseMonitoredZones = () => {\r\n    setCurrentMonitoredZone(null);\r\n  };\r\n\r\n  const handleMonitoredZoneChange = (monitoredZone, e) => {\r\n    e.preventDefault();\r\n    if (monitoredZone) {\r\n      onChangeMonitoredZone(monitoredZone._id);\r\n      searchTextValue(monitoredZone.code + \" - \" + monitoredZone.name);\r\n      let arr = [monitoredZone._id];\r\n      setSelectedMonitoredZone(arr);\r\n    } else {\r\n      onChangeMonitoredZone(undefined);\r\n      searchTextValue(\"\");\r\n      setSelectedMonitoredZone([]);\r\n    }\r\n  };\r\n  return (\r\n    <GoogleMap\r\n      defaultZoom={option !== \"create\" ? 14 : 12}\r\n      defaultCenter={\r\n        option !== \"create\"\r\n          ? {\r\n              lat: parseFloat(monitoredObject.lat),\r\n              lng: parseFloat(monitoredObject.lng),\r\n            }\r\n          : initLocation\r\n      }\r\n    >\r\n      <Search\r\n        placeholder=\"Nhập vào miền giám sát\"\r\n        onChange={searchOnChange}\r\n        onSearch={submitSearch}\r\n        enterButton\r\n        style={{ position: \"absolute\", top: \"10px\", left: \"10px\", width: 250 }}\r\n        value={searchText}\r\n      />\r\n      {monitoredZonesData &&\r\n        monitoredZonesData.map((zone, index) => (\r\n          <Rectangle\r\n            key={index}\r\n            defaultBounds={\r\n              new window.google.maps.LatLngBounds(\r\n                new window.google.maps.LatLng(\r\n                  zone.startPoint.latitude,\r\n                  zone.startPoint.longitude\r\n                ),\r\n                new window.google.maps.LatLng(\r\n                  zone.endPoint.latitude,\r\n                  zone.endPoint.longitude\r\n                )\r\n              )\r\n            }\r\n            onClick={(e) =>\r\n              option === \"view\" ? null : handleClickMonitoredZones(zone, e)\r\n            }\r\n            options={\r\n              selectedMonitoredZone &&\r\n              selectedMonitoredZone.indexOf(zone._id) >= 0\r\n                ? {\r\n                    strokeColor: \"#d34052\",\r\n                    fillColor: \"#d34052\",\r\n                    strokeOpacity: \"0.5\",\r\n                    strokeWeight: \"2\",\r\n                  }\r\n                : {\r\n                    strokeColor: \"#d34052\",\r\n                    fillColor: \"#70b8fb\",\r\n                    strokeOpacity: \"0.5\",\r\n                    strokeWeight: \"2\",\r\n                  }\r\n            }\r\n          />\r\n        ))}\r\n      {monitoredObject && (\r\n        <Marker\r\n          name=\"Paris\"\r\n          position={{\r\n            lat: parseFloat(monitoredObject.lat),\r\n            lng: parseFloat(monitoredObject.lng),\r\n          }}\r\n          onClick={() => {\r\n            setSelectedMonitor({\r\n              lat: parseFloat(monitoredObject.lat),\r\n              lng: parseFloat(monitoredObject.lng),\r\n            });\r\n          }}\r\n        />\r\n      )}\r\n      {selectedMonitor && (\r\n        <InfoWindow\r\n          position={{\r\n            lat: selectedMonitor.lat,\r\n            lng: selectedMonitor.lng,\r\n          }}\r\n          onCloseClick={() => setSelectedMonitor(null)}\r\n        >\r\n          <p>{monitoredObject.name}</p>\r\n        </InfoWindow>\r\n      )}\r\n\r\n      {currentMonitoredZone && (\r\n        <InfoWindow\r\n          position={{\r\n            lat: positionClick.lat,\r\n            lng: positionClick.lng,\r\n          }}\r\n          onCloseClick={() => {\r\n            handleCloseMonitoredZones();\r\n          }}\r\n        >\r\n          <div>\r\n            <h3>{currentMonitoredZone.name}</h3>\r\n            <div>Mã miền g/s: {currentMonitoredZone.code}</div>\r\n            <div>\r\n              Độ cao an toàn: &ensp;\r\n              <span style={{ color: \"red\" }}>\r\n                {currentMonitoredZone.minHeight}\r\n              </span>\r\n              -\r\n              <span style={{ color: \"red\" }}>\r\n                {currentMonitoredZone.maxHeight}\r\n              </span>\r\n              (m)\r\n            </div>\r\n            <div\r\n              style={{\r\n                marginTop: \"10px\",\r\n                width: \"100%\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              {selectedMonitoredZone.indexOf(currentMonitoredZone._id) >= 0 ? (\r\n                <button onClick={(e) => handleMonitoredZoneChange(\"\", e)}>\r\n                  <HeatMapOutlined /> &ensp;\r\n                  <a>Bỏ chọn miền g/s này</a>\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={(e) =>\r\n                    handleMonitoredZoneChange(currentMonitoredZone, e)\r\n                  }\r\n                >\r\n                  <HeatMapOutlined /> &ensp;\r\n                  <a>Chọn miền g/s này</a>\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </InfoWindow>\r\n      )}\r\n    </GoogleMap>\r\n  );\r\n};\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map));\r\nexport default WrappedMap;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport WrappedMap from \"./map\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport SuccessNotification from \"./SuccessNotification\";\r\n\r\nimport { CategoryActions } from \"../../Category/redux/actions\";\r\nimport { MonitoredObjectConstants } from \"../redux/constants\";\r\nimport { MonitoredObjectActions } from \"../redux/actions\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nfunction MonitoredObjectView({ history }) {\r\n  let { id, option } = useParams();\r\n  const dispatch = useDispatch();\r\n  const category = useSelector((state) => state.category);\r\n  const monitoredObjects = useSelector((state) => state.monitoredObjects);\r\n  const { isObjectSuccess, isObjectFailure, objectMessages } = monitoredObjects;\r\n  const [monitoredObject, setMonitoredObject] = useState({\r\n    code: \"\",\r\n    name: \"\",\r\n    status: 1,\r\n    description: \"\",\r\n    managementUnit: null,\r\n    category: null,\r\n    areaMonitored: null,\r\n    parent: \"\",\r\n    lat: \"\", //Vĩ độ\r\n    lng: \"\", //Kinh độ\r\n    height: \"\",\r\n    drones: null,\r\n    images: null,\r\n    videos: null,\r\n    monitoredZone: \"\",\r\n    type: \"\",\r\n  });\r\n  const [formatStyle, setFormatStyle] = useState(\"\");\r\n  const [currentMonitoredZone, setCurrentMonitoredZone] = useState(null);\r\n  const [datazoneAll, setDataZoneAll] = useState([]);\r\n\r\n  const getZoneAll = async () => {\r\n    await axios({\r\n      method: \"GET\",\r\n      url: `https://monitoredzoneserver.herokuapp.com/monitoredzone?page=0`,\r\n    })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          setDataZoneAll(res.data.content.zone);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    dispatch(CategoryActions.getAllCategories());\r\n    dispatch(MonitoredObjectActions.getAllMonitoredObjects());\r\n    getZoneAll();\r\n  }, []);\r\n  useEffect(() => {\r\n    if (isObjectFailure) {\r\n      setFormatStyle(\"btn btn-danger\");\r\n      window.$(\"#modalSuccessNotification\").modal(\"show\");\r\n    }\r\n    if (isObjectSuccess) {\r\n      setFormatStyle(\"btn btn-success\");\r\n      window.$(\"#modalSuccessNotification\").modal(\"show\");\r\n    }\r\n    dispatch({\r\n      type: MonitoredObjectConstants.OBJECT_FAILURE,\r\n      payload: false,\r\n    });\r\n    dispatch({\r\n      type: MonitoredObjectConstants.OBJECT_SUCCESS,\r\n      payload: false,\r\n    });\r\n  }, [isObjectSuccess, isObjectFailure]);\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setMonitoredObject((formState) => ({\r\n      ...formState,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n  };\r\n  const handleCreateMonitoredObject = () => {\r\n    if (\r\n      currentMonitoredZone &&\r\n      (monitoredObject.height < currentMonitoredZone.minHeight ||\r\n        monitoredObject.height > currentMonitoredZone.maxHeight)\r\n    ) {\r\n      alert(\r\n        `Chọn chiều cao cho đối tượng trong khoảng giá trị từ ${currentMonitoredZone.minHeight} - ${currentMonitoredZone.maxHeight}`\r\n      );\r\n      return;\r\n    }\r\n    dispatch(\r\n      MonitoredObjectActions.createMonitoredObject({\r\n        ...monitoredObject,\r\n        areaMonitored: null,\r\n        managementUnit: null,\r\n        images: null,\r\n        videos: null,\r\n        status: monitoredObject.status === \"\" ? \"1\" : monitoredObject.status,\r\n      })\r\n    );\r\n    setMonitoredObject({\r\n      code: \"\",\r\n      name: \"\",\r\n      status: 1,\r\n      description: \"\",\r\n      managementUnit: null,\r\n      category: \"\",\r\n      areaMonitored: null,\r\n      parent: \"\",\r\n      lat: \"\", //Vĩ độ\r\n      lng: \"\", //Kinh độ\r\n      height: \"\",\r\n      drones: \"\",\r\n      images: null,\r\n      videos: null,\r\n    });\r\n  };\r\n\r\n  const getCoodinate = (zone) => {\r\n    setCurrentMonitoredZone(zone);\r\n  };\r\n  const onChangeMonitoredZone = (id) => {\r\n    setMonitoredObject((prev) => ({\r\n      ...prev,\r\n      monitoredZone: id,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"header-title mb-5\">\r\n        <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">\r\n          Thêm mới đối tượng giám sát\r\n        </h5>\r\n      </div>\r\n      <div className=\"content row d-flex justify-content-center\">\r\n        <div className=\"col-9\">\r\n          <form>\r\n            <div className=\"form-group row\">\r\n              <label\r\n                htmlFor=\"inputAreaNumber\"\r\n                className=\"col-sm-2 col-form-label\"\r\n              >\r\n                Mã đối tượng\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <input\r\n                  disabled={option === \"view\"}\r\n                  className=\"form-control\"\r\n                  id=\"inputAreaNumber\"\r\n                  placeholder=\"Mã đối tượng\"\r\n                  name=\"code\"\r\n                  value={monitoredObject.code}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label\r\n                htmlFor=\"inputAreaName\"\r\n                className=\"col-sm-2 col-form-label\"\r\n              >\r\n                Tên đối tượng\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <input\r\n                  disabled={option === \"view\"}\r\n                  className=\"form-control\"\r\n                  id=\"inputAreaName\"\r\n                  placeholder=\"Tên đối tượng\"\r\n                  name=\"name\"\r\n                  value={monitoredObject.name}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"inputStatus\" className=\"col-sm-2 col-form-label\">\r\n                Loại đối tượng\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <select\r\n                  disabled={option === \"view\"}\r\n                  className=\"custom-select\"\r\n                  name=\"type\"\r\n                  value={monitoredObject.type || \"\"}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option disabled>Chọn loại đối tượng </option>\r\n                  <option value=\"DE_DIEU\">Đê điều</option>\r\n                  <option value=\"CHAY_RUNG\">Cháy rừng</option>\r\n                  <option value=\"LUOI_DIEN\">Lưới điện</option>\r\n                  <option value=\"CAY_TRONG\">Cây trồng</option>\r\n                  {!monitoredObject.type && (\r\n                    <option value=\"\">Chưa có giá trị</option>\r\n                  )}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"inputStatus\" className=\"col-sm-2 col-form-label\">\r\n                Trạng thái\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <select\r\n                  disabled={option === \"view\"}\r\n                  className=\"custom-select\"\r\n                  name=\"status\"\r\n                  value={monitoredObject.status || \"null\"}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option disabled>Chọn trạng thái</option>\r\n                  <option value=\"1\">Bình thường</option>\r\n                  <option value=\"2\">Đã hỏng</option>\r\n                  <option value=\"3\">Đang được sửa chữa</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label\r\n                htmlFor=\"inputAreaName\"\r\n                className=\"col-sm-2 col-form-label\"\r\n              >\r\n                Mô tả\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <input\r\n                  disabled={option === \"view\"}\r\n                  className=\"form-control\"\r\n                  id=\"inputAreaName\"\r\n                  placeholder=\"Mô tả cho đối tượng\"\r\n                  name=\"description\"\r\n                  value={monitoredObject.description}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"inputStatus\" className=\"col-sm-2 col-form-label\">\r\n                Danh mục\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <select\r\n                  disabled={option === \"view\"}\r\n                  className=\"custom-select\"\r\n                  name=\"category\"\r\n                  value={monitoredObject.category || \"\"}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option disabled>Chọn danh mục</option>\r\n                  {!monitoredObject.category && (\r\n                    <option value=\"\">Chưa có giá trị</option>\r\n                  )}\r\n                  {category &&\r\n                    category.list &&\r\n                    category.list.map((item, index) => (\r\n                      <option value={item._id} key={index}>\r\n                        {item.name}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"inputStatus\" className=\"col-sm-2 col-form-label\">\r\n                Đối tượng chính\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <select\r\n                  disabled={option === \"view\"}\r\n                  className=\"custom-select\"\r\n                  name=\"parent\"\r\n                  value={monitoredObject.parent}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option disabled>Chọn đối tượng</option>\r\n                  {!monitoredObject.parent && (\r\n                    <option value=\"\">Chưa có giá trị</option>\r\n                  )}\r\n                  {monitoredObject &&\r\n                    monitoredObjects.list &&\r\n                    monitoredObjects.list.map((item, index) => (\r\n                      <option value={item._id} key={index}>\r\n                        {item.name}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div className=\"row mt-5 mb-3\">\r\n        <div className=\"col-4\">\r\n          <div className=\"form-group row\">\r\n            <label className=\"col-sm-2 col-form-label\">Tọa độ</label>\r\n            <div className=\"col-sm-10 d-flex\">\r\n              {!!monitoredObject.lat || !!monitoredObject.lng ? (\r\n                <p className=\"d-flex m-0 justify-content-center align-items-center\">\r\n                  Kinh độ: {monitoredObject.lng}<br/>Vĩ độ: {monitoredObject.lat}\r\n                </p>\r\n              ) : (\r\n                <p className=\"d-flex m-0 justify-content-center align-items-center\">\r\n                  Chưa có giá trị{\" \"}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label\r\n              htmlFor=\"inputAreaNumber\"\r\n              className=\"col-sm-2 col-form-label\"\r\n            >\r\n              Miền giám sát\r\n            </label>\r\n            <div className=\"col-sm-10\">\r\n              <select\r\n                disabled\r\n                className=\"custom-select\"\r\n                name=\"monitoredZone\"\r\n                value={monitoredObject.monitoredZone}\r\n                onChange={handleChange}\r\n              >\r\n                {datazoneAll &&\r\n                  datazoneAll.map((item, index) => (\r\n                    <option value={item._id} key={index}>\r\n                      {item.name}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label\r\n              htmlFor=\"inputAreaNumber\"\r\n              className=\"col-sm-2 col-form-label\"\r\n            >\r\n              Chiều cao đối tượng\r\n            </label>\r\n            <div className=\"col-sm-10\">\r\n              <input\r\n                disabled={option === \"view\"}\r\n                className=\"form-control\"\r\n                placeholder=\"Chiều cao đối tượng\"\r\n                name=\"height\"\r\n                value={monitoredObject.height}\r\n                onChange={handleChange}\r\n              />\r\n              {currentMonitoredZone && (\r\n                <p className=\"mt-2\">\r\n                  Chọn chiều cao cho đối tượng trong khoảng giá trị từ{\" \"}\r\n                  {currentMonitoredZone.minHeight} -{\" \"}\r\n                  {currentMonitoredZone.maxHeight}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-8\">\r\n          <WrappedMap\r\n            googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCV09KQtrmzDnyXYeC_UzB-HAwMKytXRpE\"\r\n            loadingElement={<div style={{ height: `100%` }} />}\r\n            containerElement={<div style={{ height: `95vh` }} />}\r\n            mapElement={<div style={{ height: `100%` }} />}\r\n            onChangeMonitoredZone={onChangeMonitoredZone}\r\n            getCoodinate={(zone) => getCoodinate(zone)}\r\n            monitoredObject={monitoredObject}\r\n            setMonitoredObject={setMonitoredObject}\r\n            option={option}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"footer d-flex justify-content-end\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-secondary mr-5\"\r\n          data-dismiss=\"modal\"\r\n          onClick={() => {\r\n            history.push({\r\n              pathname: `/monitored-object-management`,\r\n            });\r\n          }}\r\n        >\r\n          Đóng\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          data-dismiss=\"modal\"\r\n          onClick={handleCreateMonitoredObject}\r\n        >\r\n          Thêm thông tin\r\n        </button>\r\n      </div>\r\n      <SuccessNotification\r\n        history={history}\r\n        formatStyle={formatStyle}\r\n        messages={objectMessages}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nexport default MonitoredObjectView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport WrappedMap from \"./map\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport SuccessNotification from \"./SuccessNotification\";\r\n\r\nimport { CategoryActions } from \"../../Category/redux/actions\";\r\nimport { MonitoredObjectConstants } from \"../redux/constants\";\r\nimport { MonitoredObjectActions } from \"../redux/actions\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nfunction MonitoredObjectView({ history }) {\r\n  let { id, option } = useParams();\r\n  const dispatch = useDispatch();\r\n  const category = useSelector((state) => state.category);\r\n  const monitoredObjects = useSelector((state) => state.monitoredObjects);\r\n  const { isObjectSuccess, isObjectFailure, objectMessages } = monitoredObjects;\r\n  const [monitoredObject, setMonitoredObject] = useState({\r\n    code: \"\",\r\n    name: \"\",\r\n    type: \"\",\r\n    status: 1,\r\n    description: \"\",\r\n    managementUnit: null,\r\n    category: null,\r\n    areaMonitored: null,\r\n    parent: \"\",\r\n    lat: \"\", //Vĩ độ\r\n    lng: \"\", //Kinh độ\r\n    height: \"\",\r\n    drones: \"\",\r\n    images: null,\r\n    videos: null,\r\n    monitoredZone: \"\",\r\n  });\r\n  const [formatStyle, setFormatStyle] = useState(\"\");\r\n  const [arrImages, setArrImages] = useState([]);\r\n  const [currentMonitoredZone, setCurrentMonitoredZone] = useState(null);\r\n  const [datazoneAll, setDataZoneAll] = useState([]);\r\n\r\n  const getZoneAll = async () => {\r\n    await axios({\r\n      method: \"GET\",\r\n      url: `https://monitoredzoneserver.herokuapp.com/monitoredzone?page=0`,\r\n    })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          setDataZoneAll(res.data.content.zone);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const getDetailMonitoredObject = async () => {\r\n    if (id) {\r\n      await axios({\r\n        method: \"GET\",\r\n        url: `https://dsd05-monitored-object.herokuapp.com/monitored-object/detail-monitored-object/${id}`,\r\n      })\r\n        .then((res) => {\r\n          if (res.data) {\r\n            setMonitoredObject({\r\n              _id: res.data.content._id,\r\n              code: res.data.content.code,\r\n              name: res.data.content.name,\r\n              type: res.data.content.type,\r\n              status: res.data.content.status,\r\n              description: res.data.content.description,\r\n              managementUnit:\r\n                res.data.content.managementUnit &&\r\n                res.data.content.managementUnit._id,\r\n              category:\r\n                res.data.content.category && res.data.content.category._id,\r\n              parent: res.data.content.parent && res.data.content.parent._id,\r\n              lat: res.data.content.lat, //Vĩ độ\r\n              lng: res.data.content.lng, //Kinh độ\r\n              height: res.data.content.height,\r\n              drones: res.data.content.drones,\r\n              images: res.data.content.images,\r\n              videos: res.data.content.videos,\r\n              monitoredZone: res.data.content.monitoredZone,\r\n            });\r\n          }\r\n          getDetailZoneById(res.data.content.monitoredZone);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n  const getImagesMonitored = async () => {\r\n    if (id) {\r\n      await axios({\r\n        method: \"GET\",\r\n        url: `https://it4483team2.herokuapp.com/api/records/monitored/images/${id}`,\r\n      })\r\n        .then((res) => {\r\n          if (res.data) {\r\n            // res.data.result &&\r\n            //   res.data.result.map((item) => arrImages.push(item.link));\r\n            // console.log(arrImages);\r\n            // setTimeout(\r\n            //   setMonitoredObject((prev) => ({\r\n            //     ...prev,\r\n            //     images: arrImages,\r\n            //   })),\r\n            //   1000\r\n            // );\r\n            setArrImages([\r\n              \"https://picsum.photos/id/1018/1000/600/\",\r\n              \"https://picsum.photos/id/1015/1000/600/\",\r\n              \"https://picsum.photos/id/1019/1000/600/\",\r\n            ]);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n  const getVideoMonitored = async () => {\r\n    if (id) {\r\n      await axios({\r\n        method: \"GET\",\r\n        url: `https://it4483team2.herokuapp.com/api/records/monitored/videos/${id}`,\r\n      })\r\n        .then((res) => {\r\n          if (res.data) {\r\n            setMonitoredObject((prev) => ({\r\n              ...prev,\r\n              videos: res.data.result,\r\n            }));\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n  const getDetailZoneById = async (payload) => {\r\n    if (payload) {\r\n      await axios({\r\n        method: \"GET\",\r\n        url: `https://monitoredzoneserver.herokuapp.com/monitoredzone/zoneinfo/${payload}`,\r\n      })\r\n        .then((res) => {\r\n          if (res.data) {\r\n            setCurrentMonitoredZone(res.data.content.zone);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    dispatch(CategoryActions.getAllCategories());\r\n    dispatch(MonitoredObjectActions.getAllMonitoredObjects());\r\n    getZoneAll();\r\n    getDetailMonitoredObject();\r\n    getImagesMonitored();\r\n    getVideoMonitored();\r\n  }, []);\r\n  useEffect(() => {\r\n    if (isObjectFailure) {\r\n      setFormatStyle(\"btn btn-danger\");\r\n      window.$(\"#modalSuccessNotification\").modal(\"show\");\r\n    }\r\n    if (isObjectSuccess) {\r\n      setFormatStyle(\"btn btn-success\");\r\n      window.$(\"#modalSuccessNotification\").modal(\"show\");\r\n    }\r\n    dispatch({\r\n      type: MonitoredObjectConstants.OBJECT_FAILURE,\r\n      payload: false,\r\n    });\r\n    dispatch({\r\n      type: MonitoredObjectConstants.OBJECT_SUCCESS,\r\n      payload: false,\r\n    });\r\n  }, [isObjectSuccess, isObjectFailure]);\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setMonitoredObject((formState) => ({\r\n      ...formState,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n  };\r\n  const handleCreateMonitoredObject = () => {\r\n    if (\r\n      currentMonitoredZone &&\r\n      (monitoredObject.height < currentMonitoredZone.minHeight ||\r\n        monitoredObject.height > currentMonitoredZone.maxHeight)\r\n    ) {\r\n      alert(\r\n        `Chọn chiều cao cho đối tượng trong khoảng giá trị từ ${currentMonitoredZone.minHeight} - ${currentMonitoredZone.maxHeight}`\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (monitoredObject._id) {\r\n      dispatch(\r\n        MonitoredObjectActions.editMonitoredObject(monitoredObject._id, {\r\n          ...monitoredObject,\r\n          areaMonitored: null,\r\n          managementUnit: null,\r\n          images: null,\r\n          videos: null,\r\n          status: monitoredObject.status === \"\" ? \"1\" : monitoredObject.status,\r\n        })\r\n      );\r\n    } else {\r\n      dispatch(\r\n        MonitoredObjectActions.createMonitoredObject({\r\n          ...monitoredObject,\r\n          areaMonitored: null,\r\n          managementUnit: null,\r\n          images: null,\r\n          videos: null,\r\n          status: monitoredObject.status === \"\" ? \"1\" : monitoredObject.status,\r\n        })\r\n      );\r\n    }\r\n    setMonitoredObject({\r\n      code: \"\",\r\n      name: \"\",\r\n      status: 1,\r\n      description: \"\",\r\n      managementUnit: null,\r\n      category: \"\",\r\n      areaMonitored: null,\r\n      parent: \"\",\r\n      type: \"\",\r\n      lat: \"\", //Vĩ độ\r\n      lng: \"\", //Kinh độ\r\n      height: \"\",\r\n      drones: \"\",\r\n      images: null,\r\n      videos: null,\r\n    });\r\n  };\r\n\r\n  const getCoodinate = (zone) => {\r\n    setCurrentMonitoredZone(zone);\r\n  };\r\n  const onChangeMonitoredZone = (id) => {\r\n    setMonitoredObject((prev) => ({\r\n      ...prev,\r\n      monitoredZone: id,\r\n    }));\r\n  };\r\n\r\n  let indexImage = 0;\r\n  return (\r\n    <div>\r\n      <div className=\"header-title mb-5\">\r\n        <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">\r\n          {option === \"view\" && \"Xem chi tiết thông tin đối tượng giám sát\"}\r\n          {option === \"edit\" && \"Chỉnh sửa thông tin đối tượng giám sát\"} \r\n        </h5>\r\n      </div>\r\n      <div className=\"content row\">\r\n        <div className=\"col-6\">\r\n          <form>\r\n            <div className=\"form-group row\">\r\n              <label\r\n                htmlFor=\"inputAreaNumber\"\r\n                className=\"col-sm-2 col-form-label\"\r\n              >\r\n                Mã đối tượng\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <input\r\n                  disabled={option === \"view\"}\r\n                  className=\"form-control\"\r\n                  id=\"inputAreaNumber\"\r\n                  placeholder=\"Mã đối tượng\"\r\n                  name=\"code\"\r\n                  value={monitoredObject.code}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label\r\n                htmlFor=\"inputAreaName\"\r\n                className=\"col-sm-2 col-form-label\"\r\n              >\r\n                Tên đối tượng\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <input\r\n                  disabled={option === \"view\"}\r\n                  className=\"form-control\"\r\n                  id=\"inputAreaName\"\r\n                  placeholder=\"Tên đối tượng\"\r\n                  name=\"name\"\r\n                  value={monitoredObject.name}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"inputStatus\" className=\"col-sm-2 col-form-label\">\r\n                Loại đối tượng\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <select\r\n                  disabled={option === \"view\"}\r\n                  className=\"custom-select\"\r\n                  name=\"type\"\r\n                  value={monitoredObject.type || \"\"}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option disabled>Chọn loại đối tượng </option>\r\n                  <option value=\"DE_DIEU\">Đê điều</option>\r\n                  <option value=\"CHAY_RUNG\">Cháy rừng</option>\r\n                  <option value=\"LUOI_DIEN\">Lưới điện</option>\r\n                  <option value=\"CAY_TRONG\">Cây trồng</option>\r\n                  {!monitoredObject.type && (\r\n                    <option value=\"\">Chưa có giá trị</option>\r\n                  )}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"inputStatus\" className=\"col-sm-2 col-form-label\">\r\n                Trạng thái\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <select\r\n                  disabled={option === \"view\"}\r\n                  className=\"custom-select\"\r\n                  name=\"status\"\r\n                  value={monitoredObject.status || \"null\"}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option disabled>Chọn trạng thái</option>\r\n                  <option value=\"1\">Bình thường</option>\r\n                  <option value=\"2\">Đã hỏng</option>\r\n                  <option value=\"3\">Đang được sửa chữa</option>\r\n                  {!monitoredObject.status && (\r\n                    <option value=\"\">Chưa có giá trị</option>\r\n                  )}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label\r\n                htmlFor=\"inputAreaName\"\r\n                className=\"col-sm-2 col-form-label\"\r\n              >\r\n                Mô tả\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <input\r\n                  disabled={option === \"view\"}\r\n                  className=\"form-control\"\r\n                  id=\"inputAreaName\"\r\n                  placeholder=\"Mô tả cho đối tượng\"\r\n                  name=\"description\"\r\n                  value={monitoredObject.description}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"inputStatus\" className=\"col-sm-2 col-form-label\">\r\n                Danh mục\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <select\r\n                  disabled={option === \"view\"}\r\n                  className=\"custom-select\"\r\n                  name=\"category\"\r\n                  value={monitoredObject.category || \"\"}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option disabled>Chọn danh mục</option>\r\n                  {!monitoredObject.category && (\r\n                    <option value=\"\">Chưa có giá trị</option>\r\n                  )}\r\n                  {category &&\r\n                    category.list &&\r\n                    category.list.map((item, index) => (\r\n                      <option value={item._id} key={index}>\r\n                        {item.name}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"inputStatus\" className=\"col-sm-2 col-form-label\">\r\n                Đối tượng chính\r\n              </label>\r\n              <div className=\"col-sm-10\">\r\n                <select\r\n                  disabled={option === \"view\"}\r\n                  className=\"custom-select\"\r\n                  name=\"parent\"\r\n                  value={monitoredObject.parent}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option disabled>Chọn đối tượng</option>\r\n                  {!monitoredObject.parent && (\r\n                    <option value=\"\">Chưa có giá trị</option>\r\n                  )}\r\n                  {monitoredObject &&\r\n                    monitoredObjects.list &&\r\n                    monitoredObjects.list.map((item, index) => (\r\n                      <option value={item._id} key={index}>\r\n                        {item.name}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <div className=\"form-group row\">\r\n            <label htmlFor=\"inputAreaName\" className=\"col-sm-2 col-form-label\">\r\n              Hình ảnh\r\n            </label>\r\n            <div className=\"col-sm-10\">\r\n              <div\r\n                id=\"carousel-example-2\"\r\n                className=\"carousel slide carousel-fade z-depth-1-half\"\r\n                data-ride=\"false\"\r\n              >\r\n                <ol className=\"carousel-indicators\">\r\n                  {arrImages.map((item, index) => (\r\n                    <li\r\n                      data-target=\"#carousel-example-2\"\r\n                      data-slide-to={index}\r\n                      className={indexImage === index ? \"active\" : \"\"}\r\n                      key={index}\r\n                    ></li>\r\n                  ))}\r\n                </ol>\r\n                <div className=\"carousel-inner\" role=\"listbox\">\r\n                  {arrImages.map((item, index) => (\r\n                    <div\r\n                      className={\r\n                        indexImage === index\r\n                          ? \"carousel-item active\"\r\n                          : \"carousel-item\"\r\n                      }\r\n                      key={index}\r\n                    >\r\n                      <div className=\"view\">\r\n                        <img\r\n                          className=\"d-block w-100\"\r\n                          src={item}\r\n                          alt=\"First slide\"\r\n                          height={300}\r\n                        />\r\n                        <div className=\"mask rgba-black-light\"></div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <a\r\n                  className=\"carousel-control-prev\"\r\n                  href=\"#carousel-example-2\"\r\n                  role=\"button\"\r\n                  data-slide=\"prev\"\r\n                >\r\n                  <span\r\n                    className=\"carousel-control-prev-icon\"\r\n                    aria-hidden=\"true\"\r\n                  ></span>\r\n                  <span className=\"sr-only\">Previous</span>\r\n                </a>\r\n                <a\r\n                  className=\"carousel-control-next\"\r\n                  href=\"#carousel-example-2\"\r\n                  role=\"button\"\r\n                  data-slide=\"next\"\r\n                >\r\n                  <span\r\n                    className=\"carousel-control-next-icon\"\r\n                    aria-hidden=\"true\"\r\n                  ></span>\r\n                  <span className=\"sr-only\">Next</span>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label htmlFor=\"inputAreaName\" className=\"col-sm-2 col-form-label\">\r\n              Video\r\n            </label>\r\n            <div className=\"col-sm-10 \">\r\n              <ul className=\"d-flex p-0 m-0\" style={{ overflow: \"auto\" }}>\r\n                {monitoredObject.videos &&\r\n                  monitoredObject.videos.map((item, index) => (\r\n                    <li\r\n                      className=\"mr-3\"\r\n                      style={{ listStyle: \"none\" }}\r\n                      key={index}\r\n                    >\r\n                      <video width=\"320\" height=\"240\" controls>\r\n                        <source src={item.link} type=\"video/mp4\" />\r\n                      </video>\r\n                    </li>\r\n                  ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row mt-5 mb-3\">\r\n        <div className=\"col-4\">\r\n          <div className=\"form-group row\">\r\n            <label className=\"col-sm-2 col-form-label\">Tọa độ</label>\r\n            <div className=\"col-sm-10 d-flex\">\r\n              {!!monitoredObject.lat || !!monitoredObject.lng ? (\r\n                <p className=\"d-flex m-0 justify-content-center align-items-center\">\r\n                  Kinh độ: {monitoredObject.lng}<br />Vĩ độ: {monitoredObject.lat}\r\n                </p>\r\n              ) : (\r\n                <p className=\"d-flex m-0 justify-content-center align-items-center\">\r\n                  Chưa có giá trị{\" \"}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label\r\n              htmlFor=\"inputAreaNumber\"\r\n              className=\"col-sm-2 col-form-label\"\r\n            >\r\n              Miền giám sát\r\n            </label>\r\n            <div className=\"col-sm-10\">\r\n              <select\r\n                disabled\r\n                className=\"custom-select\"\r\n                name=\"monitoredZone\"\r\n                value={monitoredObject.monitoredZone}\r\n                onChange={handleChange}\r\n              >\r\n                {datazoneAll &&\r\n                  datazoneAll.map((item, index) => (\r\n                    <option value={item._id} key={index}>\r\n                      {item.name}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label\r\n              htmlFor=\"inputAreaNumber\"\r\n              className=\"col-sm-2 col-form-label\"\r\n            >\r\n              Chiều cao đối tượng\r\n            </label>\r\n            <div className=\"col-sm-10\">\r\n              <input\r\n                disabled={option === \"view\"}\r\n                className=\"form-control\"\r\n                placeholder=\"Chiều cao đối tượng\"\r\n                name=\"height\"\r\n                value={monitoredObject.height}\r\n                onChange={handleChange}\r\n              />\r\n              {currentMonitoredZone && (\r\n                <p className=\"mt-2\">\r\n                  Chọn chiều cao cho đối tượng trong khoảng giá trị từ{\" \"}\r\n                  {currentMonitoredZone.minHeight} -{\" \"}\r\n                  {currentMonitoredZone.maxHeight}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-8\">\r\n          {monitoredObject.monitoredZone && (\r\n            <WrappedMap\r\n              googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCV09KQtrmzDnyXYeC_UzB-HAwMKytXRpE\"\r\n              loadingElement={<div style={{ height: `100%` }} />}\r\n              containerElement={<div style={{ height: `95vh` }} />}\r\n              mapElement={<div style={{ height: `100%` }} />}\r\n              onChangeMonitoredZone={onChangeMonitoredZone}\r\n              id={id}\r\n              getCoodinate={(zone) => getCoodinate(zone)}\r\n              monitoredObject={monitoredObject}\r\n              setMonitoredObject={setMonitoredObject}\r\n              option={option}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"footer d-flex justify-content-end\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-secondary mr-5\"\r\n          data-dismiss=\"modal\"\r\n          onClick={() => {\r\n            history.push({\r\n              pathname: `/monitored-object-management`,\r\n            });\r\n          }}\r\n        >\r\n          Đóng\r\n        </button>\r\n        {option !== \"view\" && (\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            data-dismiss=\"modal\"\r\n            onClick={handleCreateMonitoredObject}\r\n          >\r\n            {option === \"edit\" && \"Sửa thông tin\"}\r\n          </button>\r\n        )}\r\n      </div>\r\n      <SuccessNotification\r\n        history={history}\r\n        formatStyle={formatStyle}\r\n        messages={objectMessages}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nexport default MonitoredObjectView;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { notification } from \"antd\";\r\n\r\nconst useBaseHooks = () => {\r\n  // @obj   object\r\n  // @path   string\r\n  // @defaultValue   default value\r\n  const getData = (obj, path, defaultValue) => {\r\n    let value = _.get(obj, path, defaultValue);\r\n    if (value == null) return defaultValue;\r\n    return value;\r\n  };\r\n\r\n  // @message   string\r\n  // @description   string\r\n  // @type   \"success\" | \"error\" | \"warning\"\r\n  const notify = (message, description = \"\", type) => {\r\n    notification[type]({\r\n      message: message,\r\n      description: description,\r\n      duration: 4\r\n    });\r\n  };\r\n\r\n  return {\r\n    getData,\r\n    notify\r\n  };\r\n};\r\n// @obj   object\r\n// @path   string\r\n// @defaultValue   default value\r\nuseBaseHooks.getData = (obj, path, defaultValue) => {\r\n  let value = _.get(obj, path, defaultValue);\r\n  if (value == null) return defaultValue;\r\n  return value;\r\n};\r\n\r\nexport default useBaseHooks;\r\n","import React, { useEffect, useImperativeHandle } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport 'videojs-markers';\r\nimport 'videojs-markers/dist/videojs.markers.css';\r\n\r\nimport videojs from 'video.js';\r\n\r\nconst SOURCES = [\r\n  {\r\n    src: '//vjs.zencdn.net/v/oceans.mp4',\r\n    type: 'video/mp4',\r\n  },\r\n  {\r\n    src: '//vjs.zencdn.net/v/oceans.webm',\r\n    type: 'video/webm',\r\n  },\r\n  {\r\n    src: '//vjs.zencdn.net/v/oceans.ogg',\r\n    type: 'video/ogg',\r\n  },\r\n];\r\n\r\nvar options = { responsive: true };\r\nvar player;\r\nlet markers = [];\r\nconst Video = React.forwardRef((props, ref) => {\r\n  const { poster = '//vjs.zencdn.net/v/oceans.png', sources = SOURCES } = props;\r\n\r\n  useEffect(() => {\r\n    player = videojs('incident-video', options);\r\n    if (typeof player.markers === 'function') {\r\n      player.markers({\r\n        markers: [],\r\n      });\r\n    } else {\r\n      window.location.reload();\r\n    }\r\n  }, []);\r\n\r\n  const setMakers = (markers = []) => {\r\n    player.markers.reset(markers);\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    setMakersByIncidents(incidents = []) {\r\n      setMakers(incidents);\r\n    },\r\n    currentTime() {\r\n      return player.currentTime();\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <video\r\n      id=\"incident-video\"\r\n      className=\"video-js vjs-default-skin\"\r\n      controls\r\n      preload=\"auto\"\r\n      poster={poster}\r\n      ata-setup='{\"fluid\": true}'\r\n      {...props}\r\n    >\r\n      {sources.map((item, index) => (\r\n        <source key={index} src={item.src} type={item.type}></source>\r\n      ))}\r\n      <p className=\"vjs-no-js\">\r\n        To view this video please enable JavaScript, and consider upgrading to a\r\n        web browser that\r\n        <a href=\"https://videojs.com/html5-video-support/\" target=\"_blank\">\r\n          supports HTML5 video\r\n        </a>\r\n      </p>\r\n    </video>\r\n  );\r\n});\r\nexport default Video;\r\n","\r\nclass BaseService {\r\n\r\n    makeQuery(data = {}) {\r\n        let query = [];\r\n        for (let key in data) {\r\n            if (Array.isArray(data[key])) {\r\n                for (let value of data[key]) {\r\n                    if (typeof value == \"object\") value = JSON.stringify(value)\r\n                    query.push({\r\n                        key: `${key}[]`,\r\n                        value: value\r\n                    })\r\n                }\r\n            } else if (typeof data[key] == \"object\") {\r\n                query.push({\r\n                    key: key,\r\n                    value: JSON.stringify(data[key])\r\n                })\r\n            } else {\r\n                query.push({\r\n                    key: key,\r\n                    value: data[key]\r\n                })\r\n            }\r\n        }\r\n        return query.map(q => `${q.key}=${q.value}`).join(\"&\")\r\n    }\r\n\r\n    //  { url: string, method: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\", data?: any, options?: any }\r\n    request = async ({\r\n        url,\r\n        method,\r\n        data,\r\n        options\r\n    } = {}) => {\r\n        if ([\"GET\", \"DELETE\"].includes(method)) {\r\n            url += \"?\" + this.makeQuery(data)\r\n        } else {\r\n            options = {\r\n                ...options,\r\n                body: JSON.stringify(data)\r\n            }\r\n        }\r\n        let token, projectType\r\n        if (typeof(window) !== 'undefined') {\r\n            token = localStorage.getItem(\"token\");\r\n            projectType = localStorage.getItem(\"project-type\");\r\n          }\r\n      \r\n        debugger\r\n        let requestOptions = {\r\n            method: method,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'project-type': projectType,\r\n                'api-token': token\r\n            },\r\n            ...options\r\n        };\r\n        const BASE_URL = \"https://it4483.cf\";\r\n\r\n        const result = await fetch(BASE_URL + url, requestOptions)\r\n        return await this.handleResponse(result)\r\n    }\r\n\r\n    handleResponse = async (response) => {\r\n        const text = await response.text();\r\n        let data = {\r\n            data: \"\",\r\n            message: \"\"\r\n        }\r\n        try {\r\n            data = text && JSON.parse(text);\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n        let url = response.url || \"\"\r\n        if (!response.ok) {\r\n            if ([401].indexOf(response.status) !== -1 && !url.includes(\"/login\")) {\r\n                // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\r\n                window.location.href = \"/login\"\r\n            }\r\n            const error = data || (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        return data.data || data\r\n    }\r\n}\r\n\r\nexport default BaseService","import Base from \"./baseService\";\r\nimport to from \"await-to-js\"\r\nclass Service extends Base {\r\n  url = '/api/incidents'\r\n\r\n  index = async (filter) => {\r\n    return this.request({\r\n      url: `${this.url}/search`,\r\n      method: \"POST\",\r\n      data: filter\r\n    });\r\n  };\r\n  create = async (data) => {\r\n    return this.request({\r\n      url: this.url,\r\n      method: \"POST\",\r\n      data: data\r\n    });\r\n  };\r\n  edit = async (user) => {\r\n    return this.request({\r\n      url: `${this.url}/${user.id}`,\r\n      method: \"PUT\",\r\n      data: user\r\n    });\r\n  };\r\n  detail = async (id) => {\r\n    return this.request({\r\n      url: `${this.url}/${id}`,\r\n      method: \"GET\",\r\n      data: {\r\n        id\r\n      }\r\n    });\r\n  };\r\n  delete = async ({ ids } = {}) => {\r\n    return this.request({\r\n      url: this.url,\r\n      method: \"DELETE\",\r\n      data: {\r\n        ids\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n}\r\n\r\nexport default () => new Service();\r\n","import Base from \"./baseService\";\r\nimport to from \"await-to-js\"\r\nclass IncidentLevelService extends Base {\r\n  url = '/api/incident-levels'\r\n\r\n  index = async () => {\r\n    console.log('dung dung')\r\n    return this.request({\r\n      url: this.url,\r\n      method: \"GET\"\r\n    });\r\n  };\r\n\r\n  // create = async (data) => {\r\n  //   return this.request({\r\n  //     url: \"/api/users\",\r\n  //     method: \"POST\",\r\n  //     data: data\r\n  //   });\r\n  // };\r\n  // edit = async (user) => {\r\n  //   return this.request({\r\n  //     url: `/api/users/${user.id}`,\r\n  //     method: \"PUT\",\r\n  //     data: user\r\n  //   });\r\n  // };\r\n  // detail = async (id) => {\r\n  //   return this.request({\r\n  //     url: `/api/users/${id}`,\r\n  //     method: \"GET\",\r\n  //     data: {\r\n  //       id\r\n  //     }\r\n  //   });\r\n  // };\r\n  // delete = async ({ ids } = {}) => {\r\n  //   return this.request({\r\n  //     url: \"/api/users\",\r\n  //     method: \"DELETE\",\r\n  //     data: {\r\n  //       ids\r\n  //     }\r\n  //   });\r\n  // };\r\n\r\n\r\n}\r\n\r\nexport default () => new IncidentLevelService();\r\n","import Base from \"./baseService\";\r\nimport to from \"await-to-js\"\r\nclass IncidentLevelService extends Base {\r\n  url = '/api/incident-status'\r\n\r\n  index = async () => {\r\n    return this.request({\r\n      url: this.url,\r\n      method: \"GET\"\r\n    });\r\n  };\r\n\r\n\r\n}\r\n\r\nexport default () => new IncidentLevelService();\r\n","import React, { useState, useEffect } from 'react';\r\nimport to from 'await-to-js';\r\nimport { message, Table, Tag } from 'antd';\r\nimport useBaseHook from '../../../hooks/BaseHooks';\r\nimport incidentService from '../../../services/group09/incidentService';\r\nimport incidentLevelService from '../../../services/group09/incidentLevelService';\r\nimport incidentStatusService from '../../../services/group09/incidentStatusService';\r\nimport moment from 'moment';\r\n\r\nlet levels = [];\r\n\r\nconst data = [\r\n  {\r\n    title: 'Trộm thanh giằng cột tại lưới điện cao thế THANH HÓA',\r\n    description:\r\n      ' Đội đường dây chi nhánh phát hiện kẻ gian tháo trộm thanh giằng cột với số lượng lớn (56 thanh)',\r\n    reporter: 'Nguyễn Dung',\r\n    assignee: 'Việt Anh',\r\n    status: 'open',\r\n    level: 'normal',\r\n    startAt: '',\r\n    dueDate: '',\r\n    loggedTime: 0,\r\n    createdBy: 'Hệ thống',\r\n  },\r\n  {\r\n    title: 'Thả diều gây sự cố lưới điện',\r\n    description:\r\n      'Điển hình, lúc 14h55’ ngày 15/4, tại khoảng cột 435/37, đường dây 471E58 của thôn Đắc Tà Vầng, xã Đắc Tôi, huyện Nam Giang, diều của người dân quanh khu vực thả lên bị đứt dây và vướng vào lưới điện, gây sự cố đường dây cấp điện một phần khu vực huyện.',\r\n    reporter: 'Nguyễn Dung',\r\n    assignee: 'Việt Anh',\r\n    status: 'inProcess',\r\n    level: 'urgency',\r\n    startAt: '',\r\n    dueDate: '',\r\n    loggedTime: '4h',\r\n    createdBy: 'Luân Phùng',\r\n  },\r\n  {\r\n    title: 'Cây đổ vào chạm biến áp trên quốc lộ 32 km16',\r\n    description:\r\n      'Lúc 14h55’ ngày 15/4, tại khoảng cột 435/37, đường dây 471E58 của thôn Đắc Tà Vầng, xã Đắc Tôi, huyện Nam Giang, diều của người dân quanh khu vực thả lên bị đứt dây và vướng vào lưới điện, gây sự cố đường dây cấp điện một phần khu vực huyện.',\r\n    reporter: 'Nguyễn Dung',\r\n    assignee: 'Việt Anh',\r\n    status: 'inProcess',\r\n    level: 'urgency',\r\n    startAt: '',\r\n    dueDate: '',\r\n    loggedTime: '4h',\r\n    createdBy: 'Dung Nguyễn',\r\n  },\r\n  {\r\n    title: 'Trộm thanh giằng cột tại lưới điện cao thế THANH HÓA',\r\n    description:\r\n      ' Đội đường dây chi nhánh phát hiện kẻ gian tháo trộm thanh giằng cột với số lượng lớn (56 thanh)',\r\n    reporter: 'Nguyễn Dung',\r\n    assignee: 'Việt Anh',\r\n    status: 'open',\r\n    level: 'normal',\r\n    startAt: '',\r\n    dueDate: '',\r\n    loggedTime: 0,\r\n  },\r\n  {\r\n    title: 'Thả diều gây sự cố lưới điện',\r\n    description:\r\n      'Điển hình, lúc 14h55’ ngày 15/4, tại khoảng cột 435/37, đường dây 471E58 của thôn Đắc Tà Vầng, xã Đắc Tôi, huyện Nam Giang, diều của người dân quanh khu vực thả lên bị đứt dây và vướng vào lưới điện, gây sự cố đường dây cấp điện một phần khu vực huyện.',\r\n    reporter: 'Nguyễn Dung',\r\n    assignee: 'Việt Anh',\r\n    status: 'inProcess',\r\n    level: 'urgency',\r\n    startAt: '',\r\n    dueDate: '',\r\n    loggedTime: '4h',\r\n  },\r\n  {\r\n    title: 'Cây đổ vào Trạm điện cao thế Ngọc Liên',\r\n    description:\r\n      'Điển hình, lúc 14h55’ ngày 15/4, tại khoảng cột 435/37, đường dây 471E58 của thôn Đắc Tà Vầng, xã Đắc Tôi, huyện Nam Giang, diều của người dân quanh khu vực thả lên bị đứt dây và vướng vào lưới điện, gây sự cố đường dây cấp điện một phần khu vực huyện.',\r\n    reporter: 'Nguyễn Dung',\r\n    assignee: 'Việt Anh',\r\n    status: 'inProcess',\r\n    level: 'urgency',\r\n    startAt: '',\r\n    dueDate: '',\r\n    loggedTime: '4h',\r\n  },\r\n];\r\n\r\nlet status = [];\r\nconst Incident = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { notify, getData } = useBaseHook();\r\n  const [incidents, setIncidents] = useState([]);\r\n  const [levels, setLevels] = useState([]);\r\n  const [status, setStatus] = useState([]);\r\n  const columns = [\r\n    {\r\n      name: 'Tên sự cố',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      width: '20%',\r\n      render: (text, record) => <a href={`/incidents/${record._id}`}>{text}</a>,\r\n    },\r\n    {\r\n      title: 'Mô tả',\r\n      dataIndex: 'description',\r\n      key: 'description',\r\n      width: '20%',\r\n    },\r\n    // {\r\n    //   title: \"Người phân công\",\r\n    //   dataIndex: \"reporter\",\r\n    //   key: \"reporter\",\r\n    //   render: (text, record) => record.assignee[0]\r\n    // },\r\n    // {\r\n    //   title: \"Người được phân công\",\r\n    //   dataIndex: \"assignee\",\r\n    //   key: \"assignee\"\r\n    // },\r\n    {\r\n      title: 'Trạng thái',\r\n      dataIndex: 'status', // 'open', 'inProcess', 'resolve', 'close'\r\n      key: 'status',\r\n      filters: status.map((item) => {\r\n        return { text: item.name, value: item.code };\r\n      }),\r\n      onFilter: (value, record) => Number(record.status.code) === Number(value),\r\n      render: (text) => {\r\n        switch (text.code) {\r\n          case 0:\r\n            return <Tag color=\"default\">{text.name}</Tag>;\r\n          case 1:\r\n            return <Tag color=\"processing\">{text.name}</Tag>;\r\n          case 2:\r\n            return <Tag color=\"warning\">{text.name}</Tag>;\r\n          case 3:\r\n            return <Tag color=\"success\">{text.name}</Tag>;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: 'Mức độ',\r\n      dataIndex: 'level', // 'normal', 'urgency'\r\n      key: 'level',\r\n      filters: levels.map((item) => {\r\n        return { text: item.name, value: item.code };\r\n      }),\r\n      onFilter: (value, record) => Number(record.level.code) === Number(value),\r\n      render: (text) => {\r\n        console.log('text', text);\r\n        switch (text.code) {\r\n          case 0:\r\n            return <Tag color=\"#2db7f5\">{text.name}</Tag>;\r\n          case 1:\r\n            return <Tag color=\"#f50\">{text.name}</Tag>;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: 'Người tạo',\r\n      dataIndex: 'createdBy',\r\n      key: 'createdBy',\r\n    },\r\n    {\r\n      title: 'Hạn dự kiến',\r\n      dataIndex: 'dueDate',\r\n      key: 'dueDate',\r\n      sorter: (a, b) =>\r\n        moment(a.dueDate).format('YYYYMMDD') -\r\n        moment(b.dueDate).format('YYYYMMDD'),\r\n      sortDirections: ['descend', 'ascend'],\r\n      render: (text) => moment(text).format('YYYY-MM-DD'),\r\n    },\r\n    {\r\n      title: 'Ngày tạo',\r\n      dataIndex: 'createdAt',\r\n      key: 'createdAt',\r\n      sorter: (a, b) =>\r\n        moment(a.createdAt).format('YYYYMMDD') -\r\n        moment(b.createdAt).format('YYYYMMDD'),\r\n      sortDirections: ['descend', 'ascend'],\r\n      render: (text) => moment(text).format('YYYY-MM-DD'),\r\n    },\r\n    // {\r\n    //   title: \"Thời gian đã xử lý sự cố\",\r\n    //   dataIndex: \"loggedTime\", //Nhân viên phải log time chi tiết về việc xử lý sự cố: (từ mấy h - đến mấy h, đã làm gì)\r\n    //   key: \"loggedTime\"\r\n    // }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    let [error, [incidents, _levels, _status] = []] = await to(\r\n      Promise.all([\r\n        incidentService().index(),\r\n        incidentLevelService().index(),\r\n        incidentStatusService().index(),\r\n      ]),\r\n    );\r\n    if (error) message.error('Không thể trả về danh sách sự cố!');\r\n    setIncidents(incidents.incidents || []);\r\n    setLevels(_levels || []);\r\n    setStatus(_status || []);\r\n    setLoading(false);\r\n    console.log('incidents', incidents);\r\n  };\r\n  return (\r\n    <Table\r\n      columns={columns}\r\n      loading={loading}\r\n      dataSource={incidents}\r\n      loading={loading}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Incident;\r\n","import Base from \"./baseService\";\r\nimport to from \"await-to-js\"\r\nclass Service extends Base {\r\n  index = async (filter) => {\r\n    return this.request({\r\n      url: \"/api/users\",\r\n      method: \"GET\",\r\n      data: filter\r\n    });\r\n  };\r\n  create = async (data) => {\r\n    return this.request({\r\n      url: \"/api/users\",\r\n      method: \"POST\",\r\n      data: data\r\n    });\r\n  };\r\n  edit = async (user) => {\r\n    return this.request({\r\n      url: `/api/users/${user.id}`,\r\n      method: \"PUT\",\r\n      data: user\r\n    });\r\n  };\r\n  detail = async (id) => {\r\n    return this.request({\r\n      url: `/api/users/${id}`,\r\n      method: \"GET\",\r\n      data: {\r\n        id\r\n      }\r\n    });\r\n  };\r\n  delete = async ({ ids } = {}) => {\r\n    return this.request({\r\n      url: \"/api/users\",\r\n      method: \"DELETE\",\r\n      data: {\r\n        ids\r\n      }\r\n    });\r\n  };\r\n\r\n  getImagesByMonitoredId = async ({ id } = {}) => {\r\n    id = id || '5fc68aef1b9ae0001765e821'\r\n    const url = `https://it4483team2.herokuapp.com/api/records/monitored/images/${id}`\r\n\r\n    const response = await fetch(url, {\r\n      method: 'GET',\r\n    });\r\n    return response.json();\r\n  };\r\n}\r\n\r\nexport default () => new Service();\r\n","import React, { useState, useEffect } from 'react';\r\nimport to from 'await-to-js';\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Modal,\r\n  Input,\r\n  Form,\r\n  Select,\r\n  DatePicker,\r\n  message,\r\n} from 'antd';\r\nimport Gallery from 'react-grid-gallery';\r\nimport incidentLevelService from '../../../services/group09/incidentLevelService';\r\nimport incidentService from '../../../services/group09/incidentService';\r\nimport imageService from '../../../services/group09/imageService';\r\nimport moment from 'moment';\r\nlet levels = [];\r\nconst ImageGalley = (props) => {\r\n  const [images, setImages] = useState([]);\r\n  const [selectAllChecked, setSelectAllChecked] = useState(false);\r\n  const [visible, setVisible] = useState(false);\r\n  const [confirmLoading, setConfirmLoading] = useState(false);\r\n  const [form] = Form.useForm();\r\n  const [selectedIds, setSelectedIds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchLevels();\r\n  }, []);\r\n\r\n  const fetchLevels = async () => {\r\n    console.log('fetch level');\r\n    let [leverRes = {}, imagesRes = []] = await Promise.all([\r\n      incidentLevelService().index(),\r\n      imageService().getImagesByMonitoredId({ id: '' }),\r\n    ]);\r\n    console.log('images', imagesRes);\r\n    console.log('leverRes', leverRes);\r\n    levels = leverRes;\r\n    if (imagesRes.status == 200) {\r\n      let _images = (imagesRes.result || []).map((item) => {\r\n        let createdAt = moment(item.createdAt).format('DD/MM/YYYY hh:mm:ss');\r\n        let nameType = '';\r\n        switch (item.problemType) {\r\n          case 0:\r\n            nameType = 'Cháy rừng';\r\n            break;\r\n          case 1:\r\n            nameType = 'Đê điều';\r\n            break;\r\n          case 2:\r\n            nameType = 'Lưới điện';\r\n            break;\r\n          case 3:\r\n            nameType = 'Cây trồng';\r\n            break;\r\n          default:\r\n            nameType = '';\r\n        }\r\n        return {\r\n          ...item,\r\n          src: item.link,\r\n          caption: item.title,\r\n          thumbnailWidth: 320,\r\n          thumbnailHeight: 212,\r\n          thumbnail: item.link,\r\n          tags: [\r\n            { value: createdAt, title: 'Created At' },\r\n            { value: nameType, title: 'Type' },\r\n          ],\r\n        };\r\n      });\r\n      setImages(_images);\r\n    } else {\r\n      message.error(leverRes.message);\r\n    }\r\n  };\r\n  const allImagesSelected = (_images) => {\r\n    return (\r\n      _images.filter((img) => Boolean(img.isSelected)).length == _images.length\r\n    );\r\n  };\r\n\r\n  const onSelectImage = (index, image) => {\r\n    let _images = images.slice();\r\n    let img = _images[index];\r\n    img.hasOwnProperty('isSelected')\r\n      ? (img.isSelected = !img.isSelected)\r\n      : (img.isSelected = true);\r\n    setImages(_images);\r\n    allImagesSelected(images)\r\n      ? setSelectAllChecked(true)\r\n      : setSelectAllChecked(false);\r\n  };\r\n\r\n  const getSelectedImages = () => {\r\n    let selected = [];\r\n    for (let i = 0; i < images.length; i++)\r\n      if (images[i].isSelected == true) selected.push(i);\r\n    return selected;\r\n  };\r\n\r\n  const onClickSelectAll = () => {\r\n    let _selectAllChecked = !selectAllChecked;\r\n    setSelectAllChecked(_selectAllChecked);\r\n\r\n    let _images = images.slice();\r\n    if (_selectAllChecked) {\r\n      for (let i = 0; i < images.length; i++) _images[i].isSelected = true;\r\n    } else {\r\n      for (let i = 0; i < images.length; i++) _images[i].isSelected = false;\r\n    }\r\n    setImages([..._images]);\r\n  };\r\n\r\n  const showModal = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleOk = async () => {\r\n    setConfirmLoading(true);\r\n    let selectedImages = images.filter((item) => Boolean(item.isSelected));\r\n    form\r\n      .validateFields()\r\n      .then(async (values) => {\r\n        console.log('values', values);\r\n        let [error, res] = await to(\r\n          incidentService().create({\r\n            ...values,\r\n            dueDate: moment(values.dueDate).format('YYYY-MM-DD'),\r\n            images: selectedImages,\r\n            type: 'LUOI_DIEN',\r\n          }),\r\n        );\r\n        if (error) message.error('Đã có lỗi xảy ra!');\r\n        message.success('Sự cố đã được tạo mới!');\r\n        setConfirmLoading(false);\r\n        setVisible(false);\r\n      })\r\n      .catch((errorInfo) => {\r\n        console.log('errorInfo', errorInfo);\r\n        setConfirmLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  };\r\n  return (\r\n    <div>\r\n      <Checkbox onChange={onClickSelectAll} checked={selectAllChecked}>\r\n        Select All\r\n      </Checkbox>\r\n      <Button\r\n        disabled={!getSelectedImages().length}\r\n        type={'primary'}\r\n        onClick={showModal}\r\n      >\r\n        Tạo sự cố\r\n      </Button>\r\n      <div\r\n        style={{\r\n          padding: '2px',\r\n          color: '#666',\r\n        }}\r\n      >\r\n        Selected images: {getSelectedImages().toString()}\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: 'block',\r\n          minHeight: '1px',\r\n          width: '100%',\r\n          border: '1px solid #ddd',\r\n          overflow: 'auto',\r\n        }}\r\n      >\r\n        <Gallery\r\n          images={images}\r\n          onSelectImage={onSelectImage}\r\n          showLightboxThumbnails={true}\r\n        />\r\n      </div>\r\n      <Modal\r\n        title=\"Title\"\r\n        visible={visible}\r\n        onOk={handleOk}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancel}\r\n        destroyOnClose={true}\r\n      >\r\n        <Form layout=\"vertical\" initialValues={{}} form={form} preserve={false}>\r\n          <Form.Item\r\n            label=\"Tên sự cố\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"Mô tả\"\r\n            name=\"description\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <Input.TextArea rows={5} />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"Mức độ\"\r\n            name=\"level\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <Select>\r\n              {levels.map((item) => (\r\n                <Select.Option value={item.code} key={item.code}>\r\n                  {item.name}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"DatePicker\"\r\n            name=\"dueDate\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <DatePicker />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"Vị trí\"\r\n            name=\"location\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageGalley;\r\n","import Base from \"./baseService\";\r\nimport to from \"await-to-js\"\r\nclass IncidentTagService extends Base {\r\n  url = '/api/incident-tags'\r\n\r\n  index = async () => {\r\n    return this.request({\r\n      url: this.url,\r\n      method: \"GET\"\r\n    });\r\n  };\r\n\r\n\r\n}\r\n\r\nexport default () => new IncidentTagService();\r\n","import { Tag, Input, Tooltip, AutoComplete } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport incidentTagService from '../../../services/group09/incidentTagService';\r\nimport React from 'react';\r\nimport to from 'await-to-js';\r\n\r\nclass EditableTagGroup extends React.Component {\r\n  state = {\r\n    tags: this.props.defaultValue || [],\r\n    options: [],\r\n    inputVisible: false,\r\n    inputValue: '',\r\n    editInputIndex: -1,\r\n    editInputValue: '',\r\n  };\r\n  async componentDidMount() {\r\n    let [error2, res = []] = await to(incidentTagService().index());\r\n    if (!error2) {\r\n      let options = res.map((item) => ({ value: item.name }));\r\n      this.setState({ options: options });\r\n    }\r\n  }\r\n  handleClose = (removedTag) => {\r\n    const tags = this.state.tags.filter((tag) => tag !== removedTag);\r\n    this.setState({ tags });\r\n  };\r\n\r\n  showInput = () => {\r\n    this.setState({ inputVisible: true }, () => this.input.focus());\r\n  };\r\n\r\n  handleInputChange = (value) => {\r\n    this.setState({ inputValue: value });\r\n  };\r\n\r\n  getTags = () => {\r\n    return this.state.tags;\r\n  };\r\n\r\n  handleInputConfirm = () => {\r\n    const { inputValue } = this.state;\r\n    let { tags } = this.state;\r\n    if (inputValue && tags.indexOf(inputValue) === -1) {\r\n      tags = [...tags, inputValue];\r\n    }\r\n\r\n    this.setState({\r\n      tags,\r\n      inputVisible: false,\r\n      inputValue: '',\r\n    });\r\n  };\r\n\r\n  handleEditInputChange = (e) => {\r\n    this.setState({ editInputValue: e.target.value });\r\n  };\r\n\r\n  handleEditInputConfirm = () => {\r\n    this.setState(({ tags, editInputIndex, editInputValue }) => {\r\n      const newTags = [...tags];\r\n      newTags[editInputIndex] = editInputValue;\r\n\r\n      return {\r\n        tags: newTags,\r\n        editInputIndex: -1,\r\n        editInputValue: '',\r\n      };\r\n    });\r\n  };\r\n\r\n  saveInputRef = (input) => {\r\n    this.input = input;\r\n  };\r\n\r\n  saveEditInputRef = (input) => {\r\n    this.editInput = input;\r\n  };\r\n\r\n  render() {\r\n    const { tags, inputVisible, inputValue } = this.state;\r\n    return (\r\n      <>\r\n        {tags.map((tag, index) => {\r\n          const isLongTag = tag.length > 20;\r\n\r\n          const tagElem = (\r\n            <Tag\r\n              className=\"edit-tag\"\r\n              key={tag}\r\n              closable={true}\r\n              onClose={() => this.handleClose(tag)}\r\n            >\r\n              <span\r\n                onDoubleClick={(e) => {\r\n                  if (index !== 0) {\r\n                    this.setState(\r\n                      { editInputIndex: index, editInputValue: tag },\r\n                      () => {\r\n                        this.editInput.focus();\r\n                      },\r\n                    );\r\n                    e.preventDefault();\r\n                  }\r\n                }}\r\n              >\r\n                {isLongTag ? `${tag.slice(0, 20)}...` : tag}\r\n              </span>\r\n            </Tag>\r\n          );\r\n          return isLongTag ? (\r\n            <Tooltip title={tag} key={tag}>\r\n              {tagElem}\r\n            </Tooltip>\r\n          ) : (\r\n            tagElem\r\n          );\r\n        })}\r\n        {inputVisible && (\r\n          <AutoComplete\r\n            ref={this.saveInputRef}\r\n            className=\"tag-input\"\r\n            style={{ width: 200 }}\r\n            size=\"small\"\r\n            options={this.state.options}\r\n            className=\"tag-input\"\r\n            filterOption={(inputValue, option) =>\r\n              option.value.toUpperCase().indexOf(inputValue.toUpperCase()) !==\r\n              -1\r\n            }\r\n            value={inputValue}\r\n            onChange={this.handleInputChange}\r\n          >\r\n            <Input.Search\r\n              onPressEnter={this.handleInputConfirm}\r\n              onSearch={this.handleInputConfirm}\r\n              size=\"small\"\r\n              laceholder=\"Nhập tag sự cố\"\r\n              enterButton={'Thêm'}\r\n            />\r\n          </AutoComplete>\r\n        )}\r\n        {!inputVisible && (\r\n          <Tag className=\"site-tag-plus\" onClick={this.showInput}>\r\n            <PlusOutlined /> Thêm nhãn\r\n          </Tag>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditableTagGroup;\r\n","import React, { useState, useRef } from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\nimport TagGroup from './TagGroup';\r\nimport useBaseHook from '../../../hooks/BaseHooks';\r\nconst formItemLayout = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 20 },\r\n};\r\nconst buttonItemLayout = {\r\n  wrapperCol: { span: 20, offset: 4 },\r\n};\r\n\r\nconst VideoForm = ({ onStartIncident, onStopIncident }) => {\r\n  const { notify, getData } = useBaseHook();\r\n  const [form] = Form.useForm();\r\n  let tagRef = useRef();\r\n  const [start, setStart] = useState(true);\r\n  const onStart = () => {\r\n    setStart(false);\r\n    onStartIncident();\r\n  };\r\n  const onStop = () => {\r\n    let tags = tagRef.getTags() || [];\r\n    if (!tags.length) {\r\n      notify('Bạn chưa gán nhãn cho sự cố', '', 'error');\r\n      return;\r\n    }\r\n    onStopIncident(tags);\r\n    setStart(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        {...formItemLayout}\r\n        layout={'horizontal'}\r\n        form={form}\r\n        // initialValues={{ layout: formLayout }}\r\n      >\r\n        <div style={{ marginTop: '16px' }}>\r\n          <Form.Item>\r\n            {start ? (\r\n              <Button type=\"primary\" onClick={onStart}>\r\n                Start\r\n              </Button>\r\n            ) : (\r\n              <Button danger onClick={onStop}>\r\n                Stop\r\n              </Button>\r\n            )}\r\n          </Form.Item>\r\n        </div>\r\n        <TagGroup\r\n          ref={(instance) => {\r\n            tagRef = instance;\r\n          }}\r\n        />\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\nexport default VideoForm;\r\n","import { Modal, Button, Form, Input, Select, DatePicker, message } from 'antd';\r\nimport React, { useImperativeHandle, useState, useEffect } from 'react';\r\nimport to from 'await-to-js';\r\nimport incidentLevelService from '../../../services/group09/incidentLevelService';\r\nimport incidentService from '../../../services/group09/incidentService';\r\nimport moment from 'moment';\r\nconst CreateModel = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [defaultValue, setDefaultValue] = React.useState({});\r\n  const [confirmLoading, setConfirmLoading] = React.useState(false);\r\n  const [form] = Form.useForm();\r\n  const [levels, setLevels] = useState([]);\r\n  const types = [\r\n    {\r\n      code: '1',\r\n      name: 'Lưới điện',\r\n    },\r\n    {\r\n      code: '2',\r\n      name: 'Cây trồng',\r\n    },\r\n    {\r\n      code: '3',\r\n      name: 'Đê điều',\r\n    },\r\n    {\r\n      code: '4',\r\n      name: 'Cháy rừng',\r\n    },\r\n  ];\r\n  const showModal = () => {\r\n    setVisible(true);\r\n  };\r\n  useEffect(() => {\r\n    fetchLevels();\r\n  }, []);\r\n\r\n  const fetchLevels = async () => {\r\n    let [error2, res = []] = await to(incidentLevelService().index());\r\n    setLevels(res);\r\n  };\r\n\r\n  const handleOk = async () => {\r\n    setConfirmLoading(true);\r\n    form\r\n      .validateFields()\r\n      .then(async (values) => {\r\n        let [error, res] = await to(\r\n          incidentService().create({\r\n            ...defaultValue,\r\n            ...values,\r\n            dueDate: moment(values.dueDate).format('YYYY-MM-DD'),\r\n            images: [],\r\n            videos: [],\r\n            type: 'LUOI_DIEN',\r\n          }),\r\n        );\r\n        if (error) message.error('Đã có lỗi xảy ra!');\r\n        message.success('Sự cố đã được tạo mới!');\r\n        setConfirmLoading(false);\r\n        setVisible(false);\r\n      })\r\n      .catch((errorInfo) => {\r\n        console.log('errorInfo', errorInfo);\r\n        setConfirmLoading(false);\r\n      });\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    show() {\r\n      setVisible(true);\r\n    },\r\n    hide() {\r\n      setVisible(false);\r\n    },\r\n    setDefaultValue(defaultValue = {}) {\r\n      setDefaultValue(defaultValue);\r\n    },\r\n  }));\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title=\"Title\"\r\n        visible={visible}\r\n        onOk={handleOk}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancel}\r\n      >\r\n        <Form layout=\"vertical\" initialValues={{}} form={form} preserve={false}>\r\n          <Form.Item\r\n            label=\"Tên sự cố\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"Mô tả\"\r\n            name=\"description\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <Input.TextArea rows={5} />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"Mức độ\"\r\n            name=\"level\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <Select>\r\n              {levels.map((item) => (\r\n                <Select.Option value={item.code} key={item.code}>\r\n                  {item.name}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"Loại sự cố\"\r\n            name=\"type\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <Select>\r\n              {types.map((item) => (\r\n                <Select.Option value={item.code} key={item.code}>\r\n                  {item.name}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"DatePicker\"\r\n            name=\"dueDate\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <DatePicker />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"Vị trí\"\r\n            name=\"location\"\r\n            rules={[{ required: true, message: 'Vui lòng nhập thông tin!' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n});\r\nexport default CreateModel;\r\n","import {\r\n  List,\r\n  Avatar,\r\n  Checkbox,\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  Select,\r\n  DatePicker,\r\n  Row,\r\n  Col,\r\n} from 'antd';\r\nimport TagGroup from './TagGroup';\r\nimport CreateIncidentModel from '../Model/CreateIncidentModel';\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport _ from 'lodash';\r\nlet defaultTags = [];\r\nlet currentIndex = -1;\r\nconst VideoList = ({ incidents = [], onChangeTags }) => {\r\n  const [selectedVideos, setSelectedVideos] = useState([]);\r\n  const [visible, setVisible] = useState(false);\r\n  let allTags = [];\r\n  for (let incident of incidents) {\r\n    allTags = allTags.concat(incident.tags || []);\r\n    allTags = _.uniqBy(allTags, function (e) {\r\n      return e;\r\n    });\r\n  }\r\n  const [filteredVideos, setFilteredVideo] = useState(incidents);\r\n\r\n  console.log('allTags', allTags);\r\n  let tagRef = useRef();\r\n  let createRef = useRef();\r\n  const onCheck = (e, index) => {\r\n    let _selects = [];\r\n    if (e.target.checked) {\r\n      _selects = selectedVideos.concat([index]);\r\n    } else {\r\n      _selects = selectedVideos.filter((item) => item !== index);\r\n    }\r\n    setSelectedVideos([..._selects]);\r\n  };\r\n  const handleOk = async () => {\r\n    let tags = tagRef.getTags() || [];\r\n    if (incidents[currentIndex]) {\r\n      incidents[currentIndex].tags = tags;\r\n      incidents[currentIndex].text = tags.toString();\r\n      onChangeTags(incidents);\r\n    }\r\n    setVisible(false);\r\n  };\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  };\r\n  const onClickEdit = (tags = [], index) => {\r\n    defaultTags = tags;\r\n    currentIndex = index;\r\n    setVisible(true);\r\n  };\r\n  const onCreateIncident = () => {\r\n    let allTags = [];\r\n    for (let incident of incidents) {\r\n      allTags = allTags.concat(incident.tags || []);\r\n    }\r\n    createRef.setDefaultValue({ tags: allTags });\r\n    createRef.show();\r\n  };\r\n\r\n  const checkMatchValue = (array1, array2) => {\r\n    const found = array1.filter((val) => array2.includes(val));\r\n    return Boolean(found.length);\r\n  };\r\n\r\n  const handleFilter = (value = []) => {\r\n    if (!value.length) setFilteredVideo(incidents);\r\n    else\r\n      setFilteredVideo(\r\n        incidents.filter((item) => checkMatchValue(item.tags, value)),\r\n      );\r\n  };\r\n  useEffect(() => {\r\n    setFilteredVideo(incidents);\r\n  }, [incidents]);\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col span={4}>\r\n          <Button\r\n            type=\"primary\"\r\n            disabled={!selectedVideos.length}\r\n            onClick={onCreateIncident}\r\n          >\r\n            Tạo sự cố\r\n          </Button>\r\n        </Col>\r\n        <Col span={16}>\r\n          <Form layout=\"horizontal\" initialValues={{}} preserve={false}>\r\n            <Form.Item label=\"Tags\" name=\"tags\">\r\n              <Select mode=\"multiple\" onChange={handleFilter}>\r\n                {allTags.map((item, index) => (\r\n                  <Select.Option value={item} key={index}>\r\n                    {item}\r\n                  </Select.Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n\r\n      <List\r\n        itemLayout=\"horizontal\"\r\n        dataSource={filteredVideos}\r\n        renderItem={(item, index) => (\r\n          <List.Item\r\n            actions={[\r\n              <Checkbox\r\n                key=\"select\"\r\n                onChange={(event) => onCheck(event, index)}\r\n              >\r\n                Chọn\r\n              </Checkbox>,\r\n              <a key=\"edit\" onClick={() => onClickEdit(item.tags, index)}>\r\n                Sửa nhãn\r\n              </a>,\r\n            ]}\r\n          >\r\n            <List.Item.Meta\r\n              avatar={<Avatar src=\"https://i.imgur.com/EFPQbF4.jpeg\" />}\r\n              title={<a href=\"https://ant.design\">{'Video ' + (index + 1)}</a>}\r\n              description={`Start time: ${item.time} - Duration: ${item.duration}. Các nhãn: ${item.text}`}\r\n            />\r\n          </List.Item>\r\n        )}\r\n      />\r\n      <Modal\r\n        title=\"Sửa nhãn sự cố\"\r\n        visible={visible}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        destroyOnClose={true}\r\n      >\r\n        <TagGroup\r\n          defaultValue={defaultTags}\r\n          ref={(instance) => {\r\n            tagRef = instance;\r\n          }}\r\n        />\r\n      </Modal>\r\n      <CreateIncidentModel\r\n        ref={(instance) => {\r\n          createRef = instance;\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoList;\r\n","import React, { useState, useRef } from 'react';\r\nimport { Row, Col, Typography, Divider } from 'antd';\r\nimport Video from '../../../components/Group09/Video';\r\nimport Form from '../../../components/Group09/Video/Form';\r\nimport VideoList from '../../../components/Group09/Video/VideoList';\r\nconst { Title } = Typography;\r\nlet incidents = [];\r\n\r\nconst VideoGalley = (props) => {\r\n  const videoRef = useRef();\r\n  const [reload, setReload] = useState(false);\r\n  const setMakersByIncidents = (incidents) => {\r\n    videoRef.current.setMakersByIncidents(incidents);\r\n  };\r\n  const onStartIncident = () => {\r\n    let currentTime = videoRef.current.currentTime();\r\n    incidents.push({\r\n      time: currentTime.toFixed(2),\r\n      isFinish: false,\r\n      text: '',\r\n      tags: [],\r\n      duration: 1,\r\n      overlayText: \"I'm new\",\r\n    });\r\n    setMakersByIncidents(incidents);\r\n  };\r\n\r\n  const onStopIncident = (tags = []) => {\r\n    let currentIncident = incidents.find((item) => !item.isFinish);\r\n    incidents = incidents.filter((item) => item.isFinish);\r\n    if (!currentIncident) return;\r\n    currentIncident.isFinish = true;\r\n    let currentTime = videoRef.current.currentTime().toFixed(2);\r\n    currentIncident.duration = currentTime - currentIncident.time || 0;\r\n    currentIncident.text = tags.toString();\r\n    currentIncident.tags = tags;\r\n    incidents.push(currentIncident);\r\n    setMakersByIncidents(incidents);\r\n    setReload(!reload);\r\n  };\r\n\r\n  const onChangeTags = (_incidents = []) => {\r\n    incidents = _incidents;\r\n    setMakersByIncidents(incidents);\r\n    setReload(!reload);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row gutter={32}>\r\n        <Col xs={24} md={18}>\r\n          <Video ref={videoRef} incidents={incidents} />\r\n        </Col>\r\n        <Col xs={24} sm={6}>\r\n          <Form\r\n            onStartIncident={onStartIncident}\r\n            onStopIncident={onStopIncident}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={32}>\r\n        <Col xs={24} md={18}>\r\n          <Divider orientation=\"left\" plain>\r\n            <Title level={5}>Danh sách video sự cố</Title>\r\n          </Divider>\r\n          <VideoList incidents={incidents} onChangeTags={onChangeTags} />\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoGalley;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Tag, Select, Button, message, Descriptions } from 'antd';\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\nimport { useParams } from 'react-router-dom';\r\nimport to from 'await-to-js';\r\nimport incidentService from '../../../services/group09/incidentService';\r\nimport incidentLevelService from '../../../services/group09/incidentLevelService';\r\nimport incidentStatusService from '../../../services/group09/incidentStatusService';\r\nimport Gallery from 'react-grid-gallery';\r\n\r\nconst IncidentEdit = (props) => {\r\n  let { id } = useParams();\r\n  const [incident, setIncident] = useState({});\r\n  const [levels, setLevels] = useState([]);\r\n  const [status, setStatus] = useState([]);\r\n  const users = [\r\n    { value: '1', label: 'Dung Nguyen' },\r\n    { value: '2', label: 'Viet Anh' },\r\n    { value: '3', label: 'Luan Phung' },\r\n    { value: '4', label: 'Huy Tran' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    let [error, incident] = await to(incidentService().detail(id));\r\n    let [error1, _levels = []] = await to(incidentLevelService().index());\r\n    let [error2, _status = []] = await to(incidentStatusService().index());\r\n    if (error) message.error('Không thể trả về thông tin sự cố!');\r\n    if (error1) message.error('Không thể trả về danh sách mức độ sự cố!');\r\n    let _images = (incident.images || []).map((item) => {\r\n      return { ...item, isSelected: false };\r\n    });\r\n    setIncident({ ...incident, images: _images } || {});\r\n    setLevels(_levels);\r\n    setStatus(_status);\r\n    console.log('incident', incident);\r\n  };\r\n\r\n  const colorStatus = (code) => {\r\n    switch (code) {\r\n      case 0:\r\n        return 'default';\r\n      case 1:\r\n        return 'processing';\r\n      case 2:\r\n        return 'warning';\r\n      case 3:\r\n        return 'success';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n  const colorLevel = (code) => {\r\n    switch (code) {\r\n      case 0:\r\n        return '#2db7f5';\r\n      case 1:\r\n        return '#f50';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Descriptions\r\n        bordered\r\n        layout=\"vertical\"\r\n        title=\"Chi tiết sự cố\"\r\n        extra={<Button type=\"primary\">Xử lý sự cố</Button>}\r\n      >\r\n        <Descriptions.Item label=\"Tên sự cố\">{incident.name}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Hạn dự kiến\">\r\n          {moment(incident.dueDate).format('YYYY-MM-DD')}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Ngày tạo\">\r\n          {moment(incident.createdAt).format('YYYY-MM-DD')}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Loại sự cố\">\r\n          {_.get(incident, 'type.name', '')}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Trạng thái\">\r\n          <Tag color={`${colorLevel(_.get(incident, 'status.code', null))}`}>\r\n            {_.get(incident, 'status.name', '')}\r\n          </Tag>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Mức độ\">\r\n          <Tag color={colorLevel(_.get(incident, 'level.code', null))}>\r\n            {_.get(incident, 'level.name', '')}\r\n          </Tag>\r\n        </Descriptions.Item>\r\n\r\n        <Descriptions.Item label=\"Mô tả\" span={3}>\r\n          {incident.description}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Ảnh\" span={2}>\r\n          <Gallery\r\n            images={incident.images || []}\r\n            showLightboxThumbnails={true}\r\n            enableImageSelection={false}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Vị trí\" span={1}>\r\n          {incident.location}\r\n          <iframe\r\n            src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3725.5756715163598!2d106.1600463149287!3d20.96954899517287!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x313598a919dd3821%3A0x5ba5e686fd49047!2zVHLhuqFtIMSRaeG7h24gY2FvIHRo4bq_IE5n4buNYyBMacOqbg!5e0!3m2!1sen!2s!4v1605663218115!5m2!1sen!2s\"\r\n            width=\"100%\"\r\n            height=\"450\"\r\n            frameBorder=\"0\"\r\n            style={{ border: 0 }}\r\n            allowFullScreen=\"\"\r\n            aria-hidden=\"false\"\r\n            tabIndex=\"0\"\r\n          ></iframe>\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IncidentEdit;\r\n","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst Header = ({ headers, onSorting }) => {\r\n    const [sortingField, setSortingField] = useState(\"\");\r\n    const [sortingOrder, setSortingOrder] = useState(\"asc\");\r\n\r\n    const onSortingChange = (field) => {\r\n        const order =\r\n            field === sortingField && sortingOrder === \"asc\" ? \"desc\" : \"asc\";\r\n\r\n        setSortingField(field);\r\n        setSortingOrder(order);\r\n        onSorting(field, order);\r\n    };\r\n\r\n\r\n    return (\r\n        <thead>\r\n            <tr >\r\n                {headers.map(({ name, field, sortable }) => (\r\n                    <th className='sticky-column' style={{backgroundColor: \"white\"}}\r\n                        key={name}\r\n                        onClick={() =>\r\n                            sortable ? onSortingChange(field) : null\r\n                        }\r\n                    >\r\n                        {name}\r\n\r\n                        {sortingField && sortingField === field && (\r\n                            <FontAwesomeIcon\r\n                                icon={\r\n                                    sortingOrder === \"asc\"\r\n                                        ? \"arrow-down\"\r\n                                        : \"arrow-up\"\r\n                                }\r\n                            />\r\n                        )}\r\n                    </th>\r\n                ))}\r\n            </tr>\r\n        </thead>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport Pagination from \"react-bootstrap/Pagination\";\r\n\r\nconst PaginationComponent = ({\r\n    total = 0,\r\n    itemsPerPage = 10,\r\n    currentPage = 1,\r\n    onPageChange\r\n}) => {\r\n    const [totalPages, setTotalPages] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (total > 0 && itemsPerPage > 0)\r\n            setTotalPages(Math.ceil(total / itemsPerPage));\r\n    }, [total, itemsPerPage]);\r\n\r\n    const paginationItems = useMemo(() => {\r\n        const pages = [];\r\n\r\n        for (let i = 1; i <= totalPages; i++) {\r\n            pages.push(\r\n                <Pagination.Item\r\n                    key={i}\r\n                    active={i === currentPage}\r\n                    onClick={() => onPageChange(i)}\r\n                >\r\n                    {i}\r\n                </Pagination.Item>\r\n            );\r\n        }\r\n\r\n        return pages;\r\n    }, [totalPages, currentPage]);\r\n\r\n    if (totalPages === 0) return null;\r\n\r\n    return (\r\n        <Pagination>\r\n            <Pagination.Prev\r\n                onClick={() => onPageChange(currentPage - 1)}\r\n                disabled={currentPage === 1}\r\n            />\r\n            {paginationItems}\r\n            <Pagination.Next\r\n                onClick={() => onPageChange(currentPage + 1)}\r\n                disabled={currentPage === totalPages}\r\n            />\r\n        </Pagination>\r\n    );\r\n};\r\n\r\nexport default PaginationComponent;\r\n","import React, { useState } from \"react\";\r\n\r\nconst Search = ({ onSearch }) => {\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    const onInputChange = value => {\r\n        setSearch(value);\r\n        onSearch(value);\r\n    };\r\n    return (\r\n        <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            style={{ width: \"240px\" }}\r\n            placeholder=\"Tìm kiếm ID\"\r\n            value={search}\r\n            onChange={e => onInputChange(e.target.value)}\r\n        />\r\n    );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport Spinner from \"../../resources/images/setting-loader.gif\";\r\n\r\nconst FullPageLoader = () => {\r\n    return (\r\n        <div className=\"fp-container\" style={{align: 'center'}}>\r\n            <img src={Spinner} className=\"fp-loader\" alt=\"loading\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FullPageLoader;\r\n","import React, { useState } from \"react\";\r\nimport FullPageLoader from \"../FullPageLoader\";\r\n\r\nconst useFullPageLoader = () => {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    return [\r\n        loading ? <FullPageLoader /> : null,\r\n        () => setLoading(true), //Show loader\r\n        () => setLoading(false) //Hide Loader\r\n    ];\r\n};\r\n\r\nexport default useFullPageLoader;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { Form, Input, Col, Row } from \"antd\";\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  input: {\r\n    fontSize: 20,\r\n  },\r\n  formItem: {\r\n    padding: 10,\r\n    margin: 0\r\n  },\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    // border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n\r\n  divButton: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  }\r\n}));\r\n\r\n\r\n\r\nexport default function TransitionsModal(props) {\r\n  // state = {\r\n  //   brand: \"\",\r\n  //   color: \"\",\r\n  //   dimensions: \"\",\r\n  //   id: props.id,\r\n  //   idLog: 0,\r\n  //   maxFlightHeight: 0,\r\n  //   maxFlightRange: 0,\r\n  //   maxFlightSpeed: 0,\r\n  //   maxFlightTime: 0,\r\n  //   name: \"\",\r\n  //   rangeBattery: 0,\r\n  //   task: 0,\r\n  //   used: true\r\n  // }\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [drones, setDrones] = useState([]);\r\n\r\n  const getData = () => {\r\n    fetch(\"http://skyrone.cf:6789/drone/getById/\" + props.id)\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        setDrones(json);\r\n        console.log(json);\r\n        setOpen(true);\r\n        initFormData(json);\r\n      });\r\n  };\r\n\r\n  const handleOpen = () => {\r\n      getData();\r\n      \r\n  };\r\n\r\n  const handleChangeInput = (val) => {\r\n    return val;\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const delteDrone = () => {\r\n    fetch(\"http://skyrone.cf:6789/drone/delete/\" + props.id)\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        setDrones(json);\r\n        alert(\"Đã xóa thành công\")\r\n        setOpen(false);\r\n        window.location.reload();\r\n      });\r\n  };\r\n  const initFormData = (json) => {\r\n\r\n    setName(json.name);\r\n    setBrand(json.brand);\r\n    setColor(json.color);\r\n    setDimensions(json.dimensions);\r\n    setMaxFlightHeight(json.maxFlightHeight);\r\n    setMaxFlightRange(json.maxFlightRange);\r\n    setMaxFlightSpeed(json.maxFlightSpeed);\r\n    setMaxFlightTime(json.maxFlightTime);\r\n    setBattery(json.rangeBattery);\r\n    setUrlImage(json.urlImage);\r\n  }\r\n\r\n  const [urlImage, setUrlImage] = useState();\r\n  const [name, setName] = useState(\"\");\r\n  const [brand, setBrand] = useState(drones.brand);\r\n  const [color, setColor] = useState(drones.color);\r\n  const [dimensions, setDimensions] = useState(drones.dimensions);\r\n  const [maxFlightHeight, setMaxFlightHeight] = useState(drones.maxFlightHeight);\r\n  const [maxFlightRange, setMaxFlightRange] = useState(drones.maxFlightRange);\r\n  const [maxFlightSpeed, setMaxFlightSpeed] = useState(drones.maxFlightSpeed);\r\n  const [maxFlightTime, setMaxFlightTime] = useState(drones.maxFlightTime);\r\n  const [rangeBattery, setBattery] = useState(drones.rangeBattery);\r\n  const saveDrone = () => {\r\n   \r\n    let headers = new Headers();\r\n\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('Accept', 'application/json');\r\n\r\n    headers.append('Access-Control-Allow-Origin', '*');\r\n\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify({ \r\n        brand: brand,\r\n        color: color,\r\n        dimensions: dimensions,\r\n        id: props.id,\r\n        idLog: 0,\r\n        maxFlightHeight: maxFlightHeight,\r\n        maxFlightRange: maxFlightRange,\r\n        maxFlightSpeed: maxFlightSpeed,\r\n        maxFlightTime: maxFlightTime,\r\n        name: name,\r\n        rangeBattery: rangeBattery,\r\n        task: 0,\r\n        used: false\r\n      })\r\n    };\r\n    fetch('http://skyrone.cf:6789/drone/save', requestOptions)\r\n    .then(response => response.text())\r\n    .then(contents =>  {\r\n      alert(\"Đã cập nhật thành công\"); \r\n      setOpen(false);\r\n      window.location.reload();\r\n    })\r\n\r\n    .catch(() => console.log(\"Can’t access \" + 'http://skyrone.cf:6789/drone/save' + \" response. Blocked by browser?\"))\r\n      \r\n  }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Button\r\n        onClick={handleOpen}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        startIcon={<EditOutlinedIcon />}\r\n      >\r\n      </Button>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n            <h2 id=\"transition-modal-title\">Id# : {props.id} </h2>\r\n            <Row >\r\n              <Col>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Tên</h4>\r\n                  <Input\r\n                    value={name}\r\n                    className={classes.input}\r\n                    onChange={event => setName(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Nhãn Hiệu</h4>\r\n                  <Input\r\n                    value={brand}\r\n                    className={classes.input}\r\n                    onChange={event => setBrand(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Màu</h4>\r\n                  <Input\r\n                    type=\"text\" \r\n                    value={color}\r\n                    className={classes.input}\r\n                    onChange={event => setColor(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Kích thước</h4>\r\n                  <Input\r\n                    value={dimensions}\r\n                    className={classes.input}\r\n                    onChange={event => setDimensions(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Giới hạn tầm bay (m)</h4>\r\n                  <Input\r\n                    value={maxFlightRange}\r\n                    className={classes.input}\r\n                    onChange={event => setMaxFlightRange(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n\r\n              <Col>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Tốc độ tối đa (m/phút)</h4>\r\n                  <Input\r\n                    value={maxFlightSpeed}\r\n                    className={classes.input}\r\n                    onChange={event => setMaxFlightSpeed(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Thời gian bay (phút)</h4>\r\n                  <Input\r\n                    value={maxFlightTime}\r\n                    className={classes.input}\r\n                    onChange={event => setMaxFlightTime(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Trần bay (m)</h4>\r\n                  <Input\r\n                    value={maxFlightHeight}\r\n                    className={classes.input}\r\n                    onChange={event => setMaxFlightHeight(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Dung lượng pin (mAh)</h4>\r\n                  <Input\r\n                    value={rangeBattery}\r\n                    className={classes.input}\r\n                    onChange={event => setBattery(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Button\r\n                className={classes.input}\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    window.open(urlImage, \"_blank\")\r\n                    }}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  startIcon={<VisibilityIcon />}\r\n                >\r\n                  Xem ảnh\r\n                </Button>\r\n\r\n              </Col>\r\n\r\n            </Row>\r\n            <div className={classes.divButton}>\r\n              <Button\r\n                onClick={delteDrone}\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                className={classes.button}\r\n                startIcon={<DeleteIcon />}\r\n              >\r\n                Xóa Drone\r\n              </Button>\r\n              <Button\r\n                onClick={saveDrone}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                startIcon={<SaveIcon />}\r\n              >\r\n                Lưu\r\n              </Button>\r\n\r\n              \r\n             </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { Form, Input, Col, Row } from \"antd\";\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport ImageUploader from \"react-images-upload\";\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    fontSize: 20,\r\n  },\r\n  formItem: {\r\n    padding: 10,\r\n    margin: 0\r\n  },\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    overflow:'scroll',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    // border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n\r\n  divButton: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  }\r\n}));\r\n\r\n\r\nexport default function TransitionsModal(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n      \r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n\r\n  const [name, setName] = useState();\r\n  const [brand, setBrand] = useState();\r\n  const [color, setColor] = useState();\r\n  const [dimensions, setDimensions] = useState();\r\n  const [maxFlightHeight, setMaxFlightHeight] = useState();\r\n  const [maxFlightRange, setMaxFlightRange] = useState();\r\n  const [maxFlightSpeed, setMaxFlightSpeed] = useState();\r\n  const [maxFlightTime, setMaxFlightTime] = useState();\r\n  const [rangeBattery, setBattery] = useState();\r\n  \r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n  const [imageUrl, setImageUrl] = useState('');\r\n  \r\n  const saveDrone = () => {\r\n    \r\n    // const fd = new FormData();\r\n    // fd.append('images', selectedImage, selectedImage.name)\r\n    // axios.post('https://luan-drive.cf/upload?token=111111&folder=images', fd)\r\n    //   .then(response => {\r\n    //     console.log(response);\r\n    //   })\r\n    //   .catch(err => console.log(err))\r\n    \r\n    \r\n    let headers = new Headers();\r\n\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('Accept', 'application/json');\r\n\r\n    headers.append('Access-Control-Allow-Origin', '*');\r\n\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify({ \r\n        brand: brand,\r\n        code: props.code,\r\n        color: color,\r\n        dimensions: dimensions,\r\n        id: props.id,\r\n        idLog: 0,\r\n        maxFlightHeight: maxFlightHeight,\r\n        maxFlightRange: maxFlightRange,\r\n        maxFlightSpeed: maxFlightSpeed,\r\n        maxFlightTime: maxFlightTime,\r\n        name: name,\r\n        rangeBattery: rangeBattery,\r\n        task: 0,\r\n        used: false\r\n      })\r\n    };\r\n\r\n    fetch('http://skyrone.cf:6789/drone/save', requestOptions)\r\n    .then(response => response.text())\r\n    .then(contents =>  {\r\n      alert(\"Đã lưu thành công\"); \r\n      setOpen(false)})\r\n    .catch(() => console.log(\"Can’t access \" + 'http://skyrone.cf:6789/drone/getByCode/save' + \" response. Blocked by browser?\"))\r\n      \r\n  }\r\n\r\n  function onDrop(picture) {\r\n    // xử lý khi chọn một ảnh\r\n    console.log(picture);\r\n    setSelectedImage(picture[0]);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Button\r\n        onClick={handleOpen}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        startIcon={<AddCircleIcon/>}\r\n      >\r\n        Thêm drone\r\n      </Button>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n            <Row>\r\n              <ImageUploader\r\n                withIcon={false}\r\n                withPreview={true}\r\n                buttonText=\"Choose images\"\r\n                onChange={onDrop}\r\n                imgExtension={[\".jpg\", \".gif\", \".png\", \".gif\"]}\r\n                maxFileSize={5242880}\r\n                simpleImage={true}\r\n              />\r\n            </Row>\r\n            <Row >\r\n              <Col>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Tên</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setName(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Nhãn Hiệu</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setBrand(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Màu</h4>\r\n                  <Input\r\n                    type=\"text\" \r\n                    className={classes.input}\r\n                    onChange={event => setColor(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Kích thước</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setDimensions(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Giới hạn tầm bay (m)</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setMaxFlightRange(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n\r\n              <Col>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Tốc độ tối đa (m/phút)</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setMaxFlightSpeed(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Thời gian bay (phút)</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setMaxFlightTime(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Trần bay (m)</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setMaxFlightHeight(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Dung lượng pin (mAh)</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setBattery(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n\r\n\r\n              </Col>\r\n\r\n            </Row>\r\n            <div className={classes.divButton}>\r\n              <Button\r\n                onClick={saveDrone}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                startIcon={<SaveIcon />}\r\n              >\r\n                Lưu\r\n              </Button>\r\n              \r\n             </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { TableHeader, Pagination, Search } from \"../../components/DataTable\";\r\nimport useFullPageLoader from \"../../components/hooks/useFullPageLoader\";\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport ModalEditDataTable from '../../containers/ModalEditDataTable';\r\nimport ModalAddDataTable from '../../containers/ModalAddDataTable'\r\nimport styled from \"styled-components\";\r\n\r\nconst DataTable = () => {\r\n\r\n    const Styles = styled.div`\r\n  > div {\r\n    height: 80vh;\r\n    overflow: auto;\r\n  }\r\n  table {\r\n\r\n    border-spacing: 0;\r\n\r\n    thead > tr {\r\n      th {\r\n        text-align: center;\r\n        z-index: 50;\r\n      }\r\n    }\r\n\r\n    \r\n`;\r\n\r\n    const [drones, setDrones] = useState([]);\r\n    const [loader, showLoader, hideLoader] = useFullPageLoader();\r\n    const [totalItems, setTotalItems] = useState(0);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [sorting, setSorting] = useState({ field: \"\", order: \"\" });\r\n\r\n    const ITEMS_PER_PAGE = 20;\r\n\r\n    const headers = [\r\n        { name: \"Id#\", field: \"id\", sortable: true },\r\n        { name: \"Tên\", field: \"name\", sortable: true },\r\n        { name: \"Nhãn hiệu\", field: \"brand\", sortable: true },\r\n        { name: \"Màu\", field: \"color\", sortable: true },\r\n        { name: \"Kích thước\", field: \"dimension\", sortable: false },\r\n        { name: \"Giới hạn tầm bay (m)\", field: \"maxFlightRange\", sortable: false },\r\n        { name: \"Tốc độ tối đa (m/min)\", field: \"maxFlightSpeed\", sortable: false },\r\n        { name: \"Thời gian bay tối đa (min)\", field: \"maxFlightTime\", sortable: false },\r\n        { name: \"Trần cao (m)\", field: \"maxFlightHeight\", sortable: false },\r\n        { name: \"Dung lượng pin (mAh)\", field: \"rangeBattery\", sortable: false },\r\n        { name: \"_____\", field: \"rangeBattery\", sortable: false }\r\n    ];\r\n    const getData = () => {\r\n        showLoader();\r\n\r\n        fetch(`http://skyrone.cf:6789/drone/getAll`)\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                hideLoader();\r\n                setDrones(json);\r\n                console.log(json);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, []);\r\n\r\n    const dronesData = useMemo(() => {\r\n        let computedDrones = drones;\r\n\r\n        if (search) {\r\n            computedDrones = computedDrones.filter(\r\n                comment =>\r\n                    comment.id.toLowerCase().includes(search.toLowerCase())\r\n            );\r\n        }\r\n\r\n        setTotalItems(computedDrones.length);\r\n\r\n        //Sorting comments\r\n        if (sorting.field) {\r\n            const reversed = sorting.order === \"asc\" ? 1 : -1;\r\n            computedDrones = computedDrones.sort(\r\n                (a, b) =>\r\n                    reversed * a[sorting.field].localeCompare(b[sorting.field.toString])\r\n            );\r\n        }\r\n\r\n        //Current Page slice\r\n        return computedDrones.slice(\r\n            (currentPage - 1) * ITEMS_PER_PAGE,\r\n            (currentPage - 1) * ITEMS_PER_PAGE + ITEMS_PER_PAGE\r\n        );\r\n    }, [drones, currentPage, search, sorting]);\r\n\r\n    return (\r\n\r\n        <>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                    <ModalAddDataTable />\r\n                </div>\r\n                <div className=\"col-md-5\">\r\n                    <Pagination\r\n                        total={totalItems}\r\n                        itemsPerPage={ITEMS_PER_PAGE}\r\n                        currentPage={currentPage}\r\n                        onPageChange={page => setCurrentPage(page)}\r\n                    />\r\n                </div>\r\n                <div className=\"col-md-4 d-flex flex-row-reverse\">\r\n                    <Search\r\n                        onSearch={value => {\r\n                            setSearch(value);\r\n                            setCurrentPage(1);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Styles>\r\n            {loader}\r\n                <div className=\"row w-100\">\r\n                    <div className=\"col mb-3 col-12 text-center\">\r\n\r\n\r\n                        <table className=\"table table-striped sticky-table\">\r\n                            <TableHeader\r\n                                headers={headers}\r\n                                onSorting={(field, order) =>\r\n                                    setSorting({ field, order })\r\n                                }\r\n                            />\r\n                            <tbody>\r\n                                {dronesData.map(drone => (\r\n                                    <tr>\r\n                                        <th scope=\"row\" key={drone.id}>\r\n                                            {drone.id}\r\n                                        </th>\r\n                                        <td>{drone.name}</td>\r\n                                        <td>{drone.brand}</td>\r\n                                        <td>{drone.color}</td>\r\n                                        <td>{drone.dimensions}</td>\r\n                                        <td>{drone.maxFlightRange}</td>\r\n                                        <td>{drone.maxFlightSpeed}</td>\r\n                                        <td>{drone.maxFlightTime}</td>\r\n                                        <td>{drone.maxFlightHeight}</td>\r\n                                        <td>{drone.rangeBattery}</td>\r\n                                        <td>\r\n                                            <ModalEditDataTable code={drone.code} id={drone.id} />\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n               \r\n            </Styles>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DataTable;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { TableHeader, Pagination, Search } from \"../../components/DataTable\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {\r\n  withGoogleMap,\r\n  withScriptjs,\r\n  GoogleMap,\r\n  Marker,\r\n  InfoWindow\r\n} from \"react-google-maps\";\r\n// import mapStyles from \"./mapStyles\";\r\n\r\n\r\nfunction Map() {\r\n\r\n\r\n  const [selectedPoint, setSelectedPoint] = useState(null);\r\n\r\n  const style = {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n};\r\n\r\n  const headers = [\r\n    { name: \"IdDrone\", field: \"idDrone\", sortable: true },\r\n    { name: \"Tên đường bay\", field: \"name\", sortable: true },\r\n    { name: \"Id Miền giám sát\", field: \"idSupervisedArea\", sortable: true },\r\n    { name: \"Trần bay\", field: \"heightFlight\", sortable: false },\r\n    { name: \"Bắt đầu\", field: \"timeStart\", sortable: false },\r\n    { name: \"Kết thúc\", field: \"timeEnd\", sortable: false },\r\n   \r\n  ];\r\n  const [path, setPath] = useState([]);\r\n  const [flightPoints, setFlightPoints] = useState([])\r\n  const getAllFlightPath = () => {\r\n    fetch(`http://skyrone.cf:6789/flightPath/getAllPath`)\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            setPath(json);\r\n        });\r\n  };\r\n\r\n  const getPointOfPath = (id) => {\r\n    fetch(`http://skyrone.cf:6789/flightPoint/getPointOfPath/`+id)\r\n        .then(response => response.json())\r\n        .then(json => {\r\n\r\n          setFlightPoints(json);\r\n        });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllFlightPath();\r\n    const listener = e => {\r\n      if (e.key === \"Escape\") {\r\n        setSelectedPoint(null);\r\n        \r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", listener);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", listener);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n  <>\r\n    <GoogleMap\r\n      onClick={(e) => {\r\n        console.log(\"NA \"+e.latLng.lat());\r\n        setSelectedPoint(e);\r\n      }}\r\n      defaultZoom={13}\r\n      defaultCenter={{ lat: 21.031558, lng: 105.864435 }}\r\n      // defaultOptions={{ styles: mapStyles }}\r\n    >\r\n      \r\n      {flightPoints.map(point => (\r\n            <Marker\r\n            key={point.id}\r\n              position={{\r\n                lat: point.locationLat,\r\n                lng: point.locationLng\r\n              }}\r\n              onClick={() => {\r\n              }}\r\n            >\r\n              </Marker>\r\n      ))}\r\n\r\n      {selectedPoint && (\r\n        <InfoWindow\r\n          onCloseClick={() => {\r\n          }}\r\n          position={{\r\n            lat: selectedPoint.latLng.lat(),\r\n            lng: selectedPoint.latLng.lng()\r\n            \r\n          }}\r\n        >\r\n          <div>\r\n        <p>{selectedPoint.latLng.lat()} - {selectedPoint.latLng.lng()}</p>\r\n          </div>\r\n        </InfoWindow>\r\n      )}\r\n\r\n    </GoogleMap>\r\n    <Fab \r\n    color=\"primary\" aria-label=\"add\" style={style}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      window.location.href='/flight-point';\r\n      }}\r\n    >\r\n        <AddIcon />\r\n    </Fab>\r\n        <table style={{ height: `45%` }}className=\"table table-striped\">\r\n          <TableHeader\r\n              headers={headers}\r\n              // onSorting={(field, order) =>\r\n              //     setSorting({ field, order })\r\n              // }\r\n          />\r\n          <tbody>\r\n              {path.map(pathFlight => (\r\n                  <tr >\r\n                      <th scope=\"row\" key={pathFlight.id}>\r\n                          {pathFlight.idDrone}\r\n                      </th>\r\n                      <td>{pathFlight.name}</td>\r\n                      <td>{pathFlight.idSupervisedArea}</td>\r\n                      <td>{pathFlight.heightFlight}</td>\r\n                      <td>{pathFlight.timeStart}</td>\r\n                      <td>{pathFlight.timeEnd}</td>\r\n                      <td>\r\n                      <Button\r\n                        onClick={ () => {\r\n                          console.log(\"A Td Element was clicked!\" + pathFlight.id)\r\n                          getPointOfPath(pathFlight.id)\r\n                        }\r\n                        }\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                      >\r\n                      Xem đường bay\r\n                      </Button>\r\n                      </td>\r\n                  </tr>\r\n              ))}\r\n          </tbody>\r\n      </table>\r\n  </>\r\n  );\r\n}\r\n\r\nconst MapWrapped = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function App() {\r\n  return (\r\n    \r\n\r\n          <MapWrapped\r\n              googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyBYUJNgbfjL9QvyUobTRpfmhOpLlvtLaAY`}\r\n              loadingElement={<div style={{ height: `65%` }} />}\r\n              containerElement={<div style={{ height: `65%` }} />}\r\n              mapElement={<div style={{ height: `100%` }} />}\r\n            />\r\n         \r\n      \r\n      \r\n\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Button from '@material-ui/core/Button';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Form, Input, Col, Row } from \"antd\";\r\nimport {\r\n  withGoogleMap,\r\n  withScriptjs,\r\n  GoogleMap,\r\n  Marker,\r\n  InfoWindow\r\n} from \"react-google-maps\";\r\n\r\n\r\nfunction Map() {\r\n  const [open, setOpen] = React.useState(true);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    input: {\r\n      fontSize: 20,\r\n    },\r\n    formItem: {\r\n      padding: 10,\r\n      margin: 0\r\n    },\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      // border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n    },\r\n  \r\n    button: {\r\n      margin: theme.spacing(1),\r\n    },\r\n  \r\n    divButton: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    }\r\n  }));\r\n  const [idPath, setIdPath] = useState();\r\n  const [idDrone, setIdDrone] = useState();\r\n  const [namePath, setNamePath] = useState();\r\n  const [heightPath, setHeightPath] = useState();\r\n  const savePath = () => {\r\n    let headers = new Headers();\r\n\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('Accept', 'application/json');\r\n\r\n    headers.append('Access-Control-Allow-Origin', '*');\r\n\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify({ \r\n        idDrone: idDrone,\r\n        name: namePath,\r\n        heightFlight: heightPath,\r\n        \r\n      })\r\n    };\r\n    fetch('http://skyrone.cf:6789/flightPath/save', requestOptions)\r\n    .then(response => response.json())\r\n    .then(json =>  {\r\n      setOpen(false)\r\n      setIdPath(json.id)\r\n    })\r\n    .catch(() => console.log(\"Can’t access \" + 'http://skyrone.cf:6789/drone/getByCode/save' + \" response. Blocked by browser?\"))\r\n      \r\n  }\r\n  const savePoint = () => {\r\n    let headers = new Headers();\r\n\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('Accept', 'application/json');\r\n\r\n    headers.append('Access-Control-Allow-Origin', '*');\r\n\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify({ \r\n        idDrone: idDrone,\r\n        idFlightPath: idPath,\r\n        locationLat: selectedPoint.latLng.lat(),\r\n        locationLng: selectedPoint.latLng.lng(),\r\n        \r\n      })\r\n    };\r\n    fetch('http://skyrone.cf:6789/flightPoint/save', requestOptions)\r\n    .then(response => response.text())\r\n    .then(contents =>  {\r\n      setOpen(false)})\r\n    .catch(() => console.log(\"Can’t access \" + 'http://skyrone.cf:6789/drone/getByCode/save' + \" response. Blocked by browser?\"))\r\n      \r\n  }\r\n  const classes = useStyles();\r\n  const [selectedPoint, setSelectedPoint] = useState(null);\r\n  const style = {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const listener = e => {\r\n      if (e.key === \"Escape\") {\r\n        setSelectedPoint(null);\r\n        \r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", listener);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", listener);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n  <>\r\n    <GoogleMap\r\n      onClick={(e) => {\r\n        console.log(\"NA \"+e.latLng.lat());\r\n        setSelectedPoint(e);\r\n      }}\r\n      defaultZoom={13}\r\n      defaultCenter={{ lat: 21.031558, lng: 105.864435 }}\r\n      // defaultOptions={{ styles: mapStyles }}\r\n    >\r\n  \r\n\r\n      {selectedPoint && (\r\n        <InfoWindow\r\n          onCloseClick={() => {\r\n          }}\r\n          position={{\r\n            lat: selectedPoint.latLng.lat(),\r\n            lng: selectedPoint.latLng.lng()\r\n            \r\n          }}\r\n        >\r\n          <div>\r\n        <p>{selectedPoint.latLng.lat()} - {selectedPoint.latLng.lng()}</p>\r\n          </div>\r\n        </InfoWindow>\r\n      )}\r\n\r\n    </GoogleMap>\r\n    <Fab \r\n    color=\"primary\" aria-label=\"add\" style={style}\r\n    onClick={(e) => {\r\n      savePoint();\r\n      }}\r\n    >\r\n        <AddIcon />\r\n    </Fab>\r\n    <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>ID drone</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setIdDrone(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Tên đường bay</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setNamePath(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item className={classes.formItem}>\r\n                  <h4>Trần bay</h4>\r\n                  <Input\r\n                    className={classes.input}\r\n                    onChange={event => setHeightPath(event.target.value)}\r\n                  />\r\n                </Form.Item>\r\n            <div className={classes.divButton}>\r\n              <Button\r\n                onClick={savePath}\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                startIcon={<SaveIcon />}\r\n              >\r\n                Lưu\r\n              </Button>\r\n              \r\n             </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n\r\n  </>\r\n  );\r\n}\r\n\r\nconst MapWrapped = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function App() {\r\n  return (\r\n    \r\n\r\n          <MapWrapped\r\n              googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyBYUJNgbfjL9QvyUobTRpfmhOpLlvtLaAY`}\r\n              loadingElement={<div style={{ height: `65%` }} />}\r\n              containerElement={<div style={{ height: `65%` }} />}\r\n              mapElement={<div style={{ height: `100%` }} />}\r\n            />\r\n         \r\n      \r\n      \r\n\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { Form, Input, Col, Row } from \"antd\";\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  input: {\r\n    fontSize: 20,\r\n  },\r\n  formItem: {\r\n    padding: 10,\r\n    margin: 0\r\n  },\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    // border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n\r\n  divButton: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  }\r\n}));\r\n\r\n\r\n\r\nexport default function TransitionsModal(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [drones, setDrones] = useState([]);\r\n\r\n  const getData = () => {\r\n    fetch(\"http://skyrone.cf:6789/droneState/getParameterFlightRealTime/\" + props.id)\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        setDrones(json.data);\r\n        console.log(json.data);\r\n        setOpen(true);\r\n        initFormData(json.data);\r\n      });\r\n  };\r\n\r\n  const handleOpen = () => {\r\n      getData();\r\n      \r\n  };\r\n\r\n  const handleChangeInput = (val) => {\r\n    return val;\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const delteDrone = () => {\r\n    fetch(\"http://skyrone.cf:6789/drone/delete/\" + props.id)\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        setDrones(json);\r\n        alert(\"Đã xóa thành công\")\r\n        setOpen(false);\r\n        window.location.reload();\r\n      });\r\n  };\r\n  const initFormData = (json) => {\r\n\r\n    setName(json.name);\r\n    setBrand(json.brand);\r\n    setColor(json.color);\r\n    setDimensions(json.dimensions);\r\n    setMaxFlightHeight(json.maxFlightHeight);\r\n    setMaxFlightRange(json.maxFlightRange);\r\n    setMaxFlightSpeed(json.maxFlightSpeed);\r\n    setMaxFlightTime(json.maxFlightTime);\r\n    setBattery(json.rangeBattery);\r\n    console.log('name '+json.brand)\r\n  }\r\n  const [name, setName] = useState(\"NGOC ANH\");\r\n  const [brand, setBrand] = useState(drones.brand);\r\n  const [color, setColor] = useState(drones.color);\r\n  const [dimensions, setDimensions] = useState(drones.dimensions);\r\n  const [maxFlightHeight, setMaxFlightHeight] = useState(drones.maxFlightHeight);\r\n  const [maxFlightRange, setMaxFlightRange] = useState(drones.maxFlightRange);\r\n  const [maxFlightSpeed, setMaxFlightSpeed] = useState(drones.maxFlightSpeed);\r\n  const [maxFlightTime, setMaxFlightTime] = useState(drones.maxFlightTime);\r\n  const [rangeBattery, setBattery] = useState(drones.rangeBattery);\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Button\r\n        onClick={handleOpen}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        startIcon={<VisibilityIcon />}\r\n      >\r\n      </Button>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n            <h2 id=\"transition-modal-title\">Id# : {props.id} </h2>\r\n            <Row >\r\n              <Col>\r\n              <h3 id=\"transition-modal-title\">Tọa độ Lat :  {drones.locationLat}</h3>\r\n              </Col>\r\n              <Col>\r\n              <h3 id=\"transition-modal-title\">Tọa độ Lng :  {drones.locationLng}</h3>\r\n              </Col>\r\n            </Row>\r\n            <h3 id=\"transition-modal-title\">Độ cao (m) :  {drones.heightFlight}</h3>\r\n            {/* <h3 id=\"transition-modal-title\">Thời gian đã bay :  {drones.time}</h3> */}\r\n            <h3 id=\"transition-modal-title\">Tốc độ bay :  {drones.speed}</h3>\r\n            <h3 id=\"transition-modal-title\">Phần trăm pin :  {drones.percentBattery}</h3>\r\n            <div className={classes.divButton}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                className={classes.button}\r\n              >\r\n               Thu Hồi \r\n              </Button>\r\n             </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { TableHeader, Pagination, Search } from \"../../components/DataTable\";\r\nimport useFullPageLoader from \"../../components/hooks/useFullPageLoader\";\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport ModalEditDataTable from '../../containers/ModalEditDataTable';\r\nimport ModalAddDataTable from '../../containers/ModalAddDataTable'\r\nimport styled from \"styled-components\";\r\nimport ModalFlight from '../../containers/ModalFlight'\r\nconst DataTable = () => {\r\n\r\n    const Styles = styled.div`\r\n        > div {\r\n            height: 80vh;\r\n            overflow: auto;\r\n        }\r\n        table {\r\n\r\n            border-spacing: 0;\r\n\r\n            thead > tr {\r\n            th {\r\n                text-align: center;\r\n                z-index: 50;\r\n            }\r\n    }`;\r\n\r\n    const [drones, setDrones] = useState([]);\r\n    const [loader, showLoader, hideLoader] = useFullPageLoader();\r\n    const [totalItems, setTotalItems] = useState(0);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [sorting, setSorting] = useState({ field: \"\", order: \"\" });\r\n\r\n    const ITEMS_PER_PAGE = 20;\r\n\r\n    const headers = [\r\n        { name: \"Id#\", field: \"idDrone\", sortable: true },\r\n        { name: \"Tên\", field: \"name\", sortable: true },\r\n        { name: \"Tình trạng\", field: \"message\", sortable: true},\r\n        { name: \"______\", field: \"\", sortable: false }\r\n    ];\r\n    const [stateDrone, setStateDrone] = useState(\"0\");\r\n    const getData = () => {\r\n        showLoader();\r\n\r\n        fetch(`http://skyrone.cf:6789/droneState/getAllStateNow`)\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                hideLoader();\r\n                setDrones(json);\r\n                console.log(json);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, []);\r\n\r\n    const dronesData = useMemo(() => {\r\n        let computedDrones = drones;\r\n\r\n        if (stateDrone) {\r\n            if (stateDrone === \"0\") {\r\n                computedDrones = drones\r\n            } else {\r\n                computedDrones = computedDrones.filter(\r\n                    comment => comment.message.includes(stateDrone));\r\n            }\r\n        }\r\n\r\n        if (search) {\r\n            computedDrones = computedDrones.filter(\r\n                comment =>\r\n                    comment.idDrone.toLowerCase().includes(search.toLowerCase())\r\n            );\r\n        }\r\n\r\n        setTotalItems(computedDrones.length);\r\n\r\n        //Sorting comments\r\n        if (sorting.field) {\r\n            const reversed = sorting.order === \"asc\" ? 1 : -1;\r\n            computedDrones = computedDrones.sort(\r\n                (a, b) =>\r\n                    reversed * a[sorting.field].localeCompare(b[sorting.field.toString])\r\n            );\r\n        }\r\n\r\n        //Current Page slice\r\n        return computedDrones.slice(\r\n            (currentPage - 1) * ITEMS_PER_PAGE,\r\n            (currentPage - 1) * ITEMS_PER_PAGE + ITEMS_PER_PAGE\r\n        );\r\n    }, [drones, currentPage, search, sorting, stateDrone]);\r\n\r\n    return (\r\n\r\n        <>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                    <ModalAddDataTable />\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                    <Pagination\r\n                        total={totalItems}\r\n                        itemsPerPage={ITEMS_PER_PAGE}\r\n                        currentPage={currentPage}\r\n                        onPageChange={page => setCurrentPage(page)}\r\n                    />\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    <select value={stateDrone} \r\n                        onChange={event => setStateDrone(event.target.value)}>\r\n                        <option value=\"0\">Tất cả</option>\r\n                        <option value=\"Đang Rảnh\">Đang rảnh</option>\r\n                        <option value=\"Đang Bay\">Đang bay</option>\r\n                        <option value=\"Đang Sạc\">Đang sạc</option>\r\n                        <option value=\"Đang Bảo trì\">Đang bảo trì</option>\r\n                        <option value=\"Hỏng\">Hỏng</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"col-md-2 d-flex flex-row-reverse\">\r\n                    <Search\r\n                        onSearch={value => {\r\n                            setSearch(value);\r\n                            setCurrentPage(1);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Styles>\r\n            {loader}\r\n                <div className=\"row w-100\">\r\n                    <div className=\"col mb-3 col-12 text-center\">\r\n\r\n\r\n                        <table className=\"table table-striped sticky-table\">\r\n                            <TableHeader\r\n                                headers={headers}\r\n                                onSorting={(field, order) =>\r\n                                    setSorting({ field, order })\r\n                                }\r\n                            />\r\n                            <tbody>\r\n                                {dronesData.map(drone => (\r\n                                    <tr>\r\n                                        <th scope=\"row\" key={drone.idDrone}>\r\n                                            {drone.idDrone}\r\n                                        </th>\r\n                                        <td>{drone.name}</td>\r\n                                        <td>{drone.message}</td>\r\n                                        <td>\r\n                                        {(() => {\r\n                                                if (drone.state == 0) {\r\n                                                return (\r\n                                                    <Button\r\n                                                    variant=\"contained\"\r\n                                                    color=\"darkslategrey\"\r\n                                                  >\r\n                                                    Đặt lịch sạc\r\n                                                  </Button>\r\n                                                )\r\n                                                } else if (drone.state == 1) {\r\n                                                    return (\r\n                                                        <ModalFlight id={drone.idDrone} />\r\n                                                    )\r\n                                                } else if (drone.state == 2 || drone.state == 3) {\r\n                                                    return (\r\n                                                        <div>{new Intl.DateTimeFormat(\"vi-VE\", {\r\n                                                            year: \"numeric\", month: \"long\", day: \"2-digit\", \r\n                                                            hour: 'numeric', minute: 'numeric', second: 'numeric',\r\n                                                            hour12: true\r\n                                                          }).format(drone.timeStart)}\r\n                                                          <br></br>\r\n                                                          {new Intl.DateTimeFormat(\"vi-VE\", {\r\n                                                            year: \"numeric\", month: \"long\", day: \"2-digit\", \r\n                                                            hour: 'numeric', minute: 'numeric', second: 'numeric',\r\n                                                            hour12: true\r\n                                                          }).format(drone.timeEnd)}\r\n                                                          </div>\r\n                                                    )\r\n                                                }\r\n                                                else if (drone.state == 4) {\r\n                                                return (\r\n                                                    <Button\r\n                                                    variant=\"contained\"\r\n                                                    color=\"secondary\"\r\n                                                  >\r\n                                                    Đặt bảo trì\r\n                                                  </Button>\r\n                                                ) \r\n                                                }\r\n                                            })()}\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n               \r\n            </Styles>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DataTable;\r\n","import React, { useRef } from 'react';\r\nimport { compose, withProps } from \"recompose\";\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker, Polyline, Circle } from \"react-google-maps\";\r\nimport { IMAGES } from '../../constants';\r\n\r\nconst MyMapComponent = compose(\r\n  withProps({\r\n    googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\",\r\n    loadingElement: <div style={{ height: `100%` }} />,\r\n    containerElement: <div style={{ height: `400px` }} />,\r\n    mapElement: <div style={{ height: `100%` }} />,\r\n  }),\r\n  withScriptjs,\r\n  withGoogleMap\r\n)((props) => {\r\n\r\n    const mapRef = useRef(null);\r\n\r\n    function onClick(t, map, coord){\r\n        console.log(t.latLng.lat(), t.latLng.lng());\r\n        // console.log(mapRef.current);\r\n        // var first = new window.google.maps.LatLng(21.633724159912738, 104.73234736053068);\r\n        // var second = new window.google.maps.LatLng(20.382516695905508, 107.34709345428068);\r\n        // var bounds = new window.google.maps.LatLngBounds();\r\n        // bounds.extend(first);\r\n        // bounds.extend(second);\r\n        // mapRef.current.fitBounds(bounds);\r\n    }\r\n\r\n    return (\r\n        <GoogleMap\r\n            ref={mapRef}\r\n            defaultZoom={10}\r\n            defaultCenter={{ lat: 20.99933610536628, lng: 105.8329881666537 }}\r\n            onClick={onClick}\r\n        >\r\n            <Polyline path={[{lat: 58.41947, lng: -30}, {lat: -51.10061, lng: 147.93535}]}\r\n                options={{strokeColor: \"red\", \r\n                strokeOpacity: 1,\r\n                strokeWeight: 5}}\r\n            />\r\n            <Marker \r\n                position={{ lat: 20.99933610536628, lng: 105.8229881666537 }}\r\n                icon={{\r\n                    url: IMAGES.poin,\r\n                    anchor: new window.google.maps.Point(5, 58),\r\n                    size: new window.google.maps.Size(32, 32)\r\n                }}\r\n            />\r\n            <Circle \r\n                onClick={onClick}\r\n                center={{ lat: 20.99933610536628, lng: 105.8329881666537 }}\r\n                radius={20}\r\n                anchor= {new window.google.maps.Point(5, 58)}\r\n                options={{\r\n                    strokeColor: \"#FF0000\",\r\n                    strokeOpacity: 0.8,\r\n                    strokeWeight: 2,\r\n                    fillColor: \"#FF0000\",\r\n                    fillOpacity: 1,\r\n                }}\r\n            />\r\n        </GoogleMap>\r\n    )}\r\n)\r\n\r\nexport default function MapTest(){\r\n    function onClick(t, map, coord){\r\n        console.log(t.latLng.lat(), t.latLng.lng());\r\n    }\r\n    return <MyMapComponent onClick={onClick}/>;\r\n}","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { InfoWindow, Marker } from 'react-google-maps';\r\n\r\nMarkerInfo.propTypes = {\r\n    \r\n};\r\n\r\nfunction MarkerInfo({point}){\r\n\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const toggle = () => setIsOpen(!isOpen);\r\n\r\n    return <Marker \r\n        position={{lat: point.locationLat, lng: point.locationLng}} \r\n        onClick={toggle}>\r\n        {isOpen && <InfoWindow onCloseClick={toggle}>\r\n            <div>\r\n              <p>Thời gian bay đến: {point.timeCome} phút</p>\r\n              <p>Thời gian dừng: {point.timeStop} phút</p>\r\n              <p>Độ cao: {point.flightHeight == null ? 30 : point.flightHeight} mét</p>\r\n            </div>\r\n        </InfoWindow>}\r\n    </Marker>;\r\n}\r\n\r\nexport default MarkerInfo;","import React from 'react';\r\nimport { Polyline } from 'react-google-maps';\r\nimport MarkerInfo from '../MarkerInfo';\r\n\r\nexport default function FlightPath({flightPoints}){\r\n\r\n    return (<>{ flightPoints.length !== 0 && (<>\r\n        <Polyline \r\n            path={getPathFromPoints(flightPoints)}\r\n            options={{strokeColor: \"red\", \r\n            strokeOpacity: 1,\r\n            strokeWeight: 3}}\r\n        />\r\n        {flightPoints.map((point, index) => <MarkerInfo key={index} point={point} />)}\r\n        </>)\r\n        \r\n    }\r\n    </>);\r\n}\r\n\r\nfunction getPathFromPoints(flightPoints){\r\n    return flightPoints.map( point => ({lat: point.locationLat, lng: point.locationLng}));\r\n}","import React, { useEffect, useRef, useState } from 'react';\r\nimport { compose, withProps } from \"recompose\"\r\nimport { withScriptjs, withGoogleMap, GoogleMap} from \"react-google-maps\"\r\nimport FlightPath from './FlightPath';\r\n\r\nconst MyMapComponent = compose(\r\n  withProps({\r\n    googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\",\r\n    loadingElement: <div style={{ height: `100%` }} />,\r\n    containerElement: <div style={{ height: `400px` }} />,\r\n    mapElement: <div style={{ height: `100%` }} />,\r\n  }),\r\n  withScriptjs,\r\n  withGoogleMap\r\n)((props) => {\r\n\r\n    const {flightPathView} = props;\r\n    const mapRef = useRef(null);\r\n\r\n    function onClick(t, map, coord){\r\n        console.log(t.latLng.lat(), t.latLng.lng());\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(flightPathView == null) return;\r\n        const {flightPoints} = flightPathView;\r\n        var bounds = new window.google.maps.LatLngBounds();\r\n        for(let point of flightPoints){\r\n            let tmp = new window.google.maps.LatLng(point.locationLat, point.locationLng);\r\n            bounds.extend(tmp);\r\n        }\r\n        mapRef.current.fitBounds(bounds);\r\n    }, [flightPathView]);\r\n\r\n    return (\r\n        <GoogleMap\r\n            ref={mapRef}\r\n            defaultZoom={10}\r\n            defaultCenter={{ lat: 20.99933610536628, lng: 105.8329881666537 }}\r\n            onClick={onClick}\r\n        >\r\n            {flightPathView && <FlightPath flightPoints={flightPathView.flightPoints} />}\r\n        </GoogleMap>\r\n    )}\r\n)\r\n\r\nexport default function Map(props){\r\n    \r\n    return <MyMapComponent {...props}/>;\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Table } from 'react-bootstrap';\r\nimport \"./FlightPathList.css\";\r\n\r\nFlightPathList.propTypes = {\r\n    \r\n};\r\n\r\nfunction FlightPathList({flightPaths, viewFlightPath, handleDeleteFlightPath}) {\r\n\r\n    return (\r\n        <Table striped bordered hover size=\"sm\">\r\n            <thead>\r\n                <tr>\r\n                    <th>STT</th>\r\n                    <th>Tên đường bay</th>\r\n                    <th>Khu vực giám sát</th>\r\n                    <th>Miền giám sát</th>\r\n                    <th>Action</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {flightPaths.map((item, index) => (<tr key={item.id}>\r\n                    <td>{index+1}</td>\r\n                    <td>{item.name}</td>\r\n                    <td>{item.monitoredAreaName}</td>\r\n                    <td>{item.monitoredZoneCode}</td>\r\n                    <td className=\"td-action\"><button className=\"btn-view\" onClick={()=>viewFlightPath(item)}>\r\n                        <i className=\"far fa-eye\"></i>\r\n                    </button>{\"/\"}\r\n                    <button className=\"btn-delete\" onClick={()=>handleDeleteFlightPath(item)}>\r\n                        <i class=\"fas fa-trash-alt\"></i>\r\n                    </button>\r\n                    </td>\r\n                </tr>))}\r\n            </tbody>\r\n        </Table>\r\n    );\r\n}\r\n\r\nexport default FlightPathList;","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Col, Form, Row } from 'react-bootstrap';\r\nimport Select from 'react-select';\r\nimport axios from 'axios';\r\n\r\nFlightPathInput.propTypes = {\r\n    \r\n};\r\n\r\nfunction FlightPathInput(props) {\r\n\r\n    const {\r\n        name, setName, height, setHeight, heightPoint, setHeightPoint, \r\n        selectedArea, setSelectedArea,\r\n        selectedZone, setSelectedZone\r\n    } = props;\r\n    \r\n    // list khu vuc giam sat\r\n    const [monitoredAreaList, setMonitoredAreaList] = useState([]);\r\n    const [areaLoading, setAreaLoading] = useState(true);\r\n    // list mien giam sat\r\n    const [monitoredZoneList, setMonitoredZoneList] = useState([]);\r\n    const [zoneLoading, setZoneLoading] = useState(true);\r\n\r\n    useEffect(()=> {\r\n        // load khu vuc giam sat\r\n        axios.get('https://monitoredzoneserver.herokuapp.com/area?page=0')\r\n            .then(response => {\r\n                // console.log(response.data.content.monitoredArea)\r\n                const tmp = response.data.content.monitoredArea.map(area => ({\r\n                    name: area.name,\r\n                    _id: area._id,\r\n                    startPoint: area.startPoint,\r\n                    endPoint: area.endPoint,\r\n                    label: area.name,\r\n                    value: area._id\r\n                }))\r\n                setMonitoredAreaList(tmp);\r\n                setAreaLoading(false);\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            });\r\n    }, []);\r\n\r\n    useEffect(()=> {\r\n        // load mien giam sat\r\n        console.log(\"load zone\");\r\n        if(!selectedArea) return;\r\n        setZoneLoading(true);\r\n        axios.get(`https://monitoredzoneserver.herokuapp.com/monitoredzone/area/${selectedArea._id}`)\r\n            .then(response => {\r\n                const tmp = response.data.content.zone.map(zone => ({\r\n                    _id: zone._id,\r\n                    name: zone.code,\r\n                    startPoint: zone.startPoint,\r\n                    endPoint: zone.endPoint,\r\n                    maxHeight: zone.maxHeight,\r\n                    minHeight: zone.minHeight,\r\n                    label: zone.code,\r\n                    value: zone._id\r\n                }))\r\n                console.log(\"mien giam sat\",tmp);\r\n                setMonitoredZoneList(tmp);\r\n                setZoneLoading(false);\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n                setZoneLoading(false);\r\n            });\r\n    }, [selectedArea]);\r\n\r\n    const handleAreaChange = (selectedOption) => {\r\n        setSelectedArea(selectedOption);\r\n        setSelectedZone(null);\r\n    }\r\n    \r\n    const handleZoneChange = (selectedOption) => {\r\n        setSelectedZone(selectedOption);\r\n        console.log('heightPoint', heightPoint);\r\n        setHeightPoint(selectedOption.minHeight);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Row>\r\n            <Col>\r\n                <Form.Group controlId=\"flightName\">\r\n                    <Form.Label>Tên đường bay</Form.Label>\r\n                    <Form.Control type=\"text\" value={name} onChange={(e)=>setName(e.target.value)} placeholder=\"Nhập tên đường bay\" />\r\n                </Form.Group>\r\n\r\n                {/* <Form.Group controlId=\"heightFlight\">\r\n                    <Form.Label>Độ cao khi bay</Form.Label>\r\n                    <Form.Control type=\"number\" onChange={(e)=>setHeight(e.target.value)} value={height} placeholder=\"m\" />\r\n                </Form.Group> */}\r\n            </Col>\r\n        </Row>\r\n        <Row>\r\n            <Col>\r\n                <Form.Group controlId=\"task\">\r\n                    <Form.Label>Chọn khu vực</Form.Label>\r\n                    <Select\r\n                        value={selectedArea}\r\n                        isSearchable={true}\r\n                        isLoading={areaLoading}\r\n                        onChange={handleAreaChange}\r\n                        options={monitoredAreaList}\r\n                    />\r\n                </Form.Group>\r\n            </Col>\r\n            <Col>\r\n                <Form.Group controlId=\"monitoredArea\">\r\n                    <Form.Label>Chọn miền giám sát</Form.Label>\r\n                    <Select\r\n                        value={selectedZone}\r\n                        isSearchable={true}\r\n                        isLoading={zoneLoading}\r\n                        onChange={handleZoneChange}\r\n                        options={monitoredZoneList}\r\n                    />\r\n                </Form.Group>\r\n            </Col>\r\n        </Row>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default FlightPathInput;","import React, { useEffect, useRef, useState } from 'react';\r\nimport { compose, withProps } from \"recompose\"\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker, Polyline, Polygon, Circle} from \"react-google-maps\"\r\n\r\nconst MyMapComponent = compose(\r\n  withProps({\r\n    googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\",\r\n    loadingElement: <div style={{ height: `100%` }} />,\r\n    containerElement: <div style={{ height: `400px` }} />,\r\n    mapElement: <div style={{ height: `100%` }} />,\r\n  }),\r\n  withScriptjs,\r\n  withGoogleMap\r\n)((props) => {\r\n    const mapRef = useRef(null);\r\n    const {\r\n        newPoint, setNewPoint, \r\n        flightPoints, \r\n        selectedZone,\r\n        monitoredObjectList,\r\n        setMonitoredObjectId,\r\n        setHeightPoint, heightPoint\r\n    } = props;\r\n\r\n    function onClick(e){\r\n        console.log(e.latLng.lat(), e.latLng.lng());\r\n        setNewPoint({...newPoint, locationLat: e.latLng.lat(), locationLng: e.latLng.lng()});\r\n    }\r\n\r\n    const handlePointClick = (index) => {\r\n        console.log('point clicked');\r\n        const object = monitoredObjectList[index];\r\n        setNewPoint({...newPoint, locationLat: object.lat, locationLng: object.lng});\r\n        if(object.height && object.height + 10 > heightPoint) setHeightPoint(object.height + 10);\r\n        setMonitoredObjectId(object._id);\r\n    }\r\n\r\n    useEffect(()=> {\r\n        if(!selectedZone) return;\r\n        var bounds = new window.google.maps.LatLngBounds();\r\n\r\n        const startPoint = new window.google.maps.LatLng(selectedZone.startPoint.latitude, selectedZone.startPoint.longitude);\r\n        bounds.extend(startPoint);\r\n        const endPoint = new window.google.maps.LatLng(selectedZone.endPoint.latitude, selectedZone.endPoint.longitude);\r\n        bounds.extend(endPoint);\r\n        \r\n        mapRef.current.fitBounds(bounds);\r\n    }, [selectedZone])\r\n\r\n    return (\r\n        <GoogleMap\r\n            ref={mapRef}\r\n            defaultZoom={10}\r\n            defaultCenter={{ lat: 20.99933610536628, lng: 105.8329881666537 }}\r\n            // onClick={onClick}\r\n        >\r\n            {flightPoints.length !== 0 && flightPoints.map( (point, index) => \r\n            <Marker\r\n                key={index}\r\n                position={{lat: point.locationLat, lng: point.locationLng}}\r\n            />)}\r\n            {flightPoints.length >= 2 && \r\n            <Polyline \r\n                path={getPathFromPoints(flightPoints)}\r\n                options={{strokeColor: \"red\", \r\n                strokeOpacity: 1,\r\n                strokeWeight: 3}}\r\n            />}\r\n            {selectedZone != null && <Polygon \r\n                path={getPathFromZone(selectedZone)}\r\n                onClick={onClick}\r\n                options={{\r\n                    strokeColor: \"#0000FF\",\r\n                    strokeOpacity: 1,\r\n                    strokeWeight: 1,\r\n                    fillColor: \"#fff\",\r\n                    fillOpacity: 0.2\r\n                }}\r\n            />}\r\n            {monitoredObjectList.length != 0 && monitoredObjectList.map((object, index) => <Circle \r\n                onClick={()=>handlePointClick(index)}\r\n                key={index}\r\n                center={{ lat: object.lat, lng: object.lng }}\r\n                radius={20}\r\n                anchor= {new window.google.maps.Point(5, 58)}\r\n                options={{\r\n                    strokeColor: \"#FF0000\",\r\n                    strokeOpacity: 0.8,\r\n                    strokeWeight: 2,\r\n                    fillColor: \"#FF0000\",\r\n                    fillOpacity: 1,\r\n                }}\r\n            />)}\r\n        </GoogleMap>\r\n    )}\r\n)\r\n\r\nexport default function Map(props){\r\n    \r\n    return <MyMapComponent {...props}/>;\r\n}\r\n\r\nfunction getPathFromPoints(flightPoints){\r\n    return flightPoints.map( point => ({lat: point.locationLat, lng: point.locationLng}));\r\n}\r\nfunction getPathFromZone(zone){\r\n    return [\r\n        {lat: zone.startPoint.latitude, lng: zone.startPoint.longitude},\r\n        {lat: zone.endPoint.latitude, lng: zone.startPoint.longitude},\r\n        {lat: zone.endPoint.latitude, lng: zone.endPoint.longitude},\r\n        {lat: zone.startPoint.latitude, lng: zone.endPoint.longitude}\r\n    ];\r\n}","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Form } from 'react-bootstrap';\r\n\r\nPointInput.propTypes = {\r\n    \r\n};\r\n\r\nfunction PointInput(props) {\r\n\r\n    const {\r\n        timeCome, setTimeCome, \r\n        timeStop, setTimeStop,\r\n        addPoint, newPoint,\r\n        heightPoint, selectedZone,\r\n        setHeightPoint\r\n    } = props;\r\n\r\n    const [error, setError] = useState('');\r\n\r\n    const handleOkClick = () => {\r\n        if(timeCome == '' || timeStop == '') {\r\n            setError('bạn chưa nhập đủ thông tin');\r\n            return;\r\n        }\r\n        if(selectedZone && (heightPoint < selectedZone.minHeight || heightPoint > selectedZone.maxHeight)){\r\n            setError('Độ cao ko trong giới hạn cho phép');\r\n            return;\r\n        }\r\n        if(!newPoint.locationLat){\r\n            setError('Ok cái gì vậy');\r\n            return;\r\n        }\r\n        addPoint();\r\n        setError('');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form.Group controlId=\"timeCome\">\r\n                <Form.Label>Thời gian bay đến</Form.Label>\r\n                <Form.Control type=\"number\" value={timeCome} onChange={(e)=>setTimeCome(e.target.value)} placeholder=\"phút\" />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"timeStop\">\r\n                <Form.Label>Thời gian dừng</Form.Label>\r\n                <Form.Control type=\"number\" onChange={(e)=>setTimeStop(e.target.value)} value={timeStop} placeholder=\"phút\" />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"heightPoint\">\r\n                <Form.Label>\r\n                    Độ cao {selectedZone != null && `(${selectedZone.minHeight}~${selectedZone.maxHeight})`}\r\n                </Form.Label>\r\n                <Form.Control type=\"number\" onChange={(e)=>setHeightPoint(e.target.value)}  value={heightPoint} placeholder=\"m\" />\r\n            </Form.Group>\r\n            {error !== '' && (<Form.Group controlId=\"errorMessage\">\r\n                <Form.Text className=\"text-muted\">\r\n                    {error}\r\n                </Form.Text>\r\n            </Form.Group>)}\r\n            <Button onClick={handleOkClick}>OK</Button>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PointInput;","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Col, Container, Form, Modal, Row } from 'react-bootstrap';\r\nimport FlightPathInput from '../FlightPathInput';\r\nimport './FlightPathModal.css';\r\nimport Map from '../Map';\r\nimport PointInput from '../PointInput';\r\nimport axios from 'axios';\r\n\r\nAddFlightPathModal.propTypes = {\r\n    \r\n};\r\n\r\nfunction AddFlightPathModal(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [height, setHeight] = useState('');\r\n    const [task, setTask] = useState('');\r\n    const [timeCome, setTimeCome] = useState('');\r\n    const [timeStop, setTimeStop] = useState('');\r\n    \r\n    const [newPoint, setNewPoint] = useState({});\r\n    const [flightPoints, setFlightPoints] = useState([]);\r\n    const [heightPoint, setHeightPoint] = useState('');\r\n    const [monitoredObjectId, setMonitoredObjectId] = useState('');\r\n\r\n    const [selectedArea, setSelectedArea] = useState(null);\r\n    const [selectedZone, setSelectedZone] = useState(null);\r\n    const [monitoredObjectList, setMonitoredObjectList] = useState([]);\r\n\r\n    const [show, setShow] = useState(false);\r\n    const toggle = () => setShow(!show);\r\n\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(()=> {\r\n        if(!selectedZone) return;\r\n        axios.get(`https://dsd05-monitored-object.herokuapp.com/monitored-object/get-object-by-zone?monitoredZone=${selectedZone._id}`)\r\n            .then(response => {\r\n                // console.log(\"monitored Object\")\r\n                // console.log(response)\r\n                const tmp = response.data.content.map(object => ({\r\n                    _id: object._id,\r\n                    name: object.name,\r\n                    lat: parseFloat(object.lat),\r\n                    lng: parseFloat(object.lng),\r\n                    height: object.height\r\n                }))\r\n                console.log(\"monitored object\", tmp);\r\n                setMonitoredObjectList(tmp);\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            });\r\n        }, [selectedZone]);\r\n        \r\n        const handleOkClick = () => {\r\n            // xử lý đồng ý thêm đường bay\r\n        if(!name || flightPoints.length===0 || !selectedZone) return setError('Bạn chưa nhập đủ thông tin');\r\n        // let id = Math.trunc(Math.random()*2000);\r\n        let newFlightPath = {name, flightPoints,\r\n            // heightFlight :height,\r\n            idSupervisedArea: selectedZone._id //~~~~\r\n            // idSupervisedArea: selectedArea._id,\r\n            // monitoredAreaName: selectedArea.name,\r\n            // monitoredZoneId: selectedZone._id,\r\n            // monitoredZoneCode: selectedZone.code\r\n        };\r\n        console.log(newFlightPath);\r\n        axios.post('http://skyrone.cf:6789/flightPath/save', newFlightPath)\r\n            .then(response => {\r\n                console.log(response)\r\n                // props.addFlightPath(newFlightPath);\r\n                props.pageReload();\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n            .finally(()=>{\r\n                reset();\r\n                toggle();\r\n            });\r\n    }\r\n\r\n    const addPoint = () => {\r\n        // thêm point vào pointPath\r\n        if(!newPoint.locationLat) return;\r\n        let point = {\r\n            locationLat: newPoint.locationLat,\r\n            locationLng: newPoint.locationLng,\r\n            timeCome: timeCome,\r\n            timeStop: timeStop,\r\n            flightHeight: heightPoint != '' ? heightPoint : 30,\r\n            idSupervisedObject: monitoredObjectId\r\n        }\r\n        setFlightPoints([...flightPoints, point]);\r\n        resetPoint();\r\n    }\r\n    \r\n    const resetPoint = () => {\r\n        setTimeCome('');\r\n        setTimeStop('');\r\n        setNewPoint({});\r\n        if(selectedZone) setHeightPoint(selectedZone.minHeight != undefined ? selectedZone.minHeight : '');\r\n    }\r\n\r\n    const reset = () => {\r\n        setName('');\r\n        setTask('');\r\n        setHeight('');\r\n        setFlightPoints([]);\r\n        setSelectedArea(null);\r\n        setSelectedZone(null);\r\n        setMonitoredObjectList([]);\r\n        setMonitoredObjectId('');\r\n        setError('');\r\n\r\n        resetPoint();\r\n    }\r\n\r\n    const handleModalHide = () => {\r\n        reset();\r\n        toggle();\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Button variant=\"primary\" onClick={toggle}>\r\n            Thêm đường bay\r\n        </Button>\r\n\r\n        <Modal show={show} onHide={handleModalHide} dialogClassName=\"modal-80w\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Thêm đường bay</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Container>\r\n                    <FlightPathInput \r\n                        name={name} setName={setName}\r\n                        height={height} setHeight={setHeight} \r\n                        heightPoint={heightPoint} setHeightPoint={setHeightPoint}\r\n                        task={task} setTask={setTask}\r\n                        selectedArea={selectedArea} setSelectedArea={setSelectedArea}\r\n                        selectedZone={selectedZone} setSelectedZone={setSelectedZone}\r\n                    />\r\n                    <Row>\r\n                        <Col md={4}>\r\n                            <PointInput \r\n                                timeCome={timeCome} setTimeCome={setTimeCome}\r\n                                timeStop={timeStop} setTimeStop={setTimeStop}\r\n                                newPoint={newPoint} addPoint={addPoint}\r\n                                heightPoint={heightPoint} setHeightPoint={setHeightPoint}\r\n                                selectedZone={selectedZone}\r\n                            />\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            <Map \r\n                                newPoint={newPoint} setNewPoint={setNewPoint}\r\n                                flightPoints={newPoint.locationLat? [...flightPoints, newPoint] : flightPoints}\r\n                                selectedZone={selectedZone}\r\n                                monitoredObjectList={monitoredObjectList}\r\n                                setMonitoredObjectId={setMonitoredObjectId}\r\n                                setHeightPoint={setHeightPoint} heightPoint={heightPoint}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                {error !== '' && (<Form.Group controlId=\"errorMessage\">\r\n                    <Form.Text className=\"text-muted\">\r\n                        {error}\r\n                    </Form.Text>\r\n                </Form.Group>)}\r\n                <Button variant=\"primary\" onClick={handleOkClick}>\r\n                    Save Changes\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default AddFlightPathModal;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Pagination } from 'react-bootstrap';\r\n\r\nPaginationComponent.propTypes = {\r\n    page: PropTypes.number,\r\n    totalPage: PropTypes.number,\r\n    pageChange: PropTypes.func\r\n};\r\n\r\nPaginationComponent.defaultProps = {\r\n    pagination: {page: 1, totalPage: 1},\r\n    pageChange: null\r\n}\r\n\r\nfunction PaginationComponent(props) {\r\n    const {pagination, pageChange} = props;\r\n\r\n    const {page, totalPage} = pagination;\r\n    const handlePageChange = (newPage) => {\r\n        if(!pageChange) return;\r\n        pageChange(newPage)\r\n    }\r\n\r\n    return (\r\n        <Pagination>\r\n            <Pagination.First onClick={()=> handlePageChange(1)}/>\r\n            { page == totalPage && totalPage > 2 && <Pagination.Item onClick={()=> handlePageChange(page-2)}>{page-2}</Pagination.Item>}\r\n            { page-1 > 0 && <Pagination.Item onClick={()=> handlePageChange(page-1)}>{page-1}</Pagination.Item> }\r\n            <Pagination.Item active>{page}</Pagination.Item>\r\n            { page+1 <= totalPage && <Pagination.Item onClick={()=> handlePageChange(page+1)}>{page+1}</Pagination.Item>}\r\n            { totalPage > 2 && page == 1 && <Pagination.Item onClick={()=> handlePageChange(page+2)}>{page+2}</Pagination.Item>}\r\n            <Pagination.Last onClick={()=> handlePageChange(totalPage)}/>\r\n        </Pagination>\r\n    );\r\n}\r\n\r\nexport default PaginationComponent;","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Container, Row, Col, Button } from 'react-bootstrap';\r\nimport Map from '../../components/Drone/Map';\r\nimport FlightPathList from '../../components/Drone/FlightPathList';\r\nimport AddFlightPathModel from '../../components/Drone/DroneModals/AddFlightPathModal';\r\nimport Pagination from '../../components/Drone/Pagination';\r\nimport axios from 'axios';\r\n\r\nFlightPathManagement.propTypes = {\r\n    \r\n};\r\n\r\nfunction FlightPathManagement(props) {\r\n\r\n    const [flightPathView, setFlightPathView] = useState(null);\r\n    // const [flightPaths, setFlightPaths] = useState(flightPathsData.slice(0, 10));\r\n    const [flightPaths, setFlightPaths] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [pagination, setPagination] = useState({page: 1, totalPage: 1, perPage: 8});\r\n    const allFlightPath = useRef(null);\r\n    \r\n    const [reload, setReload] = useState(false);\r\n    const pageReload = () => setReload(!reload);\r\n    useEffect(()=>{\r\n        // load data\r\n        setLoading(true);\r\n\r\n        axios.get('http://skyrone.cf:6789/flightPath/getAllPath')\r\n            .then(response => {\r\n                console.log(response);\r\n                allFlightPath.current = response.data;\r\n                // lấy dữ liệu cho page hiện tại\r\n                setFlightPaths(allFlightPath.current.slice(0, pagination.perPage));\r\n                // tính lại tổng page\r\n                const totalPage = Math.ceil(allFlightPath.current.length/pagination.perPage);\r\n                if(totalPage != pagination.totalPage) setPagination({...pagination, totalPage: totalPage});\r\n                console.log(totalPage)\r\n                // console.log(allFlightPath);\r\n                setLoading(false);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setLoading(false);\r\n            });\r\n        //set cac thu\r\n    }, [reload]);\r\n\r\n    const pageChange = (newPage) => {\r\n        const start = (newPage - 1)*pagination.perPage;\r\n        const newFlightPaths = allFlightPath.current.slice(start, start+pagination.perPage);\r\n        setFlightPaths(newFlightPaths);\r\n        setPagination({...pagination, page: newPage});\r\n    }\r\n\r\n    const viewFlightPath = (flightPath) => {\r\n        if(flightPathView != null && flightPathView.id === flightPath.id) return;\r\n        setFlightPathView(flightPath);\r\n    }\r\n\r\n    const handleDeleteFlightPath = (flightPath) => {\r\n        var result = prompt(\"Nhập 'delete' để xác nhận bạn thực sự muốn xóa đường bay\");\r\n        if(result !== 'delete') return;\r\n        axios.get(`http://skyrone.cf:6789/flightPath/delete/${flightPath.id}`)\r\n            .then(response => {\r\n                console.log(response);\r\n                pageReload();\r\n                // let index;\r\n                // for(index=0; index<flightPaths.length; index++){\r\n                //     if(flightPath.id === flightPaths[i].id) break;\r\n                // }\r\n                // const newFlightPaths = [...flightPaths.slice(0, index), ...flightPaths.slice(index+1)];\r\n                // setFlightPaths(newFlightPaths);\r\n            })\r\n    }\r\n\r\n    const addFlightPath = (newFlightPath) => {\r\n        setFlightPaths([...flightPaths, newFlightPath]);\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                <Col><AddFlightPathModel addFlightPath={addFlightPath} pageReload={pageReload}/></Col>\r\n                <Col><Pagination pagination={pagination} pageChange={pageChange}/></Col>\r\n                <Col>Tìm kiếm</Col>\r\n            </Row>\r\n            <br/>\r\n            <Row>\r\n                <Col md={6}>\r\n                    {loading ? <p>Loading...</p> : <FlightPathList \r\n                        flightPaths={flightPaths} \r\n                        viewFlightPath={viewFlightPath}\r\n                        handleDeleteFlightPath={handleDeleteFlightPath}\r\n                    />}\r\n                </Col>\r\n                <Col md={6}>\r\n                    <Map flightPathView={flightPathView}/>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default FlightPathManagement;","import React, { useState } from 'react';\r\nconst { Button, Modal, Form } = require(\"react-bootstrap\");\r\n\r\nfunction AddFlightScheduleModal(props) {\r\n    const {parent, updateFlightSchedule} = props;\r\n    const [show, setShow] = useState(false);\r\n    \r\n    const [flightPathId, setFlightPathId] = useState('');\r\n    const [startTime, setStartTime] = useState('');\r\n    const [endTime, setEndTime] = useState('');\r\n    const [monitoredArea, setMonitoredArea] = useState('');\r\n\r\n    const toggle = () => setShow(!show);\r\n    \r\n    const reset = () => {\r\n        setFlightPathId('');\r\n        setStartTime('');\r\n        setEndTime('');\r\n        setMonitoredArea('');\r\n    }\r\n\r\n    const handleSaveClick = () => {\r\n        if(!flightPathId || !startTime || !endTime) return;\r\n        const cloned = JSON.parse(JSON.stringify(parent));\r\n        const newSchedule = {flightPathId, startTime, endTime, monitoredArea};\r\n        cloned.flightPaths.push(newSchedule);\r\n        updateFlightSchedule(cloned);\r\n        reset();\r\n        toggle();\r\n    }\r\n\r\n    /*\r\n    useEffect(() => {\r\n      // load duong bay\r\n    } , []);\r\n    */\r\n\r\n    return (\r\n      <>\r\n        <Button variant=\"primary\" onClick={toggle}>\r\n          Add\r\n        </Button>\r\n  \r\n        <Modal show={show} onHide={toggle}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Thêm lịch bay</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <FlightScheduleForm\r\n                flightPathId={flightPathId} setFlightPathId={setFlightPathId}\r\n                startTime={startTime} setStartTime={setStartTime}\r\n                endTime={endTime} setEndTime={setEndTime}\r\n                monitoredArea={monitoredArea} setMonitoredArea={setMonitoredArea}\r\n            />\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"primary\" onClick={handleSaveClick}>\r\n              Save\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n  \r\nexport default AddFlightScheduleModal;\r\n\r\nfunction FlightScheduleForm(props){\r\n    const {\r\n        flightPathId, setFlightPathId,\r\n        startTime, setStartTime,\r\n        endTime, setEndTime,\r\n        monitoredArea, setMonitoredArea\r\n    } = props;\r\n\r\n    return (<>\r\n        <Form.Group controlId=\"flightPath\">\r\n            <Form.Label>Mã đường bay</Form.Label>\r\n            <Form.Control type=\"text\" value={flightPathId} onChange={(e)=> setFlightPathId(e.target.value) } placeholder=\"\" />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"startTime\">\r\n            <Form.Label>Thời gian bắt đầu</Form.Label>\r\n            <Form.Control type=\"text\" value={startTime} onChange={(e)=> setStartTime(e.target.value) } placeholder=\"\" />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"endTime\">\r\n            <Form.Label>Thời gian kết thúc</Form.Label>\r\n            <Form.Control type=\"text\" value={endTime} onChange={(e)=> setEndTime(e.target.value) } placeholder=\"\" />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"monitoredArea\">\r\n            <Form.Label>Khu vực giám sát</Form.Label>\r\n            <Form.Control type=\"text\" value={monitoredArea} onChange={(e)=> setMonitoredArea(e.target.value) } placeholder=\"\" />\r\n        </Form.Group>\r\n    </>)\r\n}","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport TableFlightSchedule from '../../components/Drone/FlightSchedule/TableFlightSchedule';\r\nimport PaginationComponent from '../../components/Drone/Pagination';\r\n\r\nFlightSchedule.propTypes = {\r\n    \r\n};\r\n\r\nconst data = [\r\n    {\r\n        droneId: 132132, \r\n        droneName:'A1123', \r\n        flightPaths: [ \r\n            {flightPathId: 132135, startTime: '8:30', endTime:'9:30', monitoredArea: 'X123'}\r\n        ]\r\n    },\r\n    {\r\n        droneId: 32135, \r\n        droneName:'A4652', \r\n        flightPaths: [ \r\n            {flightPathId: 354535, startTime: '14:30', endTime:'15:00', monitoredArea: 'Xyz'},\r\n            {flightPathId: 354338, startTime: '14:30', endTime:'15:00', monitoredArea: 'Xyz'}\r\n        ]\r\n    },\r\n    {\r\n        droneId: 55351, \r\n        droneName:'A8354', \r\n        flightPaths: []\r\n    },\r\n    {\r\n        droneId: 65486, \r\n        droneName:'A1123', \r\n        flightPaths: [ \r\n            {flightPathId: 213554, startTime: '8:30', endTime:'9:30', monitoredArea: 'X123'}\r\n        ]\r\n    }\r\n]\r\n\r\nfunction FlightSchedule(props) {\r\n    const [droneList, setDroneList] = useState(data);\r\n\r\n    /*\r\n    useEffect(() => {\r\n        // load list drone\r\n\r\n        // load flight schedule cua 12 drone dau\r\n    }, []);  \r\n     */\r\n\r\n    const updateFlightSchedule = (drone) => {\r\n        let index = 0;\r\n        for(let i=0; i<droneList.length; i++){\r\n            if(droneList[i].droneId == drone.droneId){\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        const newList = [...droneList.slice(0,index), drone, ...droneList.slice(index+1)];\r\n        setDroneList(newList);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                <Col><PaginationComponent/></Col>\r\n                <Col>Tìm kiếm</Col>\r\n            </Row>\r\n            <Row>\r\n                <TableFlightSchedule data={droneList} updateFlightSchedule={updateFlightSchedule}/>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default FlightSchedule;","import React, { Fragment } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport ListUser from '../modules/user/components/listUser';\r\nimport ListDepartment from '../modules/user/components/listDepartment';\r\nimport ListUserMeta from '../modules/user/components/listUserMeta';\r\nimport ListRole from '../modules/user/components/listRole';\r\nimport ListPermission from '../modules/user/components/listPermission';\r\nimport ListRolePermission from '../modules/user/components/listRolePermission';\r\n\r\nimport ListMonitorCampaignPage from './FlightHub/ListMonitorCampaign';\r\nimport CreateMonitorCampaignPage from './FlightHub/CreateMonitorCampaign';\r\nimport UpdateMonitorCampaignPage from './FlightHub/UpdateMonitorCampaign';\r\n\r\nimport ListLabelsPage from './FlightHub/Labels';\r\nimport DetailArea from '../components/Aera/DetailArea';\r\nimport ManageArea from '../components/Aera/ManageArea';\r\nimport Manage from '../components/SurveillanceDomain/Manage';\r\nimport ManageEdit from '../components/SurveillanceDomain/ManageEdit';\r\nimport Dashboard from './Dashboard';\r\nimport Incident from './Incident';\r\nimport MyList from '../components/Group4/Notification';\r\nimport DetailedNotification from '../components/Group4/DetailedNotification';\r\n\r\nimport LogUser from './LogUser';\r\nimport LogDrone from './LogDrone';\r\nimport LogWarn from './LogWarn';\r\nimport LogProblem from './LogProblem';\r\nimport LogVideo from './LogVideo';\r\nimport LogPayLoad from './LogPayLoad';\r\nimport LogImage from './LogImage';\r\nimport LogIncident from './LogIncident';\r\nimport LogObjMonitor from './LogObjMonitor';\r\nimport LogRegion from './LogRegion';\r\nimport LogStatistic from './LogStatistic';\r\nimport LogUAV from './LogUAV';\r\n//Payload\r\nimport ListPayload from './Payload/PayloadManagement/List';\r\nimport ListTypePayload from './Payload/PayloadType/List';\r\nimport PayloadMaintenance from './Payload/PayloadMaintenance/List';\r\nimport EditSchedule from './Payload/PayloadMaintenance/Edit';\r\nimport AddSchedule from './Payload/PayloadMaintenance/Add';\r\nimport PayloadSetting from './Payload/PayloadSetting';\r\n//Payload  Statistic\r\nimport PayloadStatistic from './Payload/PayloadStatistic';\r\nimport PayloadStatisticFrequency from './Payload/PayloadStatistic/PayloadStatisticFrequency';\r\nimport PayloadStatisticTime from './Payload/PayloadStatistic/PayloadStatisticTime';\r\nimport PayloadStatisticStatus from './Payload/PayloadStatistic/PayloadStatisticStatus';\r\nimport PayloadStatisticWorking from './Payload/PayloadStatistic/PayloadStatisticWorking';\r\nimport PayloadStatisticDroneFixing from './Payload/PayloadStatistic/PayloadStatisticDroneFixing';\r\nimport PayloadDroneHistory from './Payload/PayloadToDrone/List';\r\nimport EditSignupPayloadDrone from './Payload/PayloadToDrone/Edit';\r\nimport AddSignupPayloadDrone from './Payload/PayloadToDrone/Add';\r\nimport DScard from './Payload/PayloadSDcard';\r\nimport ImageVideo from './ImageVideo';\r\nimport Detail from './ImageVideo/detail';\r\nimport Stream from './ImageVideo/stream';\r\n//monitored Object Group 05\r\nimport CategoryMonitored from './MonitoredObject/Category/component';\r\nimport MonitoredObject from './MonitoredObject/MonitoredObject/component';\r\nimport MonitoredObjectCreate from './MonitoredObject/MonitoredObject/component/monitoredObjectCreate';\r\nimport MonitoredObjectView from './MonitoredObject/MonitoredObject/component/MonitoredObjectView';\r\n// incident group 09\r\nimport IncidentGroup9 from \"./Incident/Incident\";\r\nimport ImageGallery from \"./Incident/ImageGallery\";\r\nimport VideoGallery from \"./Incident/VideoGallery\";\r\nimport IncidentEdit from \"./Incident/Incident/edit\";\r\n\r\n// dsd_01 drone\r\nimport TableDrone from './TableDrone';\r\nimport FlightPathDrone from './FLightPathDrone';\r\nimport FlightPoint from './FlightPoint';\r\nimport TableDroneState from './TableDroneState';\r\nimport MapTest from './MapTest';\r\nimport FlightPathManagement from './FlightPathManagement';\r\nimport FlightSchedule from './FlightSchedule';\r\n\r\nexport const routes = [\r\n  {\r\n    path: '/dashboard',\r\n    component: Dashboard,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: '/drones',\r\n    component: () => <div>DroneManagement</div>,\r\n  },\r\n  {\r\n    path: '/drone-list',\r\n    component: TableDrone,\r\n  },\r\n  {\r\n    path: '/drone-state',\r\n    component: TableDroneState,\r\n  },\r\n  {\r\n    path: '/my-map-test',\r\n    component: MapTest,\r\n  },\r\n  {\r\n    path: '/flight-path',\r\n    component: FlightPathManagement,\r\n  },\r\n  // {\r\n  //   path: '/flight-schedule',\r\n  //   component: FlightSchedule,\r\n  // },\r\n\r\n  {\r\n    path: '/flight-point',\r\n    component: FlightPoint,\r\n  },\r\n  {\r\n    path: '/flight-hub-monitor-campaigns/create',\r\n    component: CreateMonitorCampaignPage,\r\n  },\r\n  {\r\n    path: '/flight-hub-monitor-campaigns/:id',\r\n    component: UpdateMonitorCampaignPage,\r\n  },\r\n  {\r\n    path: '/flight-hub-monitor-campaigns',\r\n    component: ListMonitorCampaignPage,\r\n  },\r\n  {\r\n    path: '/flight-hub-other-params',\r\n    component: ListLabelsPage,\r\n  },\r\n  //PAYLOAD\r\n  {\r\n    path: '/payloads',\r\n    component: () => <div>PayloadManagement</div>,\r\n  },\r\n  {\r\n    path: '/payload-management',\r\n    component: ListPayload,\r\n  },\r\n  {\r\n    path: '/payload-dscard',\r\n    component: DScard,\r\n  },\r\n  {\r\n    path: '/payload-type',\r\n    component: ListTypePayload,\r\n  },\r\n\r\n  {\r\n    path: '/payload-drone',\r\n    component: PayloadDroneHistory,\r\n  },\r\n  {\r\n    path: '/edit-signup-payload-drone',\r\n    component: EditSignupPayloadDrone,\r\n  },\r\n  {\r\n    path: '/add-signup-payload-drone',\r\n    component: AddSignupPayloadDrone,\r\n  },\r\n  {\r\n    path: '/payload-configuration',\r\n    component: PayloadSetting,\r\n  },\r\n  /* {\r\n    path: '/payload-maintenance',\r\n    component: PayloadMaintenance,\r\n  }, */\r\n  /* {\r\n    path: '/edit-schedule',\r\n    component: EditSchedule,\r\n  },\r\n  {\r\n    path: '/add-schedule',\r\n    component: AddSchedule,\r\n  },\r\n */\r\n  //Payload statistic\r\n  {\r\n    path: '/payload-statistic',\r\n    component: PayloadStatistic,\r\n  },\r\n  {\r\n    path: '/payload-statistic-type',\r\n    component: PayloadStatisticFrequency,\r\n  },\r\n  {\r\n    path: '/payload-statistic-time',\r\n    component: PayloadStatisticTime,\r\n  },\r\n  {\r\n    path: '/payload-statistic-work',\r\n    component: PayloadStatisticWorking,\r\n  },\r\n  {\r\n    path: '/payload-statistic-status',\r\n    component: PayloadStatisticStatus,\r\n  },\r\n  {\r\n    path: '/payload-statistic-fix',\r\n    component: PayloadStatisticDroneFixing,\r\n  },\r\n\r\n  {\r\n    path: '/metadata',\r\n    component: () => <ImageVideo />,\r\n  },\r\n  {\r\n    path: '/stream',\r\n    component: () => <Stream />,\r\n  },\r\n  {\r\n    path: '/image-video-detail/:id',\r\n    component: () => <Detail />,\r\n  },\r\n  {\r\n    path: '/problem',\r\n    component: () => <div>Problem</div>,\r\n  },\r\n  {\r\n    path: '/supervised-object',\r\n    component: () => <div>Đối tượng giám sát</div>,\r\n  },\r\n  // view monitored Object\r\n  {\r\n    path: '/monitored-object-management/:option/:id',\r\n    component: MonitoredObjectView,\r\n    exact: true\r\n  },\r\n  // create monitored Object\r\n  {\r\n    path: '/monitored-object-management/:option',\r\n    component: MonitoredObjectCreate,\r\n    exact: true\r\n  },\r\n  //view List Monitored Object\r\n  {\r\n    path: '/monitored-object-management',\r\n    component: MonitoredObject,\r\n    exact: true\r\n  },\r\n  //View Category Monitored\r\n  {\r\n    path: '/category-monitored-object-management',\r\n    component: CategoryMonitored,\r\n    exact: true\r\n  },\r\n  {\r\n    path: '/statistic',\r\n    component: () => <div>Báo cáo thống kê</div>,\r\n  },\r\n  {\r\n    path: '/problems',\r\n    component: () => <div>Sự cố</div>,\r\n  },\r\n  {\r\n    path: '/warning',\r\n    component: () => <MyList />,\r\n  },\r\n  {\r\n    path: '/warning-detail/:id',\r\n    component: () => <DetailedNotification />,\r\n  },\r\n  {\r\n    path: '/activity-log',\r\n    component: () => <div>Lịch sử hoạt động</div>,\r\n  },\r\n  {\r\n    path: '/log-user',\r\n    component: LogUser,\r\n  },\r\n  {\r\n    path: '/log-drone',\r\n    component: LogDrone,\r\n  },\r\n  {\r\n    path: '/log-problem',\r\n    component: LogProblem,\r\n  },\r\n  {\r\n    path: '/log-warn',\r\n    component: LogWarn,\r\n  },\r\n  {\r\n    path: '/log-payload',\r\n    component: LogPayLoad,\r\n  },\r\n  {\r\n    path: '/log-image',\r\n    component: LogImage,\r\n  },\r\n  {\r\n    path: '/log-video',\r\n    component: LogVideo,\r\n  },\r\n  {\r\n    path: '/log-incident',\r\n    component: LogIncident,\r\n  },\r\n  {\r\n    path: '/log-objmonitor',\r\n    component: LogObjMonitor,\r\n  },\r\n  {\r\n    path: '/log-region',\r\n    component: LogRegion,\r\n  },\r\n  {\r\n    path: '/log-statistic',\r\n    component: LogStatistic,\r\n  },\r\n  {\r\n    path: '/log-uav',\r\n    component: LogUAV,\r\n  },\r\n  {\r\n    path: '/surveillance-domain-area',\r\n    component: () => <div>Quản lý khu vực</div>,\r\n  },\r\n  {\r\n    path: '/surveillance-domain-manage/edit',\r\n    component: () => <ManageEdit />,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: '/surveillance-domain-manage',\r\n    component: () => <Manage />,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: '/surveillance-area',\r\n    component: () => <ManageArea />,\r\n  },\r\n  {\r\n    path: '/surveillance-area-detail',\r\n    component: () => <DetailArea />,\r\n  },\r\n  {\r\n    path: '/handle-problem',\r\n    component: Incident,\r\n    exact: true,\r\n  },\r\n  {\r\n    path: '/user-management',\r\n    component: ListUser,\r\n  },\r\n  {\r\n    path: '/user',\r\n    component: ListUser,\r\n  },\r\n  {\r\n    path: '/department',\r\n    component: ListDepartment,\r\n  },\r\n  {\r\n    path: '/user-meta',\r\n    component: ListUserMeta,\r\n  },\r\n  {\r\n    path: \"/incidents\",\r\n    component: () => <IncidentGroup9 />,\r\n    exact: true\r\n  },\r\n  \r\n  {\r\n    path: \"/incidents/:id\",\r\n    component: () => <IncidentEdit />,\r\n    exact: true\r\n\r\n  },\r\n  {\r\n    path: \"/imageGallery\",\r\n    component: () => <ImageGallery />,\r\n    exact: true\r\n  },\r\n  {\r\n    path: \"/videoGallery\",\r\n    component: () => <VideoGallery />,\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/role',\r\n    component: ListRole,\r\n  },\r\n  {\r\n    path: '/permission',\r\n    component: ListPermission,\r\n  },\r\n  {\r\n    path: '/role-permission',\r\n    component: ListRolePermission,\r\n  },\r\n];\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const isLogin = useSelector((state) => state.user.isLogin);\r\n\r\n  return (\r\n    // Show the component only when the user is logged in\r\n    // Otherwise, redirect the user to /sign in page\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isLogin ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default () => (\r\n  <Switch>\r\n    {routes.map(({ path, exact = false, component: Component, ...rest }) => {\r\n      return (\r\n        <PrivateRoute\r\n          key={path}\r\n          exact={exact}\r\n          path={path}\r\n          component={Component}\r\n          {...rest}\r\n        />\r\n      );\r\n    })}\r\n  </Switch>\r\n);\r\n","import { MonitoredObjectConstants } from \"./constants\";\r\n\r\nvar findIndex = (array, id) => {\r\n  var result = -1;\r\n  array.forEach((value, index) => {\r\n    if (value._id === id) {\r\n      result = index;\r\n    }\r\n  });\r\n  return result;\r\n};\r\n\r\nconst initialState = {\r\n  list: [],\r\n  listPaginate: [],\r\n  totalDocs: 0,\r\n  limit: 0,\r\n  totalPages: 0,\r\n  page: 0,\r\n  pagingCounter: 0,\r\n  hasPrevPage: false,\r\n  hasNextPage: false,\r\n  prevPage: 0,\r\n  nextPage: 0,\r\n  isObjectSuccess: false,\r\n  isObjectFailure: false,\r\n  objectMessages: \"\",\r\n};\r\n\r\nexport function monitoredObjects(state = initialState, action) {\r\n  var index = -1;\r\n  var indexPaginate = -1;\r\n\r\n  switch (action.type) {\r\n    case MonitoredObjectConstants.GET_ALL_MONITORED_OBJECT_REQUEST:\r\n    case MonitoredObjectConstants.GET_PAGINATE_REQUEST:\r\n    case MonitoredObjectConstants.CREATE_MONITORED_REQUEST:\r\n    case MonitoredObjectConstants.DELETE_MONITORED_REQUEST:\r\n    case MonitoredObjectConstants.EDIT_MONITORED_REQUEST:\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    case MonitoredObjectConstants.GET_ALL_MONITORED_OBJECT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        list: action.payload,\r\n      };\r\n\r\n    case MonitoredObjectConstants.GET_PAGINATE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        listPaginate: action.payload.docs,\r\n        totalDocs: action.payload.totalDocs,\r\n        limit: action.payload.limit,\r\n        totalPages: action.payload.totalPages,\r\n        page: action.payload.page,\r\n        pagingCounter: action.payload.pagingCounter,\r\n        hasPrevPage: action.payload.hasPrevPage,\r\n        hasNextPage: action.payload.hasNextPage,\r\n        prevPage: action.payload.prevPage,\r\n        nextPage: action.payload.nextPage,\r\n      };\r\n\r\n    case MonitoredObjectConstants.CREATE_MONITORED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        list: [...state.list, action.payload],\r\n        listPaginate: [...state.listPaginate, action.payload],\r\n      };\r\n    case MonitoredObjectConstants.OBJECT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isObjectSuccess: action.payload,\r\n      };\r\n\r\n    case MonitoredObjectConstants.EDIT_MONITORED_SUCCESS:\r\n      index = findIndex(state.list, action.payload._id);\r\n      indexPaginate = findIndex(state.listPaginate, action.payload._id);\r\n\r\n      if (index !== -1) {\r\n        state.list[index] = action.payload;\r\n      }\r\n\r\n      if (indexPaginate !== -1) {\r\n        state.listPaginate[indexPaginate] = action.payload;\r\n      }\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    case MonitoredObjectConstants.DELETE_MONITORED_SUCCESS:\r\n      // state.list = state.list.filter(\r\n      //   (item) => action.payload.includes(item._id) === false\r\n      // );\r\n      // state.listPaginate = state.listPaginate.filter(\r\n      //   (item) => action.payload.includes(item._id) === false\r\n      // );\r\n      return {\r\n        ...state,\r\n      };\r\n    case MonitoredObjectConstants.OBJECT_FAILURE:\r\n      return {\r\n        ...state,\r\n        isObjectFailure: action.payload,\r\n      };\r\n    case MonitoredObjectConstants.GET_ALL_MONITORED_OBJECT_FAILURE:\r\n    case MonitoredObjectConstants.GET_PAGINATE_FAILURE:\r\n    case MonitoredObjectConstants.CREATE_MONITORED_FAILURE:\r\n    case MonitoredObjectConstants.DELETE_MONITORED_FAILURE:\r\n    case MonitoredObjectConstants.GET_ALL_MONITORED_OBJECT_FAILURE:\r\n      return {\r\n        ...state,\r\n      };\r\n    case MonitoredObjectConstants.NOTIFICATION_MESSAGE:\r\n      return {\r\n        ...state,\r\n        objectMessages: action.payload,\r\n      };\r\n\r\n    default:\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n}\r\n","import { CategoryConstants } from './constants';\r\n\r\nvar findIndex = (array, id) => {\r\n  var result = -1;\r\n  array.forEach((value, index) => {\r\n    if (value._id === id) {\r\n      result = index;\r\n    }\r\n  });\r\n  return result;\r\n};\r\n\r\nconst initialState = {\r\n  listPaginate: [],\r\n  list: [],\r\n  totalDocs: 0,\r\n  limit: 0,\r\n  totalPages: 0,\r\n  page: 0,\r\n  pagingCounter: 0,\r\n  hasPrevPage: false,\r\n  hasNextPage: false,\r\n  isCatSuccess: false,\r\n  isError: false,\r\n  messages: '',\r\n};\r\n\r\nexport function category(state = initialState, action) {\r\n  var index = -1;\r\n  var indexPaginate = -1;\r\n\r\n  switch (action.type) {\r\n    case CategoryConstants.GET_ALL_CATEGORY_REQUEST:\r\n    case CategoryConstants.GET_PAGINATE_REQUEST:\r\n    case CategoryConstants.CREATE_CATEGORY_MONITORED_REQUEST:\r\n    case CategoryConstants.DELETE_MONITORED_REQUEST:\r\n    case CategoryConstants.EDIT_CATEGORY_MONITORED_REQUEST:\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    case CategoryConstants.GET_ALL_CATEGORY_SUCCESS:\r\n      return {\r\n        ...state,\r\n        list: action.payload,\r\n      };\r\n    case CategoryConstants.GET_PAGINATE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        listPaginate: action.payload.docs,\r\n        totalDocs: action.payload.totalDocs,\r\n        limit: action.payload.limit,\r\n        totalPages: action.payload.totalPages,\r\n        page: action.payload.page,\r\n        pagingCounter: action.payload.pagingCounter,\r\n        hasPrevPage: action.payload.hasPrevPage,\r\n        hasNextPage: action.payload.hasNextPage,\r\n        prevPage: action.payload.prevPage,\r\n        nextPage: action.payload.nextPage,\r\n      };\r\n\r\n    case CategoryConstants.CREATE_CATEGORY_MONITORED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        list: [...state.list, action.payload],\r\n        listPaginate: [...state.listPaginate, action.payload],\r\n      };\r\n\r\n    case CategoryConstants.EDIT_CATEGORY_MONITORED_SUCCESS:\r\n      index = findIndex(state.list, action.payload._id);\r\n\r\n      indexPaginate = findIndex(state.listPaginate, action.payload._id);\r\n\r\n      if (index !== -1) {\r\n        state.list[index] = action.payload;\r\n      }\r\n\r\n      if (indexPaginate !== -1) {\r\n        state.listPaginate[indexPaginate] = action.payload;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    case CategoryConstants.DELETE_MONITORED_SUCCESS:\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    case CategoryConstants.CAT_MONITORED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isCatSuccess: action.payload,\r\n      };\r\n    case CategoryConstants.GET_ALL_CATEGORY_FAILURE:\r\n    case CategoryConstants.GET_PAGINATE_FAILURE:\r\n    case CategoryConstants.CREATE_CATEGORY_MONITORED_FAILURE:\r\n    case CategoryConstants.DELETE_MONITORED_FAILURE:\r\n    case CategoryConstants.CAT_MONITORED_FAILURE:\r\n      return {\r\n        ...state,\r\n        isError: action.payload,\r\n      };\r\n    case CategoryConstants.NOTIFICATION_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: action.payload,\r\n      };\r\n    default:\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n}\r\n","import {\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n  combineReducers,\r\n} from \"@reduxjs/toolkit\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\r\nimport { reducer as userReducer } from \"../modules/user/store\";\r\n\r\nimport { monitoredObjects } from \"../pages/MonitoredObject/MonitoredObject/redux/reducers\";\r\nimport { category } from \"../pages/MonitoredObject/Category/redux/reducers\";\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage: storage,\r\n  whitelist: [\"user\"],\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  monitoredObjects: monitoredObjects,\r\n  category: category,\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nconst store = configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: false,\r\n    immutableCheck: false,\r\n  }),\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default store;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleLoginForm = styled.div`\r\n    width: 80%;\r\n\r\n    .first-button {\r\n        margin-right: 10px;\r\n    }\r\n    .noti-message {\r\n        color: red;\r\n    }\r\n`;\r\nexport default StyleLoginForm;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { Form, Input, Button, Checkbox } from \"antd\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport StyleLoginForm from \"./index.style\";\r\nimport { Typography } from \"antd\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login } from \"../../../store/services\";\r\nimport { actions } from \"../../../store\";\r\nimport { setHeaders } from \"../../../../../services/axios\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst LoginForm = () => {\r\n    const dispatch = useDispatch();\r\n    const [userInfo, setUserInfo] = useState({\r\n        username: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const [message, setMessage] = useState(\"\");\r\n    const projectType = useSelector((state) => state.user.projectType);\r\n    const [saveInfo, setSaveInfo] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const saveLogin = localStorage.getItem(\"saveLogin\");\r\n        if (saveLogin) {\r\n            setSaveInfo(saveLogin == \"true\");\r\n        } else {\r\n            setSaveInfo(true);\r\n        }\r\n        const userData = JSON.parse(localStorage.getItem(\"dataLogin\"));\r\n        if (saveLogin == \"true\") {\r\n            setUserInfo(userData);\r\n        }\r\n    }, []);\r\n\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const isLogin = useSelector((state) => state.user.isLogin);\r\n\r\n    useEffect(() => {\r\n        if (isLogin) {\r\n            history.push(\"/dashboard\");\r\n        }\r\n    }, [isLogin]);\r\n\r\n    useEffect(() => {\r\n        if (location.state && location.state.message) {\r\n            setMessage(location.state.message);\r\n        }\r\n    }, [location]);\r\n\r\n    useEffect(() => {\r\n        if (message && message !== \"\") {\r\n            const timer = setTimeout(() => {\r\n                setMessage(\"\");\r\n            }, 3000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [message]);\r\n\r\n    const handleLogin = async () => {\r\n        try {\r\n            if (!validateData()) {\r\n                return;\r\n            }\r\n            const dataLogin = {\r\n                username: userInfo.username,\r\n                password: userInfo.password,\r\n            };\r\n            const res = await login(dataLogin);\r\n            if (res.status == \"successful\") {\r\n                dispatch(actions.setUserData(res.result));\r\n                dispatch(actions.setLogin(true));\r\n                dispatch(actions.setProjectType(res.result.type));\r\n                localStorage.setItem(\"token\", res.result.api_token);\r\n                localStorage.setItem(\"project-type\", res.result.type);\r\n                setHeaders({ token: res.result.api_token });\r\n                setHeaders({ \"project-type\": res.result.type });\r\n                history.push(\"/dashboard\");\r\n            } else {\r\n                setMessage(res.message);\r\n            }\r\n            localStorage.setItem(\"saveLogin\", saveInfo);\r\n            if (saveInfo) {\r\n                localStorage.setItem(\"dataLogin\", JSON.stringify(dataLogin));\r\n            } else {\r\n                localStorage.removeItem(\"dataLogin\");\r\n            }\r\n        } catch (error) {}\r\n    };\r\n\r\n    const validateData = useCallback(() => {\r\n        var retval = true;\r\n        if (\r\n            typeof userInfo.username === \"undefined\" ||\r\n            userInfo.username === \"\"\r\n        ) {\r\n            retval = false;\r\n            setMessage(\"Vui lòng nhập tài khoản!\");\r\n            return retval;\r\n        }\r\n        if (\r\n            typeof userInfo.password === \"undefined\" ||\r\n            userInfo.password === \"\"\r\n        ) {\r\n            retval = false;\r\n            setMessage(\"Vui lòng nhập mật khẩu!\");\r\n            return retval;\r\n        }\r\n        return retval;\r\n    }, [userInfo]);\r\n\r\n    const handleChangeSaveInfo = (e) => {\r\n        setSaveInfo(e.target.checked);\r\n    };\r\n\r\n    return (\r\n        <StyleLoginForm>\r\n            <Title level={2}>Hệ thống giám sát bằng Drone</Title>\r\n            <h2>Đăng nhập</h2>\r\n            <Form\r\n                name=\"normal_login\"\r\n                initialValues={{\r\n                    remember: true,\r\n                }}\r\n            >\r\n                <Form.Item name=\"username\">\r\n                    <Input\r\n                        prefix={\r\n                            <UserOutlined className=\"site-form-item-icon\" />\r\n                        }\r\n                        placeholder=\"Email hoặc sdt\"\r\n                        value={userInfo.username}\r\n                        onChange={(e) =>\r\n                            setUserInfo({\r\n                                ...userInfo,\r\n                                username: e.target.value,\r\n                            })\r\n                        }\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item name=\"password\">\r\n                    <Input\r\n                        prefix={\r\n                            <LockOutlined className=\"site-form-item-icon\" />\r\n                        }\r\n                        type=\"password\"\r\n                        placeholder=\"Mật khẩu\"\r\n                        value={userInfo.password}\r\n                        onChange={(e) =>\r\n                            setUserInfo({\r\n                                ...userInfo,\r\n                                password: e.target.value,\r\n                            })\r\n                        }\r\n                    />\r\n                </Form.Item>\r\n                {message && <p className=\"noti-message\">{message}</p>}\r\n                <Form.Item>\r\n                    <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n                        <Checkbox\r\n                            onChange={handleChangeSaveInfo}\r\n                            checked={saveInfo}\r\n                        >\r\n                            Lưu tài khoản\r\n                        </Checkbox>\r\n                    </Form.Item>\r\n\r\n                    <a\r\n                        className=\"first-button\"\r\n                        onClick={() => history.push(\"/forgot-password\")}\r\n                    >\r\n                        Quên mật khẩu\r\n                    </a>\r\n                    <a\r\n                        className=\"second-button\"\r\n                        onClick={() => history.push(\"/register\")}\r\n                    >\r\n                        Đăng ký\r\n                    </a>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        htmlType=\"submit\"\r\n                        className=\"login-form-button\"\r\n                        onClick={handleLogin}\r\n                    >\r\n                        Đăng nhập\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </StyleLoginForm>\r\n    );\r\n};\r\n\r\nexport default LoginForm;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleLogin = styled.div`\r\n    .login-row {\r\n        height: 100vh;\r\n        background: #5a5c69;\r\n    }\r\n    .login-container {\r\n        height: 80vh;\r\n    }\r\n    .login-form {\r\n        height: 80vh;\r\n        background: white;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n`;\r\nexport default StyleLogin;\r\n","import { Col, Image, Row } from \"antd\";\r\nimport React from \"react\";\r\nimport StyleLogin from \"./login/index.style\";\r\nimport { IMAGES } from \"../../../constants\";\r\n\r\nconst ControllerUser = ({ children }) => {\r\n    return (\r\n        <StyleLogin>\r\n            <Row justify=\"center\" align=\"middle\" className=\"login-row\">\r\n                <Col span={15}>\r\n                    <Row className=\"login-container\">\r\n                        <Col span={12}>\r\n                            <Image src={IMAGES.drone} height=\"100%\" />\r\n                        </Col>\r\n                        <Col className=\"login-form\" span={12}>\r\n                            {children}\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        </StyleLogin>\r\n    );\r\n};\r\n\r\nexport default ControllerUser;\r\n","import React from \"react\";\r\nimport LoginForm from \"../screens/LoginForm\";\r\nimport ControllerUser from \"../ControllerUser\";\r\n\r\nconst Login = () => {\r\n    return (\r\n        <ControllerUser>\r\n            <LoginForm />\r\n        </ControllerUser>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleForgotPasswordForm = styled.div`\r\n    width: 80%;\r\n\r\n    .first-button {\r\n        margin-right: 10px;\r\n    }\r\n`;\r\nexport default StyleForgotPasswordForm;","import React, { useState } from \"react\";\r\nimport StyleForgotPasswordForm from \"./index.style\";\r\nimport { Form, Input, Button, Checkbox, notification } from \"antd\";\r\nimport { forgotPassword } from \"../../../store/services\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { actions } from \"../../../store\";\r\nimport { Typography } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst ForgotPasswordForm = ({ history }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const handleForgotPassword = async () => {\r\n        if (!email || email === \"\") {\r\n            notification.error({\r\n                message: \"Lỗi\",\r\n                description: \"Vui lòng điền email\",\r\n            });\r\n            return;\r\n        }\r\n        if (!validateEmail(email)) {\r\n            notification.error({\r\n                message: \"Lỗi\",\r\n                description: \"Email không đúng định dạng\",\r\n            });\r\n            return;\r\n        }\r\n        const res = await forgotPassword({ email: email });\r\n        if (res.status == \"successful\") {\r\n            notification.success({\r\n                message: \"Thành công\",\r\n                description: \"Vui lòng kiểm tra email của bạn\",\r\n            });\r\n            setTimeout(() => {\r\n                history.push(\"/login\");\r\n            }, 2500);\r\n        } else {\r\n            notification.error({\r\n                message: \"Lỗi\",\r\n                description: res.message,\r\n            });\r\n        }\r\n    };\r\n\r\n    function validateEmail(email) {\r\n        const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n    }\r\n\r\n    return (\r\n        <StyleForgotPasswordForm>\r\n            <Title level={2}>Hệ thống giám sát bằng Drone</Title>\r\n            <h2>Quên mật khẩu</h2>\r\n            <Form\r\n                name=\"normal_login\"\r\n                initialValues={{\r\n                    remember: true,\r\n                }}\r\n            >\r\n                <Form.Item name=\"email\">\r\n                    <Input\r\n                        prefix={\r\n                            <UserOutlined className=\"site-form-item-icon\" />\r\n                        }\r\n                        placeholder=\"Email\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <a\r\n                        className=\"first-button\"\r\n                        onClick={() => history.push(\"/login\")}\r\n                    >\r\n                        Đăng nhập\r\n                    </a>\r\n                    <a\r\n                        className=\"second-button\"\r\n                        onClick={() => history.push(\"/register\")}\r\n                    >\r\n                        Đăng ký\r\n                    </a>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        htmlType=\"submit\"\r\n                        className=\"login-form-button\"\r\n                        onClick={handleForgotPassword}\r\n                    >\r\n                        Gửi\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </StyleForgotPasswordForm>\r\n    );\r\n};\r\n\r\nexport default withRouter(ForgotPasswordForm);\r\n","import React from \"react\";\r\nimport ForgotPasswordForm from \"../screens/ForgotPasswordForm\";\r\nimport ControllerUser from \"../ControllerUser\";\r\n\r\nconst ForgotPassword = () => {\r\n    return (\r\n        <ControllerUser>\r\n            <ForgotPasswordForm />\r\n        </ControllerUser>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleLoginForm = styled.div`\r\n    width: 80%;\r\n\r\n    .first-button {\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .noti-message {\r\n        color: red;\r\n    }\r\n`;\r\nexport default StyleLoginForm;\r\n","import React, { useCallback, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Form, Input, Button, Checkbox, Select } from \"antd\";\r\nimport StyleRegisterForm from \"./index.style\";\r\nimport { register } from \"../../../store/services\";\r\nimport { actions } from \"../../../store\";\r\nimport { Typography } from \"antd\";\r\nimport { useHistory, withRouter } from \"react-router-dom\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport { types } from \"../../../config/UserConfig\";\r\n\r\nconst { Title } = Typography;\r\nconst { Option } = Select;\r\n\r\nconst RegisterForm = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [userInfo, setUserInfo] = useState({\r\n        full_name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        repassword: \"\",\r\n        type: \"\"\r\n    });\r\n    const projectType = useSelector(state => state.user.projectType);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const handleRegister = async () => {\r\n        try {\r\n            if (!validateData()) {\r\n                return;\r\n            }\r\n\r\n            const dataRegister = {\r\n                full_name: userInfo.full_name,\r\n                email: userInfo.email,\r\n                password: userInfo.password,\r\n                repassword: userInfo.repassword,\r\n                type: projectType,\r\n            };\r\n            setMessage(\"\");\r\n            const res = await register(dataRegister);\r\n            if (res.status == \"successful\") {\r\n                dispatch(actions.setUserData({}));\r\n                history.push({\r\n                    pathname: \"/login\",\r\n                    state: { message: \"Vui lòng đợi admin duyệt tài khoản!\" },\r\n                });\r\n            } else {\r\n                setMessage(res.message);\r\n            }\r\n        } catch (error) {}\r\n    };\r\n\r\n    const validateData = useCallback(() => {\r\n        var retval = true;\r\n        if (typeof userInfo.full_name === \"undefined\" || userInfo.full_name === \"\") {\r\n            retval = false;\r\n            setMessage(\"Vui lòng nhập email!\");\r\n            return retval;\r\n        }\r\n        if (typeof userInfo.email === \"undefined\" || userInfo.email === \"\") {\r\n            retval = false;\r\n            setMessage(\"Vui lòng nhập email!\");\r\n            return retval;\r\n        }\r\n        if (\r\n            typeof userInfo.password === \"undefined\" ||\r\n            userInfo.password === \"\"\r\n        ) {\r\n            retval = false;\r\n            setMessage(\"Vui lòng nhập mật khẩu!\");\r\n            return retval;\r\n        }\r\n        if (typeof userInfo.repassword === \"undefined\") {\r\n            retval = false;\r\n            setMessage(\"Vui lòng xác nhận mật khẩu!\");\r\n            return retval;\r\n        }\r\n        if (userInfo.repassword !== userInfo.password) {\r\n            retval = false;\r\n            setMessage(\"Xác nhận mật khẩu không đúng!\");\r\n            return retval;\r\n        }\r\n        return retval;\r\n    });\r\n\r\n    return (\r\n        <StyleRegisterForm>\r\n            <Title level={2}>Hệ thống giám sát bằng Drone</Title>\r\n            <h2>Đăng ký</h2>\r\n            <Form\r\n                name=\"normal_login\"\r\n                initialValues={{\r\n                    remember: true,\r\n                }}\r\n            >\r\n                <Form.Item name=\"name\">\r\n                    <Input\r\n                        prefix={\r\n                            <UserOutlined className=\"site-form-item-icon\" />\r\n                        }\r\n                        type=\"text\"\r\n                        placeholder=\"Họ tên\"\r\n                        value={userInfo.full_name}\r\n                        onChange={(e) =>\r\n                            setUserInfo({ ...userInfo, full_name: e.target.value })\r\n                        }\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item name=\"email\">\r\n                    <Input\r\n                        prefix={\r\n                            <UserOutlined className=\"site-form-item-icon\" />\r\n                        }\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        value={userInfo.email}\r\n                        onChange={(e) =>\r\n                            setUserInfo({ ...userInfo, email: e.target.value })\r\n                        }\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item name=\"password\">\r\n                    <Input\r\n                        prefix={\r\n                            <LockOutlined className=\"site-form-item-icon\" />\r\n                        }\r\n                        type=\"password\"\r\n                        placeholder=\"Mật khẩu\"\r\n                        value={userInfo.password}\r\n                        onChange={(e) =>\r\n                            setUserInfo({\r\n                                ...userInfo,\r\n                                password: e.target.value,\r\n                            })\r\n                        }\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item name=\"re-password\">\r\n                    <Input\r\n                        prefix={\r\n                            <LockOutlined className=\"site-form-item-icon\" />\r\n                        }\r\n                        type=\"password\"\r\n                        placeholder=\"Xác nhận mật khẩu\"\r\n                        value={userInfo.repassword}\r\n                        onChange={(e) =>\r\n                            setUserInfo({\r\n                                ...userInfo,\r\n                                repassword: e.target.value,\r\n                            })\r\n                        }\r\n                    />\r\n                </Form.Item>\r\n                {message && <p className=\"noti-message\">{message}</p>}\r\n                <Form.Item>\r\n                    <a\r\n                        className=\"first-button\"\r\n                        onClick={() => history.push(\"/login\")}\r\n                    >\r\n                        Đăng nhập\r\n                    </a>\r\n                    <a\r\n                        className=\"second-button\"\r\n                        onClick={() => history.push(\"/forgot-password\")}\r\n                    >\r\n                        Quên mật khẩu\r\n                    </a>\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        htmlType=\"submit\"\r\n                        className=\"login-form-button\"\r\n                        onClick={handleRegister}\r\n                    >\r\n                        Đăng ký\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </StyleRegisterForm>\r\n    );\r\n};\r\n\r\nexport default RegisterForm;\r\n","import React from 'react';\r\nimport RegisterForm from '../screens/RegisterForm';\r\nimport ControllerUser from \"../ControllerUser\";\r\n\r\nconst Register = () => {\r\n    return (\r\n        <ControllerUser>\r\n            <RegisterForm />\r\n        </ControllerUser>\r\n    );\r\n};\r\n\r\nexport default Register;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyleChangePasswordForm = styled.div`\r\n    width: 80%;\r\n\r\n    .first-button {\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .noti-message {\r\n        color: red;\r\n    }\r\n`;\r\nexport default StyleChangePasswordForm;","import React, { useCallback, useState } from \"react\";\r\nimport StyleChangePasswordForm from \"./index.style\";\r\nimport { Form, Input, Button, Checkbox } from \"antd\";\r\nimport { changePassword } from \"../../../store/services\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { actions } from \"../../../store\";\r\nimport { Typography } from \"antd\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst ChangePasswordForm = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const [userInfo, setUserInfo] = useState({\r\n        oldPassword: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        repassword: \"\",\r\n    });\r\n    const [message, setMessage] = useState(\"\");\r\n    const location = useLocation();\r\n\r\n    const handleChangePassword = async () => {\r\n        try {\r\n            if (!validateData()) {\r\n                return;\r\n            }\r\n\r\n            const dataChangePassword = {\r\n                oldPassword: userInfo.oldPassword,\r\n                email: userInfo.email,\r\n                password: userInfo.password,\r\n                repassword: userInfo.repassword,\r\n            };\r\n            setMessage(\"\");\r\n            const res = await changePassword(dataChangePassword);\r\n            if (res.status == \"successful\") {\r\n                history.push(location.state.lastRoute);\r\n            } else {\r\n                setMessage(res.message);\r\n            }\r\n        } catch (error) {\r\n            \r\n        }\r\n    };\r\n\r\n    const validateData = useCallback(() => {\r\n        var retval = true;\r\n        if (typeof userInfo.email === \"undefined\" || userInfo.email === \"\") {\r\n            retval = false;\r\n            setMessage(\"Vui lòng nhập email!\");\r\n            return retval;\r\n        }\r\n        if (typeof userInfo.oldPassword === \"undefined\" || userInfo.oldPassword === \"\") {\r\n            retval = false;\r\n            setMessage(\"Vui lòng nhập mật khẩu cũ!\");\r\n            return retval;\r\n        }\r\n        if (typeof userInfo.password === \"undefined\" || userInfo.password === \"\") {\r\n            retval = false;\r\n            setMessage(\"Vui lòng nhập mật khẩu!\");\r\n            return retval;\r\n        }\r\n        if (typeof userInfo.repassword === \"undefined\") {\r\n            retval = false;\r\n            setMessage(\"Vui lòng xác nhận mật khẩu!\");\r\n            return retval;\r\n        }\r\n        if (userInfo.repassword !== userInfo.password) {\r\n            retval = false;\r\n            setMessage(\"Xác nhận mật khẩu không đúng!\");\r\n            return retval;\r\n        }\r\n        return retval;\r\n    }, [userInfo]);\r\n\r\n    const handleGoBack = () => {\r\n        history.push(location.state.lastRoute);\r\n    }\r\n\r\n    return (\r\n        <StyleChangePasswordForm>\r\n            <Title level={2}>Hệ thống giám sát bằng Drone</Title>\r\n            <h2>Đổi mật khẩu</h2>\r\n            <Form\r\n                name=\"normal_login\"\r\n                initialValues={{\r\n                remember: true,\r\n                }}\r\n            >\r\n                <Form.Item name=\"email\">\r\n                    <Input\r\n                        prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n                        placeholder=\"Email\"\r\n                        value={userInfo.email}\r\n                        onChange={(e) => setUserInfo({ ...userInfo, email: e.target.value })}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item name=\"oldPassword\">\r\n                    <Input\r\n                        prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                        type=\"password\"\r\n                        placeholder=\"Mật khẩu cũ\"\r\n                        value={userInfo.oldPassword}\r\n                        onChange={(e) => setUserInfo({ ...userInfo, oldPassword: e.target.value })}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item name=\"password\">\r\n                    <Input\r\n                        prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                        type=\"password\"\r\n                        placeholder=\"Mật khẩu mới\"\r\n                        value={userInfo.password}\r\n                        onChange={(e) => setUserInfo({ ...userInfo, password: e.target.value })}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item name=\"re-password\">\r\n                    <Input\r\n                        prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                        type=\"password\"\r\n                        placeholder=\"Xác nhận mật khẩu\"\r\n                        value={userInfo.repassword}\r\n                        onChange={(e) => setUserInfo({ ...userInfo, repassword: e.target.value })}\r\n                    />\r\n                </Form.Item>\r\n                {message && <p className=\"noti-message\">{message}</p>}\r\n                <Form.Item>\r\n                    <a className=\"second-button\" onClick={() => handleGoBack}>\r\n                        Quay lại\r\n                    </a>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        htmlType=\"submit\"\r\n                        className=\"login-form-button\"\r\n                        onClick={handleChangePassword}\r\n                    >\r\n                        Đổi mật khẩu\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </StyleChangePasswordForm>\r\n    );\r\n};\r\n\r\nexport default ChangePasswordForm;\r\n","import React from 'react';\r\nimport ChangePasswordForm from '../screens/ChangePasswordForm';\r\nimport ControllerUser from \"../ControllerUser\";\r\n\r\nconst ChangePassword = () => {\r\n    return (\r\n        <ControllerUser>\r\n            <ChangePasswordForm />\r\n        </ControllerUser>\r\n    );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, { Fragment, useEffect } from \"react\";\r\nimport {\r\n    BrowserRouter,\r\n    Switch,\r\n    Route,\r\n    useHistory,\r\n    Redirect,\r\n} from \"react-router-dom\";\r\nimport MainLayout from \"./containers/MainLayout\";\r\nimport Home from \"./pages/Home\";\r\nimport AppRouter from \"./pages/routes\";\r\nimport { Provider, useSelector } from \"react-redux\";\r\nimport store, { persistor } from \"../src/services\";\r\nimport { PersistGate } from \"redux-persist/lib/integration/react\";\r\n\r\nimport Login from \"../src/modules/user/components/login\";\r\nimport ForgotPassword from \"../src/modules/user/components/forgotPassword\";\r\nimport Register from \"../src/modules/user/components/register\";\r\nimport ChangePassword from \"../src/modules/user/components/changePassword\";\r\nimport { setHeaders } from \"./services/axios\";\r\n\r\nconst App = () => {\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"project-type\")) {\r\n            setHeaders({\r\n                \"project-type\": localStorage.getItem(\"project-type\"),\r\n            });\r\n        }\r\n        if (localStorage.getItem(\"token\")) {\r\n            setHeaders({ token: localStorage.getItem(\"token\") });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <Provider store={store}>\r\n            <PersistGate loading={null} persistor={persistor}>\r\n                <AppModule />\r\n            </PersistGate>\r\n        </Provider>\r\n    );\r\n};\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const isLogin = useSelector((state) => state.user.isLogin);\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                isLogin ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nconst AppModule = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <PrivateRoute exact path=\"/home\" component={Home} />\r\n                <Route exact path=\"/login\" component={Login} />\r\n                <Route exact path=\"/register\" component={Register} />\r\n                <Route\r\n                    exact\r\n                    path=\"/forgot-password\"\r\n                    component={ForgotPassword}\r\n                />\r\n                <Route\r\n                    exact\r\n                    path=\"/change-password\"\r\n                    component={ChangePassword}\r\n                />\r\n                <MainLayout>\r\n                    <AppRouter />\r\n                </MainLayout>\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\r\n    ),\r\n);\r\n\r\nconst register = (config) => {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          // console.log(\r\n          //   'This web app is being served cache-first by a service ' +\r\n          //     'worker. To learn more, visit https://bit.ly/CRA-PWA',\r\n          // );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      // console.log(\r\n      //   'No internet connection found. App is running in offline mode.',\r\n      // );\r\n    });\r\n}\r\n\r\nconst unregister = () => {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n\r\nexport { register, unregister };\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"antd/dist/antd.css\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","const omitBy = (obj = {}, listKeys = [], { deep = false }) => {\r\n  if (typeof obj !== 'object' || !obj) return {};\r\n  if (!Array.isArray(listKeys)) return {};\r\n\r\n  listKeys.forEach((key) => {\r\n    delete obj[key];\r\n  });\r\n\r\n  if (deep) {\r\n    Object.keys(obj).forEach((key) => {\r\n      if (typeof obj[key] === 'object') {\r\n        omitBy(obj[key], listKeys);\r\n      }\r\n    });\r\n  }\r\n\r\n  return obj;\r\n};\r\n\r\nconst omitIsNil = (obj, { deep = false }) => {\r\n  if (typeof obj !== 'object' || !obj) return {};\r\n\r\n  Object.keys(obj).forEach((key) => {\r\n    if (obj[key] === undefined || obj[key] === null) {\r\n      delete obj[key];\r\n    }\r\n  });\r\n\r\n  if (deep) {\r\n    Object.keys(obj).forEach((key) => {\r\n      if (typeof obj[key] === 'object') {\r\n        omitIsNil(obj[key], true);\r\n      }\r\n    });\r\n  }\r\n\r\n  return obj;\r\n};\r\n\r\nmodule.exports = {\r\n  omitBy,\r\n  omitIsNil,\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/setting-loader.217e495e.gif\";"],"sourceRoot":""}